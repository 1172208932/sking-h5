(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+I9a":function(t){t.exports=JSON.parse("{}")},"+wdc":function(t,e,r){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i,n,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,h=null,u=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(t){throw setTimeout(u,0),t}},c=Date.now();e.unstable_now=function(){return Date.now()-c},i=function(t){null!==l?setTimeout(i,0,t):(l=t,setTimeout(u,0))},n=function(t,e){h=setTimeout(t,e)},o=function(){clearTimeout(h)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var p=window.performance,f=window.Date,d=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof p&&"function"==typeof p.now)e.unstable_now=function(){return p.now()};else{var y=f.now();e.unstable_now=function(){return f.now()-y}}var g=!1,_=null,b=-1,x=5,w=0;a=function(){return e.unstable_now()>=w},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<t?Math.floor(1e3/t):5};var T=new MessageChannel,E=T.port2;T.port1.onmessage=function(){if(null!==_){var t=e.unstable_now();w=t+x;try{_(!0,t)?E.postMessage(null):(g=!1,_=null)}catch(t){throw E.postMessage(null),t}}else g=!1},i=function(t){_=t,g||(g=!0,E.postMessage(null))},n=function(t,r){b=d((function(){t(e.unstable_now())}),r)},o=function(){m(b),b=-1}}function S(t,e){var r=t.length;t.push(e);t:for(;;){var i=r-1>>>1,n=t[i];if(!(void 0!==n&&0<C(n,e)))break t;t[i]=e,t[r]=n,r=i}}function M(t){return void 0===(t=t[0])?null:t}function A(t){var e=t[0];if(void 0!==e){var r=t.pop();if(r!==e){t[0]=r;t:for(var i=0,n=t.length;i<n;){var o=2*(i+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>C(a,r))void 0!==l&&0>C(l,a)?(t[i]=l,t[s]=r,i=s):(t[i]=a,t[o]=r,i=o);else{if(!(void 0!==l&&0>C(l,r)))break t;t[i]=l,t[s]=r,i=s}}}return e}return null}function C(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}var P=[],k=[],O=1,I=null,D=3,R=!1,F=!1,L=!1;function B(t){for(var e=M(k);null!==e;){if(null===e.callback)A(k);else{if(!(e.startTime<=t))break;A(k),e.sortIndex=e.expirationTime,S(P,e)}e=M(k)}}function N(t){if(L=!1,B(t),!F)if(null!==M(P))F=!0,i(z);else{var e=M(k);null!==e&&n(N,e.startTime-t)}}function z(t,r){F=!1,L&&(L=!1,o()),R=!0;var i=D;try{for(B(r),I=M(P);null!==I&&(!(I.expirationTime>r)||t&&!a());){var s=I.callback;if(null!==s){I.callback=null,D=I.priorityLevel;var l=s(I.expirationTime<=r);r=e.unstable_now(),"function"==typeof l?I.callback=l:I===M(P)&&A(P),B(r)}else A(P);I=M(P)}if(null!==I)var h=!0;else{var u=M(k);null!==u&&n(N,u.startTime-r),h=!1}return h}finally{I=null,D=i,R=!1}}function j(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){F||R||(F=!0,i(z))},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return M(P)},e.unstable_next=function(t){switch(D){case 1:case 2:case 3:var e=3;break;default:e=D}var r=D;D=e;try{return t()}finally{D=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=V,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=D;D=t;try{return e()}finally{D=r}},e.unstable_scheduleCallback=function(t,r,a){var s=e.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:j(t)}else a=j(t),l=s;return t={id:O++,callback:r,priorityLevel:t,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(t.sortIndex=l,S(k,t),null===M(P)&&t===M(k)&&(L?o():L=!0,n(N,l-s))):(t.sortIndex=a,S(P,t),F||R||(F=!0,i(z))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();B(t);var r=M(P);return r!==I&&null!==I&&null!==r&&null!==r.callback&&r.startTime<=t&&r.expirationTime<I.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=D;return function(){var r=D;D=e;try{return t.apply(this,arguments)}finally{D=r}}}},"/2d7":function(t,e,r){"use strict";var i=function(t){return t instanceof HTMLElement?t:"string"==typeof t?document.querySelector(t):void 0},n=(r("nsnv"),r("Wr5T"),function(){return(n=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)}),o={};function a(t,e){return t.split(e)}function s(t){return t?t.dcm?t.dpm||t.dom?t.dpm&&4!==a(t.dpm,".").length?(console.warn("dpm格式不正确。 当前的参数为：",t),!1):t.dom&&4!==a(t.dom,".").length?(console.warn("dom格式不正确。 当前的参数为：",t),!1):4===a(t.dcm,".").length||(console.warn("dcm格式不正确。 当前的参数为：",t),!1):(console.warn("dpm 和 dom 至少有一个。当前的参数为：",t),!1):(console.warn("dcm 必填。当前的参数为：",t),!1):(console.warn("参数MO不能为空，当前的参数为：",t),!1)}function l(t){t.forEach((function(t){"string"==typeof t.ele?h(t):t.ele.map((function(e){return h(n(n({},t),{ele:e}))}))}))}var h=function(t){if(i(t.ele)){if(!t||!s(t.data))return;var e=new IntersectionObserver((function(r){var i=t.once,n=void 0===i||i,a=t.ele,s=t.data,l=void 0===s?{}:s;r.forEach((function(t){if(t.intersectionRatio>0){if(o[a])return;o[a]=!0,e.unobserve(t.target);var r={name:"showLog",uri:l.domain+"/exposure/standard",type:"get",dataType:"jsonp",param:l,callback:null,hideMsg:!0};u(r)}else n||(o[a]=!1)}))}),{}),r=i(t.ele);r&&e.observe(r)}};var u=function(t){var e=t.uri;t.addUrl&&(e+=t.addUrl),window.$.ajax({type:t.type,url:e,dataType:t.dataType,data:t.param,async:!0,success:function(e){t.name,t.param},error:function(t){}})},c={doClickLog:function(t){return function(t){s(t)&&u({name:"clickLog",uri:"/log/click",type:"get",dataType:"json",param:t,callback:null,hideMsg:!0})}(t)},doShowLog:function(t){return function(t){l(t),new MutationObserver((function(){l(t)})).observe(document,{childList:!0,subtree:!0})}(t)}},p=function(){return(p=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},f=new Map,d=function(t){t.forEach((function(t){"string"==typeof t.ele?m(t):t.ele.map((function(e){return m(p(p({},t),{ele:e}))}))}))},m=function(t){var e=i(t.ele);if(e&&!f.get(t.ele)){var r=c.doClickLog.bind(null,t.data);f.set(t.ele,{ele:e,handler:r}),e.addEventListener("click",r)}!e&&f.get(t.ele)&&(f.get(t.ele).ele.removeEventListener("click",f.get(t.ele).handler),f.set(t.ele,null))};e.a=function(t){var e=t.show,r=t.click;(c.doShowLog(e),r&&r.length)&&(d(r),new MutationObserver((function(){d(r)})).observe(document,{attributes:!0,childList:!0,subtree:!0}))}},"/IMT":function(t,e,r){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */location.href.indexOf(".com.cn/");var i=location.host.match(/\w+.com.cn/);i&&i[0]},"16Al":function(t,e,r){"use strict";var i=r("WbBG");function n(){}function o(){}o.resetWarningCache=n,t.exports=function(){function t(t,e,r,n,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:n};return r.PropTypes=r,r}},"17x9":function(t,e,r){t.exports=r("16Al")()},"1uat":function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("MlIO"),function(){var t=i,e=t.lib.Hasher,r=t.x64,n=r.Word,o=r.WordArray,a=t.algo;function s(){return n.create.apply(n,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],h=[];!function(){for(var t=0;t<80;t++)h[t]=s()}();var u=a.SHA512=e.extend({_doReset:function(){this._hash=new o.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=this._hash.words,i=r[0],n=r[1],o=r[2],a=r[3],s=r[4],u=r[5],c=r[6],p=r[7],f=i.high,d=i.low,m=n.high,v=n.low,y=o.high,g=o.low,_=a.high,b=a.low,x=s.high,w=s.low,T=u.high,E=u.low,S=c.high,M=c.low,A=p.high,C=p.low,P=f,k=d,O=m,I=v,D=y,R=g,F=_,L=b,B=x,N=w,z=T,j=E,V=S,U=M,W=A,q=C,H=0;H<80;H++){var G,Y,X=h[H];if(H<16)Y=X.high=0|t[e+2*H],G=X.low=0|t[e+2*H+1];else{var K=h[H-15],Z=K.high,J=K.low,Q=(Z>>>1|J<<31)^(Z>>>8|J<<24)^Z>>>7,$=(J>>>1|Z<<31)^(J>>>8|Z<<24)^(J>>>7|Z<<25),tt=h[H-2],et=tt.high,rt=tt.low,it=(et>>>19|rt<<13)^(et<<3|rt>>>29)^et>>>6,nt=(rt>>>19|et<<13)^(rt<<3|et>>>29)^(rt>>>6|et<<26),ot=h[H-7],at=ot.high,st=ot.low,lt=h[H-16],ht=lt.high,ut=lt.low;Y=(Y=(Y=Q+at+((G=$+st)>>>0<$>>>0?1:0))+it+((G+=nt)>>>0<nt>>>0?1:0))+ht+((G+=ut)>>>0<ut>>>0?1:0),X.high=Y,X.low=G}var ct,pt=B&z^~B&V,ft=N&j^~N&U,dt=P&O^P&D^O&D,mt=k&I^k&R^I&R,vt=(P>>>28|k<<4)^(P<<30|k>>>2)^(P<<25|k>>>7),yt=(k>>>28|P<<4)^(k<<30|P>>>2)^(k<<25|P>>>7),gt=(B>>>14|N<<18)^(B>>>18|N<<14)^(B<<23|N>>>9),_t=(N>>>14|B<<18)^(N>>>18|B<<14)^(N<<23|B>>>9),bt=l[H],xt=bt.high,wt=bt.low,Tt=W+gt+((ct=q+_t)>>>0<q>>>0?1:0),Et=yt+mt;W=V,q=U,V=z,U=j,z=B,j=N,B=F+(Tt=(Tt=(Tt=Tt+pt+((ct+=ft)>>>0<ft>>>0?1:0))+xt+((ct+=wt)>>>0<wt>>>0?1:0))+Y+((ct+=G)>>>0<G>>>0?1:0))+((N=L+ct|0)>>>0<L>>>0?1:0)|0,F=D,L=R,D=O,R=I,O=P,I=k,P=Tt+(vt+dt+(Et>>>0<yt>>>0?1:0))+((k=ct+Et|0)>>>0<ct>>>0?1:0)|0}d=i.low=d+k,i.high=f+P+(d>>>0<k>>>0?1:0),v=n.low=v+I,n.high=m+O+(v>>>0<I>>>0?1:0),g=o.low=g+R,o.high=y+D+(g>>>0<R>>>0?1:0),b=a.low=b+L,a.high=_+F+(b>>>0<L>>>0?1:0),w=s.low=w+N,s.high=x+B+(w>>>0<N>>>0?1:0),E=u.low=E+j,u.high=T+z+(E>>>0<j>>>0?1:0),M=c.low=M+U,c.high=S+V+(M>>>0<U>>>0?1:0),C=p.low=C+q,p.high=A+W+(C>>>0<q>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[30+(i+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(i+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(u),t.HmacSHA512=e._createHmacHelper(u)}(),i.SHA512)},"3y9D":function(t,e,r){var i,n,o,a,s,l,h,u;t.exports=(u=r("Ib8C"),n=(i=u).lib,o=n.WordArray,a=n.Hasher,s=i.algo,l=[],h=s.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,i=r[0],n=r[1],o=r[2],a=r[3],s=r[4],h=0;h<80;h++){if(h<16)l[h]=0|t[e+h];else{var u=l[h-3]^l[h-8]^l[h-14]^l[h-16];l[h]=u<<1|u>>>31}var c=(i<<5|i>>>27)+s+l[h];c+=h<20?1518500249+(n&o|~n&a):h<40?1859775393+(n^o^a):h<60?(n&o|n&a|o&a)-1894007588:(n^o^a)-899497514,s=a,a=o,o=n<<30|n>>>2,n=i,i=c}r[0]=r[0]+i|0,r[1]=r[1]+n|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(i+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),i.SHA1=a._createHelper(h),i.HmacSHA1=a._createHmacHelper(h),u.SHA1)},"5hvy":function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("MlIO"),function(t){var e=i,r=e.lib,n=r.WordArray,o=r.Hasher,a=e.x64.Word,s=e.algo,l=[],h=[],u=[];!function(){for(var t=1,e=0,r=0;r<24;r++){l[t+5*e]=(r+1)*(r+2)/2%64;var i=(2*t+3*e)%5;t=e%5,e=i}for(t=0;t<5;t++)for(e=0;e<5;e++)h[t+5*e]=e+(2*t+3*e)%5*5;for(var n=1,o=0;o<24;o++){for(var s=0,c=0,p=0;p<7;p++){if(1&n){var f=(1<<p)-1;f<32?c^=1<<f:s^=1<<f-32}128&n?n=n<<1^113:n<<=1}u[o]=a.create(s,c)}}();var c=[];!function(){for(var t=0;t<25;t++)c[t]=a.create()}();var p=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,i=this.blockSize/2,n=0;n<i;n++){var o=t[e+2*n],a=t[e+2*n+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(C=r[n]).high^=a,C.low^=o}for(var s=0;s<24;s++){for(var p=0;p<5;p++){for(var f=0,d=0,m=0;m<5;m++)f^=(C=r[p+5*m]).high,d^=C.low;var v=c[p];v.high=f,v.low=d}for(p=0;p<5;p++){var y=c[(p+4)%5],g=c[(p+1)%5],_=g.high,b=g.low;for(f=y.high^(_<<1|b>>>31),d=y.low^(b<<1|_>>>31),m=0;m<5;m++)(C=r[p+5*m]).high^=f,C.low^=d}for(var x=1;x<25;x++){var w=(C=r[x]).high,T=C.low,E=l[x];E<32?(f=w<<E|T>>>32-E,d=T<<E|w>>>32-E):(f=T<<E-32|w>>>64-E,d=w<<E-32|T>>>64-E);var S=c[h[x]];S.high=f,S.low=d}var M=c[0],A=r[0];for(M.high=A.high,M.low=A.low,p=0;p<5;p++)for(m=0;m<5;m++){var C=r[x=p+5*m],P=c[x],k=c[(p+1)%5+5*m],O=c[(p+2)%5+5*m];C.high=P.high^~k.high&O.high,C.low=P.low^~k.low&O.low}C=r[0];var I=u[s];C.high^=I.high,C.low^=I.low}},_doFinalize:function(){var e=this._data,r=e.words,i=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;r[i>>>5]|=1<<24-i%32,r[(t.ceil((i+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,l=s/8,h=[],u=0;u<l;u++){var c=a[u],p=c.high,f=c.low;p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),h.push(f),h.push(p)}return new n.init(h,s)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),r=0;r<25;r++)e[r]=e[r].clone();return t}});e.SHA3=o._createHelper(p),e.HmacSHA3=o._createHmacHelper(p)}(Math),i.SHA3)},"7W2i":function(t,e,r){var i=r("SksO");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},"8oxB":function(t,e){var r,i,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,h=[],u=!1,c=-1;function p(){u&&l&&(u=!1,l.length?h=l.concat(h):c=-1,h.length&&f())}function f(){if(!u){var t=s(p);u=!0;for(var e=h.length;e;){for(l=h,h=[];++c<e;)l&&l[c].run();c=-1,e=h.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new d(t,e)),1!==h.length||u||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},"9OqN":function(t,e,r){var i,n,o;t.exports=(o=r("Ib8C"),r("OLod"),o.mode.CTR=(i=o.lib.BlockCipherMode.extend(),n=i.Encryptor=i.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,n=this._iv,o=this._counter;n&&(o=this._counter=n.slice(0),this._iv=void 0);var a=o.slice(0);r.encryptBlock(a,0),o[i-1]=o[i-1]+1|0;for(var s=0;s<i;s++)t[e+s]^=a[s]}}),i.Decryptor=n,i),o.mode.CTR)},"9pWt":function(t){t.exports=JSON.parse("{}")},ALsQ:function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("OLod"),i.mode.CFB=function(){var t=i.lib.BlockCipherMode.extend();function e(t,e,r,i){var n,o=this._iv;o?(n=o.slice(0),this._iv=void 0):n=this._prevBlock,i.encryptBlock(n,0);for(var a=0;a<r;a++)t[e+a]^=n[a]}return t.Encryptor=t.extend({processBlock:function(t,r){var i=this._cipher,n=i.blockSize;e.call(this,t,r,n,i),this._prevBlock=t.slice(r,r+n)}}),t.Decryptor=t.extend({processBlock:function(t,r){var i=this._cipher,n=i.blockSize,o=t.slice(r,r+n);e.call(this,t,r,n,i),this._prevBlock=o}}),t}(),i.mode.CFB)},Bnag:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},DwoO:function(t){t.exports=JSON.parse("{}")},E4JC:function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("ETIr"),r("cv67"),r("K3mO"),r("OLod"),function(){var t=i,e=t.lib.StreamCipher,r=t.algo,n=[],o=[],a=[],s=r.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=0;r<4;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);var i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)n[r]^=i[r+4&7];if(e){var o=e.words,a=o[0],s=o[1],h=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=h>>>16|4294901760&u,p=u<<16|65535&h;for(n[0]^=h,n[1]^=c,n[2]^=u,n[3]^=p,n[4]^=h,n[5]^=c,n[6]^=u,n[7]^=p,r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(t,e){var r=this._X;l.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),t[e+i]^=n[i]},blockSize:4,ivSize:2});function l(){for(var t=this._X,e=this._C,r=0;r<8;r++)o[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var i=t[r]+e[r],n=65535&i,s=i>>>16,l=((n*n>>>17)+n*s>>>15)+s*s,h=((4294901760&i)*i|0)+((65535&i)*i|0);a[r]=l^h}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=e._createHelper(s)}(),i.Rabbit)},ELcG:function(t,e,r){var i;t.exports=(i=r("Ib8C"),
/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(t){var e=i,r=e.lib,n=r.WordArray,o=r.Hasher,a=e.algo,s=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=n.create([0,1518500249,1859775393,2400959708,2840853838]),p=n.create([1352829926,1548603684,1836072691,2053994217,0]),f=a.RIPEMD160=o.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var i=e+r,n=t[i];t[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var o,a,f,b,x,w,T,E,S,M,A,C=this._hash.words,P=c.words,k=p.words,O=s.words,I=l.words,D=h.words,R=u.words;for(w=o=C[0],T=a=C[1],E=f=C[2],S=b=C[3],M=x=C[4],r=0;r<80;r+=1)A=o+t[e+O[r]]|0,A+=r<16?d(a,f,b)+P[0]:r<32?m(a,f,b)+P[1]:r<48?v(a,f,b)+P[2]:r<64?y(a,f,b)+P[3]:g(a,f,b)+P[4],A=(A=_(A|=0,D[r]))+x|0,o=x,x=b,b=_(f,10),f=a,a=A,A=w+t[e+I[r]]|0,A+=r<16?g(T,E,S)+k[0]:r<32?y(T,E,S)+k[1]:r<48?v(T,E,S)+k[2]:r<64?m(T,E,S)+k[3]:d(T,E,S)+k[4],A=(A=_(A|=0,R[r]))+M|0,w=M,M=S,S=_(E,10),E=T,T=A;A=C[1]+f+S|0,C[1]=C[2]+b+M|0,C[2]=C[3]+x+w|0,C[3]=C[4]+o+T|0,C[4]=C[0]+a+E|0,C[0]=A},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var n=this._hash,o=n.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return n},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function d(t,e,r){return t^e^r}function m(t,e,r){return t&e|~t&r}function v(t,e,r){return(t|~e)^r}function y(t,e,r){return t&r|e&~r}function g(t,e,r){return t^(e|~r)}function _(t,e){return t<<e|t>>>32-e}e.RIPEMD160=o._createHelper(f),e.HmacRIPEMD160=o._createHmacHelper(f)}(Math),i.RIPEMD160)},ETIr:function(t,e,r){var i,n,o;t.exports=(o=r("Ib8C"),n=(i=o).lib.WordArray,i.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,i=this._map;t.clamp();for(var n=[],o=0;o<r;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)n.push(i.charAt(a>>>6*(3-s)&63));var l=i.charAt(64);if(l)for(;n.length%4;)n.push(l);return n.join("")},parse:function(t){var e=t.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,r){for(var i=[],o=0,a=0;a<e;a++)if(a%4){var s=r[t.charCodeAt(a-1)]<<a%4*2,l=r[t.charCodeAt(a)]>>>6-a%4*2,h=s|l;i[o>>>2]|=h<<24-o%4*8,o++}return n.create(i,o)}(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o.enc.Base64)},EbDI:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},EtqE:function(t,e,r){"use strict";r.d(e,"a",(function(){return Ho}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function o(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function a(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var s,l=function(){function t(){this.systemInfo={pixelRatio:window.devicePixelRatio}}return t.prototype.setupCanvas=function(t,e){var r=this._canvas=document.createElement("canvas");r.style.width="100%",r.style.height="100%",t.container.appendChild(r);var i=t.container.getBoundingClientRect(),n=i.width,o=i.height;this.systemInfo.canvasWidth=n,this.systemInfo.canvasHeight=o,r.width=n*(window.devicePixelRatio||1),r.height=o*(window.devicePixelRatio||1),e(r)},t.prototype.bindMouseEvent=function(t){var e=this._canvas,r=t.onMouseEvent.bind(t);e.addEventListener("touchstart",r,!1),e.addEventListener("touchmove",r,!1),e.addEventListener("touchend",r,!1)},t}(),h=navigator&&navigator.userAgent&&(s=navigator.userAgent.toLocaleLowerCase(),/android/.test(s)?"android":/iphone|ipod|ipad/.test(s)?"ios":"pc")||my.getSystemInfoSync().platform.toLowerCase(),u=Math.PI,c=u>>1,p=u+c;function f(t){switch(t){case c:case-p:return 0;case u:case-u:return-1;case p:case-c:return 0;default:return Math.cos(t)}}function d(t){switch(t){case c:case-p:return 1;case u:case-u:return 0;case p:case-c:return-1;default:return Math.sin(t)}}var m,v,y,g,_,b,x,w,T,E,S,M,A,C,P,k=2*u,O=180/u,I=u/180;!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(m||(m={})),function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(v||(v={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(y||(y={})),function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(g||(g={})),function(t){t.CENTER="center",t.LEFT="left",t.RIGHT="right"}(_||(_={})),function(t){t.MIDDLE="middle",t.UP="up",t.DOWN="down"}(b||(b={})),function(t){t.SINGLE="single",t.MULTI="multi"}(x||(x={})),function(t){t[t.middle=.5]="middle",t[t.outter=1]="outter",t[t.inner=0]="inner"}(w||(w={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(T||(T={})),function(t){t.MITER="miter",t.ROUND="round",t.BEVEL="bevel"}(E||(E={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=21]="SRC_OVER",t[t.SRC_IN=22]="SRC_IN",t[t.SRC_OUT=23]="SRC_OUT",t[t.SRC_ATOP=24]="SRC_ATOP",t[t.DST_OVER=25]="DST_OVER",t[t.DST_IN=26]="DST_IN",t[t.DST_OUT=27]="DST_OUT",t[t.DST_ATOP=28]="DST_ATOP",t[t.ERASE=29]="ERASE",t[t.SUBTRACT=30]="SUBTRACT"}(S||(S={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(M||(M={})),function(t){t[t.LINEAR=0]="LINEAR",t[t.NEAREST=1]="NEAREST"}(A||(A={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(C||(C={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(P||(P={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var D=function(t,e){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function R(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var F=function(){function t(){this._instanceId=0,this._instanceType="HashObject",this._instanceId=t._object_id++}return Object.defineProperty(t.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instanceType",{get:function(){return this._instanceType},enumerable:!0,configurable:!0}),t._object_id=0,t}(),L=function(t){function e(e){var r=t.call(this)||this;return r.type="",r.target=null,r.data=null,r._pd=!1,r._instanceType="Event",r.type=e,r}return R(e,t),e.prototype.stopPropagation=function(){this._pd=!0},e.prototype.destroy=function(){this.target=null,this.data=null},e.prototype.reset=function(t,e){var r=this;r.target=e,r._pd=!1,r.type=t,r.data=null},e.RESIZE="onResize",e.SCROLL_TO_HEAD="onScrollToHead",e.SCROLL_STOP="onScrollStop",e.SCROLL_START="onScrollStart",e.SCROLL_TO_END="onScrollToEnd",e.INIT_STAGE="onInitStage",e.ADDED_TO_STAGE="onAddedToStage",e.REMOVED_FROM_STAGE="onRemovedFromStage",e.ENTER_FRAME="onEnterFrame",e.END_FRAME="onEndFrame",e.CALL_FRAME="onCallFrame",e.COMPLETE="onComplete",e.PROGRESS="onProgress",e.ERROR="onError",e.ABORT="onAbort",e.START="onStart",e.TIMER="onTimer",e.TIMER_COMPLETE="onTimerComplete",e}(F),B=function(t){function e(){var e=t.call(this)||this;return e.eventTypes={},e.eventTypes1={},e._instanceType="EventDispatcher",e}return R(e,t),e.getMouseEventCount=function(t){void 0===t&&(t="");var r=0;if(""==t)for(var i in e._MECO)0==i.indexOf("onMouse")&&(r+=e._MECO[i]);else e._MECO[t]&&(r=e._MECO[t]);return r},e.prototype.addEventListener=function(t,e,r,i){if(void 0===i&&(i=!0),!t)throw new Error("添加侦听的type值为undefined");if(!e)throw new Error("侦听回调函数不能为null");var n=this,o=n.eventTypes;i||(o=n.eventTypes1),o[t]||(o[t]=[]);for(var a=0,s=o[t].length;a<s;a++){var l=o[t][a];if(l.fn===e&&l.context===r)return n}return o[t].unshift(new N(e,r||n)),0==t.indexOf("onMouse")&&n._changeMouseCount(t,!0),n},e.prototype.once=function(t,e,r,i){if(void 0===i&&(i=!0),!t)throw new Error("添加侦听的type值为undefined");if(!e)throw new Error("侦听回调函数不能为null");var n=this,o=n.eventTypes;return i||(o=n.eventTypes1),o[t]||(o[t]=[]),o[t].unshift(new N(e,r||n,!0)),0==t.indexOf("onMouse")&&n._changeMouseCount(t,!0),n},e.prototype._changeMouseCount=function(t,r){var i=r?1:-1;e._MECO[t]||(e._MECO[t]=0),e._MECO[t]+=i,e._MECO[t]<0&&(e._MECO[t]=0),e._totalMEC+=i},e.prototype.dispatchEvent=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=!0);var i=this;"string"==typeof t&&(i._defaultEvent?i._defaultEvent.reset(t,i):i._defaultEvent=new L(t),t=i._defaultEvent);var n=i.eventTypes[t.type];if(r||(n=i.eventTypes1[t.type]),n){var o=n.length;null==t.target&&(t.target=i),null!=e&&(t.data=e);for(var a=o-1;a>=0;a--)if(!t._pd)if(n[a]){var s=n[a],l=t.type;s.fn.call(s.context,t),s.once&&i.removeEventListener(l,s.fn,s.context,r)}else n.splice(a,1);return!0}return!1},e.prototype.hasEventListener=function(t,e){void 0===e&&(e=!0);var r=this;if(e){if(r.eventTypes[t]&&r.eventTypes[t].length>0)return!0}else if(r.eventTypes1[t]&&r.eventTypes1[t].length>0)return!0;return!1},e.prototype.removeAllEventListenerByType=function(t,e){void 0===e&&(e=!0);var r=this;if(e){if(r.eventTypes[t]&&r.eventTypes[t].length>0){if(0==t.indexOf("onMouse"))for(var i=0;i<r.eventTypes[t].length;i++)r._changeMouseCount(t,!1);r.eventTypes[t]=[]}}else if(r.eventTypes1[t]&&r.eventTypes1[t].length>0){if(0==t.indexOf("onMouse"))for(i=0;i<r.eventTypes1[t].length;i++)r._changeMouseCount(t,!1);r.eventTypes1[t]=[]}return r},e.prototype.removeEventListener=function(t,e,r,i){void 0===i&&(i=!0);var n=this,o=n.eventTypes[t];if(i||(o=n.eventTypes1[t]),o)for(var a=r||n,s=o.length-1;s>=0;s--)o[s].fn===e&&o[s].context===a&&(o.splice(s,1),0==t.indexOf("onMouse")&&n._changeMouseCount(t,!1));return n},e.prototype.removeAllEventListener=function(){var t=this;for(var e in t.eventTypes)if(0==e.indexOf("onMouse"))for(var r=0;r<t.eventTypes[e].length;r++)t._changeMouseCount(e,!1);for(var e in t.eventTypes1)if(0==e.indexOf("onMouse"))for(r=0;r<t.eventTypes1[e].length;r++)t._changeMouseCount(e,!1);t.eventTypes1={},t.eventTypes={}},e.prototype.destroy=function(){var t=this;t.removeAllEventListener(),t.eventTypes=null,t.eventTypes1=null},e._MECO={},e._totalMEC=0,e}(F),N=function(t,e,r){void 0===r&&(r=!1),this.fn=t,this.context=e,this.once=r},z=function(t){function e(e,r){void 0===e&&(e=0),void 0===r&&(r=0);var i=t.call(this)||this;i.x=0,i.y=0;var n=i;return n._instanceType="Point",n.x=e,n.y=r,i}return R(e,t),e.prototype.destroy=function(){},e.distance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;return 4==r?Math.sqrt((t[0]-t[2])*(t[0]-t[2])+(t[1]-t[3])*(t[1]-t[3])):2==r?Math.sqrt((t[0].x-t[1].x)*(t[0].x-t[1].x)+(t[0].y-t[1].y)*(t[0].y-t[1].y)):void 0},e.prototype.set=function(t,e){this.x=t,this.y=e},e}(F),j=function(t){function e(e,r,i,n,o,a){void 0===e&&(e=1),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===o&&(o=0),void 0===a&&(a=0);var s=t.call(this)||this;s.a=1,s.b=0,s.c=0,s.d=1,s.tx=0,s.ty=0,s.array=null,s.prepend=function(t){var e=this,r=t.a,i=t.b,n=t.c,o=t.d,a=t.tx,s=t.ty,l=e.a,h=e.c,u=e.tx;return e.a=r*l+n*e.b,e.b=i*l+o*e.b,e.c=r*h+n*e.d,e.d=i*h+o*e.d,e.tx=r*u+n*e.ty+a,e.ty=i*u+o*e.ty+s,this};var l=s;return l._instanceType="Matrix",l.a=e,l.b=r,l.c=i,l.d=n,l.tx=o,l.ty=a,s}return R(e,t),e.prototype.clone=function(){var t=this;return new e(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.prototype.copy=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},e.prototype.transformPoint=function(t,e,r){void 0===r&&(r=null);var i=this;return r||(r=new z),r.x=t*i.a+e*i.c+i.tx,r.y=t*i.b+e*i.d+i.ty,r},e.prototype.transformPointInverse=function(t,e,r){void 0===r&&(r=null),r||(r=new z);var i=1/(this.a*this.d+this.c*-this.b);return r.x=this.d*i*t+-this.c*i*e+(this.ty*this.c-this.tx*this.d)*i,r.y=this.a*i*e+-this.b*i*t+(-this.ty*this.a+this.tx*this.b)*i,r},e.prototype.setFrom=function(t){var e=this;e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.tx=t.tx,e.ty=t.ty},e.prototype.identity=function(){var t=this;t.a=t.d=1,t.b=t.c=t.tx=t.ty=0},e.prototype.invert=function(){var t=this,e=t.a,r=t.b,i=t.c,n=t.d,o=t.tx,a=t.ty;if(0==r&&0==i)return 0==e||0==n?t.a=t.d=t.tx=t.ty=0:(e=t.a=1/e,n=t.d=1/n,t.tx=-e*o,t.ty=-n*a),t;var s=e*n-r*i;if(0==s)return t.identity(),t;s=1/s;var l=t.a=n*s;return r=t.b=-r*s,i=t.c=-i*s,n=t.d=e*s,t.tx=-(l*o+i*a),t.ty=-(r*o+n*a),t},e.prototype.createBox=function(t,e,r,i,n,o,a,s,l){var h=this;if(0!=n?o=a=n%360:(o%=360,a%=360),0==o&&0==a)h.a=r,h.b=h.c=0,h.d=i;else{a*=I;var u=f(o*=I),c=d(o);o==a?(h.a=u*r,h.b=c*r):(h.a=f(a)*r,h.b=d(a)*r),h.c=-c*i,h.d=u*i}h.tx=t+s-(s*h.a+l*h.c),h.ty=e+l-(s*h.b+l*h.d)},e.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty},e.isEqual=function(t,e){return t.tx==e.tx&&t.ty==e.ty&&t.a==e.a&&t.b==e.b&&t.c==e.c&&t.d==e.d},e.prototype.concat=function(t){var e=this,r=e.a,i=e.b,n=e.c,o=e.d,a=e.tx,s=e.ty,l=t.a,h=t.b,u=t.c,c=t.d,p=t.tx,f=t.ty;e.a=r*l+i*u,e.b=r*h+i*c,e.c=n*l+o*u,e.d=n*h+o*c,e.tx=a*l+s*u+p,e.ty=a*h+s*c+f},e.prototype.rotate=function(t){var e=this,r=Math.sin(t),i=Math.cos(t),n=e.a,o=e.b,a=e.c,s=e.d,l=e.tx,h=e.ty;e.a=n*i-o*r,e.b=n*r+o*i,e.c=a*i-s*r,e.d=a*r+s*i,e.tx=l*i-h*r,e.ty=l*r+h*i},e.prototype.scale=function(t,e){var r=this;r.a*=t,r.d*=e,r.c*=t,r.b*=e,r.tx*=t,r.ty*=e},e.prototype.translate=function(t,e){this.tx+=t,this.ty+=e},e.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},e.prototype.getRotation=function(){return Math.round(Math.atan2(this.b,this.a)*O)},e.prototype.toArray=function(t,e){void 0===t&&(t=!1),this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),a=Math.atan2(r,e),s=Math.abs(o+a);return s<1e-5||Math.abs(k-s)<1e-5?(t.rotation=a,e<0&&n>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){},e}(F),V=function(t){function e(e,r,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var o=t.call(this)||this;return o._instanceType="ObservablePoint",o._x=i,o._y=n,o.cb=e,o.scope=r,o}return R(e,t),e.prototype.set=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t);var r=t||0,i=e||0;this._x===r&&this._y===i||(this._x=r,this._y=i,this.cb.call(this.scope))},e.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){},e}(F),U=function(t){function e(e,r,i,n){void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=0);var o=t.call(this)||this;o.x=0,o.y=0,o.width=0,o.height=0;var a=o;return a._instanceType="Rectangle",a.x=e,a.y=r,a.height=n,a.width=i,o.type=v.RECT,o}return R(e,t),e.prototype.clear=function(){this.x=0,this.y=0,this.width=0,this.height=0},e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),e.prototype.isPointIn=function(t){var e=this;return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},e.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0)},e.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},e.createFromRects=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0==t.length)return null;if(1==t.length)return t[0];for(var r=t[0],i=r.x,n=r.y,o=r.width,a=r.height,s=void 0,l=void 0,h=void 0,u=void 0,c=1;c<t.length;c++)(t[c].width||t[c].height)&&(s=i+o,h=n+a,l=t[c].x+t[c].width,u=t[c].y+t[c].height,(i>t[c].x||0==i&&0==o)&&(i=t[c].x),(n>t[c].y||0==n&&0==a)&&(n=t[c].y),s<l&&(s=l),h<u&&(h=u),r.x=i,r.y=n,r.width=s-i,r.height=h-n);return r},e.createFromPoints=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=e[0].x,n=e[0].y,o=e[0].x,a=e[0].y,s=1;s<e.length;s++)null!=e[s]&&(i>e[s].x&&(i=e[s].x),n>e[s].y&&(n=e[s].y),o<e[s].x&&(o=e[s].x),a<e[s].y&&(a=e[s].y));return t.x=i,t.y=n,t.width=o-i,t.height=a-n,t},e.createFromVertexData=function(t,e,r){var i=new z,n=e[0],o=e[1],a=e[0],s=e[1];r&&(r.transformPoint(n,o,i),n=a=i.x,o=s=i.y);for(var l=2;l<e.length;l+=2)null!=e[l]&&(i.set(e[l],e[l+1]),r&&r.transformPoint(i.x,i.y,i),n>i.x&&(n=i.x),o>i.y&&(o=i.y),a<i.x&&(a=i.x),s<i.y&&(s=i.y));return t.x=n,t.y=o,t.width=a-n,t.height=s-o,t},e.createRectfrom2Point=function(t,e,r){var i=e.x,n=e.y,o=e.x,a=e.y;return i>r.x&&(i=r.x),n>r.y&&(n=r.y),o<r.x&&(o=r.x),a<r.y&&(a=r.y),t.x=i,t.y=n,t.width=o-i,t.height=a-n,t},e.testRectCross=function(t,e){var r,i,n,o;return r=t.x+t.width/2,i=t.y+t.height/2,n=e.x+e.width/2,o=e.y+e.height/2,Math.abs(r-n)<=t.width/2+e.width/2&&Math.abs(i-o)<=t.height/2+e.height/2},e.prototype.destroy=function(){},e}(F),W=function(t){function e(){var e=t.call(this)||this;return e._instanceType="Transform",e.worldMatrix=new j,e.localMatrix=new j,e._worldID=0,e._parentID=0,e.position=new V(e.onChange,e,0,0),e.scale=new V(e.onChange,e,1,1),e.anchor=new V(e.onChange,e,0,0),e.skew=new V(e.updateSkew,e,0,0),e._rotation=0,e._cx=1,e._sx=0,e._cy=0,e._sy=1,e._localID=0,e._currentLocalID=0,e}return R(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=f(this._rotation+this.skew._y),this._sx=d(this._rotation+this.skew._y),this._cy=-d(this._rotation-this.skew._x),this._sy=f(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalMatrix=function(){var t=this.localMatrix;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x+this.anchor._x-(this.anchor._x*t.a+this.anchor._y*t.c),t.ty=this.position._y+this.anchor._y-(this.anchor._x*t.b+this.anchor._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateWorldMatrix=function(t){var e=this.localMatrix;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x+this.anchor._x-(this.anchor._x*e.a+this.anchor._y*e.c),e.ty=this.position._y+this.anchor._y-(this.anchor._x*e.b+this.anchor._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldMatrix,i=this.worldMatrix;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++}},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){t!==this._rotation&&(this._rotation=t,this.updateSkew())},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.worldMatrix=null,this.localMatrix=null,this.position=null,this.skew=null,this.scale=null,this.anchor=null},e}(F),q=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],H=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],G=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Y=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],X=[],K=[];function Z(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];K.push(e);for(var r=0;r<16;r++)for(var i=Z(q[t]*q[r]+G[t]*H[r]),n=Z(H[t]*q[r]+Y[t]*H[r]),o=Z(q[t]*G[r]+G[t]*Y[r]),a=Z(H[t]*G[r]+Y[t]*Y[r]),s=0;s<16;s++)if(q[s]===i&&H[s]===n&&G[s]===o&&Y[s]===a){e.push(s);break}}for(t=0;t<16;t++){var l=new j;l.set(q[t],H[t],G[t],Y[t],0,0),X.push(l)}}();var J={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return q[t]},uY:function(t){return H[t]},vX:function(t){return G[t]},vY:function(t){return Y[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return K[t][e]},sub:function(t,e){return K[t][J.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?J.S:J.N:2*Math.abs(e)<=Math.abs(t)?t>0?J.E:J.W:e>0?t>0?J.SE:J.SW:t>0?J.NE:J.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=X[J.inv(e)];n.tx=r,n.ty=i,t.append(n)}},Q=function(t){function e(){var e=t.call(this)||this;return e.mouseEnable=!0,e._instanceType="DisplayObject",e.tempDisplayObjectParent=null,e.transform=new W,e._alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e._worldAlpha=1,e.filterArea=null,e._filters=null,e._enabledFilters=null,e._localBoundsSelf=new U,e._bounds=new U,e._boundsID=0,e._lastBoundsID=-1,e._mask=null,e.destroyed=!1,e}return R(e,t),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},enumerable:!0,configurable:!0}),e.prototype.updateTransform=function(){this.transform.updateWorldMatrix(this.parent.transform),this._worldAlpha=this.alpha*this.parent._worldAlpha},e.prototype.hitTestPoint=function(t,r){void 0===r&&(r=!1);var i=this;if(!i.visible)return null;if(r&&!i.mouseEnable)return null;if(r){if(i._localBoundsSelf.isPointIn(i.globalToLocal(t,e._bp)))return i}else if(i._localBoundsSelf.isPointIn(t))return i;return null},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateWorldMatrix(this.parent.transform)):this.transform.updateWorldMatrix(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,r){return void 0===t&&(t=!1),void 0===r&&(r=e.temBounds),t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this.calculateBounds(),r.copy(this._bounds)},e.prototype.getLocalBounds=function(t){void 0===t&&(t=e.temBounds);var r=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var n=this.getBounds(!1,t);return this.parent=i,this.transform=r,this.parent&&this.updateTransform(),n},e.prototype.calculateBounds=function(){this._lastBoundsID!=this._boundsID&&(this._lastBoundsID=this._boundsID)},e.prototype.globalToLocal=function(t,r){return void 0===r&&(r=null),this.worldMatrix.transformPointInverse(t.x,t.y,r||e._bp)},e.prototype.localToGlobal=function(t,r){void 0===r&&(r=null);var i=this.worldMatrix.transformPoint(t.x,t.y,r||e._bp);return this.stage?this.stage.globalToLocal(i,r||e._bp):i},e.prototype._onDispatchBubbledEvent=function(t){var e=this;(t!=L.REMOVED_FROM_STAGE||e.stage)&&(t==L.REMOVED_FROM_STAGE?(e.dispatchEvent(t),e.stage=null):t==L.ADDED_TO_STAGE&&(e.stage=e.parent.stage,e.dispatchEvent(t)))},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setTransform=function(t,e,r,i,n,o,a,s,l){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=a,this.anchor.x=s,this.anchor.y=l,this},e.prototype.destroy=function(){this.removeAllEventListener(),this.parent&&this.parent.removeChild(this),this.transform.destroy(),this.transform=null,this._localBoundsSelf=null,this._bounds=null,this.tempDisplayObjectParent=null,this._mask=null,this.filterArea=null,this._filters=null,this._enabledFilters=null,this.mouseEnable=!1,this.destroyed=!0},Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._alpha!=t&&(this._alpha=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worldMatrix",{get:function(){return this.transform.worldMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localMatrix",{get:function(){return this.transform.localMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.transform.scale.x},set:function(t){this.transform.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.transform.scale.y},set:function(t){this.transform.scale.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this.transform.anchor},set:function(t){this.transform.anchor.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this.transform.anchor.x},set:function(t){this.transform.anchor.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this.transform.anchor.y},set:function(t){this.transform.anchor.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skewX",{get:function(){return this.transform.skew.x*O},set:function(t){this.transform.skew.x=t*I},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skewY",{get:function(){return this.transform.skew.y*O},set:function(t){this.transform.skew.y=t*I},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation*O},set:function(t){this.transform.rotation=t*I},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask!=t&&(this._mask&&(this._mask.renderable=!0,this._mask.isUsedToMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isUsedToMask=!0,this._boundsID++))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!0,configurable:!0}),e.prototype.update=function(){this.hasEventListener(L.ENTER_FRAME)&&this.dispatchEvent(L.ENTER_FRAME)},e._bp=new z,e._p1=new z,e._p2=new z,e._p3=new z,e._p4=new z,e.temBounds=new U,e}(B);Q.prototype.displayObjectUpdateTransform=Q.prototype.updateTransform,Q.prototype.displayObjectHitTestPoint=Q.prototype.hitTestPoint;var $=function(t){function e(){var e=t.call(this)||this;return e.mouseChildren=!0,e._instanceType="Container",e.children=[],e}return R(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(t){return this.addChildAt(t,this.children.length),t},e.prototype.addChildren=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.forEach((function(e){t.addChild(e)})),e},e.prototype.addChildAt=function(t,e){if(t){var r,i=this,n=i==t.parent;if(t.parent)if(n){r=i.children.length;for(var o=0;o<r;o++)if(i.children[o]==t){i.children.splice(o,1);break}}else t.parent.removeChild(t);return t.parent=i,t.transform._parentID=-1,this._boundsID++,e>=(r=i.children.length)?(i.children[i.children.length]=t,e=r):0==e||e<0?(i.children.unshift(t),e=0):i.children.splice(e,0,t),i.stage&&!n&&t._onDispatchBubbledEvent(L.ADDED_TO_STAGE),this.onChildrenChange(e),t}},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this,i=-1,n=-1,o=r.children.length;if((i="number"==typeof t?t:r.getChildIndex(t))==(n="number"==typeof e?e:r.getChildIndex(e))||i<0||i>=o||n<0||n>=o)return!1;var a=r.children[i];return r.children[i]=r.children[n],r.children[n]=a,this.onChildrenChange(i<n?i:n),!0}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);return-1===e?null:e},e.prototype.setChildIndex=function(t,e){this.addChildAt(t,e)},e.prototype.getChildAt=function(t){return t<0||t>=this.children.length?null:this.children[t]},e.prototype.getChildByName=function(t,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!1),!t)return null;var n;n="string"==typeof t?new RegExp("^"+t+"$"):t;var o=[];e._getElementsByName(n,this,r,i,o);var a=o.length;return 0==a?null:1==a?o[0]:o},e.prototype.removeChild=function(t){var e=this.children.indexOf(t);return-1===e?null:(this.removeChildAt(e),t)},e.prototype.removeChildAt=function(t){var e,r=this,i=r.children.length-1;if(!(i<0))return(e=t==i?r.children.pop():0==t?r.children.shift():r.children.splice(t,1)[0])._onDispatchBubbledEvent(L.REMOVED_FROM_STAGE),e.parent=null,e.transform._parentID=-1,this._boundsID++,this.onChildrenChange(t),e},e.prototype.removeChildren=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?(e.forEach((function(e){t.removeChild(e)})),e):this.spliceChildren(0,this.children.length)},e.prototype.removeAllChildren=function(){return this.removeChildren()},e.prototype.removeChildrenAt=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r=t,i="number"==typeof e?e:this.children.length,n=i-r;if(n>0&&n<=i)return this.spliceChildren(r,n);if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: 移除范围有误")},e.prototype.spliceChildren=function(t,e){var r=this.children.splice(t,e);if(!r.length)return[];for(var i=0;i<r.length;++i)r[i].parent=null,r[i].transform&&(r[i].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(i=0;i<r.length;++i)r[i]._onDispatchBubbledEvent(L.REMOVED_FROM_STAGE);return r},e.prototype.updateTransform=function(){t.prototype.updateTransform.call(this);for(var e=0,r=this.children.length;e<r;++e){var i=this.children[e];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){if(this._lastBoundsID!=this._boundsID){this._lastBoundsID=this._boundsID,this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e.mask?(e.mask.calculateBounds(),e._bounds.x<e.mask._bounds.x&&(e._bounds.x=e.mask._bounds.x),e._bounds.y<e.mask._bounds.y&&(e._bounds.y=e.mask._bounds.y),e._bounds.width>e.mask._bounds.width&&(e._bounds.width=e.mask._bounds.width),e._bounds.height>e.mask._bounds.height&&(e._bounds.height=e.mask._bounds.height),U.createFromRects(this._bounds,e._bounds)):e.filterArea||U.createFromRects(this._bounds,e._bounds))}}},e.prototype._calculateBounds=function(){},e.prototype.hitTestPoint=function(t,e){if(void 0===e&&(e=!1),!this.visible)return null;if(e&&!this.mouseChildren)return null;for(var r,i,n=this.children,o=n.length-1;o>=0;o--)if(!(r=n[o]).isUsedToMask&&(!r.mask||r.mask.hitTestPoint(t,e))&&(i=r.hitTestPoint(t,e)))return i;return null},e.prototype.renderWebGL=function(t){if(this.visible&&!(this._worldAlpha<=0)&&this.renderable)if(this.mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.batchManager.flush();var e=this.filters;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}var i=this.mask;i&&t.maskManager.pushMask(this,this.mask),this._renderWebGL(t);r=0;for(var n=this.children.length;r<n;r++)this.children[r].renderWebGL(t);t.batchManager.flush(),i&&t.maskManager.popMask(this,this.mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this._worldAlpha<=0)&&this.renderable){this.mask&&t.maskManager.pushMask(this.mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this.mask&&t.maskManager.popMask(t)}},e.prototype._renderCanvas=function(t){},e.prototype.update=function(){if(this.visible){t.prototype.update.call(this);for(var e=this.children.length-1;e>=0;e--){var r=this.children[e];r.visible&&r.update()}}},e.prototype._onDispatchBubbledEvent=function(e){var r=this,i=r.children.length;if(e!=L.REMOVED_FROM_STAGE||r.stage){t.prototype._onDispatchBubbledEvent.call(this,e);for(var n=0;n<i;n++)r.children[n]._onDispatchBubbledEvent(e)}},e.prototype.destroy=function(){for(var e=this.children.length-1;e>=0;e--)this.children[e].destroy();t.prototype.destroy.call(this),this.mouseChildren=!1},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!0,configurable:!0}),e._getElementsByName=function(t,r,i,n,o){var a=r.children.length;if(a>0)for(var s=void 0,l=void 0,h=0;h<a;h++){if((s=(l=r.children[h]).name)&&""!=s&&t.test(s)&&(o[o.length]=l,i))return;n&&null!=l.children&&e._getElementsByName(t,l,i,n,o)}},e}(Q);$.prototype.containerUpdateTransform=$.prototype.updateTransform;var tt=function(t){function e(){var e=t.call(this)||this;e.htmlElement=null,e._isAdded=!1;var r=e;return r._instanceType="FloatDisplay",r.addEventListener(L.REMOVED_FROM_STAGE,(function(t){r.htmlElement&&(r.htmlElement.style.display="none")})),r.addEventListener(L.ADDED_TO_STAGE,(function(t){if(r.htmlElement){var e=r.htmlElement.style;r._isAdded?r.htmlElement&&r.visible&&(e.display="block"):(r._isAdded=!0,r.stage.rootDiv?r.stage.rootDiv.insertBefore(r.htmlElement,r.stage.rootDiv.childNodes[0]):document.body.appendChild(r.htmlElement))}})),e._transformID=-1,e}return R(e,t),e.prototype.init=function(t){var e,r=this;e="string"==typeof t?document.getElementById(t):"Video"==t._instanceType?t.media:t,r.htmlElement&&r.removeHtmlElement();var i=e.style;i.position="absolute",i.display="none",i.transformOrigin=i.WebkitTransformOrigin="0 0 0";var n=r.getStyle(e,"width"),o=r.getStyle(e,"height"),a=0,s=0;n.indexOf("px")&&(a=parseInt(n)),o.indexOf("px")&&(s=parseInt(o)),r._localBoundsSelf.width=a,r._localBoundsSelf.height=s,r.htmlElement=e,r.stage&&(r._isAdded=!0,r.stage.rootDiv?r.stage.rootDiv.insertBefore(r.htmlElement,r.stage.rootDiv.childNodes[0]):document.body.appendChild(r.htmlElement))},e.prototype.getStyle=function(t,e){if(t.style[e])return t.style[e];if(document.defaultView&&document.defaultView.getComputedStyle){e=(e=e.replace(/([A-Z])/g,"-$1")).toLowerCase();var r=document.defaultView.getComputedStyle(t,"");return r&&r.getPropertyValue(e)}return null},e.prototype.updateStyle=function(){var t=this,e=t.htmlElement;if(e){var r=e.style,i=t.visible;if(t.stage||(i=!1),i)for(var n=t.parent;n;){if(!n.visible){i=!1;break}n=n.parent}var o=i?"block":"none";if(o!=r.display&&(r.display=o),i){if(this._transformID!=this.transform._worldID){this._transformID=this.transform._worldID;var a=t.transform.worldMatrix,s=t.stage._dpi||t.stage.dpi;r.transform=r.webkitTransform="matrix("+(a.a/s).toFixed(4)+","+(a.b/s).toFixed(4)+","+(a.c/s).toFixed(4)+","+(a.d/s).toFixed(4)+","+(a.tx/s).toFixed(4)+","+(a.ty/s).toFixed(4)+")"}r.opacity=t._worldAlpha}}},e.prototype.removeHtmlElement=function(){var t=this,e=t.htmlElement;e&&(e.style.display="none",e.parentNode&&e.parentNode.removeChild(e),t._isAdded=!1,t.htmlElement=null)},e.prototype.renderCanvas=function(){this.updateStyle()},e.prototype.renderWebGL=function(){this.updateStyle()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeHtmlElement()},e}(Q);var et,rt="web";function it(){return rt}function nt(){return document&&document.createElement("canvas")||my._createOffscreenCanvas()}function ot(){return et&&et.createImage()||new Image}window&&(window.my=null);function at(t){return!(t&t-1||!t)}function st(t){var e,r;return t>>>=e=Number(t>65535)<<4,t>>>=r=Number(t>255)<<3,e|=r,t>>>=r=Number(t>15)<<2,e|=r,(e|=r=Number(t>3)<<1)|(t>>>=r)>>1}function lt(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}var ht=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,i=e,n=7;for(r>>>=1;r;r>>>=1)i<<=1,i|=1&r,--n;t[e]=i<<n&255}}(ht);var ut=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=this.renderer,r=e.context,i=t._worldAlpha,n=t.transform.worldMatrix;r.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),e.setBlendMode(t.blendMode);for(var o=0;o<t.graphicsData.length;o++){var a=t.graphicsData[o],s=a.shape,l=a.fillStyle,h=a.lineStyle,u=l.color,c=h.color;r.lineWidth=h.width;var p=!0;if(a.type===v.POLY){r.beginPath();var f=s.points;r.moveTo(f[0],f[1]);for(var d=1;d<f.length/2;++d)r.lineTo(f[2*d],f[2*d+1]);p=!pt(f)}else if(a.type===v.RECT){if(!a.holes.length){l.visible&&(r.globalAlpha=l.alpha*i,r.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.fillRect(s.x,s.y,s.width,s.height)),h.visible&&(r.globalAlpha=h.alpha*i,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(s.x,s.y,s.width,s.height));continue}r.beginPath(),r.moveTo(s.x,s.y),r.lineTo(s.x+s.width,s.y),r.lineTo(s.x+s.width,s.y+s.height),r.lineTo(s.x,s.y+s.height),r.lineTo(s.x,s.y)}else if(a.type===v.CIRC)r.beginPath(),r.arc(s.x,s.y,s.radius,0,2*Math.PI,!1);else if(a.type===v.ELIP){var m=2*s.width,y=2*s.height,g=s.x-m/2,_=s.y-y/2;r.beginPath();var b=m/2*.5522848,x=y/2*.5522848,w=g+m,T=_+y,E=g+m/2,S=_+y/2;r.moveTo(g,S),r.bezierCurveTo(g,S-x,E-b,_,E,_),r.bezierCurveTo(E+b,_,w,S-x,w,S),r.bezierCurveTo(w,S+x,E+b,T,E,T),r.bezierCurveTo(E-b,T,g,S+x,g,S)}else if(a.type===v.RREC){var M=s.x,A=s.y,C=s.width,P=s.height,k=s.radius,O=Math.min(C,P)/2|0;k=k>O?O:k,r.beginPath(),r.moveTo(M,A+k),r.quadraticCurveTo(M,A,M+k,A),r.lineTo(M+C-k,A),r.quadraticCurveTo(M+C,A,M+C,A+k),r.lineTo(M+C,A+P-k),r.quadraticCurveTo(M+C,A+P,M+C-k,A+P),r.lineTo(M+k,A+P),r.quadraticCurveTo(M,A+P,M,A+P-k),r.lineTo(M,A+k)}for(var I=0;I<a.holes.length;I++)ct(a.holes[I],r,p);l.visible&&(r.globalAlpha=l.alpha*i,r.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.fill()),h.visible&&(s.closed&&r.closePath(),r.globalAlpha=h.alpha*i,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}},t.prototype.destroy=function(){this.renderer=null},t}();function ct(t,e,r){void 0===r&&(r=!0);var i=t.type,n=t.shape;switch(i){case v.POLY:var o=n.points;if(r==pt(o)){e.moveTo(o[0],o[1]);for(var a=1;a<o.length/2;++a)e.lineTo(o[2*a],o[2*a+1])}else{e.moveTo(o[o.length-2],o[o.length-1]);for(a=o.length/2-2;a>=0;--a)e.lineTo(o[2*a],o[2*a+1])}o[0]===o[o.length-2]&&o[1]===o[o.length-1]||e.closePath();break;case v.RECT:e.moveTo(n.x,n.y),r?(e.lineTo(n.x,n.y+n.height),e.lineTo(n.x+n.width,n.y+n.height),e.lineTo(n.x+n.width,n.y),e.lineTo(n.x,n.y)):(e.lineTo(n.x+n.width,n.y),e.lineTo(n.x+n.width,n.y+n.height),e.lineTo(n.x,n.y+n.height),e.lineTo(n.x,n.y));break;case v.CIRC:e.moveTo(n.x+n.radius,n.y),e.arc(n.x,n.y,n.radius,0,2*Math.PI,r);break;case v.ELIP:var s=2*n.width,l=2*n.height,h=n.x-s/2,u=n.y-l/2,c=s/2*.5522848,p=l/2*.5522848,f=h+s,d=u+l,m=h+s/2,y=u+l/2;e.moveTo(h,y),r?(e.bezierCurveTo(m-c,d,h,y+p,m,d),e.bezierCurveTo(f,y+p,m+c,d,f,y),e.bezierCurveTo(m+c,u,f,y-p,m,u),e.bezierCurveTo(h,y-p,m-c,u,h,y)):(e.bezierCurveTo(h,y-p,m-c,u,m,u),e.bezierCurveTo(m+c,u,f,y-p,f,y),e.bezierCurveTo(f,y+p,m+c,d,m,d),e.bezierCurveTo(m-c,d,h,y+p,h,y));break;case v.RREC:var g=n.x,_=n.y,b=n.width,x=n.height,w=n.radius,T=Math.min(b,x)/2|0;w=w>T?T:w,e.moveTo(g,_+w),r?(e.lineTo(g,_+x-w),e.quadraticCurveTo(g,_+x,g+w,_+x),e.lineTo(g+b-w,_+x),e.quadraticCurveTo(g+b,_+x,g+b,_+x-w),e.lineTo(g+b,_+w),e.quadraticCurveTo(g+b,_,g+b-w,_),e.lineTo(g+w,_),e.quadraticCurveTo(g,_,g,_+w)):(e.quadraticCurveTo(g,_,g+w,_),e.lineTo(g+b-w,_),e.quadraticCurveTo(g+b,_,g+b,_+w),e.lineTo(g+b,_+x-w),e.quadraticCurveTo(g+b,_+x,g+b-w,_+x),e.lineTo(g+w,_+x),e.quadraticCurveTo(g,_+x,g,_+x-w),e.lineTo(g,_+w))}}function pt(t){var e=[];t[0]===t[t.length-2]&&(t[1],t[t.length-1]);for(var r=0;r<t.length-2;r+=2)e.push(t[r+2]-t[r],t[r+3]-t[r+1]);t[0]===t[t.length-2]&&t[1]===t[t.length-1]||e.push(t[0]-t[t.length-2],t[1]-t[t.length-1]);var i=0;for(r=0;r<e.length-2;r+=2)i=i+e[r]*e[r+3]-e[r+1]*e[r+2];return!((i=i+e[e.length-2]*e[1]-e[e.length-1]*e[0])>0)}var ft=function(t){function e(e){var r=t.call(this)||this;return r._instanceType="CanvasMaskManager",r.renderer=e,r}return R(e,t),e.prototype.pushMask=function(t){var e=this.renderer;e.context.save(),e.context.globalAlpha=0;var r=t.transform.worldMatrix;e.context.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),"Shape"==t.instanceType?t._drawShape(e.context):"Graphics"==t.instanceType&&(t.finishPoly(),this.renderGraphicsShape(t)),e.context.clip()},e.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var i=0;i<r;i++){var n=t.graphicsData[i],o=n.shape,a=!0;if(n.type===v.POLY){var s=o.points;e.moveTo(s[0],s[1]);for(var l=1;l<s.length/2;l++)e.lineTo(s[2*l],s[2*l+1]);a=!pt(s),s[0]===s[s.length-2]&&s[1]===s[s.length-1]||e.closePath()}else if(n.type===v.RECT)e.rect(o.x,o.y,o.width,o.height);else if(n.type===v.CIRC)e.arc(o.x,o.y,o.radius,0,2*Math.PI);else if(n.type===v.ELIP){var h=2*o.width,u=2*o.height,c=o.x-h/2,p=o.y-u/2,f=h/2*.5522848,d=u/2*.5522848,m=c+h,y=p+u,g=c+h/2,_=p+u/2;e.moveTo(c,_),e.bezierCurveTo(c,_-d,g-f,p,g,p),e.bezierCurveTo(g+f,p,m,_-d,m,_),e.bezierCurveTo(m,_+d,g+f,y,g,y),e.bezierCurveTo(g-f,y,c,_+d,c,_)}else if(n.type===v.RREC){var b=o.x,x=o.y,w=o.width,T=o.height,E=o.radius,S=Math.min(w,T)/2|0;E=E>S?S:E,e.moveTo(b,x+E),e.quadraticCurveTo(b,x,b+E,x),e.lineTo(b+w-E,x),e.quadraticCurveTo(b+w,x,b+w,x+E),e.lineTo(b+w,x+T-E),e.quadraticCurveTo(b+w,x+T,b+w-E,x+T),e.lineTo(b+E,x+T),e.quadraticCurveTo(b,x+T,b,x+T-E),e.lineTo(b,x+E)}for(l=0;l<n.holes.length;l++)ct(n.holes[i],e,a)}}},e.prototype.popMask=function(t){t.context.restore()},e.prototype.destroy=function(){},e}(F),dt=new j,mt=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,i=e._frame.width,n=e._frame.height,o=t.transform.worldMatrix,a=0,s=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&e.valid){r.setBlendMode(t.blendMode),r.context.globalAlpha=t._worldAlpha,t._anchorTexture?(e.trim?(a=e.trim.width/2+e.trim.x-t._anchorTexture.x*e.orig.width,s=e.trim.height/2+e.trim.y-t._anchorTexture.y*e.orig.height):(a=(.5-t._anchorTexture.x)*e.orig.width,s=(.5-t._anchorTexture.y)*e.orig.height),e.rotate&&(dt.copy(o),o=dt,J.matrixAppendRotationInv(o,e.rotate,a,s),a=0,s=0),a-=i/2,s-=n/2):(a=t.offsetX||0,s=t.offsetY||0),r.context.setTransform(o.a,o.b,o.c,o.d,o.tx,o.ty);var l=r._outerBlend;l&&(r.context.save(),r.context.beginPath(),r.context.rect(a,s,i,n),r.context.clip()),16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=function(t,e){var r="#"+("00000"+(0|(e=function(t){var e=St(t);return e[0]=Math.min(255,e[0]/8*8),e[1]=Math.min(255,e[1]/8*8),e[2]=Math.min(255,e[2]/8*8),function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}(e)}(e))).toString(16)).substr(-6);t.tintCache=t.tintCache||{};var i,n=t.tintCache[r];if(n){if(n.tintId===t._updateID)return t.tintCache[r];i=t.tintCache[r]}else i=Tt||nt();return Et(t,e,i),i.tintId=t._updateID,t.tintCache[r]=i,Tt=null,i}(t._texture,t.tint)),r.context.drawImage(t.tintedTexture,0,0,i,n,a,s,i,n)):r.context.drawImage(e.baseTexture.source,e._frame.x,e._frame.y,i,n,a,s,i,n),l&&r.context.restore(),r.setBlendMode(S.NORMAL)}},t.prototype.destroy=function(){this.renderer=null},t}(),vt=function(t){function e(){var e=t.call(this)||this;return e.transparent=!0,e._backgroundColor=0,e._backgroundColorRgba=[0,0,0,0],e._backgroundColorString="#000000",e.backgroundColor=e._backgroundColor,e._tempDisplayObjectParent=new $,e._lastObjectRendered=e._tempDisplayObjectParent,e}return R(e,t),e.prototype.resize=function(t,e){this.width=t,this.height=e},e.prototype.render=function(t,e,r){},e.prototype.destroy=function(){this.type=m.UNKNOWN,this.transparent=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor!==t&&(this._backgroundColor=t,this._backgroundColorString=Rt(t),Dt(t,this._backgroundColorRgba))},enumerable:!0,configurable:!0}),e}(B),yt=function(){function t(t,e){this.canvas=nt(),this.resize(t,e),this.context=this.canvas.getContext("2d"),this.resize(t,e),this.clear()}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!0,configurable:!0}),t}(),gt=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=this.renderer,r=e.context,i=t.worldMatrix;r.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e.context.globalAlpha=t._worldAlpha,e.setBlendMode(t.blendMode),this._renderTriangles(t)},t.prototype._renderTriangles=function(t){for(var e=t._indices,r=e.length,i=0;i<r;i+=3){var n=2*e[i],o=2*e[i+1],a=2*e[i+2];this._renderDrawTriangle(t,n,o,a)}},t.prototype._renderDrawTriangle=function(t,e,r,i){var n=this.renderer.context,o=t._uvs,a=t._vertices,s=t.texture;if(s.valid){var l=s.baseTexture,h=l.source,u=l.width,c=l.height,p=o[e]*l.width,f=o[r]*l.width,d=o[i]*l.width,m=o[e+1]*l.height,v=o[r+1]*l.height,y=o[i+1]*l.height,g=a[e],_=a[r],b=a[i],x=a[e+1],w=a[r+1],T=a[i+1],E=t.canvasPadding;if(E>0){var S=E/Math.abs(t.worldMatrix.a),M=E/Math.abs(t.worldMatrix.d),A=(g+_+b)/3,C=(x+w+T)/3,P=g-A,k=x-C,O=Math.sqrt(P*P+k*k);g=A+P/O*(O+S),x=C+k/O*(O+M),k=w-C,_=A+(P=_-A)/(O=Math.sqrt(P*P+k*k))*(O+S),w=C+k/O*(O+M),k=T-C,b=A+(P=b-A)/(O=Math.sqrt(P*P+k*k))*(O+S),T=C+k/O*(O+M)}n.save(),n.beginPath(),n.moveTo(g,x),n.lineTo(_,w),n.lineTo(b,T),n.closePath(),n.clip();var I=p*v+m*d+f*y-v*d-m*f-p*y,D=g*v+m*b+_*y-v*b-m*_-g*y,R=p*_+g*d+f*b-_*d-g*f-p*b,F=p*v*b+m*_*d+g*f*y-g*v*d-m*f*b-p*_*y,L=x*v+m*T+w*y-v*T-m*w-x*y,B=p*w+x*d+f*T-w*d-x*f-p*T,N=p*v*T+m*w*d+x*f*y-x*v*d-m*f*T-p*w*y;n.transform(D/I,L/I,R/I,B/I,F/I,N/I),n.drawImage(h,0,0,u,c,0,0,u,c),n.restore()}},t.prototype.destroy=function(){this.renderer=null},t}(),_t=function(t){function e(e,r,i){var n=t.call(this)||this;return n.type=m.CANVAS,n._instanceType="CanvasRenderer",n.rootContext=e,n.maskManager=new ft(n),n.plugins={sprite:null,graphics:null},n.plugins.sprite=new mt(n),n.plugins.graphics=new ut(n),n.plugins.mesh=new gt(n),n.blendModes=function(t){void 0===t&&(t=[]);wt()?(t[S.NORMAL]="source-over",t[S.ADD]="lighter",t[S.MULTIPLY]="multiply",t[S.SCREEN]="screen",t[S.OVERLAY]="overlay",t[S.DARKEN]="darken",t[S.LIGHTEN]="lighten",t[S.COLOR_DODGE]="color-dodge",t[S.COLOR_BURN]="color-burn",t[S.HARD_LIGHT]="hard-light",t[S.SOFT_LIGHT]="soft-light",t[S.DIFFERENCE]="difference",t[S.EXCLUSION]="exclusion",t[S.HUE]="hue",t[S.SATURATION]="saturate",t[S.COLOR]="color",t[S.LUMINOSITY]="luminosity"):(t[S.NORMAL]="source-over",t[S.ADD]="lighter",t[S.MULTIPLY]="source-over",t[S.SCREEN]="source-over",t[S.OVERLAY]="source-over",t[S.DARKEN]="source-over",t[S.LIGHTEN]="source-over",t[S.COLOR_DODGE]="source-over",t[S.COLOR_BURN]="source-over",t[S.HARD_LIGHT]="source-over",t[S.SOFT_LIGHT]="source-over",t[S.DIFFERENCE]="source-over",t[S.EXCLUSION]="source-over",t[S.HUE]="source-over",t[S.SATURATION]="source-over",t[S.COLOR]="source-over",t[S.LUMINOSITY]="source-over");return t[S.NORMAL_NPM]=t[S.NORMAL],t[S.ADD_NPM]=t[S.ADD],t[S.SCREEN_NPM]=t[S.SCREEN],t[S.SRC_OVER]="source-over",t[S.SRC_IN]="source-in",t[S.SRC_OUT]="source-out",t[S.SRC_ATOP]="source-atop",t[S.DST_OVER]="destination-over",t[S.DST_IN]="destination-in",t[S.DST_OUT]="destination-out",t[S.DST_ATOP]="destination-atop",t[S.SUBTRACT]="source-over",t}(),n._activeBlendMode=null,n._outerBlend=!1,n.resize(r,i),n}return R(e,t),e.prototype.render=function(t,e,r){this.dispatchEvent("onPreRender");var i=!e;e?((e=e.baseTexture||e)._canvasRenderTarget?(e._canvasRenderTarget.clear(),e._canvasRenderTarget.resize(e.width,e.height)):(e._canvasRenderTarget=new yt(e.width,e.height),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context):this.context=this.rootContext;var n=this.context;e||(this._lastObjectRendered=t),t.update();var o=t.parent,a=this._tempDisplayObjectParent.transform.worldMatrix;r?(a.copy(r),this._tempDisplayObjectParent.transform._worldID++):a.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o,n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=1,this._activeBlendMode=S.NORMAL,this._outerBlend=!1,n.globalCompositeOperation=this.blendModes[S.NORMAL],i&&(this.transparent?n.clearRect(0,0,this.width,this.height):(n.fillStyle=this._backgroundColorString,n.fillRect(0,0,this.width,this.height))),t.renderCanvas(this),n.restore(),this.dispatchEvent("onPostRender")},e.prototype.setBlendMode=function(t,e){void 0===e&&(e=!1);var r=t===S.SRC_IN||t===S.SRC_OUT||t===S.DST_IN||t===S.DST_ATOP;!e&&r&&(t=S.NORMAL),this._activeBlendMode!==t&&(this._activeBlendMode=t,this._outerBlend=r,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(){this.destroyPlugins(),t.prototype.destroy.call(this),this.context=null,this.maskManager.destroy(),this.maskManager=null},e.prototype.destroyPlugins=function(){this.plugins.sprite.destroy(),this.plugins.graphics.destroy()},e}(vt);new j;var bt=null;function xt(t){var e=nt();e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}function wt(){if(null!=bt)return bt;if("undefined"==typeof document)return bt=!1;var t=xt("#ff00ff"),e=xt("#ffff00"),r=nt();r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var n=i.getImageData(2,0,1,1);if(!n)return bt=!1;var o=n.data;return bt=255===o[0]&&0===o[1]&&0===o[2]}var Tt,Et=wt()?function(t,e,r){var i=r.getContext("2d"),n=t._frame.clone();r.width=Math.ceil(n.width),r.height=Math.ceil(n.height),i.save(),i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="multiply",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.restore()}:function(t,e,r){var i=r.getContext("2d"),n=t._frame.clone();r.width=Math.ceil(n.width),r.height=Math.ceil(n.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.restore();for(var o=St(e),a=o[0],s=o[1],l=o[2],h=i.getImageData(0,0,n.width,n.height),u=h.data,c=0;c<u.length;c+=4)u[c+0]*=a,u[c+1]*=s,u[c+2]*=l;i.putImageData(h,0,0)};function St(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}var Mt,At=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[S.NORMAL_NPM]=S.NORMAL,t[S.ADD_NPM]=S.ADD,t[S.SCREEN_NPM]=S.SCREEN,e[S.NORMAL]=S.NORMAL_NPM,e[S.ADD]=S.ADD_NPM,e[S.SCREEN]=S.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}(),Ct=0;function Pt(){return++Ct}function kt(){if(!Mt){var t=nt();t.width=1,t.height=1,Mt=t.getContext("2d")}return Mt}function Ot(t,e){var r,i=kt();r=4==t.length?i.createLinearGradient(t[0],t[1],t[2],t[3]):i.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5]);for(var n=0,o=e.length;n<o;n++)r.addColorStop(e[n][0],Bt(e[n][1],e[n][2]));return r}function It(t){return kt().createPattern(t,"repeat")}function Dt(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Rt(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function Ft(t){return 0==t.indexOf("#")&&(t=t.replace("#","0x")),parseInt(t)}function Lt(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function Bt(t,e){if(0==t.indexOf("0x")&&(t=t.replace("0x","#")),t.length<7&&(t="#000000"),1!=e){var r=parseInt("0x"+t.substr(1,2)),i=parseInt("0x"+t.substr(3,2)),n=parseInt("0x"+t.substr(5,2));t="rgba("+r+","+i+","+n+","+e+")"}return t}function Nt(t){return 0===t?0:t<0?-1:1}var zt=Object.create(null),jt=Object.create(null);Object.create(null);var Vt;function Ut(t,e,r){return Math.max(e,Math.min(r,t))}function Wt(t){for(var e,r,i,n="",o=new Uint8Array(t),a=8*t.byteLength,s=0;s<a;s+=6)r=s%8,i=(o[e=s/8|0]||0)<<r>>2,r>2&&(i|=(o[e+1]||0)>>10-r),n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&i);return n+=4==r?"=":6==r?"==":""}var qt=new(function(t){function e(){var e=t.call(this)||this;return e.caches={},e._instanceType="Loader",e}return R(e,t),e.prototype.loadSheet=function(t,e){var r=this,i=e.substring(0,e.lastIndexOf("."))+".png";this.loadImage((function(n,o){n?(r.cache(i,o),r.caches[e]&&(t(!0,{json:r.caches[e],img:o}),r.caches[e]=null,r.caches[i]=null)):t(!1)}),i),this.loadJson((function(n,o){n?(r.cache(e,o),r.caches[i]&&(t(!0,{json:o,img:r.caches[i]}),r.caches[e]=null,r.caches[i]=null)):t(!1)}),e)},e.prototype.loadJson=function(t,e){"tb"!=it()?this.loadRawWeb((function(e,r){t(e,e?JSON.parse(r):r)}),e,"text"):this.tbLoad((function(e,r){t(e,e?JSON.parse(r):r)}),e,"utf8")},e.prototype.loadAB=function(t,e){"tb"==it()?qt.tbLoad(t,e,"ArrayBuffer"):qt.loadRawWeb(t,e,"arraybuffer")},e.prototype.loadRawWeb=function(t,e,r){var i;void 0===r&&(r="json"),window.XMLHttpRequest?i=new XMLHttpRequest:window.ActiveXObject?i=new window.ActiveXObject:alert("请升级至最新版本的浏览器"),null!=i&&(i.open("GET",e,!0),i.responseType=r,i.send(),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&t(!0,i.response)},i.onerror=function(e){t(!1,e)})},e.prototype.loadImage=function(t,e){var r=ot();r.onload=function(){t(!0,r)},r.onerror=function(){t(!1)},0!==(e=encodeURI(e)).indexOf("data:")&&(r.crossOrigin="anonymous"),r.src=e},e.prototype.loadTexture=function(t,e,r){this.caches[e]||this.loadImage((function(i,n){i?(Yt.addToCache(Yt.from(n),r||e),t(!0,zt[r||e])):t(!1)}),e)},e.prototype.tbLoad=function(t,e,r){var i=this;void 0===r&&(r="ArrayBuffer"),0==e.indexOf("cloud://")?this.getTbTempUrl((function(e){i.downloadReadFile(t,e,r)}),e):this.downloadReadFile(t,e,r)},e.prototype.getTbTempUrl=function(t,e){getApp().cloud.file.getTempFileURL({fileId:[e]}).then((function(e){t(e[0].url.replace("-internal",""))})).catch((function(t){console.error(t)}))},e.prototype.downloadReadFile=function(t,e,r){void 0===r&&(r="ArrayBuffer");var i=my;i.downloadFile({url:e,success:function(e){var n=e.apFilePath;i.getFileSystemManager().readFile({filePath:n,encoding:"ArrayBuffer"===r?"":r,success:function(e){t(!0,e.data)},fail:function(e){t(!1,e)}})},fail:function(e){t(!1,e)}})},e.prototype.cache=function(t,e){this.caches[t],this.caches[t]=e},e.prototype.get=function(t){return this.caches[t]},e}(B)),Ht=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=A.LINEAR);var i=t.call(this)||this;if(i._touchedId=0,i.width=100,i.height=100,i.scaleMode=r,i.hasLoaded=!1,i._isLoading=!1,i.source=null,i.imageType=null,i.premultipliedAlpha=!0,i.imageUrl=null,i.isPowerOfTwo=!1,i.mipmap=!0,i.wrapMode=C.CLAMP,i._glTextures={},i._enabledId=0,i.textureCacheIds=[],e)if(e.data)i._sourceChange(e);else if(e.getContext)i._sourceChange(e);else if(e.complete)i._sourceChange(e),i.dispatchEvent("loaded");else{var n=i;e.onload=function(){n._sourceChange(e),n.dispatchEvent("loaded")}}return i}return R(e,t),e.prototype.update=function(){this.width=this.source.width,this.height=this.source.height,this.hasLoaded=!(!this.width||!this.height),this.isPowerOfTwo=at(this.width)&&at(this.height),this.dispatchEvent("update")},e.prototype._sourceChange=function(t){this.source=t,this.imageUrl=t.src||t.path||null,this.imageType=this.source.type||null,this.hasLoaded=!0,this.update(),this.dispatchEvent("loaded")},e.prototype.destroy=function(){this.imageUrl&&(delete zt[this.imageUrl],this.imageUrl=null),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null},e.prototype.dispose=function(){this.dispatchEvent("dispose")},e.fromUrl=function(t){if(jt[t])return jt[t];var r=new e;return qt.loadImage((function(i,n){i&&(r._sourceChange(n),0!==t.indexOf("data:")&&e.addToCache(r,t))}),t),r},e.fromData=function(t){return new e(t)},e.fromCanvas=function(t,r){void 0===r&&(r="canvas"),t._canvasId||(t._canvasId=r+"_"+Pt());var i=jt[t._canvasId];return i||(i=new e(t),e.addToCache(i,t._canvasId)),i},e.fromImage=function(t){var r=t.src,i=jt[r];return i||(i=new e(t),r&&0!==r.indexOf("data:")&&e.addToCache(i,r)),i},e.from=function(t){return"string"==typeof t?e.fromUrl(t):t.data?e.fromData(t):t.getContext?e.fromCanvas(t):e.fromImage(t)},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),jt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),jt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=jt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete jt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete jt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(B),Gt=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4),this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var o=t.width/2/i,a=t.height/2/n,s=t.x/i+o,l=t.y/n+a;r=J.add(r,J.NW),this.x0=s+o*J.uX(r),this.y0=l+a*J.uY(r),r=J.add(r,2),this.x1=s+o*J.uX(r),this.y1=l+a*J.uY(r),r=J.add(r,2),this.x2=s+o*J.uX(r),this.y2=l+a*J.uY(r),r=J.add(r,2),this.x3=s+o*J.uX(r),this.y3=l+a*J.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535,this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),Yt=function(t){function e(r,i,n,o,a,s){var l=t.call(this)||this;return l._instanceType="Texture",l.noFrame=!1,i||(l.noFrame=!0,i=new U(0,0,1,1)),r instanceof e&&(r=r.baseTexture),l.baseTexture=r,l._frame=i,l.trim=o||null,l.valid=!1,l._uvs=null,l.orig=n||i,l._rotate=Number(a||0),r.hasLoaded||r.source&&r.source.getContext?(l.noFrame&&(i=new U(0,0,r.width,r.height),r.addEventListener("update",l.onBaseTextureUpdated,l)),l.frame=i):r.once("loaded",l.onBaseTextureLoaded,l),l.defaultAnchor=s?new z(s.x,s.y):new z(0,0),l._updateID=0,l.transform=null,l.textureCacheIds=[],l}return R(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){var e=t.target;this._updateID++,this.noFrame?(this.frame=new U(0,0,e.width,e.height),this.baseTexture.addEventListener("update",this.onBaseTextureUpdated,this)):this.frame=this._frame,this.dispatchEvent("update"),this.dispatchEvent("loaded")},e.prototype.onBaseTextureUpdated=function(t){var e=t.target;this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.orig.width=this._frame.width,this.orig.height=this._frame.height,this.valid=e.hasLoaded,this.dispatchEvent("update")},e.prototype.destroy=function(){this.baseTexture&&(this.baseTexture.removeEventListener("update",this.onBaseTextureUpdated,this),this.baseTexture.removeEventListener("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs||(this._uvs=new Gt),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,a=r+n>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",l="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,h="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+s+" "+h)}this.valid=i&&n&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate!=t&&(this._rotate=t,this.valid&&this.updateUvs())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!0,configurable:!0}),e.fromUrl=function(t){var r=zt[t];return r||(r=new e(Ht.fromUrl(t)),e.addToCache(r,t)),r},e.fromCanvas=function(t,r){return void 0===r&&(r="canvas"),new e(Ht.fromCanvas(t,r))},e.fromData=function(t){return new e(Ht.fromData(t))},e.fromImage=function(t){var r=t.src,i=zt[r];return i||(i=new e(Ht.fromImage(t)),r&&0!==r.indexOf("data:")&&e.addToCache(i,r)),i},e.from=function(t){return"string"==typeof t?e.fromUrl(t):t.data?e.fromData(t):t.getContext?e.fromCanvas(t):e.fromImage(t)},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),zt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),zt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=zt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete zt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)zt[t.textureCacheIds[i]]===t&&delete zt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(B);function Xt(t){t.destroy=function(){},t.addEventListener=function(){},t.once=function(){},t.dispatchEvent=function(){}}Yt.EMPTY=new Yt(new Ht),Xt(Yt.EMPTY),Xt(Yt.EMPTY.baseTexture);var Kt={data:function(){for(var t=[],e=0;e<1024;e++)t.push(255);return new Uint8Array(t)}(),width:16,height:16,type:null,path:null};Yt.WHITE=new Yt(new Ht(Kt)),Xt(Yt.WHITE),Xt(Yt.WHITE.baseTexture);var Zt=new Uint16Array([0,1,2,0,2,3]),Jt=function(t){function e(e){var r=t.call(this)||this;return r._blendMode=S.NORMAL,r._instanceType="Sprite",r._anchorTexture=new V(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r._cachedTint=16777215,r._uvs=null,r.texture=e||Yt.EMPTY,r._vertexData=new Float32Array(8),r._vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r._indices=Zt,r.pluginName="sprite",r}return R(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!0,configurable:!0}),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._texture.valid&&(this._uvs=this._texture._uvs.uvsFloat32),this._width&&(this.scale.x=Nt(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Nt(this.scale.y)*this._height/this._texture.orig.height),this.updateLocalBoundsSelf()},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1,this.updateLocalBoundsSelf()},e.prototype.updateLocalBoundsSelf=function(){var t=this._texture.orig.width,e=this._texture.orig.height;this._localBoundsSelf.x=-t*this.anchorTexture.x,this._localBoundsSelf.y=-e*this.anchorTexture.y,this._localBoundsSelf.width=t,this._localBoundsSelf.height=e},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldMatrix,r=e.a,i=e.b,n=e.c,o=e.d,a=e.tx,s=e.ty,l=this._vertexData,h=t.trim,u=t.orig,c=this._anchorTexture,p=0,f=0,d=0,m=0;h?(p=(f=h.x-c._x*u.width)+h.width,d=(m=h.y-c._y*u.height)+h.height):(p=(f=-c._x*u.width)+u.width,d=(m=-c._y*u.height)+u.height),l[0]=r*f+n*m+a,l[1]=o*m+i*f+s,l[2]=r*p+n*m+a,l[3]=o*m+i*p+s,l[4]=r*p+n*d+a,l[5]=o*d+i*p+s,l[6]=r*f+n*d+a,l[7]=o*d+i*f+s}},e.prototype.calculateTrimmedVertices=function(){if(this._vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this._vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this._vertexTrimmedData,r=t.orig,i=this._anchorTexture,n=this.transform.worldMatrix,o=n.a,a=n.b,s=n.c,l=n.d,h=n.tx,u=n.ty,c=-i._x*r.width,p=c+r.width,f=-i._y*r.height,d=f+r.height;e[0]=o*c+s*f+h,e[1]=l*f+a*c+u,e[2]=o*p+s*f+h,e[3]=l*f+a*p+u,e[4]=o*p+s*d+h,e[5]=l*d+a*p+u,e[6]=o*c+s*d+h,e[7]=l*d+a*c+u},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.batchManager.setObjectRenderer(t.plugins.batch),t.plugins.batch.render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),U.createFromVertexData(this._bounds,this._vertexData)):(this.calculateTrimmedVertices(),U.createFromVertexData(this._bounds,this._vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(e||(e=Q.temBounds),e.copy(this._localBoundsSelf),e):t.prototype.getLocalBounds.call(this,e)},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(i=t.prototype.hitTestPoint.call(this,e,r))?i:(i=this.displayObjectHitTestPoint(e,r))||null:null;var i},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._texture.removeEventListener("update",this._onTextureUpdate,this),this._anchorTexture=null,this._texture=null,this._indices=null,this._uvs=null,this._vertexData=null,this._vertexTrimmedData=null,this.tintedTexture&&(this.tintedTexture=null)},Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=Nt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=Nt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorTexture",{get:function(){return this._anchorTexture},set:function(t){this._anchorTexture.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture===Yt.EMPTY?null:this._texture},set:function(t){this._texture!==t&&(this._texture==Yt.EMPTY||null==this._texture||this._texture.baseTexture.hasLoaded||this._texture.removeEventListener("update",this._onTextureUpdate,this),this._texture=t||Yt.EMPTY,this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,t?t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this):this.updateLocalBoundsSelf())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16))},enumerable:!0,configurable:!0}),e.fromUrl=function(t){return new e(Yt.fromUrl(t))},e.fromFrame=function(t){var r=zt[t];return r||console.warn("TextureCache中不存在纹理frameId"),new e(r)},e}($),Qt=function(t){function e(e){var r=t.call(this,e)||this;return r.clientX=0,r.clientY=0,r.stageX=0,r.stageY=0,r.localX=0,r.localY=0,r.currentTarget=null,r.identifier=0,r._instanceType="MouseEvent",r}return R(e,t),e.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},e.prototype.destroy=function(){this.currentTarget=null,t.prototype.destroy.call(this)},e.MOUSE_DOWN="onMouseDown",e.MOUSE_UP="onMouseUp",e.CLICK="onMouseClick",e.MOUSE_MOVE="onMouseMove",e.MOUSE_OVER="onMouseOver",e.MOUSE_OUT="onMouseOut",e}(L),$t=function(){this.textures=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=M.TRIANGLES},te=function(){function t(t){this.renderer=t,this.renderer.addEventListener("onContextChange",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.flush=function(){},t.prototype.render=function(t){},t.prototype.destroy=function(){this.renderer.removeEventListener("onContextChange",this.onContextChange,this),this.renderer=null},t}();var ee=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function re(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var i=nt();i.width=1,i.height=1,e=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}(i)}for(var n=e.createShader(e.FRAGMENT_SHADER);;){var o=ee.replace(/%forloop%/gi,ie(t));if(e.shaderSource(n,o),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))break;t=t/2|0}return r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t}function ie(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}var ne=function(){function t(t){this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}(),oe=function(){function t(t,e,r,i,n){this.uploadData=function(t,e,r){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!ae){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");ae=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=i||t.RGBA,this.type=n||t.UNSIGNED_BYTE}return t.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,i=t.videoHeight||t.height;i!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=i},t.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},t.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},t.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},t.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},t.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},t.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},t.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},t.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},t.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},t.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},t.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},t.fromSource=function(e,r,i){var n=new t(e);return n.premultiplyAlpha=i||!1,n.upload(r),n},t.fromData=function(e,r,i,n){var o=new t(e);return o.uploadData(r,i,n),o},t}(),ae=!1,se=new ArrayBuffer(0),le=function(){function t(t,e,r,i){this.destroy=function(){this.gl.deleteBuffer(this.buffer)},this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=se,r&&this.upload(r),this._updateID=0}return t.prototype.upload=function(t,e,r){r||this.bind();var i=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?i.bufferSubData(this.type,e,t):i.bufferData(this.type,t,this.drawType),this.data=t},t.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},t.createVertexBuffer=function(e,r,i){return new t(e,e.ARRAY_BUFFER,r,i)},t.createIndexBuffer=function(e,r,i){return new t(e,e.ELEMENT_ARRAY_BUFFER,r,i)},t.create=function(e,r,i,n){return new t(e,r,i,n)},t}();var he=function(){function t(e,r){if(this.nativeVaoExtension=null,t.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=r,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var i=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(i),attribState:new Array(i)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}return t.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},t.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},t.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var i=this.attributes[r];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),i.attribute.pointer(i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return function(t,e,r){var i;if(r){var n=r.tempAttribState,o=r.attribState;for(i=0;i<n.length;i++)n[i]=!1;for(i=0;i<e.length;i++)n[e[i].attribute.location]=!0;for(i=0;i<o.length;i++)o[i]!==n[i]&&(o[i]=n[i],r.attribState[i]?t.enableVertexAttribArray(i):t.disableVertexAttribArray(i))}else for(i=0;i<e.length;i++){var a=e[i];t.enableVertexAttribArray(a.attribute.location)}}(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},t.prototype.addAttribute=function(t,e,r,i,n,o,a){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:i||!1,stride:n||0,start:o||0,name:a}),this.dirty=!0,this},t.prototype.removeAttribute=function(t,e){void 0===e&&(e=!0);for(var r=this.attributes.length-1;r>=0;r--){if(this.attributes[r].name===t&&(this.attributes.splice(r,1),this.dirty=!0,e))break}return this},t.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},t.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},t.prototype.draw=function(t,e,r){var i=this.gl;return this.indexBuffer?i.drawElements(t,e||this.indexBuffer.data.length,i.UNSIGNED_SHORT,2*(r||0)):i.drawArrays(t,r||0,e||this.getSize()),this},t.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},t.prototype.getSize=function(){var t=this.attributes[0];return(t.buffer.data.length||t.buffer.data.byteLength/4)/(t.stride/4||t.attribute.size)},t.FORCE_NATIVE=!1,t}(),ue=function(){function t(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100}return t.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new oe(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},t.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},t.prototype.clear=function(t,e,r,i){this.bind();var n=this.gl;n.clearColor(t,e,r,i),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},t.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},t.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},t.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},t.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},t.createRGBA=function(e,r,i,n){var o=oe.fromData(e,n||null,r,i);o.enableNearestScaling(),o.enableWrapClamp();var a=new t(e,r,i);return a.enableTexture(o),a.enableStencil(),a.unbind(),a},t.createFloat32=function(e,r,i,n){var o=oe.fromData(e,n,r,i);o.enableNearestScaling(),o.enableWrapClamp();var a=new t(e,r,i);return a.enableTexture(o),a.unbind(),a},t}();var ce=function(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(t.getShaderInfoLog(i),null)};function pe(t,e){if(!fe){var r=Object.keys(de);fe={};for(var i=0;i<r.length;++i){var n=r[i];fe[t[n]]=de[n]}}return fe[e]}var fe=null,de={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};function me(t){return ve[t]}var ve={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ye(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return ge(2*e);case"bvec3":return ge(3*e);case"bvec4":return ge(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}var ge=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};function _e(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}function be(t,e){var r={data:{}};r.gl=t;for(var i=Object.keys(e),n=0;n<i.length;n++){var o=i[n],a=o.split("."),s=a[a.length-1],l=Se(a,r),h=e[o];l.data[s]=h,l.gl=t,Object.defineProperty(l,s,{get:xe(s),set:Ee(s,h)})}return r}var xe=function(t){return function(){return this.data[t].value}},we={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},Te={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)}};function Ee(t,e){return function(r){this.data[t].value=r;var i=this.data[t].location;1===e.size?we[e.type](this.gl,i,r):Te[e.type](this.gl,i,r)}}function Se(t,e){for(var r=e,i=0;i<t.length-1;i++){var n=r[t[i]]||{data:{}};r[t[i]]=n,r=n}return r}var Me=function(){function t(t,e,r,i,n){this.gl=t,i&&(e=_e(e,i),r=_e(r,i)),this.program=function(t,e,r,i){var n=ce(t,t.VERTEX_SHADER,e),o=ce(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,n),t.attachShader(a,o),i)for(var s in i)t.bindAttribLocation(a,i[s],s);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(n),t.deleteShader(o),a}(t,e,r,n),this.attributes=function(t,e){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=0;n<i;n++){var o=t.getActiveAttrib(e,n),a=pe(t,o.type);r[o.name]={type:a,size:me(a),location:t.getAttribLocation(e,o.name),pointer:function(e,r,i,n){void 0===e&&(e=t.FLOAT),void 0===r&&(r=!1),void 0===i&&(i=0),void 0===n&&(n=0),t.vertexAttribPointer(this.location,this.size,e,r,i,n)}}}return r}(t,this.program),this.uniformData=function(t,e){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=t.getActiveUniform(e,n),a=o.name.replace(/\[.*?\]/,""),s=pe(t,o.type);r[a]={type:s,size:o.size,location:t.getUniformLocation(e,a),value:ye(s,o.size)}}return r}(t,this.program),this.uniforms=be(t,this.uniformData)}return t.prototype.bind=function(){return this.gl.useProgram(this.program),this},t.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t}(),Ae=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n");var Ce=0,Pe=function(t){function e(e){var r=t.call(this,e)||this;r.vertSize=6,r.vertByteSize=4*r.vertSize,r.size=8e3,r.currentSize=0,r.currentIndexSize=0,r.aBuffers={},r.iBuffers={},r.shader=null,r.currentIndex=0,r.groups=[];for(var i=0;i<r.size/4;i++)r.groups[i]=new $t;return r.elements=[],r.vertexBuffers=[],r.indexBuffers=[],r.vaos=[],r.vaoMax=2,r.vertexCount=0,r.renderer.addEventListener("onPreRender",r.onPreRender,r),r}return R(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),16),this.MAX_TEXTURES=re(this.MAX_TEXTURES,t),this.shader=function(t,e){var r=Ae;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var i=new Me(t,"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;attribute vec4 aColor;attribute float aTextureId;uniform mat3 projectionMatrix;varying vec2 vTextureCoord;varying vec4 vColor;varying float vTextureId;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vTextureId = aTextureId;vColor = aColor;}",r),n=[],o=0;o<e;o++)n[o]=o;return i.bind(),i.uniforms.uSamplers=n,i}(t,this.MAX_TEXTURES),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var i=this.vertexBuffers[r]=le.createVertexBuffer(t,null,t.STREAM_DRAW),n=this.indexBuffers[r]=le.createIndexBuffer(t,null,t.STREAM_DRAW),o=this.renderer.createVao().addIndex(n).addAttribute(i,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(i,e.aTextureCoord,t.FLOAT,!0,this.vertByteSize,8).addAttribute(i,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,16).addAttribute(i,e.aTextureId,t.FLOAT,!1,this.vertByteSize,20);this.vaos[r]=o}},e.prototype.onPreRender=function(){this.vertexCount=0},e.prototype.render=function(t){t._texture&&t._texture.valid&&(this.currentSize+t._vertexData.length/2>this.size&&this.flush(),this.elements[this.currentIndex++]=t,this.currentSize+=t._vertexData.length/2,this.currentIndexSize+=t._indices.length)},e.prototype.getIndexBuffer=function(t){var e=lt(Math.ceil(t/12)),r=st(e),i=12*e,n=this.iBuffers[r];return n||(this.iBuffers[r]=n=new Uint16Array(i)),n},e.prototype.getAttributeBuffer=function(t){var e=lt(Math.ceil(t/8)),r=(st(e),8*e),i=this.aBuffers[r];return i||(this.aBuffers[r]=i=new ne(r*this.vertByteSize)),i},e.prototype.flush=function(){if(0!==this.currentSize){var t,e,r,i=this.renderer.gl,n=this.MAX_TEXTURES,o=this.getAttributeBuffer(this.currentSize),a=this.getIndexBuffer(this.currentIndexSize),s=this.elements,l=this.groups,h=o.float32View,u=o.uint32View,c=this.renderer.textureGC.count,p=0,f=0,d=1,m=0,v=l[0],y=At[s[0]._texture.baseTexture.premultipliedAlpha?1:0][s[0]._blendMode];for(v.textureCount=0,v.start=0,Ce++,r=0;r<this.currentIndex;++r){var g=s[r];s[r]=null,t=g._texture.baseTexture;var _=At[t.premultipliedAlpha?1:0][g._blendMode];y!==_&&(y=_,e=null,m=n,Ce++),e!==t&&(e=t,t._enabledId!==Ce&&(m===n&&(Ce++,m=0,v.size=f-v.start,(v=l[d++]).textureCount=0,v.blend=y,v.start=f),t._touchedId=c,t._enabledId=Ce,t._id=m,v.textures[v.textureCount++]=t,m++)),this.packGeometry(g,h,u,a,p,f),p+=g._vertexData.length/2*this.vertSize,f+=g._indices.length}v.size=f-v.start,this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!0),this.indexBuffers[this.vertexCount].upload(a,0,!0);var b=this.renderer.textureManager;for(r=0;r<d;r++){for(var x=l[r],w=x.textureCount,T=0;T<w;T++)x.textures[T]!=b.boundTextures[T]&&b.bindTexture(x.textures[T],T,!0),x.textures[T]=null;this.renderer.setBlendMode(x.blend),i.drawElements(x.type,x.size,i.UNSIGNED_SHORT,2*x.start)}this.currentIndex=0,this.currentSize=0,this.currentIndexSize=0}},e.prototype.packGeometry=function(t,e,r,i,n,o){for(var a=n/this.vertSize,s=t._uvs,l=t._indices,h=t._vertexData,u=t._texture.baseTexture._id,c=null==t._tintRGB?16777215:t._tintRGB,p=Math.min(t._worldAlpha,1),f=p<1&&t._texture.baseTexture.premultipliedAlpha?function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n=n*e+.5|0)}(c,p):c+(255*p<<24),d=0;d<h.length;d+=2)e[n++]=h[d],e[n++]=h[d+1],e[n++]=s[d],e[n++]=s[d+1],r[n++]=f,e[n++]=u;for(d=0;d<l.length;d++)i[o++]=a+l[d]},e.prototype.start=function(){this.renderer.bindShader(this.shader),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind(),this.indexBuffers[this.vertexCount].bind()},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vaos[e]&&this.vaos[e].destroy();this.renderer.removeEventListener("onPreRender",this.onPreRender,this),this.shader&&(this.shader.destroy(),this.shader=null),this.vaos=null,t.prototype.destroy.call(this)},e}(te),ke=function(){function t(t,e,r,i,n){void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=A.LINEAR),void 0===n&&(n=!1),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new U(0,0,1,1),this.projectionMatrix=new j,this.transform=null,this.frame=null,this.defaultFrame=new U,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=i,this.root=n,this.root?(this.frameBuffer=new ue(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=ue.createRGBA(t,100,100),this.scaleMode===A.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(e,r)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width,0|this.destinationFrame.height)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width,0|this.destinationFrame.height)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t,e);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}(),Oe=function(){function t(t){this._nextTextureLocation=0,this.renderer=t,this.gl=t.gl,this._managedTextures=[],this.renderer.addEventListener("onContextChange",this.onContextChange,this)}return t.prototype.onContextChange=function(){var t=this.gl,e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=new Array(e),this.emptyTextures=new Array(e);var r=oe.fromData(t,null,1,1),i={_glTextures:{}};i._glTextures[this.renderer.CONTEXT_UID]={};for(var n=0;n<e;n++){var o=new Ht;o._glTextures[this.renderer.CONTEXT_UID]=r,this.boundTextures[n]=i,this.emptyTextures[n]=o,this.bindTexture(null,n)}},t.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t)._touchedId=this.renderer.textureGC.count,r)e=e||0;else{for(var i=0;i<this.boundTextures.length;i++)if(this.boundTextures[i]===t)return i;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var n=this.gl,o=t._glTextures[this.renderer.CONTEXT_UID];return o?(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.boundTextures[e]!==t&&n.bindTexture(n.TEXTURE_2D,o.texture),this.boundTextures[e]=t):this.updateTexture(t,e),e},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){t="Event"===t.instanceType?t.target.baseTexture||t.target:t.baseTexture||t;var r=this.gl,i=!!t._glRenderTargets;if(!t.hasLoaded)return null;var n=this.boundTextures;if(void 0===e){e=0;for(var o=0;o<n.length;++o)if(n[o]===t){e=o;break}}n[e]=t,this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e));var a=t._glTextures[this.renderer.CONTEXT_UID];if(a)i?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):t.source.data?a.uploadData(t.source.data,t.width,t.height):a.upload(t.source);else{if(i){var s=new ke(this.gl,t.width,t.height,t.scaleMode,!1);s.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=s,a=s.texture}else(a=new oe(this.gl,null,null,null,null)).premultiplyAlpha=!0,t.source.data?a.uploadData(t.source.data,t.width,t.height):a.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=a,t.addEventListener("update",this.updateTexture,this),t.addEventListener("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&a.enableMipmap(),t.wrapMode===C.CLAMP?a.enableWrapClamp():t.wrapMode===C.REPEAT?a.enableWrapRepeat():a.enableWrapMirrorRepeat()):a.enableWrapClamp(),t.scaleMode===A.NEAREST?a.enableNearestScaling():a.enableLinearScaling()}return a},t.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.renderer.CONTEXT_UID].texture))},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer.CONTEXT_UID,i=t._glTextures,n=t._glRenderTargets;if(i[r]&&(this.unbindTexture(t),i[r].destroy(),t.removeEventListener("update",this.updateTexture,this),t.removeEventListener("dispose",this.destroyTexture,this),delete i[r],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&function(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}(this._managedTextures,o,1)}n&&n[r]&&(n[r].destroy(),delete n[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0)}this.renderer.removeEventListener("onContextChange",this.onContextChange,this),this.renderer=null,this._managedTextures=null},t}(),Ie=function(){function t(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=3600,this.checkCountMax=600,this.mode=P.AUTO}return t.prototype.update=function(){this.count++,this.mode!==P.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n._glRenderTargets&&this.count-n._touchedId>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){var o=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[o++]=e[i]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}(),De=function(){function t(t){this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=function(t,e){return void 0===e&&(e=[]),e[S.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.ADD]=[t.ONE,t.DST_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.NONE]=[0,0],e[S.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[S.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e[S.SRC_OVER]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[S.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[S.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[S.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[S.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[S.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[S.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[S.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[S.ERASE]=[t.ZERO,t.ONE,t.SRC_ALPHA,0],e[S.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(t=1;t<this.maxAttribs;t++)this.gl.disableVertexAttribArray(t)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t.prototype.resetTo3D=function(){this.setDepthTest(1),this.setFrontFace(0),this.setCullFace(1)},t}(),Re=function(){function t(t){this.renderer=t,this.emptyRenderer=new te(t),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t}();function Fe(t){for(var e,r=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),i={},n=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<n.length;o++){var a=n[o].trim();if(a.indexOf("uniform")>-1){var s=a.split(" "),l=s[1],h=s[2],u=1;h.indexOf("[")>-1&&(e=h.split(/\[|]/),h=e[0],u*=Number(e[1])),h.match(r)||(i[h]={value:ye(l,u),name:h,type:l})}}return i}var Le={},Be=function(){function t(e,r,i){for(var n in this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=S.NORMAL,this.uniformData=i||function(t,e){var r=Fe(t),i=Fe(e);return Object.assign(r,i)}(this.vertexSrc,this.fragmentSrc),this.uniforms={},this.uniformData)this.uniforms[n]=this.uniformData[n].value,this.uniformData[n].type&&(this.uniformData[n].type=this.uniformData[n].type.toLowerCase());this.glShaders={},Le[this.vertexSrc+this.fragmentSrc]||(Le[this.vertexSrc+this.fragmentSrc]=Pt()),this.glShaderKey=Le[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=1,this.enabled=!0,this.autoFit=!0}return Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this._blendMode=t},enumerable:!0,configurable:!0}),t.prototype.apply=function(t,e,r,i){t.applyFilter(this,e,r,i)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")},enumerable:!0,configurable:!0}),t}(),Ne=["precision highp float;","varying vec2 v_rgbNW;","varying vec2 v_rgbNE;","varying vec2 v_rgbSW;","varying vec2 v_rgbSE;","varying vec2 v_rgbM;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform vec4 filterArea;","#ifndef FXAA_REDUCE_MIN","#define FXAA_REDUCE_MIN   (1.0/ 128.0)","#endif","#ifndef FXAA_REDUCE_MUL","#define FXAA_REDUCE_MUL   (1.0 / 8.0)","#endif","#ifndef FXAA_SPAN_MAX","#define FXAA_SPAN_MAX     8.0","#endif","vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,","vec2 v_rgbNW, vec2 v_rgbNE,","vec2 v_rgbSW, vec2 v_rgbSE,","vec2 v_rgbM) {","vec4 color;","mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);","vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;","vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;","vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;","vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;","vec4 texColor = texture2D(tex, v_rgbM);","vec3 rgbM  = texColor.xyz;","vec3 luma = vec3(0.299, 0.587, 0.114);","float lumaNW = dot(rgbNW, luma);","float lumaNE = dot(rgbNE, luma);","float lumaSW = dot(rgbSW, luma);","float lumaSE = dot(rgbSE, luma);","float lumaM  = dot(rgbM,  luma);","float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));","float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));","mediump vec2 dir;","dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));","dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));","float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *","(0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);","float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);","dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),","max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),","dir * rcpDirMin)) * inverseVP;","vec3 rgbA = 0.5 * (","texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +","texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);","vec3 rgbB = rgbA * 0.5 + 0.25 * (","texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +","texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);","float lumaB = dot(rgbB, luma);","if ((lumaB < lumaMin) || (lumaB > lumaMax))","color = vec4(rgbA, texColor.a);","else","color = vec4(rgbB, texColor.a);","return color;","}","void main() {","vec2 fragCoord = vTextureCoord * filterArea.xy;","vec4 color;","color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);","gl_FragColor = color;","}"].join("\n"),ze=(function(t){function e(){return t.call(this,"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;varying vec2 v_rgbNW;varying vec2 v_rgbNE;varying vec2 v_rgbSW;varying vec2 v_rgbSE;varying vec2 v_rgbM;uniform vec4 filterArea;varying vec2 vTextureCoord;vec2 mapCoord( vec2 coord ){coord *= filterArea.xy;coord += filterArea.zw;return coord;}vec2 unmapCoord( vec2 coord ){coord -= filterArea.zw;coord /= filterArea.xy;return coord;}void texcoords(vec2 fragCoord, vec2 resolution,out vec2 v_rgbNW, out vec2 v_rgbNE,out vec2 v_rgbSW, out vec2 v_rgbSE,out vec2 v_rgbM) {vec2 inverseVP = 1.0 / resolution.xy;v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;v_rgbM = vec2(fragCoord * inverseVP);}void main(void) {gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vec2 fragCoord = vTextureCoord * filterArea.xy;texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);}",Ne)||this}R(e,t)}(Be),"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;varying vec2 vTextureCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;}"),je=(function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var i=t.call(this,ze,"precision mediump float;varying vec2 vTextureCoord;varying vec4 vColor;uniform float uNoise;uniform float uSeed;uniform sampler2D uSampler;float rand(vec2 co){return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);}void main(){vec4 color = texture2D(uSampler, vTextureCoord);float randomValue = rand(gl_FragCoord.xy * uSeed);float diff = (randomValue - 0.5) * uNoise;if (color.a > 0.0) {color.rgb /= color.a;}color.r += diff;color.g += diff;color.b += diff;color.rgb *= color.a;gl_FragColor = color;}")||this;return i.noise=e,i.seed=r,i}R(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!0,configurable:!0})}(Be),function(t){function e(e,r){var i=this,n=new j;return e.renderable=!1,(i=t.call(this,"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;uniform mat3 filterMatrix;varying vec2 vTextureCoord;varying vec2 vFilterCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;vTextureCoord = aTextureCoord;}","precision mediump float;varying vec2 vFilterCoord;varying vec2 vTextureCoord;uniform vec2 scale;uniform sampler2D uSampler;uniform sampler2D mapSampler;uniform vec4 filterArea;uniform vec4 filterClamp;void main(void){vec4 map = texture2D(mapSampler, vFilterCoord);map -= 0.5;map.xy *= scale / filterArea.xy;gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));}")||this).maskSprite=e,i.maskMatrix=n,i.uniforms.mapSampler=e._texture,i.uniforms.filterMatrix=n,i.uniforms.scale={x:1,y:1},null==r&&(r=20),i.scale=new z(r,r),i}R(e,t),e.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!0,configurable:!0})}(Be),["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n"));function Ve(t,e){var r,i=Math.ceil(t/2),n=je,o="";r=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var s=r.replace("%index%",a);o+=s=s.replace("%sampleIndex%",a-(i-1)+".0"),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}var Ue={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},We=["precision mediump float;","varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function qe(t){for(var e,r=Ue[t],i=r.length,n=We,o="",a=0;a<t;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a+"");e=a,a>=i&&(e=t-a-1),o+=s=s.replace("%value%",r[e]),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}function He(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}var Ge=function(t){function e(e,r,i,n){var o=this,a=Ve(n=n||5,!0),s=qe(n);return(o=t.call(this,a,s)||this).resolution=i||1,o._quality=0,o.quality=r||4,o.strength=e||8,o.firstRun=!0,o}return R(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!0,configurable:!0}),e.prototype.apply=function(t,e,r,i){if(this.firstRun){var n=He(t.renderer.gl);this.vertexSrc=Ve(n,!0),this.fragmentSrc=qe(n),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{for(var o=t.getRenderTarget(!0),a=e,s=o,l=0;l<this.passes-1;l++){t.applyFilter(this,a,s,!0);var h=s;s=a,a=h}t.applyFilter(this,a,r,i),t.returnRenderTarget(o)}},e}(Be),Ye=function(t){function e(e,r,i,n){var o=this,a=Ve(n=n||5,!1),s=qe(n);return(o=t.call(this,a,s)||this).resolution=i||1,o._quality=0,o.quality=r||4,o.strength=e||8,o.firstRun=!0,o}return R(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!0,configurable:!0}),e.prototype.apply=function(t,e,r,i){if(this.firstRun){var n=He(t.renderer.gl);this.vertexSrc=Ve(n,!1),this.fragmentSrc=qe(n),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{for(var o=t.getRenderTarget(!0),a=e,s=o,l=0;l<this.passes-1;l++){t.applyFilter(this,a,s,!0);var h=s;s=a,a=h}t.applyFilter(this,a,r,i),t.returnRenderTarget(o)}},e}(Be),Xe=(function(t){function e(e,r,i,n){var o=t.call(this)||this;return o.blurXFilter=new Ge(e,r,i,n),o.blurYFilter=new Ye(e,r,i,n),o.padding=0,o.resolution=i||1,o.quality=r||4,o.blur=e||8,o}R(e,t),e.prototype.apply=function(t,e,r){var i=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,i,!0),this.blurYFilter.apply(t,i,r,!1),t.returnRenderTarget(i)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!0,configurable:!0})}(Be),function(t){function e(e){var r=t.call(this,ze,"precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform float m[20];uniform float uAlpha;void main(void){vec4 c = texture2D(uSampler, vTextureCoord);if (uAlpha == 0.0) {gl_FragColor = c;return;}if (c.a > 0.0) {c.rgb /= c.a;}vec4 result;result.r = (m[0] * c.r);result.r += (m[1] * c.g);result.r += (m[2] * c.b);result.r += (m[3] * c.a);result.r += m[4];result.g = (m[5] * c.r);result.g += (m[6] * c.g);result.g += (m[7] * c.b);result.g += (m[8] * c.a);result.g += m[9];result.b = (m[10] * c.r);result.b += (m[11] * c.g);result.b += (m[12] * c.b);result.b += (m[13] * c.a);result.b += m[14];result.a = (m[15] * c.r);result.a += (m[16] * c.g);result.a += (m[17] * c.b);result.a += (m[18] * c.a);result.a += m[19];vec3 rgb = mix(c.rgb, result.rgb, uAlpha);rgb *= result.a;gl_FragColor = vec4(rgb, result.a);}")||this;return r.uniforms.m=e||[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return R(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),a=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,a=(r>>8&255)/255,s=(255&r)/255,l=((i=i||3375104)>>16&255)/255,h=(i>>8&255)/255,u=(255&i)/255,c=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,l,h,u,e=e||.15,0,o-l,a-h,s-u,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!0,configurable:!0}),e}(Be));Xe.prototype.grayscale=Xe.prototype.greyscale;!function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,ze,"precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform float uAlpha;void main(void){gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;}")||this;return r.alpha=e,r.glShaderKey="alpha",r}R(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!0,configurable:!0})}(Be);var Ke=new j,Ze=function(){function t(t,e){void 0===e&&(e=.5),this._texture=t,this.mapCoord=new j,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=e}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1},enumerable:!0,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(Ke.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Ke));var o=e.baseTexture,a=this.uClampFrame,s=this.clampMargin,l=this.clampOffset;return a[0]=(e._frame.x+s+l)/o.width,a[1]=(e._frame.y+s+l)/o.height,a[2]=(e._frame.x+e._frame.width-s+l)/o.width,a[3]=(e._frame.y+e._frame.height-s+l)/o.height,this.uClampOffset[0]=l/o.width,this.uClampOffset[1]=l/o.height,!0},t}(),Je=function(t){function e(e){var r=this,i=new j;return r=t.call(this,"attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;uniform mat3 otherMatrix;varying vec2 vMaskCoord;varying vec2 vTextureCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;}","precision mediump float;varying vec2 vMaskCoord;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform sampler2D mask;uniform float alpha;uniform vec4 maskClamp;void main(void){float clip = step(3.5,step(maskClamp.x, vMaskCoord.x) +step(maskClamp.y, vMaskCoord.y) +step(vMaskCoord.x, maskClamp.z) +step(vMaskCoord.y, maskClamp.w));vec4 original = texture2D(uSampler, vTextureCoord);vec4 masky = texture2D(mask, vMaskCoord);original *= (masky.a * alpha * clip);gl_FragColor = original;}")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=i,r}return R(e,t),e.prototype.apply=function(t,e,r){var i=this.maskSprite,n=this.maskSprite.texture;n&&n.valid&&(n.transform||(n.transform=new Ze(n,0)),n.transform.update(),this.uniforms.mask=n,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(n.transform.mapCoord),this.uniforms.alpha=i._worldAlpha,this.uniforms.maskClamp=n.transform.uClampFrame,t.applyFilter(this,e,r))},e}(Be),Qe=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","const float resolution=1024.0;","uniform float radius;","uniform vec2 dir;","void main() {","vec4 sum = vec4(0.0);","vec2 tc = vTextureCoord;","float blur = radius/resolution;","float hstep = dir.x;","float vstep = dir.y;","sum += texture2D(uSampler, vec2(tc.x - 4.0*blur*hstep, tc.y - 4.0*blur*vstep)) * 0.0162162162;","sum += texture2D(uSampler, vec2(tc.x - 3.0*blur*hstep, tc.y - 3.0*blur*vstep)) * 0.0540540541;","sum += texture2D(uSampler, vec2(tc.x - 2.0*blur*hstep, tc.y - 2.0*blur*vstep)) * 0.1216216216;","sum += texture2D(uSampler, vec2(tc.x - 1.0*blur*hstep, tc.y - 1.0*blur*vstep)) * 0.1945945946;","sum += texture2D(uSampler, vec2(tc.x, tc.y)) * 0.2270270270;","sum += texture2D(uSampler, vec2(tc.x + 1.0*blur*hstep, tc.y + 1.0*blur*vstep)) * 0.1945945946;","sum += texture2D(uSampler, vec2(tc.x + 2.0*blur*hstep, tc.y + 2.0*blur*vstep)) * 0.1216216216;","sum += texture2D(uSampler, vec2(tc.x + 3.0*blur*hstep, tc.y + 3.0*blur*vstep)) * 0.0540540541;","sum += texture2D(uSampler, vec2(tc.x + 4.0*blur*hstep, tc.y + 4.0*blur*vstep)) * 0.0162162162;","vec4 cc= texture2D(uSampler,vTextureCoord );","gl_FragColor =vec4(sum.rgb, cc.a);","}"].join("\n"),$e=(function(t){function e(e){void 0===e&&(e=.5);var r=t.call(this,ze,Qe)||this;return r.blur=e,r.uniforms.dir=[1,1],r}R(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur!==t&&(t>1&&(t=1),t<0&&(t=0),this._blur=t,this.uniforms.radius=10*t)},enumerable:!0,configurable:!0})}(Be),["precision mediump float;","uniform sampler2D uSampler;","varying vec2 vTextureCoord;","uniform float threshold;","void main() {","vec4 color = texture2D(uSampler, vTextureCoord);","float _max = max(max(color.r, color.g), color.b);","float _min = min(min(color.r, color.g), color.b);","float brightness = (_max + _min) * 0.5;","if(brightness > threshold) {","gl_FragColor = color;","} else {","gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);","}","}"].join("\n")),tr=function(t){function e(e){void 0===e&&(e=.5);var r=t.call(this,ze,$e)||this;return r.threshold=e,r}return R(e,t),Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(t){this.uniforms.threshold=t},enumerable:!0,configurable:!0}),e}(Be),er=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform vec2 uOffset;","uniform vec4 filterClamp;","void main(void)","{","vec4 color = vec4(0.0);","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));","color *= 0.25;","gl_FragColor = color;","}"].join("\n"),rr=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform vec2 uOffset;","void main(void)","{","vec4 color = vec4(0.0);","color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));","color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));","color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));","color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));","color *= 0.25;","gl_FragColor = color;","}"].join("\n"),ir=function(t){function e(e,r,i){void 0===e&&(e=4),void 0===r&&(r=3),void 0===i&&(i=!1);var n=t.call(this,ze,i?er:rr)||this;return n.uniforms.uOffset=new Float32Array(2),n._pixelSize=new z,n.pixelSize=1,n._clamp=i,n._kernels=null,Array.isArray(e)?n.kernels=e:(n._blur=e,n.quality=r),n}return R(e,t),e.prototype.apply=function(t,e,r,i){var n,o=this.pixelSize.x/e.size.width,a=this.pixelSize.y/e.size.height;if(1===this._quality||0===this._blur)n=this._kernels[0]+.5,this.uniforms.uOffset[0]=n*o,this.uniforms.uOffset[1]=n*a,t.applyFilter(this,e,r,i);else{for(var s=t.getRenderTarget(),l=e,h=s,u=void 0,c=this._quality-1,p=0;p<c;p++)n=this._kernels[p]+.5,this.uniforms.uOffset[0]=n*o,this.uniforms.uOffset[1]=n*a,t.applyFilter(this,l,h,!0),u=l,l=h,h=u;n=this._kernels[c]+.5,this.uniforms.uOffset[0]=n*o,this.uniforms.uOffset[1]=n*a,t.applyFilter(this,l,r,i),t.returnRenderTarget(s)}},e.prototype._generateKernels=function(){var t=this._blur,e=this._quality,r=[t];if(t>0)for(var i=t,n=t/e,o=1;o<e;o++)i-=n,r.push(i);this._kernels=r},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(t){Array.isArray(t)&&t.length>0?(this._kernels=t,this._quality=t.length,this._blur=Math.max.apply(Math,t)):(this._kernels=[0],this._quality=1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(t){"number"==typeof t?(this._pixelSize.x=t,this._pixelSize.y=t):Array.isArray(t)?(this._pixelSize.x=t[0],this._pixelSize.y=t[1]):t instanceof z?(this._pixelSize.x=t.x,this._pixelSize.y=t.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=Math.max(1,Math.round(t)),this._generateKernels()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur=t,this._generateKernels()},enumerable:!0,configurable:!0}),e}(Be),nr=["precision mediump float;","uniform sampler2D uSampler;","varying vec2 vTextureCoord;","uniform sampler2D bloomTexture;","uniform float bloomScale;","uniform float brightness;","void main() {","vec4 color = texture2D(uSampler, vTextureCoord);","color.rgb *= brightness;","vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);","bloomColor.rgb *= bloomScale;","gl_FragColor = color + bloomColor;","}"].join("\n"),or=(function(t){function e(e){var r=t.call(this,ze,nr)||this;"number"==typeof e&&(e={threshold:e}),e=Object.assign({threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:1},e),r.bloomScale=e.bloomScale,r.brightness=e.brightness;var i=e.kernels,n=e.blur,o=e.quality,a=e.pixelSize,s=e.resolution;return r._extractFilter=new tr(e.threshold),r._extractFilter.resolution=s,r._blurFilter=i?new ir(i):new ir(n,o),r.pixelSize=a,r.resolution=s,r}R(e,t),e.prototype.apply=function(t,e,r,i){var n=t.getRenderTarget();this._extractFilter.apply(t,e,n,!0);var o=t.getRenderTarget();this._blurFilter.apply(t,n,o,!0),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=o,t.applyFilter(this,e,r,i),t.returnRenderTarget(o),t.returnRenderTarget(n)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t,this._extractFilter&&(this._extractFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(t){this._extractFilter.threshold=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(t){this._blurFilter.kernels=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(t){this._blurFilter.blur=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(t){this._blurFilter.quality=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(t){this._blurFilter.pixelSize=t},enumerable:!0,configurable:!0})}(Be),function(){function t(t){this.renderer=t,this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!0,this.alphaMaskPool=[],this.alphaMaskIndex=0}return t.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(e)},t.prototype.popMask=function(t,e){e.texture?this.popSpriteMask():this.popStencilMask()},t.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new Je(e)]),r[0].resolution=1,r[0].maskSprite=e;var i=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),t.filterArea=i,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(t){this.renderer.batchManager.flush(),this.renderer.stencilManager.pushStencil(t)},t.prototype.popStencilMask=function(){this.renderer.stencilManager.popStencil()},t.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,i=e.getBounds();i.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(i.x,r.root?r.size.height-i.y-i.height:i.y,i.width,i.height),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},t.prototype.destroy=function(){this.renderer=null},t}()),ar=function(){function t(t){this.renderer=t,this.stencilMaskStack=null}return t.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},t.prototype.pushStencil=function(t){this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),t.renderable=!0;var i=t._worldAlpha;t._worldAlpha=1,t.renderWebGL(this.renderer),this.renderer.batchManager.flush(),t.renderable=!1,t._worldAlpha=i,this._useCurrent()},t.prototype.popStencil=function(){var t=this.renderer.gl,e=this.stencilMaskStack.pop();if(0===this.stencilMaskStack.length)t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0);else{t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0;var r=e._worldAlpha;e._worldAlpha=1,e.renderWebGL(this.renderer),this.renderer.batchManager.flush(),e.renderable=!1,e._worldAlpha=r,this._useCurrent()}},t.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},t.prototype.destroy=function(){this.renderer=null,this.stencilMaskStack=null},t}();var sr=function(){function t(t,e){this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var r=0;r<4;r++)this.interleaved[4*r]=this.vertices[2*r],this.interleaved[4*r+1]=this.vertices[2*r+1],this.interleaved[4*r+2]=this.uvs[2*r],this.interleaved[4*r+3]=this.uvs[2*r+1];this.indices=function(t){for(var e=6*t,r=new Uint16Array(e),i=0,n=0;i<e;i+=6,n+=4)r[i+0]=n+0,r[i+1]=n+1,r[i+2]=n+2,r[i+3]=n+0,r[i+4]=n+2,r[i+5]=n+3;return r}(1),this.vertexBuffer=le.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=le.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new he(t,e)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer),this.gl=null,this.vertices=null,this.uvs=null,this.interleaved=null,this.indices=null,this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.vao.destroy()},t}();var lr=function(){function t(){this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new U,this.destinationFrame=new U,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),hr=function(){function t(t){this.renderer=t,this.gl=this.renderer.gl,this.quad=new sr(this.gl,t.state.attribState),this.shaderCache={},this.pool={},this.filterData=null,this.managedFilters=[],this.renderer.addEventListener("onPreRender",this.onPreRender,this),this._screenWidth=t.width,this._screenHeight=t.height}return t.prototype.pushFilter=function(t,e){var r=this.renderer,i=this.filterData;if(!i){var n=new lr;n.sourceFrame=n.destinationFrame=this.renderer._activeRenderTarget.size,n.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=i={index:0,stack:[n]},this.filterData=i}var o=i.stack[++i.index],a=i.stack[0].destinationFrame;o||(o=i.stack[i.index]=new lr);var s=e[0].resolution,l=0|e[0].padding,h=t.filterArea||t.getBounds(!0),u=o.sourceFrame,c=o.destinationFrame;u.x=(h.x*s|0)/s,u.y=(h.y*s|0)/s,u.width=(h.width*s|0)/s,u.height=(h.height*s|0)/s,i.stack[0].renderTarget.transform||e[0].autoFit&&u.fit(a),u.pad(l),c.width=u.width,c.height=u.height;var p=this.getPotRenderTarget(r.gl,u.width,u.height,s);o.target=t,o.filters=e,o.resolution=s,o.renderTarget=p,p.setFrame(c,u),r.bindRenderTarget(p),p.clear()},t.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var i=r.filters;if(1===i.length)i[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var n=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var a=0;for(a=0;a<i.length-1;++a){i[a].apply(this,n,o,!0,r);var s=n;n=o,o=s}i[a].apply(this,n,e.renderTarget,!1,r),this.freePotRenderTarget(n),this.freePotRenderTarget(o)}r.clear(),t.index--,0===t.index&&(this.filterData=null)},t.prototype.applyFilter=function(t,e,r,i){var n=this.renderer,o=n.gl,a=t.glShaders[n.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey])||(a=new Me(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[n.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a,this.managedFilters.push(t)):(a=t.glShaders[n.CONTEXT_UID]=new Me(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),n.bindVao(null),this.quad.initVao(a)),n.bindVao(this.quad.vao),n.bindRenderTarget(r),i&&(o.disable(o.SCISSOR_TEST),n.clear(),o.enable(o.SCISSOR_TEST)),r===n.maskManager.scissorRenderTarget&&n.maskManager.pushScissorMask(null,n.maskManager.scissorData),n.bindShader(a);var s=this.renderer.textureManager.emptyTextures[0];this.renderer.textureManager.boundTextures[0]=s,this.syncUniforms(a,t),n.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture),this.renderer.textureManager.currentLocation=-1},t.prototype.syncUniforms=function(t,e){var r,i=e.uniformData,n=e.uniforms,o=1;if(t.uniforms.filterArea){r=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=r.renderTarget.size.width,a[1]=r.renderTarget.size.height,a[2]=r.sourceFrame.x,a[3]=r.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){r=r||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(r.sourceFrame.width-1)/r.renderTarget.size.width,s[3]=(r.sourceFrame.height-1)/r.renderTarget.size.height,t.uniforms.filterClamp=s}for(var l in i){var h=i[l].type;if("sampler2d"===h&&0!==n[l]){if(n[l].baseTexture)t.uniforms[l]=this.renderer.textureManager.bindTexture(n[l].baseTexture,o);else{t.uniforms[l]=o;var u=this.renderer.gl;this.renderer.textureManager.boundTextures[o]=this.renderer.textureManager.emptyTextures[o],u.activeTexture(u.TEXTURE0+o),n[l].texture.bind()}o++}else if("mat3"===h)void 0!==n[l].a?t.uniforms[l]=n[l].toArray(!0):t.uniforms[l]=n[l];else if("vec2"===h)if(void 0!==n[l].x){var c=t.uniforms[l]||new Float32Array(2);c[0]=n[l].x,c[1]=n[l].y,t.uniforms[l]=c}else t.uniforms[l]=n[l];else"float"===h?t.uniforms.data[l].value!==i[l]&&(t.uniforms[l]=n[l]):t.uniforms[l]=n[l]}},t.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],i=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return i.setFrame(r.destinationFrame,r.sourceFrame),i},t.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},t.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return function(t,e,r){var i=t.identity();return i.translate(e.x/r.width,e.y/r.height),i.scale(r.width,r.height),i}(t,e.sourceFrame,e.renderTarget.size)},t.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return function(t,e,r){var i=t.identity();i.translate(e.x/r.width,e.y/r.height);var n=r.width/e.width,o=r.height/e.height;return i.scale(n,o),i}(t,e.sourceFrame,e.renderTarget.size)},t.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return function(t,e,r,i){var n=i._texture.orig,o=t.set(r.width,0,0,r.height,e.x,e.y),a=j.TEMP_MATRIX.copy(i.worldMatrix);return a.invert(),o.prepend(a),o.scale(1/n.width,1/n.height),o.translate(i.anchorTexture.x,i.anchorTexture.y),o}(t,r.sourceFrame,r.renderTarget.size,e)},t.prototype.destroy=function(t){void 0===t&&(t=!1);var e=this.renderer,r=this.managedFilters;e.removeEventListener("onPreRender",this.onPreRender,this),this.renderer=null;for(var i=0;i<r.length;i++)t||r[i].glShaders[e.CONTEXT_UID].destroy(),delete r[i].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},t.prototype.getPotRenderTarget=function(t,e,r,i){var n="screen";r*=i,(e*=i)===this._screenWidth&&r===this._screenHeight||(n=(65535&(e=lt(e)))<<16|65535&(r=lt(r))),this.pool[n]||(this.pool[n]=[]);var o=this.pool[n].pop();if(!o){var a=this.renderer.textureManager.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new ke(t,e,r,void 0),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture),this.renderer.textureManager.currentLocation=-1}return o.resolution=i,o.defaultFrame.width=o.size.width=e/i,o.defaultFrame.height=o.size.height=r/i,o.filterPoolKey=n,o},t.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},t.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},t.prototype.onPreRender=function(){if(this._screenWidth!==this.renderer.width||this._screenHeight!==this.renderer.height){this._screenWidth=this.renderer.width,this._screenHeight=this.renderer.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},t}(),ur=0,cr=function(t){function e(r,i,n){var o=t.call(this)||this;return o.plugins={},o._instanceType="WebglRenderer",o.type=m.WEBGL,o._backgroundColorRgba[3]=o.transparent?0:1,o.gl=r,o.CONTEXT_UID=ur++,o.maskManager=new or(o),o.stencilManager=new ar(o),o.batchManager=new Re(o),o.textureManager=null,o.initPlugins(e.__plugins),o.state=new De(o.gl),o.renderingToScreen=!0,o._activeShader=null,o._activeVao=null,o._activeRenderTarget=null,o._initContext(),o.resize(i,n),o}return R(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext(),this._activeShader=null,this._activeVao=null,this.textureManager=new Oe(this),this.filterManager=new hr(this),this.textureGC=new Ie(this),this.state.resetToDefault(),this.rootRenderTarget=new ke(t,1,1,A.LINEAR,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget),this.dispatchEvent("onContextChange")},e.prototype.render=function(t,e,r){if(this.dispatchEvent("onPreRender"),this.renderingToScreen=!e,this.gl&&!this.gl.isContextLost()){e||(this._lastObjectRendered=t),t.update();var i=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=i,this.bindRenderTexture(e,r),this.batchManager.currentRenderer.start(),this._activeRenderTarget.clear(),t.renderWebGL(this),this.batchManager.currentRenderer.flush(),this.dispatchEvent("onPostRender")}},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},e.prototype.bindShader=function(t,e){return void 0===e&&(e=!0),this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.createVao=function(){return new he(this.gl,this.state.attribState)},e.prototype.bindVao=function(t,e){return void 0===e&&(e=!1),this._activeVao===t?(e&&t.bind(),this):(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.batchManager.reset(),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.textureManager.boundTextures.length;t++)this.textureManager.boundTextures[t]=this.textureManager.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.bindRenderTexture=function(t,e){var r;if(t){var i=t.baseTexture;i._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(i,0),this.textureManager.unbindTexture(i),(r=i._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.rootRenderTarget.resize(e,r),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.destroy=function(){this.destroyPlugins(),this.textureManager.destroy(),t.prototype.destroy.call(this),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.handleContextLost=null,this.handleContextRestored=null},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext(),this.resize(this.width,this.height)},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},e.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(vt);cr.registerPlugin("batch",Pe);var pr=function(t){function e(r,i,n,o,a,s,l,h,u){void 0===i&&(i=750),void 0===n&&(n=1624),void 0===s&&(s=m.CANVAS),void 0===l&&(l=!1),void 0===h&&(h=!1);var c=t.call(this)||this;c.renderObj=null,c.viewRect=new U,c.desWidth=0,c.desHeight=0,c.divHeight=0,c.divWidth=0,c._bgColor=0,c._lastDpList={},c.canvasOffsetTb={x:0,y:0},c._ml=[],c._mp=[],c._mouseDownPoint={},c._mouseEventTypes={mousedown:"onMouseDown",mousemove:"onMouseMove",mouseup:"onMouseUp",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp",touchStart:"onMouseDown",touchMove:"onMouseMove",touchEnd:"onMouseUp"},c.canvas=r;var p=c;if(c._instanceType="Stage",e._stageList.canvas=p,p.stage=c,p.name="stageInstance_"+p.instanceId,p.desWidth=i,p.desHeight=n,p.divWidth=o,p.divHeight=a,u){p._dpi=u;var f=o*u,d=a*u;"tb"==it()&&(f+=u,d+=u),r.width=f,r.height=d}else console.warn("尝试设置分辨率，内部会根据分辨率设置画布的实际尺寸"),p._dpi=r.width/o;if(s!=m.WEBGL||function(){if("tb"==it())return!0;if(void 0!==Vt)return Vt;var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=nt(),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,Vt=i}catch(t){return Vt=!1}}()||(s=m.CANVAS,console.warn("不支持webgl")),s==m.CANVAS){var v=r.getContext("2d");p.renderObj=new _t(v,r.width,r.height)}else{var y={alpha:!0,antialias:!1,premultipliedAlpha:!0,stencil:!0};v=r.getContext("webgl",y)||r.getContext("experimental-webgl",y);p.renderObj=new cr(v,r.width,r.height),"web"==it()&&(r.addEventListener("webglcontextlost",p.renderObj.handleContextLost.bind(p.renderObj),!1),r.addEventListener("webglcontextrestored",p.renderObj.handleContextRestored.bind(p.renderObj),!1))}return p._stageCenter=l,p._scaleMode=h?"fixedHeight":"fixedWidth",p._setAlign(),setTimeout((function(){p.dispatchEvent(L.INIT_STAGE)}),100),c}return R(e,t),e.getStage=function(t){return void 0===t&&(t="cusEngine"),e._stageList[t]},Object.defineProperty(e.prototype,"bgColor",{get:function(){return this._bgColor},set:function(t){this._bgColor!==t&&(this._bgColor=t,this.renderObj.backgroundColor=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stageWidth",{get:function(){return this.viewRect.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stageHeight",{get:function(){return this.viewRect.height},enumerable:!0,configurable:!0}),e.prototype._setAlign=function(){var t=this,e=t.canvas;t._stageCenter&&(t.anchorX=t.desWidth>>1,t.anchorY=t.desHeight>>1,t.x=e.width-t.desWidth>>1,t.y=e.height-t.desHeight>>1);var r="fixedHeight"==t._scaleMode?e.height/t.desHeight:e.width/t.desWidth;t.scaleX=r,t.scaleY=r,t.viewRect=t.viewRect||new U,t.viewRect.x=t.desWidth-e.width/r>>1,t.viewRect.y=t.desHeight-e.height/r>>1,t.viewRect.width=t.desWidth-2*t.viewRect.x,t.viewRect.height=t.desHeight-2*t.viewRect.y,t._stageCenter||(t.viewRect.x=t.viewRect.y=0)},e.prototype.resize=function(t,e){if("web"==it()&&(t=t||document.body.clientWidth,e=e||document.body.clientHeight),t&&t){var r=this,i=r._dpi,n=r.canvas;t==r.divWidth&&e==r.divHeight||(t!=r.divWidth&&(n.width=t*i),e!=r.divHeight&&(n.height=e*i),r.divWidth=t,r.divHeight=e,r._setAlign(),r.renderObj.resize(n.width,n.height),r.dispatchEvent(L.RESIZE))}else console.error("传入的显示尺寸不能为空")},e.prototype._initMouseEvent=function(t,e,r,i){t._pd=!1,t.clientX=e.x,t.clientY=e.y,t.stageX=r.x,t.stageY=r.y,t.identifier=i},e.prototype.flush=function(){this.renderObj.render(this)},e.prototype.onMouseEvent=function(t){"web"==it()&&(this.webMouseEventPreventDefault&&t.preventDefault(),this.webMouseEventStopPropagation&&t.stopPropagation());var e=this;if(B._totalMEC>0){var r=void 0,i=e._mouseEventTypes[t.type],n=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0;"pc"==h?(t.identifier=0,r=[t]):r=[t.changedTouches[0]];var p=e.canvasOffsetTb,f=p.x,d=p.y;if("web"==it()){var m=document.documentElement,v=e.canvas.getBoundingClientRect();f=v.left+window.pageXOffset-m.clientLeft,d=v.top+window.pageYOffset-m.clientTop}for(var y=0;y<r.length;y++)if(r[y]&&(u=0,n=[],c="m"+r[y].identifier,(l=e._mp.length>0?e._mp.shift():new z).x=((r[y].pageX||r[y].x||r[y].b)-f)*e._dpi,l.y=((r[y].pageY||r[y].y||r[y].c)-d)*e._dpi,a=e.globalToLocal(l,Q._bp),B.getMouseEventCount()>0&&(e._ml[u]?(o=e._ml[u]).type=i:(o=new Qt(i),e._ml[u]=o),n[n.length]=o,e._initMouseEvent(o,l,a,c),u++),"onMouseDown"==i?e._mouseDownPoint[c]=l:"onMouseUp"==i&&e._mouseDownPoint[c]&&z.distance(e._mouseDownPoint[c],l)<20&&B.getMouseEventCount("onMouseClick")>0&&(e._ml[u]?(o=e._ml[u]).type="onMouseClick":(o=new Qt("onMouseClick"),e._ml[u]=o),n[n.length]=o,e._initMouseEvent(o,l,a,c),u++),u>0)){var g=e.hitTestPoint(l,!0),_=[];if(g)for(;g;)!1===g.mouseChildren&&(_.length=0),_[_.length]=g,g=g.parent;else _[_.length]=e;for(var b=_.length,x=b-1;x>=0;x--){g=_[x];for(var w=0;w<u;w++)n[w]._pd||g.hasEventListener(n[w].type)&&g.mouseEnable&&(n[w].target=g,n[w].currentTarget=_[0],s=g.globalToLocal(l,Q._bp),n[w].localX=s.x,n[w].localY=s.y,g.dispatchEvent(n[w]))}_.reverse();for(x=b-1;x>=0;x--){g=_[x];for(w=0;w<u;w++)n[w]._pd||g.hasEventListener(n[w].type,!1)&&g.mouseEnable&&(n[w].target=g,n[w].currentTarget=_[u-1],s=g.globalToLocal(l,Q._bp),n[w].localX=s.x,n[w].localY=s.y,g.dispatchEvent(n[w],null,!1))}if("onMouseDown"!=i){if((B.getMouseEventCount("onMouseOver")>0||B.getMouseEventCount("onMouseOut")>0)&&e._lastDpList[c]){var T=e._lastDpList[c].length,E=_.length;b=T>E?T:E;var S=!1,M=void 0,A=void 0;for(x=1;x<b;x++)S||e._lastDpList[c][x]!=_[x]&&(S=!0,e._ml[u]?(M=e._ml[u]).type="onMouseOver":(M=new Qt("onMouseOver"),e._ml[u]=M),e._initMouseEvent(M,l,a,c),u++,e._ml[u]?(A=e._ml[u]).type="onMouseOut":(A=new Qt("onMouseOut"),e._ml[u]=A),e._initMouseEvent(A,l,a,c)),S&&(e._lastDpList[c][x]&&(A._pd||(g=e._lastDpList[c][x]).hasEventListener("onMouseOut")&&(A.currentTarget=e._lastDpList[c][T-1],A.target=g,s=g.globalToLocal(l,Q._bp),A.localX=s.x,A.localY=s.y,g.dispatchEvent(A))),_[x]&&(M._pd||(g=_[x]).hasEventListener("onMouseOver")&&(M.currentTarget=_[E-1],M.target=g,s=g.globalToLocal(l,Q._bp),M.localX=s.x,M.localY=s.y,g.dispatchEvent(M))))}e._mp[e._mp.length]=l}"onMouseUp"==i?(delete e._mouseDownPoint[c],delete e._lastDpList[c]):e._lastDpList[c]=_}}},e.prototype.addWebMouseEvent=function(){if("web"===it()){var t=this.canvas,e=this.onMouseEvent.bind(this);"pc"==h?(t.addEventListener("mousedown",e,!1),t.addEventListener("mousemove",e,!1),t.addEventListener("mouseup",e,!1)):(t.addEventListener("touchstart",e,!1),t.addEventListener("touchmove",e,!1),t.addEventListener("touchend",e,!1))}},e.prototype.getBounds=function(){return this.viewRect},e.prototype.destroy=function(){var e=this;e.renderObj.destroy(),e.renderObj=null,e.viewRect=null,e._lastDpList=null,e._ml=null,t.prototype.destroy.call(this)},e._stageList={},e}($),fr=(new B,function(t){function e(e,r,i,n){void 0===r&&(r=null),void 0===i&&(i=null),void 0===n&&(n=null);var o=t.call(this)||this;return o._instanceType="GraphicsData",o.shape=e,o.lineStyle=i,o.fillStyle=r,o.matrix=n,o.holes=[],o.type=e.type,o.points=[],o}return R(e,t),e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(F)),dr=function(t){function e(e,r,i){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=A.LINEAR);var n=t.call(this,null,i)||this;return n.width=Math.ceil(e),n.height=Math.ceil(r),n.scaleMode=i,n.hasLoaded=!0,n._glRenderTargets={},n._canvasRenderTarget=null,n.valid=!1,n}return R(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.valid&&this.dispatchEvent("update"))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(Ht),mr=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.valid=!0,i.updateUvs(),i}return R(e,t),e.prototype.resize=function(t,e,r){void 0===r&&(r=!1),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this.updateUvs()},e.create=function(t,r,i){return void 0===i&&(i=A.LINEAR),new e(new dr(t,r,i))},e}(Yt),vr=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=v.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.isPointIn=function(t){if(this.radius<=0)return!1;var e=this.radius*this.radius,r=this.x-t.x,i=this.y-t.y;return(r*=r)+(i*=i)<=e},t.prototype.getBounds=function(){return new U(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),yr=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=v.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.isPointIn=function(t){if(this.width<=0||this.height<=0)return!1;var e=(t.x-this.x)/this.width,r=(t.y-this.y)/this.height;return(e*=e)+(r*=r)<=1},t.prototype.getBounds=function(){return new U(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),gr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(Array.isArray(t[0])&&(t=t[0]),t[0]instanceof z){for(var r=[],i=0,n=t.length;i<n;i++)r.push(t[i].x,t[i].y);t=r}this.closed=!0,this.points=t,this.type=v.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.isPointIn=function(t){for(var e=t.x,r=t.y,i=!1,n=this.points.length/2,o=0,a=n-1;o<n;a=o++){var s=this.points[2*o],l=this.points[2*o+1],h=this.points[2*a],u=this.points[2*a+1];l>r!=u>r&&e<(r-l)/(u-l)*(h-s)+s&&(i=!i)}return i},t}(),_r=function(){function t(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i;var o=(r<i?r:i)/2;n=(n=n<0?-n:n)>o?o:n,this.radius=n,this.type=v.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.isPointIn=function(t){var e=t.x,r=t.y;if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){if(r>=this.y+this.radius&&r<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var i=e-(this.x+this.radius),n=r-(this.y+this.radius),o=this.radius*this.radius;if(i*i+n*n<=o)return!0;if((i=e-(this.x+this.width-this.radius))*i+n*n<=o)return!0;if(i*i+(n=r-(this.y+this.height-this.radius))*n<=o)return!0;if((i=e-(this.x+this.radius))*i+n*n<=o)return!0}return!1},t}();function br(t,e,r){r=r||2;var i,n,o,a,s,l,h,u=e&&e.length,c=u?e[0]*r:t.length,p=xr(t,0,c,r,!0),f=[];if(!p||p.next===p.prev)return f;if(u&&(p=function(t,e,r,i){var n,o,a,s,l,h=[];for(n=0,o=e.length;n<o;n++)a=e[n]*i,s=n<o-1?e[n+1]*i:t.length,(l=xr(t,a,s,i,!1))===l.next&&(l.steiner=!0),h.push(Or(l));for(h.sort(Cr),n=0;n<h.length;n++)Pr(h[n],r),r=wr(r,r.next);return r}(t,e,p,r)),t.length>80*r){i=o=t[0],n=a=t[1];for(var d=r;d<c;d+=r)(s=t[d])<i&&(i=s),(l=t[d+1])<n&&(n=l),s>o&&(o=s),l>a&&(a=l);h=0!==(h=Math.max(o-i,a-n))?1/h:0}return Tr(p,f,r,i,n,h),f}function xr(t,e,r,i,n){var o,a;if(n===Ur(t,e,r,i)>0)for(o=e;o<r;o+=i)a=zr(o,t[o],t[o+1],a);else for(o=r-i;o>=e;o-=i)a=zr(o,t[o],t[o+1],a);return a&&Fr(a,a.next)&&(jr(a),a=a.next),a}function wr(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!Fr(i,i.next)&&0!==Rr(i.prev,i,i.next))i=i.next;else{if(jr(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function Tr(t,e,r,i,n,o,a){if(t){!a&&o&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=kr(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,a,s,l,h=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,i=r,s=0,e=0;e<h&&(s++,i=i.nextZ);e++);for(l=h;s>0||l>0&&i;)0!==s&&(0===l||!i||r.z<=i.z)?(n=r,r=r.nextZ,s--):(n=i,i=i.nextZ,l--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,h*=2}while(a>1)}(n)}(t,i,n,o);for(var s,l,h=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?Sr(t,i,n,o):Er(t))e.push(s.i/r),e.push(t.i/r),e.push(l.i/r),jr(t),t=l.next,h=l.next;else if((t=l)===h){a?1===a?Tr(t=Mr(t,e,r),e,r,i,n,o,2):2===a&&Ar(t,e,r,i,n,o):Tr(wr(t),e,r,i,n,o,1);break}}}function Er(t){var e=t.prev,r=t,i=t.next;if(Rr(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(Ir(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&Rr(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function Sr(t,e,r,i){var n=t.prev,o=t,a=t.next;if(Rr(n,o,a)>=0)return!1;for(var s=n.x<o.x?n.x<a.x?n.x:a.x:o.x<a.x?o.x:a.x,l=n.y<o.y?n.y<a.y?n.y:a.y:o.y<a.y?o.y:a.y,h=n.x>o.x?n.x>a.x?n.x:a.x:o.x>a.x?o.x:a.x,u=n.y>o.y?n.y>a.y?n.y:a.y:o.y>a.y?o.y:a.y,c=kr(s,l,e,r,i),p=kr(h,u,e,r,i),f=t.prevZ,d=t.nextZ;f&&f.z>=c&&d&&d.z<=p;){if(f!==t.prev&&f!==t.next&&Ir(n.x,n.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Rr(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,d!==t.prev&&d!==t.next&&Ir(n.x,n.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Rr(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&Ir(n.x,n.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Rr(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&Ir(n.x,n.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Rr(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function Mr(t,e,r){var i=t;do{var n=i.prev,o=i.next.next;!Fr(n,o)&&Lr(n,i,i.next,o)&&Br(n,o)&&Br(o,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(o.i/r),jr(i),jr(i.next),i=t=o),i=i.next}while(i!==t);return i}function Ar(t,e,r,i,n,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Dr(a,s)){var l=Nr(a,s);return a=wr(a,a.next),l=wr(l,l.next),Tr(a,e,r,i,n,o),void Tr(l,e,r,i,n,o)}s=s.next}a=a.next}while(a!==t)}function Cr(t,e){return t.x-e.x}function Pr(t,e){if(e=function(t,e){var r,i=e,n=t.x,o=t.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=n&&s>a){if(a=s,s===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===a)return r.prev;var l,h=r,u=r.x,c=r.y,p=1/0;i=r.next;for(;i!==h;)n>=i.x&&i.x>=u&&n!==i.x&&Ir(o<c?n:a,o,u,c,o<c?a:n,o,i.x,i.y)&&((l=Math.abs(o-i.y)/(n-i.x))<p||l===p&&i.x>r.x)&&Br(i,t)&&(r=i,p=l),i=i.next;return r}(t,e)){var r=Nr(e,t);wr(r,r.next)}}function kr(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Or(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function Ir(t,e,r,i,n,o,a,s){return(n-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(i-s)-(r-a)*(e-s)>=0&&(r-a)*(o-s)-(n-a)*(i-s)>=0}function Dr(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Lr(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&Br(t,e)&&Br(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)}function Rr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Fr(t,e){return t.x===e.x&&t.y===e.y}function Lr(t,e,r,i){return!!(Fr(t,e)&&Fr(r,i)||Fr(t,i)&&Fr(r,e))||Rr(t,e,r)>0!=Rr(t,e,i)>0&&Rr(r,i,t)>0!=Rr(r,i,e)>0}function Br(t,e){return Rr(t.prev,t,t.next)<0?Rr(t,e,t.next)>=0&&Rr(t,t.prev,e)>=0:Rr(t,e,t.prev)<0||Rr(t,t.next,e)<0}function Nr(t,e){var r=new Vr(t.i,t.x,t.y),i=new Vr(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function zr(t,e,r,i){var n=new Vr(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function jr(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Vr(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ur(t,e,r,i){for(var n=0,o=e,a=r-i;o<r;o+=i)n+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return n}br.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,a=Math.abs(Ur(t,0,o,r));if(n)for(var s=0,l=e.length;s<l;s++){var h=e[s]*r,u=s<l-1?e[s+1]*r:t.length;a-=Math.abs(Ur(t,h,u,r))}var c=0;for(s=0;s<i.length;s+=3){var p=i[s]*r,f=i[s+1]*r,d=i[s+2]*r;c+=Math.abs((t[p]-t[d])*(t[f+1]-t[p+1])-(t[p]-t[f])*(t[d+1]-t[p+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},br.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[n][o][a]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r};var Wr={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.verts,o=e.indices;if(r.length>=6){for(var a=[],s=0;s<i.length;s++){var l=i[s];a.push(r.length/2),r=r.concat(l.points)}var h=br(r,a,2);if(!h)return;var u=n.length/2;for(s=0;s<h.length;s+=3)o.push(h[s]+u),o.push(h[s+1]+u),o.push(h[s+2]+u);for(s=0;s<r.length;s++)n.push(r[s])}}},qr={build:function(t){var e,r,i=t.shape,n=t.points,o=i.x,a=i.y;if(n.length=0,t.type===v.CIRC?(e=i.radius,r=i.radius):(e=i.width,r=i.height),0!==e&&0!==r){var s=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(i.width+i.height));s/=2.3;for(var l=2*Math.PI/s,h=0;h<s;h++)n.push(o+Math.sin(l*h)*e,a+Math.cos(l*h)*r);n.push(n[0],n[1])}},triangulate:function(t,e){var r=t.points,i=e.verts,n=e.indices,o=i.length/2,a=o;i.push(t.shape.x,t.shape.y);for(var s=0;s<r.length;s+=2)i.push(r[s],r[s+1]),n.push(o++,a,o)}},Hr={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,a=e.height,s=e.radius;r.length=0,r.push(i,n+s),Yr(i,n+a-s,i,n+a,i+s,n+a,r),Yr(i+o-s,n+a,i+o,n+a,i+o,n+a-s,r),Yr(i+o,n+s,i+o,n,i+o-s,n,r),Yr(i+s,n,i,n,i,n+s+1e-10,r)},triangulate:function(t,e){for(var r=t.points,i=e.verts,n=e.indices,o=i.length/2,a=br(r,null,2),s=0,l=a.length;s<l;s+=3)n.push(a[s]+o),n.push(a[s+1]+o),n.push(a[s+2]+o);for(s=0,l=r.length;s<l;s++)i.push(r[s],r[++s])}};function Gr(t,e,r){return t+(e-t)*r}function Yr(t,e,r,i,n,o,a){void 0===a&&(a=[]);for(var s=a,l=0,h=0,u=0,c=0,p=0,f=0,d=0,m=0;d<=20;++d)l=Gr(t,r,m=d/20),h=Gr(e,i,m),u=Gr(r,n,m),c=Gr(i,o,m),p=Gr(l,u,m),f=Gr(h,c,m),s.push(p,f);return s}function Xr(t,e){!function(t,e){var r=t.shape,i=t.points||r.points.slice();if(0===i.length)return;var n=t.lineStyle,o=new z(i[0],i[1]),a=new z(i[i.length-2],i[i.length-1]),s=r.type!==v.POLY,l=o.x===a.x&&o.y===a.y;if(l||s){i=i.slice(),l&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var h=a.x+.5*(o.x-a.x),u=a.y+.5*(o.y-a.y);i.unshift(h,u),i.push(h,u)}var c=e.verts,p=i.length/2,f=i.length,d=c.length/2,m=n.width/2,y=i[0],g=i[1],_=i[2],b=i[3],x=0,w=0,T=-(g-b),E=y-_,S=0,M=0,A=0,C=0,P=Math.sqrt(T*T+E*E);T/=P,E/=P,T*=m,E*=m;var k=n.alignment,O=2*(1-k),I=2*k;c.push(y-T*O,g-E*O),c.push(y+T*I,g+E*I);for(var D=1;D<p-1;++D){y=i[2*(D-1)],g=i[2*(D-1)+1],_=i[2*D],b=i[2*D+1],x=i[2*(D+1)],w=i[2*(D+1)+1],T=-(g-b),E=y-_,P=Math.sqrt(T*T+E*E),T/=P,E/=P,T*=m,E*=m,S=-(b-w),M=_-x,P=Math.sqrt(S*S+M*M),S/=P,M/=P;var R=-E+g-(-E+b),F=-T+_-(-T+y),L=(-T+y)*(-E+b)-(-T+_)*(-E+g),B=-(M*=m)+w-(-M+b),N=-(S*=m)+_-(-S+x),j=(-S+x)*(-M+b)-(-S+_)*(-M+w),V=R*N-B*F;if(Math.abs(V)<.1)V+=10.1,c.push(_-T*O,b-E*O),c.push(_+T*I,b+E*I);else{var U=(F*j-N*L)/V,W=(B*L-R*j)/V;(U-_)*(U-_)+(W-b)*(W-b)>196*m*m?(A=T-S,C=E-M,P=Math.sqrt(A*A+C*C),A/=P,C/=P,A*=m,C*=m,c.push(_-A*O,b-C*O),c.push(_+A*I,b+C*I),c.push(_-A*I*O,b-C*O),f++):(c.push(_+(U-_)*O,b+(W-b)*O),c.push(_-(U-_)*I,b-(W-b)*I))}}y=i[2*(p-2)],g=i[2*(p-2)+1],_=i[2*(p-1)],b=i[2*(p-1)+1],T=-(g-b),E=y-_,P=Math.sqrt(T*T+E*E),T/=P,E/=P,T*=m,E*=m,c.push(_-T*O,b-E*O),c.push(_+T*I,b+E*I);var q=e.indices;for(D=0;D<f-2;++D)q.push(d,d+1,d+2),d++}(t,e)}var Kr=function(){function t(){this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.alphaBlock=this.alphaBlock,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Yt.WHITE,this.matrix=null,this.visible=!1,this.alphaBlock=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Zr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(Kr);var Jr,Qr={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048,segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};var $r=new j,ti=new z,ei=new Float32Array(3),ri=[],ii={};ii[v.POLY]=Wr,ii[v.CIRC]=qr,ii[v.ELIP]=qr,ii[v.RECT]={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,a=t.points;a.length=0,a.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.verts,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},ii[v.RREC]=Hr;var ni=function(t){function e(){var e=t.call(this)||this;return e._blendMode=S.NORMAL,e.batchTint=-1,e.hitTestByPixel=!0,e.cacheAsBitmap=!0,e._instanceType="Graphics",e._fillStyle=new Kr,e._lineStyle=new Zr,e.tint=16777215,e.batchTint=-1,e._matrix=null,e._holeMode=!1,e._currentPath=null,e.graphicsData=[],e.isUsedToMask=!1,e.boundsPadding=0,e.dirty=0,e.boundsDirty=-1,e.cacheDirty=-1,e.verts=[],e.indices=[],e.batches=[],e.geoBatches=[],e.uvs=[],e.batchDirty=-1,e.shapeIndex=0,e.vertexData=null,e._transformID=-1,e}return R(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return this._matrix},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t._fillStyle=this._fillStyle,t._lineStyle=this._lineStyle,t.isUsedToMask=this.isUsedToMask,t.boundsPadding=this.boundsPadding,t.dirty=0;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t._currentPath=null,t.updateLocalBoundsSelf(),t},e.prototype.lineStyle=function(t,e,r,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=.5),void 0===n&&(n=!1),this.lineTextureStyle(t,Yt.WHITE,e,r,null,i,n),this},e.prototype.lineTextureStyle=function(t,e,r,i,n,o,a){void 0===t&&(t=0),void 0===e&&(e=Yt.WHITE),void 0===r&&(r=16777215),void 0===i&&(i=1),void 0===n&&(n=null),void 0===o&&(o=.5),void 0===a&&(a=!1),this._currentPath&&this.startPoly();var s=t>0&&i>0;return s?(n&&(n=n.clone()).invert(),this._lineStyle.color=r,this._lineStyle.width=t,this._lineStyle.alpha=i,this._lineStyle.matrix=n,this._lineStyle.texture=e,this._lineStyle.alignment=o,this._lineStyle.native=a,this._lineStyle.visible=s):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this._currentPath){var t=this._currentPath.points,e=this._currentPath.points.length;e>2&&(this.drawShape(this._currentPath),this._currentPath=new gr,this._currentPath.closed=!1,this._currentPath.points.push(t[e-2],t[e-1]))}else this._currentPath=new gr,this._currentPath.closed=!1},e.prototype.finishPoly=function(){this._currentPath&&(this._currentPath.points.length>2?(this.drawShape(this._currentPath),this._currentPath=null):this._currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this._currentPath.points[0]=t,this._currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this._currentPath||this.moveTo(0,0);var r=this._currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._currentPath?0===this._currentPath.points.length&&(this._currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this._currentPath.points;0===n.length&&this.moveTo(0,0);for(var o=0,a=0,s=n[n.length-2],l=n[n.length-1],h=Qr.segmentsCount(function(t,e,r,i,n,o){var a=t-(2*r+n),s=e-(2*i+o),l=(r-2)*t*2,h=(i-2)*e*2,u=4*(a*a+s*s),c=4*(a*l+s*h),p=l*l+h*h,f=2*Math.sqrt(u+c+p),d=Math.sqrt(u),m=2*u*d,v=2*Math.sqrt(p),y=c/d;return(m*f+d*c*(f-v)+(4*p*u-c*c)*Math.log((2*d+y+f)/(y+v)))/(4*m)}(s,l,t,e,r,i)),u=1;u<=h;++u){var c=u/h;o=s+(t-s)*c,a=l+(e-l)*c,n.push(o+(t+(r-t)*c-o)*c,a+(e+(i-e)*c-a)*c)}return this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){this._initCurve();var a=this._currentPath.points,s=a[a.length-2],l=a[a.length-1];return a.length-=2,function(t,e,r,i,n,o,a,s,l,h){void 0===h&&(h=[]);var u=0,c=0,p=0,f=0,d=0;h.push(t,e);for(var m=1,v=0;m<=l;++m)p=(c=(u=1-(v=m/l))*u)*u,d=(f=v*v)*v,h.push(p*t+3*c*v*r+3*u*f*n+d*a,p*e+3*c*v*i+3*u*f*o+d*s)}(s,l,t,e,r,i,n,o,Qr.segmentsCount(function(t,e,r,i,n,o,a,s){for(var l=0,h=0,u=0,c=0,p=0,f=0,d=0,m=0,v=0,y=0,g=0,_=t,b=e,x=1;x<=10;++x)y=_-(m=(d=(f=(p=1-(h=x/10))*p)*p)*t+3*f*h*r+3*p*(u=h*h)*n+(c=u*h)*a),g=b-(v=d*e+3*f*h*i+3*p*u*o+c*s),_=m,b=v,l+=Math.sqrt(y*y+g*g);return l}(s,l,t,e,r,i,n,o)),a),this},e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this._currentPath.points,a=o[o.length-2],s=o[o.length-1]-e,l=a-t,h=i-e,u=r-t,c=Math.abs(s*u-l*h);if(c<1e-8||0===n)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var p=s*s+l*l,f=h*h+u*u,d=s*h+l*u,m=n*Math.sqrt(p)/c,v=n*Math.sqrt(f)/c,y=m*d/p,g=v*d/f,_=m*u+v*l,b=m*h+v*s,x=l*(v+y),w=s*(v+y),T=u*(m+g),E=h*(m+g),S=Math.atan2(w-b,x-_),M=Math.atan2(E-b,T-_);this.arc(_+t,b+e,n,S,M,l*h>u*s)}return this},e.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;!o&&n<=i?n+=k:o&&i<=n&&(i+=k);var a=n-i;if(0===a)return this;var s=t+Math.cos(i)*r,l=e+Math.sin(i)*r,h=this._currentPath?this._currentPath.points:null;if(h){var u=Math.abs(h[h.length-2]-s),c=Math.abs(h[h.length-1]-l);u<.001&&c<.001||h.push(s,l)}else this.moveTo(s,l),h=this._currentPath.points;for(var p=Qr.segmentsCount(Math.abs(a)*r,40*Math.ceil(Math.abs(a)/k)),f=a/(2*p),d=2*f,m=Math.cos(f),v=Math.sin(f),y=p-1,g=y%1/y,_=0;_<=y;++_){var b=f+i+d*(_+g*_),x=Math.cos(b),w=-Math.sin(b);h.push((m*x+v*w)*r+t,(m*-w+v*x)*r+e)}return this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),"string"==typeof t&&(t=Ft(t)),this.beginTextureFill(Yt.WHITE,t,e)},e.prototype.beginTextureFill=function(t,e,r,i){void 0===t&&(t=Yt.WHITE),void 0===e&&(e=16777215),void 0===r&&(r=1),void 0===i&&(i=null),this._currentPath&&this.startPoly();var n=r>0;return n?(this._fillStyle.color=e,this._fillStyle.alpha=r,this._fillStyle.texture=t,this._fillStyle.matrix=i,this._fillStyle.visible=n):(this._fillStyle.reset(),this._fillStyle.alphaBlock=!0),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.endStroke=function(){return this.finishPoly(),this._lineStyle.reset(),this},e.prototype.closePath=function(){var t=this._currentPath;return this._currentPath&&t.close(),this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new U(t,e,r,i))},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new _r(t,e,r,i,n))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new vr(t,e,r))},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new yr(t,e,r,i))},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof gr&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var i=0;i<e.length;++i)e[i]=arguments[i]}var n=new gr(e);return n.closed=r,this.drawShape(n),this},e.prototype.drawStar=function(t,e,r,i,n,o){void 0===o&&(o=0),n=n||i/2;for(var a=-1*Math.PI/2+o,s=2*r,l=k/s,h=[],u=0;u<s;u++){var c=u%2?n:i,p=u*l+a;h.push(t+c*Math.cos(p),e+c*Math.sin(p))}return this.drawPolygon(h)},e.prototype.drawShape=function(t){if(this._holeMode){if(!this.graphicsData.length)return this;e=new fr(t,null,null,this._matrix);this.graphicsData[this.graphicsData.length-1].holes.push(e),this.dirty++}else{var e=new fr(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix);this.graphicsData.push(e),this.dirty++}return this},e.prototype.clear=function(){if(this.graphicsData.length>0){this.boundsDirty=-1,this.dirty++,this.graphicsData.length=0,this.verts.length=0,this.uvs.length=0,this.indices.length=0,this.shapeIndex=0;for(var t=0;t<this.geoBatches.length;t++){var e=this.geoBatches[t];e.start=0,e.attribStart=0,e.style=null,ri.push(e)}this.geoBatches.length=0,this.batches.length=0}return this._currentPath=null,this._matrix=null,this._holeMode=!1,this._currentPath=null,this},e.prototype.isFastRect=function(){return!1},e.prototype._renderWebGL=function(t){if(this.finishPoly(),this.updateBatch(),t.batchManager.setObjectRenderer(t.plugins.batch),this.batches.length){this.calculateVertices(),this.calculateTints();for(var e=0;e<this.batches.length;e++){var r=this.batches[e];r._worldAlpha=this._worldAlpha*r.graAlpha,t.plugins.batch.render(r)}}},e.prototype.updateBatch=function(){if(this.batchDirty!==this.dirty&&0!==this.graphicsData.length){this.batchDirty=this.dirty;var t,e=this.uvs;(t=this.geoBatches.pop())||((t=ri.pop()||new oi).style=t.style||this.graphicsData[0].fillStyle||this.graphicsData[0].lineStyle);var r=t.style.texture.baseTexture,i=t.style.color+t.style.alpha;this.geoBatches.push(t);for(var n=this.shapeIndex;n<this.graphicsData.length;n++){this.shapeIndex++;var o=this.graphicsData[n],a=ii[o.type],s=o.fillStyle,l=o.lineStyle;a.build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var h=0;h<2;h++){var u=0===h?s:l;if(u.visible){var c=u.texture.baseTexture;if(r!==c||u.color+u.alpha!==i){c.wrapMode=C.REPEAT,r=c,i=u.color+u.alpha;var p=this.indices.length,f=this.verts.length/2;t.size=p-t.start,t.attribSize=f-t.attribStart,t.size>0&&(t=ri.pop()||new oi,this.geoBatches.push(t)),t.style=u,t.start=p,t.attribStart=f}var d=this.verts.length/2;0===h?o.holes.length?(this.proccessHoles(o.holes),Wr.triangulate(o,this)):a.triangulate(o,this):Xr(o,this);var m=this.verts.length/2-d;this.addUvs(this.verts,e,u.texture,d,m,u.matrix)}}}var v=this.indices.length,y=this.verts.length/2;t.size=v-t.start,t.attribSize=y-t.attribStart;for(var g=new Uint16Array(this.indices),_=new Float32Array(this.uvs),b=0;b<this.geoBatches.length;b++){var x=this.geoBatches[b];for(h=0;h<x.size;h++){var w=x.start+h;g[w]=g[w]-x.attribStart}}this._transformID=-1,this.batchTint=-1,this.batches=[],this.vertexData=new Float32Array(this.verts);for(var T=this.blendMode,E=0;E<this.geoBatches.length;E++){var S=this.geoBatches[E],M=S.style.color,A=new Float32Array(this.vertexData.buffer,4*S.attribStart*2,2*S.attribSize),P=new Float32Array(_.buffer,4*S.attribStart*2,2*S.attribSize);x={_vertexData:A,_indices:new Uint16Array(g.buffer,2*S.start,S.size),_uvs:P,_tintRGB:M,_texture:S.style.texture,_worldAlpha:1,_blendMode:T,graAlpha:S.style.alpha,_batchRGB:Dt(M)};this.batches[E]=x}}},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Dt(this.tint,ei),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldMatrix,e=t.a,r=t.b,i=t.c,n=t.d,o=t.tx,a=t.ty,s=this.verts,l=this.vertexData,h=0,u=0;u<s.length;u+=2){var c=s[u],p=s[u+1];l[h++]=e*c+i*p+o,l[h++]=n*p+r*c+a}}},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},e.prototype._renderCanvas=function(t){if(this.finishPoly(),this.cacheAsBitmap){if(this.cacheDirty!=this.dirty){this.cacheDirty=this.dirty;var e=this.mask;this.mask=null,this.cacheAsBitmap=!1;var r=this.alpha;this.alpha=1;var i=this.children;this.children=[],this.generateCanvasTexture(),this.mask=e,this.alpha=r,this.cacheAsBitmap=!0,this.children=i,this.transform._parentID=-1,this.parent&&this.updateTransform()}t.plugins.sprite.render(this)}else t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.updateLocalBoundsSelf();var t=this._localBoundsSelf,e=this.transform.worldMatrix;e.transformPoint(t.x,t.y,Q._p1),e.transformPoint(t.x+t.width,t.y,Q._p2),e.transformPoint(t.x+t.width,t.y+t.height,Q._p3),e.transformPoint(t.x,t.y+t.height,Q._p4),U.createFromPoints(this._bounds,Q._p1,Q._p2,Q._p3,Q._p4)},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(i=t.prototype.hitTestPoint.call(this,e,r))?i:r&&!this.mouseEnable?null:(this.updateLocalBoundsSelf(),(i=this.displayObjectHitTestPoint(e,r))?this.hitTestByPixel?this.hitTestPointAccuratly(e,r):i:null):null;var i},e.prototype.hitTestPointAccuratly=function(t,e){e?this.worldMatrix.transformPointInverse(t.x,t.y,ti):ti.set(t.x,t.y);for(var r=this.graphicsData,i=0;i<r.length;++i){var n=r[i];if((n.fillStyle.visible||n.fillStyle.alphaBlock)&&(n.shape&&n.shape.isPointIn(ti))){if(n.holes)for(var o=0;o<n.holes.length;o++){if(n.holes[o].shape.isPointIn(ti))return null}return this}}return null},e.prototype.updateLocalBoundsSelf=function(){if(this.boundsDirty!=this.dirty){this.boundsDirty=this.dirty;var t=1/0,e=-1/0,r=1/0,i=-1/0;if(this.graphicsData.length)for(var n=void 0,o=0,a=0,s=0,l=0,h=0;h<this.graphicsData.length;h++){var u=this.graphicsData[h],c=u.type,p=u.lineStyle,f=(u.matrix||j.IDENTITY,0);if(p&&p.visible){var d=p.alignment;f=p.width,c===v.POLY?f*=.5+Math.abs(.5-d):f*=Math.max(0,d)}if(n=u.shape,c===v.RECT||c===v.RREC)o=n.x-f/2,a=n.y-f/2,t=o<t?o:t,e=o+(s=n.width+f)>e?o+s:e,r=a<r?a:r,i=a+(l=n.height+f)>i?a+l:i;else if(c===v.CIRC)o=n.x,a=n.y,t=o-(s=n.radius+f/2)<t?o-s:t,e=o+s>e?o+s:e,r=a-(l=n.radius+f/2)<r?a-l:r,i=a+l>i?a+l:i;else if(c===v.ELIP)o=n.x,a=n.y,t=o-(s=n.width+f/2)<t?o-s:t,e=o+s>e?o+s:e,r=a-(l=n.height+f/2)<r?a-l:r,i=a+l>i?a+l:i;else for(var m=n.points,y=0,g=0,_=0,b=0,x=0,w=0,T=0,E=0,S=0;S+2<m.length;S+=2)o=m[S],a=m[S+1],y=m[S+2],g=m[S+3],_=Math.abs(y-o),b=Math.abs(g-a),l=f,(s=Math.sqrt(_*_+b*b))<1e-9||(t=(T=(y+o)/2)-(x=(l/s*b+_)/2)<t?T-x:t,e=T+x>e?T+x:e,r=(E=(g+a)/2)-(w=(l/s*_+b)/2)<r?E-w:r,i=E+w>i?E+w:i)}else t=0,e=0,r=0,i=0;var M=this.boundsPadding;this._localBoundsSelf.x=t-M,this._localBoundsSelf.y=r-M,this._localBoundsSelf.width=e-t+2*M,this._localBoundsSelf.height=i-r+2*M}},e.prototype.generateCanvasTexture=function(t){void 0===t&&(t=A.LINEAR),this.updateLocalBoundsSelf();var e=this._localBoundsSelf;return this._canvasBuffer?this._canvasBuffer.resize(e.width,e.height):this._canvasBuffer=mr.create(e.width,e.height,t),Jr||(Jr=new _t(null,0,0)),this.transform.updateLocalMatrix(),$r.copy(this.transform.localMatrix),$r.invert(),$r.tx-=e.x,$r.ty-=e.y,Jr.render(this,this._canvasBuffer,$r),this._texture||(this._texture=Yt.fromCanvas(this._canvasBuffer.baseTexture._canvasRenderTarget.canvas,"graphics")),this._texture.baseTexture.update(),this.offsetX=e.x,this.offsetY=e.y,this._texture},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this._matrix=null,this._currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.vertexData=null,this.geoBatches.length=0,this.geoBatches=null,this.batches.length=0,this.batches=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateLocalBoundsSelf(),Math.abs(this.scale.x)*this._localBoundsSelf.width},set:function(t){this.updateLocalBoundsSelf();var e=this._localBoundsSelf.width;if(0!==e){var r=Nt(this.scale.x)||1;this.scale.x=r*t/e}else this.scale.x=1;this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateLocalBoundsSelf(),Math.abs(this.scale.y)*this._localBoundsSelf.height},set:function(t){this.updateLocalBoundsSelf();var e=this._localBoundsSelf.height;if(0!==e){var r=Nt(this.scale.y)||1;this.scale.y=r*t/e}else this.scale.y=1;this._height=t},enumerable:!0,configurable:!0}),e.prototype.proccessHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];ii[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.addUvs=function(t,e,r,i,n,o){for(var a=0,s=e.length,l=r.frame;a<n;){var h=t[2*(i+a)],u=t[2*(i+a)+1];if(o){var c=o.a*h+o.c*u+o.tx;u=o.b*h+o.d*u+o.ty,h=c}a++;var p=r.frame;e.push(h/p.width,u/p.height)}var f=r.baseTexture;(l.width<f.width||l.height<f.height)&&this.adjustUvs(e,r,s,n)},e.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=1e-6,a=r+2*i,s=e.frame,l=s.width/n.width,h=s.height/n.height,u=s.x/s.width,c=s.y/s.height,p=Math.floor(t[r]+o),f=Math.floor(t[r+1]+o),d=r+2;d<a;d+=2)p=Math.min(p,Math.floor(t[d]+o)),f=Math.min(f,Math.floor(t[d+1]+o));u-=p,c-=f;for(d=r;d<a;d+=2)t[d]=(t[d]+u)*l,t[d+1]=(t[d+1]+c)*h},e}($),oi=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},ai=function(t){function e(){var e=t.call(this)||this;e._command=[],e.hitTestByPixel=!0,e._instanceType="Shape";var r=nt();return r.width=3,r.height=3,e.texture=Yt.fromCanvas(r,"shapeCanvas"),Yt.addToCache(e.texture,e.texture.baseTexture.textureCacheIds[0]),e.canvas=r,e.context=r.getContext("2d"),e.dirty=!0,e}return R(e,t),e.prototype.drawRoundedRect=function(t,e,r,i,n,o,a,s){void 0===n&&(n=0);var l=(r<i?r:i)/2,h=0,u=0,c=0,p=0;null==o&&(o=n),null==a&&(a=n),null==s&&(s=n),n<0&&(n*=h=-1),n>l&&(n=l),o<0&&(o*=u=-1),o>l&&(o=l),s<0&&(s*=c=-1),s>l&&(s=l),a<0&&(a*=p=-1),a>l&&(a=l);var f=this._command;return f[f.length]=[1,"moveTo",[t+r-o,e]],f[f.length]=[1,"arcTo",[t+r+o*u,e-o*u,t+r,e+o,o]],f[f.length]=[1,"lineTo",[t+r,e+i-s]],f[f.length]=[1,"arcTo",[t+r+s*c,e+i+s*c,t+r-s,e+i,s]],f[f.length]=[1,"lineTo",[t+a,e+i]],f[f.length]=[1,"arcTo",[t-a*p,e+i+a*p,t,e+i-a,a]],f[f.length]=[1,"lineTo",[t,e+n]],f[f.length]=[1,"arcTo",[t-n*h,e-n*h,t+n,e,n]],f[f.length]=[1,"closePath",[]],this},e.prototype.moveTo=function(t,e){return this._command[this._command.length]=[1,"moveTo",[t,e]],this},e.prototype.lineTo=function(t,e){return this._command[this._command.length]=[1,"lineTo",[t,e]],this},e.prototype.arcTo=function(t,e,r,i,n){return this._command[this._command.length]=[1,"arcTo",[t,e,r,i,n]],this},e.prototype.quadraticCurveTo=function(t,e,r,i){return this._command[this._command.length]=[1,"quadraticCurveTo",[t,e,r,i]],this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._command[this._command.length]=[1,"bezierCurveTo",[t,e,r,i,n,o]],this},e.prototype.closePath=function(){return this._command[this._command.length]=[1,"closePath",[]],this},e.prototype.drawRect=function(t,e,r,i){var n=this._command;return n[n.length]=[1,"moveTo",[t,e]],n[n.length]=[1,"lineTo",[t+r,e]],n[n.length]=[1,"lineTo",[t+r,e+i]],n[n.length]=[1,"lineTo",[t,e+i]],n[n.length]=[1,"closePath",[]],this},e.prototype.arc=function(t,e,r,i,n,o){return void 0===o&&(o=!1),this._command[this._command.length]=[1,"arc",[t,e,r,i,n,o]],this},e.prototype.drawCircle=function(t,e,r,i){return void 0===i&&(i=!1),this._command[this._command.length]=[1,"arc",[t,e,r,0,2*Math.PI,i]],this},e.prototype.drawEllipse=function(t,e,r,i){var n=.5522848,o=r/2*n,a=i/2*n,s=t+r,l=e+i,h=t+r/2,u=e+i/2,c=this._command;return c[c.length]=[1,"moveTo",[t,u]],c[c.length]=[1,"bezierCurveTo",[t,u-a,h-o,e,h,e]],c[c.length]=[1,"bezierCurveTo",[h+o,e,s,u-a,s,u]],c[c.length]=[1,"bezierCurveTo",[s,u+a,h+o,l,h,l]],c[c.length]=[1,"bezierCurveTo",[h-o,l,t,u+a,t,u]],this},e.prototype.clear=function(){var t=this;return t._command=[],t.dirty=!0,t},e.prototype.beginFill=function(t,e){void 0===t&&(t=0),void 0===e&&(e=1),"string"==typeof t&&(t=Ft(t));var r=Bt(Rt(t),e);return this._fill(r),this},e.prototype.beginGradientFill=function(t,e){return this._fill(Ot(t,e)),this},e.prototype.beginBitmapFill=function(t,e){var r=this;return e&&(r._isBitmapFill=e),r._fill(It(t)),r},e.prototype._fill=function(t){var e=this._command;e[e.length]=[0,"fillStyle",t],e[e.length]=[1,"beginPath",[]],this.dirty=!0},e.prototype.beginStroke=function(t,e,r,i,n,o){void 0===e&&(e=1),void 0===r&&(r=T.BUTT),void 0===i&&(i=E.MITER),void 0===n&&(n=0),void 0===o&&(o=1);var a=Bt(Rt(t),o);return this._stroke(a,e,r,i,n),this},e.prototype.beginGradientStroke=function(t,e,r,i,n,o){return void 0===r&&(r=1),void 0===i&&(i=T.BUTT),void 0===n&&(n=E.MITER),void 0===o&&(o=10),this._stroke(Ot(t,e),r,i,n,o),this},e.prototype.beginBitmapStroke=function(t,e,r,i,n,o){void 0===r&&(r=1),void 0===i&&(i=T.BUTT),void 0===n&&(n=E.MITER),void 0===o&&(o=10);var a=this;return e&&(a._isBitmapStroke=e),a._stroke(It(t),r,i,n,o),a},e.prototype._stroke=function(t,e,r,i,n){var o=this._command;o[o.length]=[0,"lineWidth",e],o[o.length]=[0,"lineCap",r],o[o.length]=[0,"lineJoin",i],o[o.length]=[0,"miterLimit",n],o[o.length]=[0,"strokeStyle",t],o[o.length]=[1,"beginPath",[]],this.dirty=!0},e.prototype.endFill=function(){var t=this,e=t._command,r=t._isBitmapFill;return r&&(e[e.length]=[2,"setTransform",r]),e[e.length]=[1,"fill",[]],r&&(t._isBitmapFill=null),t},e.prototype.endStroke=function(){var t=this,e=t._command,r=t._isBitmapStroke;return r&&(e[e.length]=[2,"setTransform",r]),e[e.length]=[1,"stroke",[]],r&&(t._isBitmapStroke=null),t},e.prototype.updateShape=function(){var t=this;if(t.visible&&t.dirty){t.dirty=!1,t._boundsID++;var e,r,i,n,o,a,s=t._command.length,l=0,h=0,u=0;for(o=0;o<s;o++)if(1==(a=t._command[o])[0]){if("moveTo"==a[1]||"lineTo"==a[1]||"arcTo"==a[1]||"bezierCurveTo"==a[1])null==e&&(e=a[2][0]),null==r&&(r=a[2][1]),null==i&&(i=a[2][0]),null==n&&(n=a[2][1]),"bezierCurveTo"==a[1]?(e=Math.min(e,a[2][0],a[2][2],a[2][4]),r=Math.min(r,a[2][1],a[2][3],a[2][5]),i=Math.max(i,a[2][0],a[2][2],a[2][4]),n=Math.max(n,a[2][1],a[2][3],a[2][5]),l=a[2][4],h=a[2][5]):(e=Math.min(e,a[2][0]),r=Math.min(r,a[2][1]),i=Math.max(i,a[2][0]),n=Math.max(n,a[2][1]),l=a[2][0],h=a[2][1]);else if("quadraticCurveTo"==a[1]){var c=.5*(l+a[2][0]),p=.5*(h+a[2][1]),f=.5*(a[2][0]+a[2][2]),d=.5*(a[2][1]+a[2][3]);null==e&&(e=c),null==r&&(r=p),null==i&&(i=c),null==n&&(n=p),e=Math.min(e,c,f,a[2][2]),r=Math.min(r,p,d,a[2][3]),i=Math.max(i,c,f,a[2][2]),n=Math.max(n,p,d,a[2][3]),l=a[2][2],h=a[2][3]}else if("arc"==a[1]){var m=a[2][0],v=a[2][1],y=a[2][2],g=m-y,_=v-y,b=m+y,x=v+y;null==e&&(e=g),null==r&&(r=_),null==i&&(i=b),null==n&&(n=x),e=Math.min(e,g),r=Math.min(r,_),i=Math.max(i,b),n=Math.max(n,x)}}else"lineWidth"==a[1]&&u<a[2]&&(u=a[2]);if(null!=e||u>0){null==e&&(e=0,r=0);var w=(i+=20+u>>1)-(e-=20+u>>1),T=(n+=20+u>>1)-(r-=20+u>>1);t.offsetX=e,t.offsetY=r,t._localBoundsSelf.x=e+10,t._localBoundsSelf.y=r+10,t._localBoundsSelf.width=w-20,t._localBoundsSelf.height=T-20;var E=t.canvas,S=t.context;E.width=w,E.height=T,S.clearRect(0,0,w,T),S.setTransform(1,0,0,1,-e,-r),t._drawShape(S),t.anchorTexture.set(-e/w,-r/T)}else t.canvas.width=0,t.canvas.height=0,t.offsetX=0,t.offsetY=0,t._localBoundsSelf.clear(),t.anchorTexture.set(0,0);t.texture.update(),t._onTextureUpdate()}},e.prototype._drawShape=function(t){for(var e,r=this,i=r._command,n=i.length,o=r.offsetX,a=r.offsetY,s=0;s<n;s++)if((e=i[s])[0]>0){var l=e[2].length;if(0==l)t[e[1]]();else if(2==l)t[e[1]](e[2][0],e[2][1]);else if(4==l)t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3]);else if(5==l)t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3],e[2][4]);else if(6==l){var h=e[2][4],u=e[2][5];2==e[0]&&(h-=o,u-=a),t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3],h,u)}}else t[e[1]]=e[2]},e.prototype.hitTestPoint=function(e,r){void 0===r&&(r=!1);var i=this;this.updateShape();var n=t.prototype.hitTestPoint.call(this,e,r);if(!n)return null;if(n!=i)return n;if(!i.hitTestByPixel)return i;var o=e;r&&(o=i.globalToLocal(e));var a=i._texture;if(!a||0==a.width||0==a.height)return null;o.x-=i.offsetX,o.y-=i.offsetY;var s=kt();s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,1,1),s.setTransform(1,0,0,1,-o.x,-o.y),s.drawImage(i.canvas,0,0);var l=s.getImageData(0,0,1,1);return l&&l.data?l.data[3]>0?i:null:i},e.prototype.changeColor=function(t){for(var e=this,r=e._command.length,i=e._command,n=0;n<r;n++)0==i[n][0]&&("fillStyle"==i[n][1]&&t.fillColor&&i[n][2]!=t.fillColor&&(i[n][2]=t.fillColor,e.dirty=!0),"strokeStyle"==i[n][1]&&t.strokeColor&&i[n][2]!=t.strokeColor&&(i[n][2]=t.strokeColor,e.dirty=!0),"lineWidth"==i[n][1]&&t.lineWidth&&i[n][2]!=t.lineWidth&&(i[n][2]=t.lineWidth,e.dirty=!0))},e.prototype.calculateBounds=function(){this.updateShape(),t.prototype.calculateBounds.call(this)},e.prototype._renderCanvas=function(e){this.updateShape(),t.prototype._renderCanvas.call(this,e)},e.prototype._renderWebGL=function(e){this.updateShape(),t.prototype._renderWebGL.call(this,e)},e.prototype.destroy=function(){var e=this;e._command=null,e._isBitmapStroke=null,e._isBitmapFill=null,t.prototype.destroy.call(this)},e}(Jt),si=new z,li=new gr,hi=function(t){function e(e,r,i,n){var o=t.call(this)||this;return o._blendMode=S.NORMAL,o._texture=e||Yt.EMPTY,o._uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),o._vertices=r||new Float32Array([0,0,100,0,100,100,0,100]),o._indices=n||new Uint16Array([0,1,3,2]),o._vertexDirty=0,o._vertexId=-1,o._localBoundsSelfId=-1,o.blendMode=S.NORMAL,o.canvasPadding=0,o._tint=null,o._tintRGB=null,o.tint=16777215,o._uvTransform=new Ze(o._texture),o._needRefresh=!0,o}return R(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!0,configurable:!0}),e.prototype._renderWebGL=function(t){this.refresh(),this.calculateVertices(),t.batchManager.setObjectRenderer(t.plugins.batch),t.plugins.batch.render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins.mesh.render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this._needRefresh=!0},e.prototype.multiplyUvs=function(){this._uvTransform.multiplyUvs(this._uvs)},e.prototype.refresh=function(t){void 0===t&&(t=!1),this._texture&&this._texture.valid&&(this._uvTransform.update(t)||this._needRefresh||t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype.calculateVertices=function(){if(!(this._vertexId===this._vertexDirty&&this._transformID===this.transform._worldID||(this._vertexId=this._vertexDirty,this._transformID=this.transform._worldID,this._vertices.length<=2))){this._vertexData||(this._vertexData=new Float32Array(this._vertices.length));for(var t=this.transform.worldMatrix,e=t.a,r=t.b,i=t.c,n=t.d,o=t.tx,a=t.ty,s=this._vertexData,l=0;l<s.length/2;l++){var h=this._vertices[2*l],u=this._vertices[2*l+1];s[2*l]=e*h+i*u+o,s[2*l+1]=r*h+n*u+a}}},e.prototype._calculateBounds=function(){this.updateLocalBoundsSelf();var t=this._localBoundsSelf,e=this.transform.worldMatrix;e.transformPoint(t.x,t.y,Q._p1),e.transformPoint(t.x+t.width,t.y,Q._p2),e.transformPoint(t.x+t.width,t.y+t.height,Q._p3),e.transformPoint(t.x,t.y+t.height,Q._p4),U.createFromPoints(this._bounds,Q._p1,Q._p2,Q._p3,Q._p4)},e.prototype.updateLocalBoundsSelf=function(){this._localBoundsSelfId!=this._vertexDirty&&(this._localBoundsSelfId=this._vertexDirty,this._vertices.length<=2&&this._localBoundsSelf.clear(),U.createFromVertexData(this._localBoundsSelf,this._vertices))},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(i=t.prototype.hitTestPoint.call(this,e,r))?i:r&&!this.mouseEnable?null:(this.updateLocalBoundsSelf(),(i=this.displayObjectHitTestPoint(e,r))?this.hitTestPointAccuratly(e,r):null):null;var i},e.prototype.hitTestPointAccuratly=function(t,e){e?this.globalToLocal(t,si):si.set(t.x,t.y);for(var r=this._vertices,i=li.points,n=this._indices,o=this._indices.length,a=0;a+2<o;a+=3){var s=2*n[a],l=2*n[a+1],h=2*n[a+2];if(i[0]=r[s],i[1]=r[s+1],i[2]=r[l],i[3]=r[l+1],i[4]=r[h],i[5]=r[h+1],li.isPointIn(si))return this}return null},Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._texture.removeEventListener("update",this._onTextureUpdate,this),this._uvs=null,this._vertices=null,this._indices=null,this._vertexData=null},e}($);!function(t){function e(e,r,i){void 0===r&&(r=10),void 0===i&&(i=10);var n=t.call(this,e)||this;return n.verticesX=r||10,n.verticesY=i||10,n.refresh(),n}R(e,t),e.prototype._refresh=function(){for(var t=this.texture,e=this.verticesX*this.verticesY,r=[],i=[],n=this.verticesX-1,o=this.verticesY-1,a=t.width/n,s=t.height/o,l=0;l<e;l++){var h=l%this.verticesX,u=l/this.verticesX|0;r.push(h*a,u*s),i.push(h/n,u/o)}this._vertices=new Float32Array(r),this._uvs=new Float32Array(i),this._indices=ui(this.verticesX,this.verticesY),this._vertexDirty++,this.multiplyUvs()}}(hi);function ui(t,e){for(var r=t-1,i=r*(e-1),n=[],o=0;o<i;o++){var a=o%r,s=o/r|0,l=s*t+a,h=s*t+a+1,u=(s+1)*t+a,c=(s+1)*t+a+1;n.push(l,h,u),n.push(h,c,u)}return new Uint16Array(n)}var ci=ui(4,4),pi=(function(t){function e(e,r,i,n,o){void 0===r&&(r=10),void 0===i&&(i=10),void 0===n&&(n=10),void 0===o&&(o=10);var a=t.call(this,e)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=r,a._rightWidth=n,a._topHeight=i,a._bottomHeight=o,a._indices=ci,a._vertices=new Float32Array(32),a._uvs=new Float32Array(32),a.refresh(!0),a}R(e,t),e.prototype.updateHorizontalVertices=function(){var t=this._vertices,e=this._topHeight+this._bottomHeight,r=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this._vertices,e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this._worldAlpha,t.setBlendMode(this.blendMode);var r=this.worldMatrix;e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty);var i=this.texture.baseTexture,n=i.source,o=i.width,a=i.height;this.drawSegment(e,n,o,a,0,1,10,11),this.drawSegment(e,n,o,a,2,3,12,13),this.drawSegment(e,n,o,a,4,5,14,15),this.drawSegment(e,n,o,a,8,9,18,19),this.drawSegment(e,n,o,a,10,11,20,21),this.drawSegment(e,n,o,a,12,13,22,23),this.drawSegment(e,n,o,a,16,17,26,27),this.drawSegment(e,n,o,a,18,19,28,29),this.drawSegment(e,n,o,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,i,n,o,a,s){var l=this._uvs,h=this._vertices,u=(l[a]-l[n])*r,c=(l[s]-l[o])*i,p=h[a]-h[n],f=h[s]-h[o];u<1&&(u=1),c<1&&(c=1),p<1&&(p=1),f<1&&(f=1),t.drawImage(e,l[n]*r,l[o]*i,u,c,h[n],h[o],p,f)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),e.prototype._refresh=function(){var t=this._uvs,e=this.texture;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,i=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=i*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this._vertexDirty++,this.multiplyUvs()}}(hi),function(t){function e(e,r){var i=t.call(this,e)||this;return i.points=r,i._vertices=new Float32Array(4*r.length),i._uvs=new Float32Array(4*r.length),i._indices=new Uint16Array(6*(r.length-1)),i.textureHeight=e.height,i.refresh(!0),i.refreshVertices(),i}R(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this.texture._uvs){this._vertices.length/4!==t.length&&(this._vertices=new Float32Array(4*t.length),this._uvs=new Float32Array(4*t.length),this._indices=new Uint16Array(6*(t.length-1)));var e=this._uvs,r=this._indices;e[0]=0,e[1]=0,e[2]=0,e[3]=1;for(var i=t.length,n=1;n<i;n++){var o=n/(i-1);e[s=4*n]=o,e[s+1]=0,e[s+2]=o,e[s+3]=1}var a=0;for(n=0;n<i-1;n++){var s=2*n;r[a++]=s,r[a++]=s+1,r[a++]=s+2,r[a++]=s+2,r[a++]=s+1,r[a++]=s+3}this.multiplyUvs()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1)){if(this._vertices.length/4!==t.length)return this._refresh(),void this.refreshVertices();for(var e,r=t[0],i=0,n=0,o=this._vertices,a=t.length,s=0;s<a;s++){var l=t[s],h=4*s;n=-((e=s<t.length-1?t[s+1]:l).x-r.x),i=e.y-r.y;var u=Math.sqrt(i*i+n*n),c=this.textureHeight/2;i/=u,n/=u,i*=c,n*=c,o[h]=l.x+i,o[h+1]=l.y+n,o[h+2]=l.x-i,o[h+3]=l.y-n,r=l}this._vertexDirty++}},e.prototype.update=function(){t.prototype.update.call(this),(this.autoUpdateVertices||this.textureHeight!==this.texture.height)&&(this.textureHeight=this.texture.height,this.refreshVertices())}}(hi),function(t){function e(){var e=t.call(this)||this;e._textAlpha=1,e._textAlign=_.LEFT,e._verticalAlign=b.UP,e._textWidth=0,e._textHeight=0,e._lineSpacing=14,e._lineType=x.SINGLE,e._text="",e._font="Arial",e._size=12,e._fillColor="#ffffff",e._strokeColor="#ffffff",e._stroke=0,e._italic=!1,e._bold=!1,e._border=!1,e.realLines=[],e._instanceType="TextField";var r=nt();return r.width=r.height=3,e.texture=Yt.fromCanvas(r,"textCanvas"),e.canvas=r,e.context=r.getContext("2d"),Yt.addToCache(e.texture,e.texture.baseTexture.textureCacheIds[0]),e.dirty=!0,e}return R(e,t),Object.defineProperty(e.prototype,"textAlpha",{get:function(){return this._textAlpha},set:function(t){this._textAlpha!=t&&(this._textAlpha=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!=t&&(this._textAlign=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this._textWidth?this._textWidth:(this.updateText(),this.width-20)},set:function(t){this._textWidth!=t&&(this._textWidth=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this._textHeight?this._textHeight:(this.updateText(),this.height-20)},set:function(t){this._textHeight!=t&&(this._textHeight=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){this._lineSpacing!=t&&(this._lineSpacing=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineType",{get:function(){return this._lineType},set:function(t){this._lineType!=t&&(this._lineType=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text!=t&&(this._text=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this._font},set:function(t){this._font!=t&&(this._font=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size!=t&&(this._size=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillColor",{get:function(){return this._fillColor},set:function(t){this._fillColor!=t&&(this._fillColor=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._strokeColor!=t&&(this._strokeColor=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke!=t&&(this._stroke=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"italic",{get:function(){return this._italic},set:function(t){this._italic!=t&&(this._italic=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bold",{get:function(){return this._bold},set:function(t){this._bold!=t&&(this._bold=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"border",{get:function(){return this._border},set:function(t){this._border!=t&&(this._border=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype._prepContext=function(t){var e=this,r=e.size||12;r+="px ",r+=e.font,e._bold&&(r="bold "+r),e._italic&&(r="italic "+r),t.font=r,t.textAlign=e._textAlign||_.LEFT,t.textBaseline="top",t.fillStyle=Bt(e._fillColor,e._textAlpha)},e.prototype.getTextWidth=function(t){void 0===t&&(t=0);var e=this;return e.updateText(),e.context.measureText(e.realLines[t]).width},Object.defineProperty(e.prototype,"lines",{get:function(){return this.realLines.length},enumerable:!0,configurable:!0}),e.prototype._getMeasuredWidth=function(t){if("web"==it())return this.context.measureText(t).width;for(var e=new RegExp("[一-龥]+"),r=/[\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3008|\u3009|\u3010|\u3011|\u300e|\u300f|\u300c|\u300d|\ufe43|\ufe44|\u3014|\u3015|\u2026|\u2014|\uff5e|\ufe4f|\uffe5]/,i=this.size,n=0,o=0;o<t.length;o++){var a=t[o];e.test(a)||r.test(a)?n+=i:n+=4*i/7}return n},e.prototype.updateText=function(){var t=this;if(t.dirty){if(t.dirty=!1,t._boundsID++,!t._text)return t.canvas.width=0,t.canvas.height=0,t._localBoundsSelf.clear(),t.anchorTexture={x:0,y:0},void t.texture.update();t._text+="";var e=t.canvas,r=t.context,i=t._text.toString().split(/(?:\r\n|\r|\n)/),n=[];t.realLines=n,t._prepContext(r);var o=t._textWidth;if(t._text.indexOf("\n")<0&&t._text.indexOf("\r")<0&&t._text.indexOf("\r\n")<0&&t.lineType==x.SINGLE){n[n.length]=i[0];var a=i[0],s=t._getMeasuredWidth(a);if(s>(o=o||s))for(var l=t._getMeasuredWidth(a[0]),h=a[0],u=0,c=a.length,p=1;p<c;p++){if((l+=u=t._getMeasuredWidth(a[p]))>o){n[0]=h;break}h+=a[p]}}else{if(!o)for(var f=0,d=i.length;f<d;f++){(a=i[f])&&(o=Math.max(t._getMeasuredWidth(a),o))}for(f=0,d=i.length;f<d;f++){if(a=i[f]){for(l=t._getMeasuredWidth(a[0]),h=a[0],u=0,c=a.length,p=1;p<c;p++)(l+=u=t._getMeasuredWidth(a[p]))>o?(n[n.length]=h,h=a[p],l=u):h+=a[p];n[n.length]=h}}}var m=t.size*n.length+t._lineSpacing*(n.length-1),v=t._textHeight||m,y=o,g=0;t._textAlign==_.CENTER?g=.5*y:t._textAlign==_.RIGHT&&(g=y);var w=y+20,T=v+20;e.width=w,e.height=T,r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height),t.border&&(r.beginPath(),r.strokeStyle="#000",r.lineWidth=1,r.strokeRect(10.5,10.5,y,v),r.closePath()),r.setTransform(1,0,0,1,g+10,10),t._prepContext(r);var E=t._lineSpacing+t.size,S=0;t._textHeight&&(t._verticalAlign==b.MIDDLE?S=.5*(t._textHeight-m):t._verticalAlign==b.DOWN&&(S=t._textHeight-m)),"tb"==it()&&(S-=4);for(f=0;f<n.length;f++){t.stroke&&(r.strokeStyle=t.strokeColor,r.lineWidth=2*t.stroke,r.strokeText(n[f],0,S+f*E)),r.fillText(n[f],0,S+f*E)}t.offsetX=-10,t.offsetY=-10,this.anchorTexture={x:10.5/w,y:10/T},t.texture.update(),t._onTextureUpdate()}},e.prototype.calculateBounds=function(){this.updateText(),t.prototype.calculateBounds.call(this)},e.prototype._renderCanvas=function(e){this.updateText(),t.prototype._renderCanvas.call(this,e)},e.prototype._renderWebGL=function(e){this.updateText(),t.prototype._renderWebGL.call(this,e)},e.prototype.destroy=function(){this.canvas=null,this.context=null,t.prototype.destroy.call(this)},e}(Jt)),fi=(function(t){function e(){var e=t.call(this)||this;e._prompt="",e._promptColor="#eeeeee",e._textColor="#000000",e._instanceType="EditableText";var r=e,i=function(){r.htmlElement&&r.htmlElement.blur(),r.htmlElement.style.display="none",r.htmlElement.value?(r.text=r.htmlElement.value,r.fillColor=r.textColor):(r.text=r.prompt,r.fillColor=r.promptColor),window.scrollTo(0,0)};return e.addEventListener(Qt.CLICK,(function(t){r.initElement(),r.htmlElement.style.font=r.size+"px "+this.font,r.htmlElement.style.color=r.textColor,r.htmlElement.style.textAlign=r.textAlign,r.htmlElement.style.height=r.textHeight+"px",r.htmlElement.style.width=r.textWidth+"px",r.text!==r.prompt&&(r.htmlElement.value=r.text),r.text="",r.htmlElement.style.display="block",r.htmlElement.focus();var e=r.transform.worldMatrix,n=r.stage._dpi||r.stage.dpi;r.htmlElement.style.transform=r.htmlElement.style.webkitTransform="matrix("+(e.a/n).toFixed(4)+","+(e.b/n).toFixed(4)+","+(e.c/n).toFixed(4)+","+(e.d/n).toFixed(4)+","+(e.tx/n).toFixed(4)+","+(e.ty/n).toFixed(4)+")",r.stage.once(Qt.MOUSE_UP,i)})),e}R(e,t),Object.defineProperty(e.prototype,"prompt",{get:function(){return this._prompt},set:function(t){this._prompt!=t&&(this._prompt=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value||(this.text=this._prompt))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"promptColor",{get:function(){return this._promptColor},set:function(t){this._promptColor!=t&&(this._promptColor=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value||(this.fillColor=this._promptColor))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._textColor},set:function(t){this._textColor!=t&&(this._textColor=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value&&(this.fillColor=this._textColor))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputValue",{get:function(){return this.htmlElement&&this.htmlElement.value||(this.text!=this._prompt?this.text:"")},set:function(t){this.htmlElement&&(this.htmlElement.value=t),this.text=t,this.fillColor=this.textColor},enumerable:!0,configurable:!0}),e.prototype.initElement=function(){var t=this;if(!t.htmlElement){t.htmlElement=document.createElement("input");var e=t.htmlElement,r=e.style;e.type="input",r.position="absolute",r.display="none",r.transformOrigin=r.WebkitTransformOrigin=r.webkitTransformOrigin="0 0 0",r.outline="none",r.borderWidth="thin",r.borderColor="#000",e.placeholder="",r.borderStyle="none",r.backgroundColor="transparent";var i=t.stage.canvas.parentNode;i?i.insertBefore(e,i.childNodes[0]):document.body.appendChild(e),e.onblur=function(){"ios"==h&&window.scrollTo({top:0,left:0,behavior:"smooth"})}}}}(pi),function(t){function e(r){void 0===r&&(r=0);var i=t.call(this)||this;i.inputType=0,i.isAutoDownKeyBoard=!0;var n=null,o=i;o._instanceType="InputText",r<2?(n=document.createElement("input")).type=e._inputTypeList[r]:((n=document.createElement("textarea")).style.resize="none",n.style.overflow="hidden"),o.inputType=r;var a=function(){o.isAutoDownKeyBoard&&"pc"!=h&&(o.htmlElement&&o.htmlElement.blur(),window.scrollTo(0,0))}.bind(o);return o.addEventListener(L.REMOVED_FROM_STAGE,(function(t){o.stage.removeEventListener(Qt.MOUSE_UP,a)})),o.addEventListener(L.ADDED_TO_STAGE,(function(t){o.stage.addEventListener(Qt.MOUSE_UP,a)})),o.init(n),i}R(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e);var r=this;r.htmlElement.style.outline="none",r.htmlElement.style.borderWidth="thin",r.htmlElement.style.borderColor="#000"},e.prototype.initInfo=function(t,e,r,i,n,o,a,s,l){void 0===l&&(l=!1);var h=this;h.htmlElement.placeholder=t,h.htmlElement.style.font=i+"px "+(n||"微软雅黑"),h.htmlElement.style.color=e,h.htmlElement.style.textAlign=r,h.border=l,h.textWidth=o,h.textHeight=a,2==h.inputType&&(h.htmlElement.style.lineHeight=s+"px")},Object.defineProperty(e.prototype,"lineSpacing",{get:function(){return parseInt(this.htmlElement.style.lineHeight)},set:function(t){this.htmlElement.style.lineHeight=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bold",{get:function(){return"bold"==this.htmlElement.style.fontWeight},set:function(t){var e=this.htmlElement.style;e.fontWeight=t?"bold":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"italic",{get:function(){return"italic"==this.htmlElement.style.fontStyle},set:function(t){var e=this.htmlElement.style;e.fontStyle=t?"italic":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return parseInt(this.htmlElement.style.height)},set:function(t){this.htmlElement.style.height=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return parseInt(this.htmlElement.style.width)},set:function(t){this.htmlElement.style.width=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.htmlElement.style.color},set:function(t){this.htmlElement.style.color=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"border",{get:function(){return"none"!=this.htmlElement.style.borderStyle},set:function(t){var e=this;t?(e.htmlElement.style.borderStyle="inset",e.htmlElement.style.backgroundColor="#fff"):(e.htmlElement.style.borderStyle="none",e.htmlElement.style.backgroundColor="transparent")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){if(this.htmlElement)return this.htmlElement.value},set:function(t){this.htmlElement&&(this.htmlElement.value=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxCharacters",{get:function(){var t=this.htmlElement.getAttribute("maxlength");return null===t?0:t},set:function(t){this.htmlElement.setAttribute("maxlength",t)},enumerable:!0,configurable:!0}),e.prototype.convertToTextField=function(t){return this.htmlElement&&this.text?((t=t||new pi).fillColor=this.color,t.text=this.text,t.size=parseInt(this.htmlElement.style.font.split("px")[0]),t.textAlign=this.htmlElement.style.textAlign,t.bold=this.bold,t.italic=this.italic,t.textWidth=this.textWidth,t.lineType=2==this.inputType?x.MULTI:x.SINGLE,t.position.copy(this.position),t.scale.copy(this.scale),t.rotation=this.rotation,t):null},e._inputTypeList=["input","password","textarea"]}(tt),[]),di=(function(t){function e(e){var r=t.call(this)||this;return r._textAlign=_.CENTER,r._verticalAlign=b.MIDDLE,r._gap=0,r.textures=e,r}R(e,t),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!==t&&(this._textAlign=t,this.adaptate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!==t&&(this._verticalAlign=t,this.adaptate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap!=t&&(this._gap=t,this.adaptate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){if(t!==this._text){this._text=t;for(var e=t||[],r=0;r<e.length;r++)if(this.children[r])this.children[r].text=e[r];else{var i=fi.shift();i?i.reset(this.textures):i=new di(this.textures),i.text=e[r],this.addChild(i)}if(this.children.length>e.length)for(r=this.children.length-1;r>=e.length;r--){var n=this.children[r];this.removeChild(n),fi.push(n)}this.adaptate()}},enumerable:!0,configurable:!0}),e.prototype.adaptate=function(){if(this.children.length){for(var t,e=this.children.length,r=0,i=0;i<e;i++)r+=this.children[i].width;r+=(e-1)*this._gap,t=this._textAlign==_.LEFT?0:this._textAlign==_.RIGHT?-r:-r/2;for(var n=0,o=0;o<this.children.length;o++)this.children[o].x=t+n,n+=this.children[o].width+this._gap;var a=0;this._verticalAlign==b.DOWN?a=-1:this._verticalAlign==b.MIDDLE&&(a=-.5),this.children.forEach((function(t){t.y=t.height*a}))}}}($),function(t){function e(e){var r=t.call(this)||this;return r.textures=e,r}return R(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this.texture=this.textures[this._text]},enumerable:!0,configurable:!0}),e.prototype.reset=function(t){this.textures=t},e}(Jt)),mi=function(){function t(t,e,r){this._target=null,this._useTicks=!1,this.ignoreGlobalPause=!1,this.loop=!1,this.pluginData=null,this._steps=null,this.paused=!1,this.duration=0,this._prevPos=-1,this.position=null,this._prevPosition=0,this._stepPosition=0,this.passive=!1,this.initialize(t,e,r)}return t.get=function(e,r,i,n){return void 0===i&&(i=null),void 0===n&&(n=!1),n&&t.removeTweens(e),new t(e,r,i)},t.removeTweens=function(e){if(e.tween_count){for(var r=t._tweens,i=r.length-1;i>=0;i--)r[i]._target==e&&(r[i].paused=!0,r.splice(i,1));e.tween_count=0}},t.removeTweenSelf=function(e){if(e&&e._target&&e._target.tween_count){e.paused=!0;var r=t._tweens,i=r.indexOf(e);i>-1&&r.splice(i,1),e._target.tween_count--}},t.pauseTweens=function(e){if(e.tween_count)for(var r=t._tweens,i=r.length-1;i>=0;i--)r[i]._target==e&&(r[i].paused=!0)},t.resumeTweens=function(e){if(e.tween_count)for(var r=t._tweens,i=r.length-1;i>=0;i--)r[i]._target==e&&(r[i].paused=!1)},t.tick=function(e,r){void 0===r&&(r=!1);var i=e-t._lastTime;t._lastTime=e;for(var n=t._tweens.concat(),o=n.length-1;o>=0;o--){var a=n[o];r&&!a.ignoreGlobalPause||a.paused||a.$tick(a._useTicks?1:i)}return!1},t.flush=function(){var e=Date.now(),r=t._lastTime?e-t._lastTime:16.67;t._lastTime=e;for(var i=t._tweens.concat(),n=i.length-1;n>=0;n--){var o=i[n];o.paused||o.$tick(o._useTicks?1:r)}},t._register=function(e,r){var i=e._target,n=t._tweens;if(r)i&&(i.tween_count=i.tween_count>0?i.tween_count+1:1),n.push(e),t._inited||(t._inited=!0);else{i&&i.tween_count--;for(var o=n.length;o--;)if(n[o]==e)return void n.splice(o,1)}},t.removeAllTweens=function(){for(var e=t._tweens,r=0,i=e.length;r<i;r++){var n=e[r];n.paused=!0,n._target.tween_count=0}e.length=0},t.prototype.initialize=function(e,r,i){this._target=e,r&&(this._useTicks=r.useTicks,this.ignoreGlobalPause=r.ignoreGlobalPause,this.loop=r.loop,r.onChange?this.onChange=r.onChange.bind(r.onChangeObj):this.onChange=null,r.override&&t.removeTweens(e)),this.pluginData=i||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],r&&r.paused?this.paused=!0:t._register(this,!0),r&&null!=r.position&&this.setPosition(r.position,t.NONE)},t.prototype.setPosition=function(t,e){void 0===e&&(e=1),t<0&&(t=0);var r=t,i=!1;if(r>=this.duration)if(this.loop){var n=r%this.duration;r=r>0&&0===n?this.duration:n}else r=this.duration,i=!0;if(r==this._prevPos)return i;i&&this.setPaused(!0);var o=this._prevPos;if(this.position=this._prevPos=r,this._prevPosition=t,this._target&&this._steps.length>0){for(var a=this._steps.length,s=-1,l=0;l<a&&!("step"==this._steps[l].type&&(s=l,this._steps[l].t<=r&&this._steps[l].t+this._steps[l].d>=r));l++);for(l=0;l<a;l++)if("action"==this._steps[l].type)0!=e&&(this._useTicks?this._runAction(this._steps[l],r,r):1==e&&r<o?(o!=this.duration&&this._runAction(this._steps[l],o,this.duration),this._runAction(this._steps[l],0,r,!0)):this._runAction(this._steps[l],o,r));else if("step"==this._steps[l].type&&s==l){var h=this._steps[s];this._updateTargetProps(h,Math.min((this._stepPosition=r-h.t)/h.d,1))}}return this.onChange&&this.onChange(),i},t.prototype._runAction=function(t,e,r,i){void 0===i&&(i=!1);var n=e,o=r;e>r&&(n=r,o=e);var a=t.t;(a==o||a>n&&a<o||i&&a==e)&&t.f.apply(t.o,t.p)},t.prototype._updateTargetProps=function(e,r){var i,n,o,a,s,l;if(e||1!=r){if(this.passive=!!e.v,this.passive)return;e.e&&(r=e.e(r,0,1,1)),i=e.p0,n=e.p1}else this.passive=!1,i=n=this._curQueueProps;for(var h in this._initQueueProps){null==(a=i[h])&&(i[h]=a=this._initQueueProps[h]),null==(s=n[h])&&(n[h]=s=a),o=a==s||0==r||1==r||"number"!=typeof a?1==r?s:a:a+(s-a)*r;var u=!1;if(l=t._plugins[h])for(var c=0,p=l.length;c<p;c++){var f=l[c].tween(this,h,o,i,n,r,!!e&&i==n,!e);f==t.IGNORE?u=!0:o=f}u||(this._target[h]=o)}},t.prototype.setPaused=function(e){return this.paused==e||(this.paused=e,t._register(this,!e)),this},t.prototype._cloneProps=function(t){var e={};for(var r in t)e[r]=t[r];return e},t.prototype._addStep=function(t){return t.d>0&&(t.type="step",this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},t.prototype._appendQueueProps=function(e){var r,i,n,o,a;for(var s in e)if(void 0===this._initQueueProps[s]){if(i=this._target[s],r=t._plugins[s])for(n=0,o=r.length;n<o;n++)i=r[n].init(this,s,i);this._initQueueProps[s]=this._curQueueProps[s]=void 0===i?null:i}else i=this._curQueueProps[s];for(var s in e){if(i=this._curQueueProps[s],r=t._plugins[s])for(a=a||{},n=0,o=r.length;n<o;n++)r[n].step&&r[n].step(this,s,i,e[s],a);this._curQueueProps[s]=e[s]}return a&&this._appendQueueProps(a),this._curQueueProps},t.prototype._addAction=function(t){return t.t=this.duration,t.type="action",this._steps.push(t),this},t.prototype._set=function(t,e){for(var r in t)e[r]=t[r]},t.prototype.wait=function(t,e){if(null==t||t<=0)return this;var r=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:r,p1:r,v:e})},t.prototype.to=function(t,e,r){return void 0===r&&(r=void 0),(isNaN(e)||e<0)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:r,p1:this._cloneProps(this._appendQueueProps(t))}),this.set(t)},t.prototype.by=function(t,e,r){for(var i in void 0===e&&(e=0),void 0===r&&(r=void 0),t)t[i]+=this._curQueueProps[i]||this._target[i];return this.to(t,e,r)},t.prototype.call=function(t,e,r){return void 0===e&&(e=void 0),void 0===r&&(r=void 0),this._addAction({f:t,p:r||[],o:e||this._target})},t.prototype.set=function(t,e){return void 0===e&&(e=null),this._appendQueueProps(t),this._addAction({f:this._set,o:this,p:[t,e||this._target]})},t.prototype.play=function(t){return t||(t=this),this.call(t.setPaused,t,[!1])},t.prototype.pause=function(t){return t||(t=this),this.call(t.setPaused,t,[!0])},t.prototype.$tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},t.NONE=0,t.LOOP=1,t.REVERSE=2,t._tweens=[],t.IGNORE={},t._plugins={},t._inited=!1,t._lastTime=0,t}();(function(t){function e(e,r,i){var n=t.call(this,e)||this;return n._clicked=!1,n._instanceType="Button",n.textureUp=e,n.textureDown=r===e?null:r,n.textureDisable=i||e,n.textureUp&&(n.anchorX=n.textureUp.width/2,n.anchorY=n.textureUp.height/2),n.initButton(),n}R(e,t),e.prototype.changeTexture=function(t,e,r){this.textureUp=t,this.textureDown=e===t?null:e,this.textureDisable=r||t,this.textureUp&&(this.anchorX=this.textureUp.width/2,this.anchorY=this.textureUp.height/2),this._clicked&&this.textureDown?this.texture=this.textureDown:this.mouseEnable||this.textureStatusEnable?this.texture=this.textureUp:this.texture=this.textureDisable},e.prototype._mouseEvent=function(t){var e=this;e._clicked||(t.type==Qt.MOUSE_DOWN?e.textureDown?e.texture=e.textureDown:(this.frames=null,mi.removeTweens(this),mi.get(this).to({scaleX:.9,scaleY:.9},50)):e.textureDown?e.texture=e.textureUp:(this.frames=this.framesOri,mi.removeTweens(this),mi.get(this).to({scaleX:1,scaleY:1},50)))},e.prototype.initButton=function(){var t=this;t.mouseChildren=!1,t.addEventListener("onMouseDown",t._mouseEvent,t),t.addEventListener("onMouseUp",t._mouseEvent,t),t.addEventListener("onMouseOut",t._mouseEvent,t),t.texture=t.textureUp},Object.defineProperty(e.prototype,"clicked",{get:function(){return this._clicked},set:function(t){var e=this;t!=e._clicked&&(t&&e._mouseEvent({type:"onMouseDown"}),e._clicked=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textureStatusEnable",{set:function(t){t?this.texture=this.textureUp:this.textureDisable&&(this.texture=this.textureDisable,this.frames=null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{set:function(t){this.mouseEnable=t,this.textureStatusEnable=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.textureUp=null,this.textureDown=null,this.textureDisable=null,mi.removeTweens(this),t.prototype.destroy.call(this)}})(Jt),function(t){function e(e){var r=t.call(this)||this;return r.loop=1,r.count=0,r.showImage=new Jt,r.showImage.anchorTexture.set(.5,.5),r.addChild(r.showImage),r.texturesAll=e,r.currentFrame=0,r.addEventListener(L.ENTER_FRAME,r.onEnterFrame,r),r.frameRate=30,r}R(e,t),Object.defineProperty(e.prototype,"currentFrame",{set:function(t){this.texturesAll[t]?this.showImage.texture=this.texturesAll[t]:this.showImage.texture=null},enumerable:!0,configurable:!0}),e.prototype.getCurrentFrame=function(){return this.texturesAll.indexOf(this.showImage.texture)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.texturesAll.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameRate",{get:function(){return this._frameRate},set:function(t){this._frameRate=t,this.allTime=this.texturesAll.length/this._frameRate*1e3},enumerable:!0,configurable:!0}),e.prototype.onEnterFrame=function(){if(this.isPlay){var t=(Date.now()-this.startTime)/this.allTime;t>=1?(this.loop--,0==this.loop?(this.isPlay=!1,this.callback&&this.callback()):(this.startTime=Date.now(),this.currentFrame=0)):this.currentFrame=t*this.texturesAll.length>>0}},e.prototype.play=function(t,e){void 0===t&&(t=1),this.startTime=Date.now(),this.isPlay=!0,this.currentFrame=0,this.loop=t,this.callback=e},e.prototype.reset=function(t){void 0===t&&(t=0),this.isPlay=!1,this.currentFrame=t},e.prototype.resetTexturesAll=function(t){this.texturesAll=t,this.currentFrame=0,this.frameRate=30}}($),function(){function t(){}t.get=function(t){return t<-1&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:t<0?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return e<.5?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){var r=2*Math.PI;return function(i){if(0==i||1==i)return i;var n=e/r*Math.asin(1/t);return-t*Math.pow(2,10*(i-=1))*Math.sin((i-n)*r/e)}},t.getElasticOut=function(t,e){var r=2*Math.PI;return function(i){if(0==i||1==i)return i;var n=e/r*Math.asin(1/t);return t*Math.pow(2,-10*i)*Math.sin((i-n)*r/e)+1}},t.getElasticInOut=function(t,e){var r=2*Math.PI;return function(i){var n=e/r*Math.asin(1/t);return(i*=2)<1?t*Math.pow(2,10*(i-=1))*Math.sin((i-n)*r/e)*-.5:t*Math.pow(2,-10*(i-=1))*Math.sin((i-n)*r/e)*.5+1}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.backIn=t.getBackIn(1.7),t.backOut=t.getBackOut(1.7),t.backInOut=t.getBackInOut(1.7),t.elasticIn=t.getElasticIn(1,.3),t.elasticOut=t.getElasticOut(1,.3),t.elasticInOut=t.getElasticInOut(1,.3*1.5)}(),function(t){function e(e,r,i,n,o,a,s){void 0===a&&(a=!0),void 0===s&&(s=1);var l=t.call(this,n,o,0,a)||this;l._items=null,l._isInit=0,l.data=[],l.downL=null,l._lastFirstId=-1,l._updateId=-1;var h=l;return h._instanceType="ScrollList",h._itemW=r,h._itemH=i,h._items=[],h._itemClass=e,h._itemCount=0,h._cols=s,h._updateViewRect(),h.addEventListener(L.ENTER_FRAME,h.flushData.bind(h)),l}R(e,t),Object.defineProperty(e.prototype,"loadingView",{get:function(){return this.downL},enumerable:!0,configurable:!0}),e.prototype.updateData=function(t,e){void 0===e&&(e=!0);var r=this;if(!r._isInit||e?r.data=t:r.data=r.data.concat(t),r._isInit=1,r._lastFirstId=-1,r._updateId=-1,r.maxDistance=Math.ceil(r.data.length/r._cols)*r._itemRow,r.downL){r.downL[r.paramXY]=Math.max(r.distance,r.maxDistance);var i=r.downL.getWH();r.maxDistance+="x"==r.paramXY?i.width:i.height}},e.prototype.flushData=function(){var t=this;if(t._isInit>0&&t._updateId!=t.view.transform._localID){t._updateId=t.view.transform._localID;var e=t.view[t.paramXY]>0?0:(Math.abs(Math.floor(t.view[t.paramXY]/t._itemRow))-1)*t._cols;if((e=e<0?0:e)!=t._lastFirstId&&(t._lastFirstId=e,e!=t._items[0].id))for(var r=0;r<t._cols;r++)t.speed>0?t._items.unshift(t._items.pop()):t._items.push(t._items.shift());for(var i=0;i<t._itemCount;i++){var n=t._items[i];1==t._isInit&&(n.sli_id=-1),n.sli_id!=e&&(n.initData(t.data[e]?e:-1,t.data[e]),n[t.paramXY]=Math.floor(e/t._cols)*t._itemRow,n[t._disParam]=e%t._cols*t._itemCol,t.data[e]?(n.sli_id=e,n.visible=!0):(n.sli_id=-1,n.visible=!1)),e++}t._isInit=2}},e.prototype.setViewRect=function(e,r,i){t.prototype.setViewRect.call(this,e,r,i);var n=this;n._itemRow&&n._itemCol&&n._updateViewRect()},e.prototype._updateViewRect=function(){var t=this;t.isVertical?(t._disParam="x",t._itemRow=t._itemH,t._itemCol=t._itemW):(t._disParam="y",t._itemRow=t._itemW,t._itemCol=t._itemH);var e=(Math.ceil(t.distance/t._itemRow)+1)*t._cols;if(e!=t._itemCount){if(e>t._itemCount)for(var r=t._itemCount;r<e;r++){var i=new t._itemClass;i.id=-1,i.data=null,t._items.push(i),t.view.addChild(i)}else for(r=0;r<t._itemCount-e;r++)t.view.removeChild(t._items.pop());t._itemCount=e,t._lastFirstId=-1}},e.prototype.setLoading=function(t){var e=this;if(e.downL){e.view.removeChild(e.downL);var r=e.downL.getWH();e.maxDistance-="x"==e.paramXY?r.width:r.height,e.downL=null}if(t){e.downL=t,e.view.addChild(t),e.downL[e.paramXY]=Math.max(e.distance,e.maxDistance);r=e.downL.getWH();e.maxDistance+="x"==e.paramXY?r.width:r.height}else e.isStop=!1},e.prototype.destroy=function(){var e=this;e._items=null,e._itemClass=null,e.data=null,e.downL=null,t.prototype.destroy.call(this)}}(function(t){function e(e,r,i,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1);var a=t.call(this)||this;a.isVertical=!0,a.viewWidth=0,a.viewHeight=0,a._tweenId=0,a.maxDistance=1040,a.distance=0,a.minDis=2,a.maskObj=new ni,a.view=new $,a.lastValue=0,a.speed=0,a.addSpeed=0,a.isStop=!0,a.maxSpeed=100,a.fSpeed=20,a.paramXY="y",a.stopTimes=-1,a.isMouseDownState=0,a.autoScroll=!1,a.isSpringBack=!0;var s=a;return s._instanceType="ScrollPage",s.addChild(s.maskObj),s.addChild(s.view),o||(s.view.mask=s.maskObj,s.maskObj.isUsedToMask=!1),s.maskObj.alpha=0,s.maxDistance=i,s.setViewRect(e,r,n),s.addEventListener(L.ADDED_TO_STAGE,(function(t){s.stage.addEventListener(Qt.MOUSE_MOVE,s.onMouseEvent,s),s.stage.addEventListener(Qt.MOUSE_UP,s.onMouseEvent,s)})),s.addEventListener(L.REMOVED_FROM_STAGE,(function(t){s.stage.removeEventListener(Qt.MOUSE_MOVE,s.onMouseEvent,s),s.stage.removeEventListener(Qt.MOUSE_UP,s.onMouseEvent,s)})),s.addEventListener(Qt.MOUSE_DOWN,s.onMouseEvent,s,!1),s.addEventListener(L.ENTER_FRAME,(function(){var t=s.view;if(!s.autoScroll){if(!s.isSpringBack){if(t[s.paramXY]>0)return s.addSpeed=0,s.speed=0,s.isStop=!0,void(t[s.paramXY]=0);if(t[s.paramXY]<s.distance-s.maxDistance)return s.addSpeed=0,s.speed=0,s.isStop=!0,t[s.paramXY]=s.distance-s.maxDistance,void(s.distance>s.maxDistance&&(t[s.paramXY]=0))}if(s.isStop)s.stopTimes>=0&&(s.stopTimes++,s.stopTimes>=15&&(s.speed=0,(t[s.paramXY]>0||t[s.paramXY]<s.distance-s.maxDistance)&&(s.isStop=!1,s.stopTimes=-1,s.isMouseDownState=0)));else if(Math.abs(s.speed)>0)t[s.paramXY]+=s.speed,t[s.paramXY]>0||t[s.paramXY]<s.distance-s.maxDistance?s.speed+=s.addSpeed*s.fSpeed:s.speed+=s.addSpeed,s.speed*s.addSpeed>0&&(s.dispatchEvent(L.SCROLL_STOP),s.speed=0);else if(0!=s.addSpeed){if(t[s.paramXY]>0||t[s.paramXY]<s.distance-s.maxDistance){var e=0;t[s.paramXY]<s.distance-s.maxDistance&&s.distance<s.maxDistance&&(e=s.distance-s.maxDistance),t[s.paramXY]+=.4*(e-t[s.paramXY]),Math.abs(e-t[s.paramXY])<.1&&(s.isStop=!0,s.addSpeed>0?s.dispatchEvent(L.SCROLL_TO_END):s.dispatchEvent(L.SCROLL_TO_HEAD))}}else s.isStop=!0}})),a}return R(e,t),e.prototype.setViewRect=function(t,e,r){var i=this;i.maskObj.clear(),i.maskObj.beginFill("#000000"),i.maskObj.drawRect(0,0,t,e),i.viewWidth=t,i.viewHeight=e,i.maskObj.endFill(),i.isVertical=r,r?(i.distance=i.viewHeight,i.paramXY="y"):(i.distance=i.viewWidth,i.paramXY="x"),i.isVertical=r},e.prototype.onMouseEvent=function(t){var e=this,r=e.view;if(t.type==Qt.MOUSE_DOWN)t.stopPropagation(),e.isStop||(e.isStop=!0),e.autoScroll&&(e.autoScroll=!1,mi.removeTweens(e.view)),e.isVertical?e.lastValue=t.stageY:e.lastValue=t.stageX,e.speed=0,e.isMouseDownState=1;else if(t.type==Qt.MOUSE_MOVE){if(0==e.isMouseDownState)return;1==e.isMouseDownState&&e.dispatchEvent(L.SCROLL_START),e.isMouseDownState=2;var i=void 0;if(i=e.isVertical?t.stageY:t.stageX,e.speed=i-e.lastValue,e.speed>e.minDis?(e.addSpeed=-2,e.speed>e.maxSpeed&&(e.speed=e.maxSpeed)):e.speed<-e.minDis?(e.speed<-e.maxSpeed&&(e.speed=-e.maxSpeed),e.addSpeed=2):e.speed=0,0!=e.speed){var n=1;(r[e.paramXY]>0||r[e.paramXY]<e.distance-e.maxDistance)&&(n=.2),r[e.paramXY]+=(i-e.lastValue)*n}e.lastValue=i,e.stopTimes=0}else e.isStop=!1,e.stopTimes=-1,0==e.speed&&2==e.isMouseDownState&&e.dispatchEvent(L.SCROLL_STOP),e.isMouseDownState=0},e.prototype.scrollTo=function(t,e){var r;void 0===e&&(e=0);var i=this,n="x"==i.paramXY?i.viewWidth:i.viewHeight;t<0?t=0:t>i.maxDistance-n&&(t=i.maxDistance-n),Math.abs(i.view[i.paramXY]+t)>2&&(i.autoScroll=!0,i.isStop=!0,i.isMouseDownState=0,mi.get(i.view).to((r={},r[i.paramXY]=-t,r),e).call((function(){i.view[i.paramXY]=-t,i.autoScroll=!1})),0==i.speed&&i.dispatchEvent(L.SCROLL_START))},e.prototype.destroy=function(){mi.removeTweens(this.view);var e=this;e.maskObj.destroy(),e.view.destroy(),e.maskObj=null,e.view=null,t.prototype.destroy.call(this)},e}($)),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}R(e,t),e.prototype.playWords=function(t,e,r){var i=this;void 0===e&&(e=100);for(var n=t.split("\n"),o=[],a=0;a<n.length;a++){for(var s=n[a],l="",h=0;h<a;)l+=n[h],l+="\n",h++;for(var u=0;u<s.length;u++){var c=""+l;c+=s.substring(0,u+1),o.push(c)}}for(var p=function(t){var n=o[t];setTimeout((function(){i.text=n,t==o.length-1&&r&&r()}),e*t)},f=0;f<o.length;f++)p(f)}}(pi),function(t){function e(e){var r=t.call(this)||this;r.lockStep=!1,r._curFrame=1,r._isPlaying=!0,r._isFront=!0,r.frameCount=0,r._lastFrame=0,r.commonDeltaTime=1e3/60;var i=r;return i._instanceType="MovieClip",e&&i.init(e),r}R(e,t),Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._curFrame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.rawData&&this.rawData.frames||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoWidth",{get:function(){return this.rawData&&this.rawData.videoSize.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoHeight",{get:function(){return this.rawData&&this.rawData.videoSize.height},enumerable:!0,configurable:!0}),e.prototype.init=function(t){if(t){if(this.removeAllChildren(),this.startAniRangeFun&&this.removeEventListener(L.ENTER_FRAME,this.startAniRangeFun,this),this.rawData=t,this.timeInterval=1e3/t.FPS,this.startTime=Date.now(),this.startFrame=1,this.deltaFrame=60/t.FPS,this.frameCount=this.deltaFrame,this._curFrame=1,t.images&&!t.textures)for(var e in t.textures={},t.images){var r=t.images[e];0!==r.indexOf("iVBO")&&0!==r.indexOf("/9j/2w")||(r="data:image/png;base64,"+r);var i=ot();i.src=r,t.textures[e]=new Yt(new Ht(i))}this.initChildren(t.sprites)}},e.prototype.initChildren=function(t){for(var e=0,r=t.length;e<r;e++){var i=t[e];if(i.imageKey){var n=this.addChild(new Jt(this.rawData.textures?this.rawData.textures[i.imageKey]:zt[i.imageKey]||zt[i.imageKey+".png"]||null));n.frames=i.frames,i.frames[0].alpha<.05?n.alpha=0:(n.alpha=i.frames[0].alpha,n.transform.localMatrix.copy(i.frames[0].transform),n.transform._parentID=-1),n.framesOri=i.frames,n.imageKey=i.imageKey}}},e.prototype.setImage=function(t,e){for(var r=[],i=0;i<this.children.length;i++)this.children[i].imageKey==t&&r.push(this.children[i]);if(r.length){var n=r[0].texture,o=n.width,a=n.height,s=ot();s.onload=function(){var t;if(s.width==o&&s.height==a)t=Yt.from(s);else{var e=nt();e.width=o,e.height=a;var i=e.getContext("2d"),n=o/a,l=s.width/s.height;n>l?i.drawImage(s,0,0,s.width,s.height,(o-l*a)/2,0,l*a,a):i.drawImage(s,0,0,s.width,s.height,0,(a-o/l)/2,o,o/l),t=Yt.fromCanvas(e)}r.forEach((function(e){e.texture=t}))},s.src=e}},e.prototype.stop=function(){this._isPlaying=!1},e.prototype.nextFrame=function(){var t=this;t._curFrame<t.totalFrames&&t._curFrame++,t._isPlaying=!1},e.prototype.prevFrame=function(){var t=this;t._curFrame>1&&t._curFrame--,t._isPlaying=!1},e.prototype.gotoAndStop=function(t){var e=this;e._isPlaying=!1,t>e.totalFrames&&(t=e.totalFrames),t<1&&(t=1),e._curFrame=t},e.prototype.play=function(t){void 0===t&&(t=!0);var e=this;e.frameCount=e.deltaFrame,e.startTime=Date.now(),e.startFrame=e._curFrame,e._isPlaying=!0,e._isFront=t},Object.defineProperty(e.prototype,"isInTimeFrame",{get:function(){return this.frameCount==this.deltaFrame},enumerable:!0,configurable:!0}),e.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=!0);var r=this;r._isFront=e,r._isPlaying=!0,t>r.totalFrames&&(t=r.totalFrames),t<1&&(t=1),r.frameCount=r.deltaFrame,r.startTime=Date.now(),r._curFrame=t,r.startFrame=r._curFrame},e.prototype.startAniRange=function(t,e,r,i){var n=this;if(void 0===t&&(t=1),void 0===e&&(e=this.totalFrames),void 0===r&&(r=1),t=t||1,e=e||this.totalFrames,r=r||0,r=Math.max(0,r),t<1&&(t=1),t>this.totalFrames&&(t=this.totalFrames),e<1&&(e=1),e>this.totalFrames&&(e=this.totalFrames),t!==e){this._isFront=t<e,this.startAniRangeFun&&this.removeEventListener(L.ENTER_FRAME,this.startAniRangeFun,this),this._curFrame=t,this.frameCount=this.deltaFrame,this.startTime=Date.now(),this.startFrame=this._curFrame,this._isPlaying=!0;var o=r?r+.5>>0:1/0;this.addEventListener(L.ENTER_FRAME,this.startAniRangeFun=function(r){r.target._isFront?(r.target.currentFrame>=e||r.target._endMark)&&(--o<=0?(r.target.gotoAndStop(e),r.target.removeEventListener(L.ENTER_FRAME,n.startAniRangeFun,n),n.startAniRangeFun=null,i&&i()):r.target.gotoAndPlay(t)):(r.target.currentFrame<=t||r.target._endMark)&&(--o<=0?(r.target.gotoAndStop(t),r.target.removeEventListener(L.ENTER_FRAME,n.startAniRangeFun,n),n.startAniRangeFun=null,i&&i()):r.target.gotoAndPlay(e,!1))},this)}else this.gotoAndStop(t)},e.prototype.updateFrame=function(){var t=this;if(0!=t.totalFrames&&1!=t.totalFrames){var e=!1;if(t._lastFrame!=t._curFrame?(e=!0,t._lastFrame=t._curFrame,t.startTime=Date.now(),t.startFrame=t._curFrame,t._endMark=!1):t._isPlaying&&(t.lockStep?e=t.getCurFrameWhenLockStep():0==--t.frameCount&&(t.frameCount=t.deltaFrame,e=!0,t._isFront?(t._curFrame++,t._curFrame>t.totalFrames&&(t._curFrame=1)):(t._curFrame--,t._curFrame<1&&(t._curFrame=t.totalFrames)),t._lastFrame=t._curFrame)),e){for(var r=0,i=t.children.length;r<i;r++){var n=t.children[r];if(n.frames&&n.frames[t._curFrame-1]){var o=n.frames[t._curFrame-1];if(o.alpha<.05)n.alpha=0;else if(n.alpha=o.alpha,j.isEqual(n.transform.localMatrix,o.transform)||(n.transform.localMatrix.copy(o.transform),n.transform._parentID=-1),o.maskPath){n.cusMask||(n.cusMask=new ai),n.mask||(n.mask=n.addChild(n.cusMask));var a=n.mask;this.updateMask(a,o.maskPath)}else n.mask&&(n.removeChild(n.mask),n.mask=null)}}t.lockStep?t._endMark&&t.hasEventListener(L.END_FRAME)&&t.dispatchEvent(L.END_FRAME,{frameIndex:t._curFrame,frameName:"endFrame"}):(1==t._curFrame&&!t._isFront||t._curFrame==t.totalFrames&&t._isFront)&&t.hasEventListener(L.END_FRAME)&&t.dispatchEvent(L.END_FRAME,{frameIndex:t._curFrame,frameName:"endFrame"})}}},e.prototype.getCurFrameWhenLockStep=function(){var t=(Date.now()-this.startTime)/this.timeInterval>>0;return t==this.lastDeltaFrame?(this.frameCount=0,!1):(this._endMark=!1,this.frameCount=this.deltaFrame,this.lastDeltaFrame=t,this._isFront?(this._curFrame=(this.startFrame+t)%this.totalFrames,0==this._curFrame?(this._curFrame=this.totalFrames,this._endMark=!0):this._lastFrame>this._curFrame&&this._lastFrame!=this.totalFrames&&(this._endMark=!0)):(this._curFrame=(this.startFrame-t)%this.totalFrames,0==this._curFrame?this._curFrame=this.totalFrames:this._curFrame<0&&(this._curFrame+=this.totalFrames),(1==this._curFrame||this._lastFrame<this._curFrame&&1!=this._lastFrame)&&(this._endMark=!0)),this._lastFrame=this._curFrame,!0)},e.prototype.update=function(){this.updateFrame(),t.prototype.update.call(this)},e.prototype.destroy=function(){this.rawData=null,t.prototype.destroy.call(this)},e.prototype.updateMask=function(t,e){t.clear(),e._transform;var r={x:0,y:0,x1:0,y1:0,x2:0,y2:0};t.beginFill();e._d.replace(/([a-zA-Z])/g,"|||$1 ").replace(/,/g," ").split("|||").forEach((function(e){if(0!=e.length){var i=e.substr(0,1);if("MLHVCSQRZmlhvcsqrz".indexOf(i)>=0){var n=e.substr(1).trim().split(" ");switch(i){case"M":r.x=Number(n[0]),r.y=Number(n[1]),t.moveTo(r.x,r.y);break;case"m":r.x+=Number(n[0]),r.y+=Number(n[1]),t.moveTo(r.x,r.y);break;case"L":r.x=Number(n[0]),r.y=Number(n[1]),t.lineTo(r.x,r.y);break;case"l":r.x+=Number(n[0]),r.y+=Number(n[1]),t.lineTo(r.x,r.y);break;case"H":r.x=Number(n[0]),t.lineTo(r.x,r.y);break;case"h":r.x+=Number(n[0]),t.lineTo(r.x,r.y);break;case"V":r.y=Number(n[0]),t.lineTo(r.x,r.y);break;case"v":r.y+=Number(n[0]),t.lineTo(r.x,r.y);break;case"C":r.x1=Number(n[0]),r.y1=Number(n[1]),r.x2=Number(n[2]),r.y2=Number(n[3]),r.x=Number(n[4]),r.y=Number(n[5]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y);break;case"c":r.x1=r.x+Number(n[0]),r.y1=r.y+Number(n[1]),r.x2=r.x+Number(n[2]),r.y2=r.y+Number(n[3]),r.x+=Number(n[4]),r.y+=Number(n[5]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y);break;case"S":r.x1&&r.y1&&r.x2&&r.y2?(r.x1=r.x-r.x2+r.x,r.y1=r.y-r.y2+r.y,r.x2=Number(n[0]),r.y2=Number(n[1]),r.x=Number(n[2]),r.y=Number(n[3]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y)):(r.x1=Number(n[0]),r.y1=Number(n[1]),r.x=Number(n[2]),r.y=Number(n[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y));break;case"s":r.x1&&r.y1&&r.x2&&r.y2?(r.x1=r.x-r.x2+r.x,r.y1=r.y-r.y2+r.y,r.x2=r.x+Number(n[0]),r.y2=r.y+Number(n[1]),r.x+=Number(n[2]),r.y+=Number(n[3]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y)):(r.x1=r.x+Number(n[0]),r.y1=r.y+Number(n[1]),r.x+=Number(n[2]),r.y+=Number(n[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y));break;case"Q":r.x1=Number(n[0]),r.y1=Number(n[1]),r.x=Number(n[2]),r.y=Number(n[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y);break;case"q":r.x1=r.x+Number(n[0]),r.y1=r.y+Number(n[1]),r.x+=Number(n[2]),r.y+=Number(n[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y);break;case"A":case"a":break;case"Z":case"z":t.closePath()}}}})),t.endFill()},e.deepCopyFrames=function(t,e,r,i,n,o,a,s){void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=1),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0);var l=[];o*=Math.PI/180;var h={};h.a=Math.cos(o)*i,h.b=Math.sin(o)*i,h.c=-Math.sin(o)*n,h.d=Math.cos(o)*n,h.tx=e+a-(a*h.a+s*h.c),h.ty=r+s-(a*h.b+s*h.d);for(var u=0;u<t.length;u++){var c=t[u],p=c.transform,f={alpha:0,transform:null};f.alpha=c.alpha,f.transform={a:h.a*p.a+h.b*p.c,b:h.a*p.b+h.b*p.d,c:h.c*p.a+h.d*p.c,d:h.c*p.b+h.d*p.d,tx:h.tx*p.a+h.ty*p.c+p.tx,ty:h.tx*p.b+h.ty*p.d+p.ty},l.push(f)}return l}}($),function(){var t={};var e="function"==typeof Float32Array;function r(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function n(t){return 3*t}function o(t,e,o){return((r(e,o)*t+i(e,o))*t+n(e))*t}function a(t,e,o){return 3*r(e,o)*t*t+2*i(e,o)*t+n(e)}function s(t){this._p=t,this._mSampleValues=e?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}s.prototype={get:function(t){var e=this._p[0],r=this._p[1],i=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),e===r&&i===n?t:0===t?0:1===t?1:o(this._getTForX(t),r,n)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],i=this._p[3];this._precomputed=!0,t===e&&r===i||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],r=0;r<11;++r)this._mSampleValues[r]=o(.1*r,t,e)},_getTForX:function(t){for(var e=this._p[0],r=this._p[2],i=this._mSampleValues,n=0,s=1;10!==s&&i[s]<=t;++s)n+=.1;var l=n+.1*((t-i[--s])/(i[s+1]-i[s])),h=a(l,e,r);return h>=.001?function(t,e,r,i){for(var n=0;n<4;++n){var s=a(e,r,i);if(0===s)return e;e-=(o(e,r,i)-t)/s}return e}(t,l,e,r):0===h?l:function(t,e,r,i,n){var a,s,l=0;do{(a=o(s=e+(r-e)/2,i,n)-t)>0?r=s:e=s}while(Math.abs(a)>1e-7&&++l<10);return s}(t,n,n+.1,e,r)}}}();!function(t){function e(e){var r=t.call(this)||this;return r.deltaFrame=1,r._instanceType="Lottie",e&&r.init(e),r}R(e,t),Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.rawData&&this.rawData.op-this.rawData.ip||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoWidth",{get:function(){return this.rawData&&this.rawData.w||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoHeight",{get:function(){return this.rawData&&this.rawData.h||0},enumerable:!0,configurable:!0}),e.prototype.init=function(t){t&&(this.rawData=t,this.timeInterval=1e3/t.fr,this.deltaFrame=60/t.fr,this.name=t.nm,t.assets&&!t.textures&&(t.textures={},t.assets.forEach((function(e){var r=ot();r.src=e.p,t.textures[e.id]=new Yt(new Ht(r))}))),this.initChildren())},e.prototype.initChildren=function(){for(var t=this.rawData.layers.slice(),e=t.length-1;e>=0;e--){var r=t[e];this.addChild(new Jt(r.refId?this.rawData.textures?this.rawData.textures[r.refId]:zt[r.refId]||zt[r.refId+".png"]:null)).layerData=r}this.initState()},e.prototype.initState=function(t){void 0===t&&(t=this.children);for(var e=0;e<t.length;e++){var r=t[e];if(r.layerData){var i=r.layerData;r.alpha=i.ks.o.k[0]?i.ks.o.k[0].s[0]/100:i.ks.o.k/100,r.rotation=i.ks.r.k[0]?i.ks.r.k[0].s[0]:i.ks.r.k;var n="number"==typeof i.ks.a.k[0]?i.ks.a.k:i.ks.a.k[0].s;r.anchor.set(n[0],n[1]);n="number"==typeof i.ks.p.k[0]?i.ks.p.k:i.ks.p.k[0].s;r.position.set(n[0]-r.anchorX,n[1]-r.anchorY);n="number"==typeof i.ks.s.k[0]?i.ks.s.k:i.ks.s.k[0].s;r.scale.set(n[0]/100,n[1]/100),r.visible=i.ip<=0}r.children.length&&this.initState(r.children)}},e.prototype.play=function(t,e){void 0===t&&(t=0),this.stop(!0),this.loops=t,this.callback=e,this.addTweens()},e.prototype.stop=function(t){void 0===t&&(t=!1),mi.removeTweens(this),this.children.forEach((function(t){mi.removeTweens(t)})),t&&this.initState()},e.prototype.addTweens=function(t){var e=this;void 0===t&&(t=this.children);for(var r,i,n,o=function(){var e=t[s];if(e.layerData){var o=e.layerData;o.ks.o.k.length&&a.addTween(e,"o"),o.ks.r.k.length&&a.addTween(e,"r"),"number"!=typeof o.ks.p.k[0]&&a.addTween(e,"p"),"number"!=typeof o.ks.s.k[0]&&a.addTween(e,"s"),r=mi.get(e,{loop:!0}),(o.ip>0||o.op<a.rawData.op)&&(i=o.ip<0?0:o.ip,n=o.op>a.rawData.op?a.rawData.op:o.op,r.wait(i*a.timeInterval).call((function(){e.visible=!0})).wait((n-i)*a.timeInterval).call((function(){e.visible=!1})).wait((a.rawData.op-n)*a.timeInterval))}e.children.length&&a.addTweens(e.children)},a=this,s=0;s<t.length;s++)o();mi.get(this,{loop:!0}).wait((this.rawData.op-this.rawData.ip)*this.timeInterval).call((function(){0==--e.loops&&(e.stop(),e.callback&&e.callback())}))},e.prototype.addTween=function(t,e){var r=t.layerData.ks[e].k,i=mi.get(t,{loop:!0}),n=0;if(t.layerData.ks[e].x){var o=t.layerData.ks[e].x,a=+o.replace(/[^0-9]/gi,"");if(o.indexOf("loopOut")>=0){for(var s=[],l=0,h=0;h<r.length;h++){if((T=r[h]).t>t.layerData.op)break;var u=(b=T.t-l)*this.timeInterval,c=S(T);0==h&&T.t>0?(i.wait(u),n+=u):0==h&&0==T.t?(i.set(c),s.push({obj:c,deltaT:b,deltaTime:u,isSet:!0})):T.t-l==1||1===T.h?(i.wait(u).set(c),s.push({obj:c,deltaT:b,deltaTime:u,isSet:!0}),n+=u):(i.to(c,u),s.push({obj:c,deltaT:b,deltaTime:u}),n+=u),l=T.t}if(o.indexOf("pingpong")>=0&&r[r.length-1].t<t.layerData.op){var p=Math.round((t.layerData.op-r[r.length-1].t)/(r[r.length-1].t-r[0].t));l+=p*(r[r.length-1].t-r[0].t);for(var f=!1;--p;){if(f)for(var d=0;d<s.length;d++)i.to(s[d].obj,s[d].deltaTime),n+=s[d].deltaTime;else for(d=s.length-1;d>=1;d--)i.to(s[d-1].obj,s[d].deltaTime),n+=s[d].deltaTime;f=!f}}else if(o.indexOf("cycle")>=0&&r[r.length-1].t<t.layerData.op){for(var m=r.length-1,v=Math.floor((t.layerData.op-r[m].t)/(r[m].t-r[m-(a||m)].t)),y=s.slice(-a);v;){v--;for(d=0;d<y.length;d++)y[d].isSet?i.wait(y[d].deltaTime).set(y[d].obj):i.to(y[d].obj,y[d].deltaTime),n+=y[d].deltaTime}var g=(t.layerData.op-r[m].t)%(r[m].t-r[m-(a||m)].t);for(d=0;d<y.length;d++){if(!(y[d].deltaT<=g)){if(g>0){var _=vi(0==d?yi(y[d].obj,i._initQueueProps):y[d-1].obj,y[d].obj,g/y[d].deltaT);i.to(_,g*this.timeInterval),n+=g*this.timeInterval}break}y[d].isSet?i.wait(y[d].deltaTime).set(y[d].obj):i.to(y[d].obj,y[d].deltaTime),g-=y[d].deltaT,n+=y[d].deltaTime}}}else if(o.indexOf("loopIn")>=0){for(s=[],l=0,h=0;h<r.length;h++){var b;u=(b=(T=r[h]).t-l)*this.timeInterval,c=S(T);T.t-l==1||1===T.h?s.push({obj:c,deltaT:b,deltaTime:u,isSet:!0,timeOri:T.t}):s.push({obj:c,deltaT:b,deltaTime:u,timeOri:T.t}),l=T.t}if(o.indexOf("pingpong")>=0&&r[0].t>0){s=function(t,e,r){var i=t[0].deltaT;e>=t.length&&(e=0);var n=t.slice(0,e?e+1:t.length),o=t[0].deltaTime/t[0].deltaT,a=[],s=!0,l=0,h=0;for(;i>0;){s?l++:l--,l>n.length-1?(s=!1,l-=2):l<0&&(s=!0,l+=2);var u=Math.abs(n[h].timeOri-n[l].timeOri);a.unshift({obj:n[h].obj,deltaT:u,deltaTime:u*o,timeOri:n[h].timeOri,isSet:n[h].isSet}),h=l,i-=u}a.unshift({obj:n[h].obj,deltaT:0,deltaTime:0,timeOri:n[h].timeOri,isSet:!0});for(var c=1;c<t.length&&!(t[c].timeOri>r);c++)a.push(t[c]);return a}(s,a,t.layerData.op);for(d=0;d<s.length;d++)s[d].isSet?i.wait(s[d].deltaTime).set(s[d].obj):i.to(s[d].obj,s[d].deltaTime),n+=s[d].deltaTime}else if(o.indexOf("cycle")>=0&&r[0].t>0){s=function(t,e,r,i){void 0===i&&(i=0);var n=t[0].deltaT-i;e>=t.length&&(e=0);var o=t.slice(0,e?e+1:t.length),a=[],s=0;for(;n>0;)--s<0&&(s=o.length-1),s?(a.unshift(o[s]),n-=o[s].deltaT):a.unshift({obj:o[0].obj,deltaT:0,deltaTime:0,timeOri:o[0].timeOri,isSet:!0});a.unshift({obj:o[0].obj,deltaT:0,deltaTime:0,timeOri:o[0].timeOri,isSet:!0}),a.push({obj:o[0].obj,deltaT:0,deltaTime:0,isSet:!0});for(var l=1;l<t.length&&!(t[l].timeOri>r);l++)a.push(t[l]);return a}(s,a,t.layerData.op,t.layerData.ip),t.layerData.ip&&(i.wait(t.layerData.ip*this.timeInterval),n+=t.layerData.ip*this.timeInterval);for(d=0;d<s.length;d++)s[d].isSet?i.wait(s[d].deltaTime).set(s[d].obj):i.to(s[d].obj,s[d].deltaTime),n+=s[d].deltaTime}var x=Math.min(t.layerData.op,this.rawData.op);if(n<x*this.timeInterval){var w=x*this.timeInterval-n;i.wait(w),n+=w}}t.layerData.op<this.rawData.op&&(i.wait((this.rawData.op-t.layerData.op)*this.timeInterval),n+=(this.rawData.op-t.layerData.op)*this.timeInterval)}else{for(l=0,h=0;h<r.length;h++){var T;c=S(T=r[h]),u=void 0;if(T.t<0){if(!r[h+1]||r[h+1].t<0)break;c=vi(c,S(r[h+1]),-T.t/(r[h+1].t-T.t)),i.set(c),l=0}else if(T.t>this.rawData.op){if(!r[h-1]||r[h-1].t>this.rawData.op)break;var E=this.rawData.op-r[h-1].t;u=E*this.timeInterval,c=vi(S(r[h-1]),c,E/(T.t-r[h-1].t)),i.to(c,u),n+=u,l=this.rawData.op}else u=(T.t-l)*this.timeInterval,0==h&&T.t>0?i.wait(u):0==h&&0==T.t?i.set(c):i.to(c,u),n+=u,l=T.t}this.rawData.op>l&&i.wait((this.rawData.op-l)*this.timeInterval)}function S(r){var i;switch(e){case"r":i={rotation:r.s[0]};break;case"o":i={alpha:r.s[0]/100};break;case"s":i={scaleX:r.s[0]/100,scaleY:r.s[1]/100};break;case"p":i={x:r.s[0]-t.anchorX,y:r.s[1]-t.anchorY}}return i}},e.prototype.updateTransform=function(){var t=this;this.displayObjectUpdateTransform(),this.children.forEach((function(e){t._recursivePostUpdateTransformAA(e)})),this.children.forEach((function(t){t.mark=!1}))},e.prototype.findChildByInd=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].layerData&&this.children[e].layerData.ind===t)return this.children[e];return null},e.prototype._recursivePostUpdateTransformAA=function(t){if(t.layerData&&t.layerData.parent){var e=this.findChildByInd(t.layerData.parent);this._recursivePostUpdateTransformAA(e),t.mark||(t.mark=!0,t.transform.updateWorldMatrix(e.transform),t._worldAlpha=t.alpha*t.parent._worldAlpha)}else t.mark||(t.updateTransform(),t.mark=!0)},e.prototype.startAniRange=function(t,e,r,i){void 0===e&&(e=this.totalFrames),void 0===r&&(r=1),this.play(r,i)},e.prototype.destroy=function(){mi.removeTweens(this),this.children.forEach((function(t){mi.removeTweens(t)})),t.prototype.destroy.call(this)}}($);function vi(t,e,r){var i={};for(var n in t)i[n]=(e[n]-t[n])*r+t[n];return i}function yi(t,e){var r={};if(!t)return r;for(var i in t)r[i]=e[i];return r}var gi,_i=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.z=r}return t.prototype.set=function(t,e,r){return this.x=t,this.y=e,this.z=r,this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this.z+=t,this},t.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},t.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},t.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this.z-=t,this},t.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this},t.prototype.multiplyVectors=function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},t.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},t.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},t.prototype.cross=function(t){return this.crossVectors(this,t)},t.prototype.crossVectors=function(t,e){var r=t.x,i=t.y,n=t.z,o=e.x,a=e.y,s=e.z;return this.x=i*s-n*a,this.y=n*o-r*s,this.z=r*a-i*o,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z},t.prototype.normalize=function(){var t=1/(this.length()||1);return this.x*=t,this.y*=t,this.z*=t,this},t.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},t.prototype.distanceToSquared=function(t){var e=this.x-t.x,r=this.y-t.y,i=this.z-t.z;return e*e+r*r+i*i},t.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},t.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},t.prototype.clamp=function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},t.prototype.clampScalar=function(e,r){return this.clamp(new t(e,e,e),new t(r,r,r))},t.prototype.clampLength=function(t,e){return this.divideScalar(this.length()||1).multiplyScalar(Math.max(t,Math.min(e,length)))},t.prototype.applyMatrix4=function(t){var e=this.x,r=this.y,i=this.z,n=t.elements,o=1/(n[3]*e+n[7]*r+n[11]*i+n[15]);return this.x=(n[0]*e+n[4]*r+n[8]*i+n[12])*o,this.y=(n[1]*e+n[5]*r+n[9]*i+n[13])*o,this.z=(n[2]*e+n[6]*r+n[10]*i+n[14])*o,this},t.prototype.setFromMatrixPosition=function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},t.prototype.setFromMatrixScale=function(t){var e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=i,this},t.prototype.setFromMatrixColumn=function(t,e){return this.fromArray(t.elements,4*e)},t.prototype.transformDirection=function(t){var e=this.x,r=this.y,i=this.z,n=t.elements;return this.x=n[0]*e+n[4]*r+n[8]*i,this.y=n[1]*e+n[5]*r+n[9]*i,this.z=n[2]*e+n[6]*r+n[10]*i,this.normalize()},t.prototype.project=function(t){return this.applyMatrix4(t.worldMatrixInverse).applyMatrix4(t.projectionMatrix)},t.prototype.unproject=function(t){return this.applyMatrix4((new bi).setInverseOf(t.projectionMatrix)).applyMatrix4(t._worldMatrix)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},t}(),bi=function(){function t(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return t.prototype.setIdentity=function(){var t=this.elements;return t[0]=1,t[4]=0,t[8]=0,t[12]=0,t[1]=0,t[5]=1,t[9]=0,t[13]=0,t[2]=0,t[6]=0,t[10]=1,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,this},t.prototype.set=function(t,e,r,i,n,o,a,s,l,h,u,c,p,f,d,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=r,v[12]=i,v[1]=n,v[5]=o,v[9]=a,v[13]=s,v[2]=l,v[6]=h,v[10]=u,v[14]=c,v[3]=p,v[7]=f,v[11]=d,v[15]=m,this},t.prototype.copy=function(t){var e,r,i;for(r=t.elements,i=this.elements,e=0;e<16;++e)i[e]=r[e];return this},t.prototype.clone=function(){return(new t).fromArray(this.elements)},t.prototype.equals=function(t){for(var e=this.elements,r=t.elements,i=0;i<16;i++)if(e[i]!==r[i])return!1;return!0},t.prototype.fromArray=function(t,e){void 0===e&&(e=0);for(var r=0;r<16;r++)this.elements[r]=t[r+e];return this},t.prototype.toArray=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t},t.prototype.concat=function(t){var e,r,i,n,o,a,s,l;if(r=this.elements,i=this.elements,r===(n=t.elements))for(n=new Float32Array(16),e=0;e<16;++e)n[e]=r[e];for(e=0;e<4;e++)o=i[e],a=i[e+4],s=i[e+8],l=i[e+12],r[e]=o*n[0]+a*n[1]+s*n[2]+l*n[3],r[e+4]=o*n[4]+a*n[5]+s*n[6]+l*n[7],r[e+8]=o*n[8]+a*n[9]+s*n[10]+l*n[11],r[e+12]=o*n[12]+a*n[13]+s*n[14]+l*n[15];return this},t.prototype.multiply=function(t){return this.multiplyMatrices(this,t)},t.prototype.premultiply=function(t){return this.multiplyMatrices(t,this)},t.prototype.multiplyMatrices=function(t,e){var r=t.elements,i=e.elements,n=this.elements,o=r[0],a=r[4],s=r[8],l=r[12],h=r[1],u=r[5],c=r[9],p=r[13],f=r[2],d=r[6],m=r[10],v=r[14],y=r[3],g=r[7],_=r[11],b=r[15],x=i[0],w=i[4],T=i[8],E=i[12],S=i[1],M=i[5],A=i[9],C=i[13],P=i[2],k=i[6],O=i[10],I=i[14],D=i[3],R=i[7],F=i[11],L=i[15];return n[0]=o*x+a*S+s*P+l*D,n[4]=o*w+a*M+s*k+l*R,n[8]=o*T+a*A+s*O+l*F,n[12]=o*E+a*C+s*I+l*L,n[1]=h*x+u*S+c*P+p*D,n[5]=h*w+u*M+c*k+p*R,n[9]=h*T+u*A+c*O+p*F,n[13]=h*E+u*C+c*I+p*L,n[2]=f*x+d*S+m*P+v*D,n[6]=f*w+d*M+m*k+v*R,n[10]=f*T+d*A+m*O+v*F,n[14]=f*E+d*C+m*I+v*L,n[3]=y*x+g*S+_*P+b*D,n[7]=y*w+g*M+_*k+b*R,n[11]=y*T+g*A+_*O+b*F,n[15]=y*E+g*C+_*I+b*L,this},t.prototype.multiplyVector3=function(t){var e=this.elements;return(new _i).set(t.x*e[0]+t.y*e[4]+t.z*e[8]+e[12],t.x*e[1]+t.y*e[5]+t.z*e[9]+e[13],t.x*e[2]+t.y*e[6]+t.z*e[10]+e[14])},t.prototype.transpose=function(){var t,e;return e=(t=this.elements)[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},t.prototype.setInverseOf=function(t){var e,r,i,n,o;if(r=t.elements,i=this.elements,(n=new Float32Array(16))[0]=r[5]*r[10]*r[15]-r[5]*r[11]*r[14]-r[9]*r[6]*r[15]+r[9]*r[7]*r[14]+r[13]*r[6]*r[11]-r[13]*r[7]*r[10],n[4]=-r[4]*r[10]*r[15]+r[4]*r[11]*r[14]+r[8]*r[6]*r[15]-r[8]*r[7]*r[14]-r[12]*r[6]*r[11]+r[12]*r[7]*r[10],n[8]=r[4]*r[9]*r[15]-r[4]*r[11]*r[13]-r[8]*r[5]*r[15]+r[8]*r[7]*r[13]+r[12]*r[5]*r[11]-r[12]*r[7]*r[9],n[12]=-r[4]*r[9]*r[14]+r[4]*r[10]*r[13]+r[8]*r[5]*r[14]-r[8]*r[6]*r[13]-r[12]*r[5]*r[10]+r[12]*r[6]*r[9],n[1]=-r[1]*r[10]*r[15]+r[1]*r[11]*r[14]+r[9]*r[2]*r[15]-r[9]*r[3]*r[14]-r[13]*r[2]*r[11]+r[13]*r[3]*r[10],n[5]=r[0]*r[10]*r[15]-r[0]*r[11]*r[14]-r[8]*r[2]*r[15]+r[8]*r[3]*r[14]+r[12]*r[2]*r[11]-r[12]*r[3]*r[10],n[9]=-r[0]*r[9]*r[15]+r[0]*r[11]*r[13]+r[8]*r[1]*r[15]-r[8]*r[3]*r[13]-r[12]*r[1]*r[11]+r[12]*r[3]*r[9],n[13]=r[0]*r[9]*r[14]-r[0]*r[10]*r[13]-r[8]*r[1]*r[14]+r[8]*r[2]*r[13]+r[12]*r[1]*r[10]-r[12]*r[2]*r[9],n[2]=r[1]*r[6]*r[15]-r[1]*r[7]*r[14]-r[5]*r[2]*r[15]+r[5]*r[3]*r[14]+r[13]*r[2]*r[7]-r[13]*r[3]*r[6],n[6]=-r[0]*r[6]*r[15]+r[0]*r[7]*r[14]+r[4]*r[2]*r[15]-r[4]*r[3]*r[14]-r[12]*r[2]*r[7]+r[12]*r[3]*r[6],n[10]=r[0]*r[5]*r[15]-r[0]*r[7]*r[13]-r[4]*r[1]*r[15]+r[4]*r[3]*r[13]+r[12]*r[1]*r[7]-r[12]*r[3]*r[5],n[14]=-r[0]*r[5]*r[14]+r[0]*r[6]*r[13]+r[4]*r[1]*r[14]-r[4]*r[2]*r[13]-r[12]*r[1]*r[6]+r[12]*r[2]*r[5],n[3]=-r[1]*r[6]*r[11]+r[1]*r[7]*r[10]+r[5]*r[2]*r[11]-r[5]*r[3]*r[10]-r[9]*r[2]*r[7]+r[9]*r[3]*r[6],n[7]=r[0]*r[6]*r[11]-r[0]*r[7]*r[10]-r[4]*r[2]*r[11]+r[4]*r[3]*r[10]+r[8]*r[2]*r[7]-r[8]*r[3]*r[6],n[11]=-r[0]*r[5]*r[11]+r[0]*r[7]*r[9]+r[4]*r[1]*r[11]-r[4]*r[3]*r[9]-r[8]*r[1]*r[7]+r[8]*r[3]*r[5],n[15]=r[0]*r[5]*r[10]-r[0]*r[6]*r[9]-r[4]*r[1]*r[10]+r[4]*r[2]*r[9]+r[8]*r[1]*r[6]-r[8]*r[2]*r[5],0===(o=r[0]*n[0]+r[1]*n[4]+r[2]*n[8]+r[3]*n[12]))return this;for(o=1/o,e=0;e<16;e++)i[e]=n[e]*o;return this},t.prototype.invert=function(){return this.setInverseOf(this)},t.prototype.setOrtho=function(t,e,r,i,n,o){var a,s,l,h;if(t===e||i===r||n===o)throw"null frustum";return s=1/(e-t),l=1/(r-i),h=1/(o-n),(a=this.elements)[0]=2*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*l,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=-2*h,a[11]=0,a[12]=-(e+t)*s,a[13]=-(r+i)*l,a[14]=-(o+n)*h,a[15]=1,this},t.prototype.ortho=function(e,r,i,n,o,a){return this.concat((new t).setOrtho(e,r,i,n,o,a))},t.prototype.setFrustum=function(t,e,r,i,n,o){var a,s,l,h;if(t===e||i===r||n===o)throw"null frustum";if(n<=0)throw"near <= 0";if(o<=0)throw"far <= 0";return s=1/(e-t),l=1/(i-r),h=1/(o-n),(a=this.elements)[0]=2*n*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*n*l,a[6]=0,a[7]=0,a[8]=(e+t)*s,a[9]=(i+r)*l,a[10]=-(o+n)*h,a[11]=-1,a[12]=0,a[13]=0,a[14]=-2*n*o*h,a[15]=0,this},t.prototype.frustum=function(e,r,i,n,o,a){return this.concat((new t).setFrustum(e,r,i,n,o,a))},t.prototype.setPerspective=function(t,e,r,i){var n,o,a,s;if(r===i||0===e)throw"null frustum";if(r<=0)throw"near <= 0";if(i<=0)throw"far <= 0";if(t=Math.PI*t/180/2,0===(a=Math.sin(t)))throw"null frustum";return o=1/(i-r),s=Math.cos(t)/a,(n=this.elements)[0]=s/e,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=-(i+r)*o,n[11]=-1,n[12]=0,n[13]=0,n[14]=-2*r*i*o,n[15]=0,this},t.prototype.makePerspective=function(t,e,r,i,n,o){var a=this.elements,s=2*n/(e-t),l=2*n/(r-i),h=(e+t)/(e-t),u=(r+i)/(r-i),c=-(o+n)/(o-n),p=-2*o*n/(o-n);return a[0]=s,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=l,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=c,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},t.prototype.perspective=function(e,r,i,n){return this.concat((new t).setPerspective(e,r,i,n))},t.prototype.setScale=function(t,e,r){var i=this.elements;return i[0]=t,i[4]=0,i[8]=0,i[12]=0,i[1]=0,i[5]=e,i[9]=0,i[13]=0,i[2]=0,i[6]=0,i[10]=r,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1,this},t.prototype.scale=function(t,e,r){var i=this.elements;return i[0]*=t,i[4]*=e,i[8]*=r,i[1]*=t,i[5]*=e,i[9]*=r,i[2]*=t,i[6]*=e,i[10]*=r,i[3]*=t,i[7]*=e,i[11]*=r,this},t.prototype.getMaxScaleOnAxis=function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,i))},t.prototype.setTranslate=function(t,e,r){var i=this.elements;return i[0]=1,i[4]=0,i[8]=0,i[12]=t,i[1]=0,i[5]=1,i[9]=0,i[13]=e,i[2]=0,i[6]=0,i[10]=1,i[14]=r,i[3]=0,i[7]=0,i[11]=0,i[15]=1,this},t.prototype.translate=function(t,e,r){var i=this.elements;return i[12]+=i[0]*t+i[4]*e+i[8]*r,i[13]+=i[1]*t+i[5]*e+i[9]*r,i[14]+=i[2]*t+i[6]*e+i[10]*r,i[15]+=i[3]*t+i[7]*e+i[11]*r,this},t.prototype.setRotate=function(t,e,r,i){var n,o,a,s,l,h,u,c,p,f,d,m;return t=Math.PI*t/180,n=this.elements,o=Math.sin(t),a=Math.cos(t),0!==e&&0===r&&0===i?(e<0&&(o=-o),n[0]=1,n[4]=0,n[8]=0,n[12]=0,n[1]=0,n[5]=a,n[9]=-o,n[13]=0,n[2]=0,n[6]=o,n[10]=a,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1):0===e&&0!==r&&0===i?(r<0&&(o=-o),n[0]=a,n[4]=0,n[8]=o,n[12]=0,n[1]=0,n[5]=1,n[9]=0,n[13]=0,n[2]=-o,n[6]=0,n[10]=a,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1):0===e&&0===r&&0!==i?(i<0&&(o=-o),n[0]=a,n[4]=-o,n[8]=0,n[12]=0,n[1]=o,n[5]=a,n[9]=0,n[13]=0,n[2]=0,n[6]=0,n[10]=1,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1):(1!==(s=Math.sqrt(e*e+r*r+i*i))&&(e*=l=1/s,r*=l,i*=l),h=1-a,u=e*r,c=r*i,p=i*e,f=e*o,d=r*o,m=i*o,n[0]=e*e*h+a,n[1]=u*h+m,n[2]=p*h-d,n[3]=0,n[4]=u*h-m,n[5]=r*r*h+a,n[6]=c*h+f,n[7]=0,n[8]=p*h+d,n[9]=c*h-f,n[10]=i*i*h+a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1),this},t.prototype.rotate=function(e,r,i,n){return this.concat((new t).setRotate(e,r,i,n))},t.prototype.setLookAt=function(t,e,r,i,n,o,a,s,l){var h,u,c,p,f,d,m,v,y,g,_,b;return u=i-t,c=n-e,p=o-r,d=(c*=f=1/Math.sqrt(u*u+c*c+p*p))*l-(p*=f)*s,m=p*a-(u*=f)*l,v=u*s-c*a,g=(m*=y=1/Math.sqrt(d*d+m*m+v*v))*p-(v*=y)*c,_=v*u-(d*=y)*p,b=d*c-m*u,(h=this.elements)[0]=d,h[1]=g,h[2]=-u,h[3]=0,h[4]=m,h[5]=_,h[6]=-c,h[7]=0,h[8]=v,h[9]=b,h[10]=-p,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,this.translate(-t,-e,-r)},t.prototype.lookAt=function(t,e,r){var i=new _i,n=new _i,o=new _i,a=this.elements;return o.subVectors(t,e),0===o.lengthSq()&&(o.z=1),o.normalize(),i.crossVectors(r,o),0===i.lengthSq()&&(1===Math.abs(r.z)?o.x+=1e-4:o.z+=1e-4,o.normalize(),i.crossVectors(r,o)),i.normalize(),n.crossVectors(o,i),a[0]=i.x,a[4]=n.x,a[8]=o.x,a[1]=i.y,a[5]=n.y,a[9]=o.y,a[2]=i.z,a[6]=n.z,a[10]=o.z,this},t.prototype.dropShadow=function(e,r){var i=new t,n=i.elements,o=e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3];return n[0]=o-r[0]*e[0],n[1]=-r[1]*e[0],n[2]=-r[2]*e[0],n[3]=-r[3]*e[0],n[4]=-r[0]*e[1],n[5]=o-r[1]*e[1],n[6]=-r[2]*e[1],n[7]=-r[3]*e[1],n[8]=-r[0]*e[2],n[9]=-r[1]*e[2],n[10]=o-r[2]*e[2],n[11]=-r[3]*e[2],n[12]=-r[0]*e[3],n[13]=-r[1]*e[3],n[14]=-r[2]*e[3],n[15]=o-r[3]*e[3],this.concat(i)},t.prototype.dropShadowDirectionally=function(t,e,r,i,n,o,a,s,l){var h=i*t+n*e+o*r;return this.dropShadow([t,e,r,-h],[a,s,l,0])},t.prototype.makeRotationFromQuaternion=function(t){var e=new _i(0,0,0),r=new _i(1,1,1);return this.compose(e,t,r)},t.prototype.compose=function(t,e,r){var i=this.elements,n=e.x,o=e.y,a=e.z,s=e.w,l=n+n,h=o+o,u=a+a,c=n*l,p=n*h,f=n*u,d=o*h,m=o*u,v=a*u,y=s*l,g=s*h,_=s*u,b=r.x,x=r.y,w=r.z;return i[0]=(1-(d+v))*b,i[1]=(p+_)*b,i[2]=(f-g)*b,i[3]=0,i[4]=(p-_)*x,i[5]=(1-(c+v))*x,i[6]=(m+y)*x,i[7]=0,i[8]=(f+g)*w,i[9]=(m-y)*w,i[10]=(1-(c+d))*w,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this},t.prototype.decompose=function(e,r,i){var n=new _i,o=new t,a=this.elements,s=n.set(a[0],a[1],a[2]).length(),l=n.set(a[4],a[5],a[6]).length(),h=n.set(a[8],a[9],a[10]).length();this.determinant()<0&&(s=-s),e.x=a[12],e.y=a[13],e.z=a[14],o.copy(this);var u=1/s,c=1/l,p=1/h;return o.elements[0]*=u,o.elements[1]*=u,o.elements[2]*=u,o.elements[4]*=c,o.elements[5]*=c,o.elements[6]*=c,o.elements[8]*=p,o.elements[9]*=p,o.elements[10]*=p,r.setFromRotationMatrix(o),i.x=s,i.y=l,i.z=h,this},t.prototype.determinant=function(){var t=this.elements,e=t[0],r=t[4],i=t[8],n=t[12],o=t[1],a=t[5],s=t[9],l=t[13],h=t[2],u=t[6],c=t[10],p=t[14];return t[3]*(+n*s*u-i*l*u-n*a*c+r*l*c+i*a*p-r*s*p)+t[7]*(+e*s*p-e*l*c+n*o*c-i*o*p+i*l*h-n*s*h)+t[11]*(+e*l*u-e*a*p-n*o*u+r*o*p+n*a*h-r*l*h)+t[15]*(-i*a*h-e*s*u+e*a*c+i*o*u-r*o*c+r*s*h)},t.prototype.extractRotation=function(t){var e=new _i,r=this.elements,i=t.elements,n=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return r[0]=i[0]*n,r[1]=i[1]*n,r[2]=i[2]*n,r[3]=0,r[4]=i[4]*o,r[5]=i[5]*o,r[6]=i[6]*o,r[7]=0,r[8]=i[8]*a,r[9]=i[9]*a,r[10]=i[10]*a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},t}(),xi=function(){function t(t,e,r,i){var n,o;this.setFromUnitVectors=(o=new _i,function(t,e){return void 0===o&&(o=new _i),(n=t.dot(e)+1)<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?o.set(-t.y,t.x,0):o.set(0,-t.z,t.y)):o.crossVectors(t,e),this._x=o.x,this._y=o.y,this._z=o.z,this._w=n,this.normalize()}),this._x=t||0,this._y=e||0,this._z=r||0,this._w=void 0!==i?i:1}return t.slerp=function(t,e,r,i){return r.copy(t).slerp(e,i)},t.slerpFlat=function(t,e,r,i,n,o,a){var s=r[i+0],l=r[i+1],h=r[i+2],u=r[i+3],c=n[o+0],p=n[o+1],f=n[o+2],d=n[o+3];if(u!==d||s!==c||l!==p||h!==f){var m=1-a,v=s*c+l*p+h*f+u*d,y=v>=0?1:-1,g=1-v*v;if(g>1e-19){var _=Math.sqrt(g),b=Math.atan2(_,v*y);m=Math.sin(m*b)/_,a=Math.sin(a*b)/_}var x=a*y;if(s=s*m+c*x,l=l*m+p*x,h=h*m+f*x,u=u*m+d*x,m===1-a){var w=1/Math.sqrt(s*s+l*l+h*h+u*u);s*=w,l*=w,h*=w,u*=w}}t[e]=s,t[e+1]=l,t[e+2]=h,t[e+3]=u},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e,r,i){return this._x=t,this._y=e,this._z=r,this._w=i,this.onChangeCallback(),this},t.prototype.clone=function(){return new t(this._x,this._y,this._z,this._w)},t.prototype.copy=function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},t.prototype.setFromEuler=function(t,e){var r=t._x,i=t._y,n=t._z,o=t.order,a=Math.cos,s=Math.sin,l=a(r/2),h=a(i/2),u=a(n/2),c=s(r/2),p=s(i/2),f=s(n/2);return"XYZ"===o?(this._x=c*h*u+l*p*f,this._y=l*p*u-c*h*f,this._z=l*h*f+c*p*u,this._w=l*h*u-c*p*f):"YXZ"===o?(this._x=c*h*u+l*p*f,this._y=l*p*u-c*h*f,this._z=l*h*f-c*p*u,this._w=l*h*u+c*p*f):"ZXY"===o?(this._x=c*h*u-l*p*f,this._y=l*p*u+c*h*f,this._z=l*h*f+c*p*u,this._w=l*h*u-c*p*f):"ZYX"===o?(this._x=c*h*u-l*p*f,this._y=l*p*u+c*h*f,this._z=l*h*f-c*p*u,this._w=l*h*u+c*p*f):"YZX"===o?(this._x=c*h*u+l*p*f,this._y=l*p*u+c*h*f,this._z=l*h*f-c*p*u,this._w=l*h*u-c*p*f):"XZY"===o&&(this._x=c*h*u-l*p*f,this._y=l*p*u-c*h*f,this._z=l*h*f+c*p*u,this._w=l*h*u+c*p*f),!1!==e&&this.onChangeCallback(),this},t.prototype.setFromAxisAngle=function(t,e){var r=e/2,i=Math.sin(r);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(r),this.onChangeCallback(),this},t.prototype.setFromRotationMatrix=function(t){var e,r=t.elements,i=r[0],n=r[4],o=r[8],a=r[1],s=r[5],l=r[9],h=r[2],u=r[6],c=r[10],p=i+s+c;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(u-l)*e,this._y=(o-h)*e,this._z=(a-n)*e):i>s&&i>c?(e=2*Math.sqrt(1+i-s-c),this._w=(u-l)/e,this._x=.25*e,this._y=(n+a)/e,this._z=(o+h)/e):s>c?(e=2*Math.sqrt(1+s-i-c),this._w=(o-h)/e,this._x=(n+a)/e,this._y=.25*e,this._z=(l+u)/e):(e=2*Math.sqrt(1+c-i-s),this._w=(a-n)/e,this._x=(o+h)/e,this._y=(l+u)/e,this._z=.25*e),this.onChangeCallback(),this},t.prototype.angleTo=function(t){return 2*Math.acos(Math.abs(Ut(this.dot(t),-1,1)))},t.prototype.rotateTowards=function(t,e){var r=this.angleTo(t);if(0===r)return this;var i=Math.min(1,e/r);return this.slerp(t,i),this},t.prototype.inverse=function(){return this.conjugate()},t.prototype.conjugate=function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},t.prototype.dot=function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},t.prototype.lengthSq=function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},t.prototype.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},t.prototype.normalize=function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},t.prototype.multiply=function(t,e){return void 0!==e?(console.warn(""),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},t.prototype.premultiply=function(t){return this.multiplyQuaternions(t,this)},t.prototype.multiplyQuaternions=function(t,e){var r=t._x,i=t._y,n=t._z,o=t._w,a=e._x,s=e._y,l=e._z,h=e._w;return this._x=r*h+o*a+i*l-n*s,this._y=i*h+o*s+n*a-r*l,this._z=n*h+o*l+r*s-i*a,this._w=o*h-r*a-i*s-n*l,this.onChangeCallback(),this},t.prototype.slerp=function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var r=this._x,i=this._y,n=this._z,o=this._w,a=o*t._w+r*t._x+i*t._y+n*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=r,this._y=i,this._z=n,this;var s=1-a*a;if(s<=1e-13){var l=1-e;return this._w=l*o+e*this._w,this._x=l*r+e*this._x,this._y=l*i+e*this._y,this._z=l*n+e*this._z,this.normalize()}var h=Math.sqrt(s),u=Math.atan2(h,a),c=Math.sin((1-e)*u)/h,p=Math.sin(e*u)/h;return this._w=o*c+this._w*p,this._x=r*c+this._x*p,this._y=i*c+this._y*p,this._z=n*c+this._z*p,this.onChangeCallback(),this},t.prototype.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},t.prototype.onChange=function(t){return this.onChangeCallback=t,this},t.prototype.onChangeCallback=function(){},t}();!function(t){t.XYZ="XYZ",t.YZX="YZX",t.ZXY="ZXY",t.XZY="XZY",t.YXZ="YXZ",t.ZYX="ZYX"}(gi||(gi={}));var wi,Ti,Ei=function(){function t(t,e,r,i){var n,o;void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=gi.XYZ),this._x=t,this._y=e,this._z=r,this._order=i,this.setFromQuaternion=(n=new bi,function(t,e,r){return n.makeRotationFromQuaternion(t),this.setFromRotationMatrix(n,e,r)}),this.reorder=(o=new xi,function(t){return o.setFromEuler(this),this.setFromQuaternion(o,t)})}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e,r,i){return this._x=t,this._y=e,this._z=r,this._order=i||this._order,this.onChangeCallback(),this},t.prototype.clone=function(){return new t(this._x,this._y,this._z,this._order)},t.prototype.copy=function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},t.prototype.setFromRotationMatrix=function(t,e,r){var i=t.elements,n=i[0],o=i[4],a=i[8],s=i[1],l=i[5],h=i[9],u=i[2],c=i[6],p=i[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(Ut(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-h,p),this._z=Math.atan2(-o,n)):(this._x=Math.atan2(c,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-Ut(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(a,p),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,n),this._z=0)):"ZXY"===e?(this._x=Math.asin(Ut(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,n))):"ZYX"===e?(this._y=Math.asin(-Ut(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(c,p),this._z=Math.atan2(s,n)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===e?(this._z=Math.asin(Ut(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-u,n)):(this._x=0,this._y=Math.atan2(a,p))):"XZY"===e?(this._z=Math.asin(-Ut(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(c,l),this._y=Math.atan2(a,n)):(this._x=Math.atan2(-h,p),this._y=0)):console.warn("Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==r&&this.onChangeCallback(),this},t.prototype.setFromVector3=function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},t.prototype.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},t.prototype.fromArray=function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},t.prototype.toVector3=function(t){return t?t.set(this._x,this._y,this._z):new _i(this._x,this._y,this._z)},t.prototype.onChange=function(t){return this.onChangeCallback=t,this},t.prototype.onChangeCallback=function(){},t}(),Si=new _i,Mi=function(t){function e(){var r=t.call(this)||this;r.name=null,r.visible=!0,r.mouseEnable=!0,r.mouseChildren=!0,r.castShadow=!1,r.receiveShadow=!1,r.children=[],r.parent=null,r._worldMatrix=new bi,r._localMatrix=new bi,r.up=e.DefaultUp.clone(),r.position=new _i,r.scale=new _i(1,1,1),r._instanceType="Object3D";var i=new Ei,n=new xi;return i.onChange((function(){n.setFromEuler(i,!1)})),n.onChange((function(){i.setFromQuaternion(n,void 0,!1)})),r.rotation=i,r.quaternion=n,r}return R(e,t),e.prototype.addChild=function(t){return this.addChildAt(t,this.children.length),t},e.prototype.addChildAt=function(t,e){if(t){var r,i=this,n=i==t.parent;if(t.parent)if(n){r=i.children.length;for(var o=0;o<r;o++)if(i.children[o]==t){i.children.splice(o,1);break}}else t.parent.removeChild(t);return t.parent=i,e>=(r=i.children.length)?(i.children[i.children.length]=t,e=r):0==e||e<0?(i.children.unshift(t),e=0):i.children.splice(e,0,t),i.scene&&!n&&t._onDispatchBubbledEvent("onAddedToScene"),t}},e.prototype.addChildren=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.forEach((function(e){t.addChild(e)})),e},e.prototype.removeChild=function(t){var e=this.children.indexOf(t);return-1!==e&&(t.parent=null,t._onDispatchBubbledEvent("onRemovedFromScene"),this.children.splice(e,1)),t},e.prototype._onDispatchBubbledEvent=function(t){var e=this;if("onRemovedFromScene"!=t||e.scene){"onRemovedFromScene"==t?(e.dispatchEvent(t),e.scene=null):"onAddedToScene"==t&&(e.scene=e.parent.scene,e.dispatchEvent(t));for(var r=e.children.length,i=0;i<r;i++)e.children[i]._onDispatchBubbledEvent(t)}},e.prototype.clone=function(t){return void 0===t&&(t=!0),(new e).copy(this,t)},e.prototype.copy=function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.visible=t.visible,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this._localMatrix.copy(t._localMatrix),this._worldMatrix.copy(t._worldMatrix),this.visible=t.visible,!0===e)for(var r=0;r<t.children.length;r++){var i=t.children[r];this.addChild(i.clone())}return this},e.prototype.lookAt=function(t,e,r){var i=new xi,n=new bi,o=new _i,a=new _i;o.set(t,e,r);var s=this.parent;this.updateWorldMatrix(!0,!1),a.setFromMatrixPosition(this._worldMatrix),"Camera"==this._instanceType||"PerspectiveCamera"==this._instanceType||"OrthographicCamera"==this._instanceType?n.lookAt(a,o,this.up):n.lookAt(o,a,this.up),this.quaternion.setFromRotationMatrix(n),s&&(n.extractRotation(s._worldMatrix),i.setFromRotationMatrix(n),this.quaternion.premultiply(i.inverse()))},e.prototype.applyMatrix=function(t){this._localMatrix.multiplyMatrices(t,this._localMatrix),this._localMatrix.decompose(this.position,this.quaternion,this.scale)},e.prototype.applyQuaternion=function(t){return this.quaternion.premultiply(t),this},e.prototype.localToGlobal=function(t){return t.applyMatrix4(this._worldMatrix)},e.prototype.globalToLocal=function(t){if(t instanceof _i){var e=new bi;return t.applyMatrix4(e.setInverseOf(this._worldMatrix))}return t},Object.defineProperty(e.prototype,"stagePos",{get:function(){if(!this.scene)return null;var t=this.scene;this.localToGlobal(Si.set(0,0,0)),Si.project(t.camera);var e=t.viewWidth/2,r=t.viewHeight/2;return{x:Math.round(Si.x*e+e)+t.viewX,y:Math.round(-Si.y*r+r)+t.viewY}},enumerable:!0,configurable:!0}),e.prototype.updateLocalMatrix=function(){this._localMatrix.compose(this.position,this.quaternion,this.scale)},e.prototype.updateWorldMatrix=function(t,r){void 0===t&&(t=!1),void 0===r&&(r=!0);var i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix&&i.updateWorldMatrix(!0,!1),this.updateLocalMatrix(),null!==this.parent&&this.parent instanceof e?this._worldMatrix.multiplyMatrices(this.parent._worldMatrix,this._localMatrix):this._worldMatrix.copy(this._localMatrix),!0===r)for(var n=this.children,o=0,a=n.length;o<a;o++)n[o].updateWorldMatrix(!1,!0)},e.prototype.update=function(){if(this.visible){this.hasEventListener(L.ENTER_FRAME)&&this.dispatchEvent(L.ENTER_FRAME);for(var t=this.children.length-1;t>=0;t--){var e=this.children[t];e.visible&&e.update()}}},e.prototype.getChildByName=function(t,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!1),!t)return null;var n;n="string"==typeof t?new RegExp("^"+t+"$"):t;var o=[];e._getElementsByName(n,this,r,i,o);var a=o.length;return 0==a?null:1==a?o[0]:o},e._getElementsByName=function(t,r,i,n,o){var a=r.children.length;if(a>0)for(var s=void 0,l=void 0,h=0;h<a;h++){if((s=(l=r.children[h]).name)&&""!=s&&t.test(s)&&(o[o.length]=l,i))return;n&&null!=l.children&&e._getElementsByName(t,l,i,n,o)}},e.prototype.render=function(t){this._render(t);for(var e=0;e<this.children.length;e++){var r=this.children[e];r.visible&&r.render(t)}},e.prototype._render=function(t){},e.prototype.raycast=function(t,e){},e.prototype.destroy=function(){for(var t=this.children.length-1;t>=0;t--)this.children[t].destroy();this.removeAllEventListener(),this.parent&&this.parent.removeChild(this)},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.position.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.position.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this.position.z},set:function(t){this.position.z=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.scale.x},set:function(t){this.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.scale.y},set:function(t){this.scale.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleZ",{get:function(){return this.scale.z},set:function(t){this.scale.z=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationX",{get:function(){return this.rotation.x*O},set:function(t){this.rotation.x=t*I},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationY",{get:function(){return this.rotation.y*O},set:function(t){this.rotation.y=t*I},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationZ",{get:function(){return this.rotation.z*O},set:function(t){this.rotation.z=t*I},enumerable:!0,configurable:!0}),e.DefaultUp=new _i(0,1,0),e}(B);!function(t){t.ENVMAP_BLENDING_MULTIPLY="ENVMAP_BLENDING_MULTIPLY",t.ENVMAP_BLENDING_MIX="ENVMAP_BLENDING_MIX",t.ENVMAP_BLENDING_ADD="ENVMAP_BLENDING_ADD"}(wi||(wi={})),function(t){t[t.FrontSide=0]="FrontSide",t[t.BackSide=1]="BackSide",t[t.DoubleSide=2]="DoubleSide"}(Ti||(Ti={}));var Ai=function(t){function e(e){var r=t.call(this)||this;if(r._color=16777215,r._colorArr=new Float32Array([1,1,1]),r.alpha=1,r.combine=wi.ENVMAP_BLENDING_MULTIPLY,r.reflectivity=1,r.morphTargets=!1,r.morphNormals=!1,r.skinning=!1,r.useVertexColor=!1,r.wireframe=!1,r.side=Ti.FrontSide,r.useFog=!0,r._lightAffect=!1,r._instanceType="BaseMaterial",e)for(var i in e)r[i]=e[i];return r}return R(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){if(this._color!==t){this._color=t;var e=Dt(t);this._colorArr[0]=e[0],this._colorArr[1]=e[1],this._colorArr[2]=e[2]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorArr",{get:function(){return this._colorArr},enumerable:!0,configurable:!0}),e.prototype.copy=function(t){return this.color=t.color,this.map=t.map,this.alpha=t.alpha,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.skinning=t.skinning,this.wireframe=t.wireframe,this.side=t.side,this._lightAffect=t._lightAffect,this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.destroy=function(){this._color=null},e}(F),Ci=function(){function t(t,e){void 0===t&&(t=new _i),void 0===e&&(e=new _i),this.origin=t,this.direction=e}return t.prototype.set=function(t,e){return this.origin.copy(t),this.direction.copy(e),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},t.prototype.at=function(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)},t.prototype.lookAt=function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},t.prototype.recast=function(t){var e=new _i;return this.origin.copy(this.at(t,e)),this},t.prototype.closestPointToPoint=function(t,e){void 0===e&&(e=new _i),e.subVectors(t,this.origin);var r=e.dot(this.direction);return r<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(r).add(this.origin)},t.prototype.distanceToPoint=function(t){return Math.sqrt(this.distanceSqToPoint(t))},t.prototype.distanceSqToPoint=function(t){var e=new _i,r=e.subVectors(t,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(r).add(this.origin),e.distanceToSquared(t))},t.prototype.intersectSphere=function(t,e){var r=new _i;r.subVectors(t.center,this.origin);var i=r.dot(this.direction),n=r.dot(r)-i*i,o=t.radius*t.radius;if(n>o)return null;var a=Math.sqrt(o-n),s=i-a,l=i+a;return s<0&&l<0?null:s<0?this.at(l,e):this.at(s,e)},t.prototype.intersectsSphere=function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},t.prototype.intersectBox=function(t,e){var r,i,n,o,a,s,l=1/this.direction.x,h=1/this.direction.y,u=1/this.direction.z,c=this.origin;return l>=0?(r=(t.min.x-c.x)*l,i=(t.max.x-c.x)*l):(r=(t.max.x-c.x)*l,i=(t.min.x-c.x)*l),h>=0?(n=(t.min.y-c.y)*h,o=(t.max.y-c.y)*h):(n=(t.max.y-c.y)*h,o=(t.min.y-c.y)*h),r>o||n>i?null:((n>r||r!=r)&&(r=n),(o<i||i!=i)&&(i=o),u>=0?(a=(t.min.z-c.z)*u,s=(t.max.z-c.z)*u):(a=(t.max.z-c.z)*u,s=(t.min.z-c.z)*u),r>s||a>i?null:((a>r||r!=r)&&(r=a),(s<i||i!=i)&&(i=s),i<0?null:this.at(r>=0?r:i,e)))},t.prototype.intersectsBox=function(t){return null!==this.intersectBox(t,new _i)},t.prototype.intersectTriangle=function(t,e,r,i,n){var o=new _i,a=new _i,s=new _i,l=new _i;a.subVectors(e,t),s.subVectors(r,t),l.crossVectors(a,s);var h,u=this.direction.dot(l);if(u>0){if(i)return null;h=1}else{if(!(u<0))return null;h=-1,u=-u}o.subVectors(this.origin,t);var c=h*this.direction.dot(s.crossVectors(o,s));if(c<0)return null;var p=h*this.direction.dot(a.cross(o));if(p<0)return null;if(c+p>u)return null;var f=-h*o.dot(l);return f<0?null:this.at(f/u,n)},t.prototype.applyMatrix4=function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},t.prototype.equals=function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)},t}(),Pi=function(){function t(t,e){void 0===t&&(t=new _i(1/0,1/0,1/0)),void 0===e&&(e=new _i(-1/0,-1/0,-1/0)),this.min=t,this.max=e}return t.prototype.set=function(t,e){return this.min.copy(t),this.max.copy(e),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this.min.copy(t.min),this.max.copy(t.max),this},t.prototype.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},t.prototype.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},t.prototype.getCenter=function(t){return void 0===t&&(t=new _i),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},t.prototype.getSize=function(t){return void 0===t&&(t=new _i),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},t.prototype.setFromArray=function(t){for(var e=1/0,r=1/0,i=1/0,n=-1/0,o=-1/0,a=-1/0,s=0,l=t.length;s<l;s+=3){var h=t[s],u=t[s+1],c=t[s+2];h<e&&(e=h),u<r&&(r=u),c<i&&(i=c),h>n&&(n=h),u>o&&(o=u),c>a&&(a=c)}return this.min.set(e,r,i),this.max.set(n,o,a),this},t.prototype.setFromCenterAndSize=function(t,e){var r=(new _i).copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this},t.prototype.setFromPoints=function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},t.prototype.setFromObject=function(t){return this.makeEmpty(),this.expandByObject(t)},t.prototype.expandByPoint=function(t){return this.min.min(t),this.max.max(t),this},t.prototype.expandByVector=function(t){return this.min.sub(t),this.max.add(t),this},t.prototype.expandByScalar=function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},t.prototype.expandByObject=function(t){var e=this,r=new _i;return t.updateWorldMatrix(),function t(i){var n=i.geometry;if(void 0!==n&&n._vertices)for(var o=n._vertices,a=0;a<o.length;a+=3)r.set(o[a],o[a+1],o[a+2]).applyMatrix4(i._worldMatrix),e.expandByPoint(r);for(var s=0;s<i.children.length;s++)t(i.children[s])}(t),e},t.prototype.containsPoint=function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},t.prototype.containsBox=function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},t.prototype.intersectsBox=function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},t.prototype.intersectsSphere=function(t){var e=new _i;return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius},t.prototype.clampPoint=function(t,e){return void 0===e&&(e=new _i),e.copy(t).clamp(this.min,this.max)},t.prototype.distanceToPoint=function(t){return(new _i).copy(t).clamp(this.min,this.max).sub(t).length()},t.prototype.getBoundingSphere=function(t){void 0===t&&(t=new ki);var e=new _i;return this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t},t.prototype.intersect=function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},t.prototype.union=function(t){return this.min.min(t.min),this.max.max(t.max),this},t.prototype.applyMatrix4=function(t){var e=[new _i,new _i,new _i,new _i,new _i,new _i,new _i,new _i];return this.isEmpty()||(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e)),this},t.prototype.translate=function(t){return this.min.add(t),this.max.add(t),this},t.prototype.equals=function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},t}(),ki=function(){function t(t,e){void 0===t&&(t=new _i),void 0===e&&(e=0),this.center=t,this.radius=e}return t.prototype.set=function(t,e){return this.center.copy(t),this.radius=e,this},t.prototype.setFromPoints=function(t,e){var r=new Pi,i=this.center;void 0!==e?i.copy(e):r.setFromPoints(t).getCenter(i);for(var n=0,o=0,a=t.length;o<a;o++)n=Math.max(n,i.distanceToSquared(t[o]));return this.radius=Math.sqrt(n),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this.center.copy(t.center),this.radius=t.radius,this},t.prototype.empty=function(){return this.radius<=0},t.prototype.containsPoint=function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},t.prototype.distanceToPoint=function(t){return t.distanceTo(this.center)-this.radius},t.prototype.intersectsSphere=function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},t.prototype.intersectsBox=function(t){return t.intersectsSphere(this)},t.prototype.clampPoint=function(t,e){void 0===e&&(e=new _i);var r=this.center.distanceToSquared(t);return e.copy(t),r>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},t.prototype.getBoundingBox=function(t){return void 0===t&&(t=new Pi),t.set(this.center,this.center),t.expandByScalar(this.radius),t},t.prototype.applyMatrix4=function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},t.prototype.translate=function(t){return this.center.add(t),this},t.prototype.equals=function(t){return t.center.equals(this.center)&&t.radius===this.radius},t}(),Oi=new ki,Ii=new bi,Di=new Ci,Ri=new _i,Fi=function(t){function e(e,r){var i=t.call(this)||this;return i.geometry=e,i.material=r,i._instanceType="Mesh3D",i.updateMorphTargets(),i}return R(e,t),Object.defineProperty(e.prototype,"morphTargetInfluences",{get:function(){return this._morphTargetInfluences},enumerable:!0,configurable:!0}),e.prototype._render=function(t){this.visible&&(t.batchManager.setObjectRenderer(t.plugins.d3),t.plugins.d3.render(this))},e.prototype.updateMorphTargets=function(){var t=this.geometry._morphPositions;if(t){this._morphTargetInfluences=[];for(var e=0;e<t.length;e++)this._morphTargetInfluences.push(0)}},e.prototype.raycast=function(t,e){if(this.visible&&this.geometry&&this.material&&!this.material.wireframe){var r=this.geometry,i=this._worldMatrix;if(r.boundingSphere||r.computeBoundingSphere(),Oi.copy(r.boundingSphere),Oi.applyMatrix4(i),!1!==t.ray.intersectsSphere(Oi)&&(Ii.setInverseOf(i),Di.copy(t.ray).applyMatrix4(Ii),null===r.boundingBox||!1!==Di.intersectsBox(r.boundingBox)))if(r.doHitFace){var n,o=new _i,a=new _i,s=new _i,l=r._indices,h=r._vertices;if(l)for(var u=0;u<l.length;u+=3){var c=l[u],p=l[u+1],f=l[u+2];if(o.set(h[3*c],h[3*c+1],h[3*c+2]),a.set(h[3*p],h[3*p+1],h[3*p+2]),s.set(h[3*f],h[3*f+1],h[3*f+2]),n=Bi(this,t,Di,o,a,s,Ri)){e.push(n);break}}else if(h)for(u=0;u<h.length;u+=9)if(o.set(h[u],h[u+1],h[u+2]),a.set(h[u+3],h[u+4],h[u+5]),s.set(h[u+6],h[u+7],h[u+8]),n=Bi(this,t,Di,o,a,s,Ri)){e.push(n);break}}else e.push({distance:t.ray.origin.distanceTo(Oi.center)-Oi.radius,object:this})}},e.prototype.copy=function(e,r){return void 0===r&&(r=!0),t.prototype.copy.call(this,e,r),e.morphTargetInfluences&&(this._morphTargetInfluences=e.morphTargetInfluences.slice()),this},e.prototype.clone=function(t){return void 0===t&&(t=!0),new e(this.geometry,this.material).copy(this,t)},e}(Mi),Li=new _i;function Bi(t,e,r,i,n,o,a){var s=t.material;if(null===(s.side===Ti.BackSide?r.intersectTriangle(o,n,i,!0,a):r.intersectTriangle(i,n,o,s.side!==Ti.DoubleSide,a)))return null;Li.copy(a),Li.applyMatrix4(t._worldMatrix);var l=e.ray.origin.distanceTo(Li);return l<e.near||l>e.far?null:{distance:l,point:Li.clone(),object:t}}var Ni,zi=function(t){function e(e,r,i,n,o){var a=t.call(this)||this;return a._vertByteSize=44,a.boundingBox=null,a.boundingSphere=null,a.doHitFace=!1,a._instanceType="Geometry",a._glVaoBuffer={},a._vertices=e,a._normals=i||new Float32Array(e.length),a._colors=n||function(){for(var t=new Float32Array(e.length),r=0;r<e.length;r++)t[r]=1;return t}(),a._uvs=o||new Float32Array(e.length/3*2),a._indices=r?new Uint16Array(r):null,a._attrBuffer=new ne(e.length/3*a._vertByteSize),a}return R(e,t),e.prototype.computeBoundingBox=function(){this.boundingBox||(this.boundingBox=new Pi);var t=this._vertices;t?this.boundingBox.setFromArray(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error("顶点数据有误")},e.prototype.computeBoundingSphere=function(){var t=new Pi,e=new _i;this.boundingSphere||(this.boundingSphere=new ki);var r=this._vertices;if(r){var i=this.boundingSphere.center;t.setFromArray(r),t.getCenter(i);for(var n=0,o=0,a=r.length;o<a;o+=3)e.x=r[o],e.y=r[o+1],e.z=r[o+2],n=Math.max(n,i.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error("顶点数据有误")}},e.prototype.destroy=function(){},e}(F),ji=function(t){function e(){var e=t.call(this)||this;return e._instanceType="Camera",e.worldMatrixInverse=new bi,e.projectionMatrix=new bi,e.projectionMatrixInverse=new bi,e}return R(e,t),e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e,r){return t.prototype.copy.call(this,e,r),this.worldMatrixInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},e.prototype.getWorldDirection=function(t){this.updateWorldMatrix();var e=this._worldMatrix.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},e.prototype.updateWorldMatrix=function(){t.prototype.updateWorldMatrix.call(this),this.worldMatrixInverse.setInverseOf(this._worldMatrix)},e}(Mi),Vi=function(t){function e(e,r,i,n){void 0===e&&(e=50),void 0===r&&(r=1),void 0===i&&(i=.1),void 0===n&&(n=2e3);var o=t.call(this)||this;return o.fov=e,o.aspect=r,o.near=i,o.far=n,o._instanceType="PerspectiveCamera",o.zoom=1,o.focus=10,o.updateProjectionMatrix(),o}return R(e,t),e.prototype.set=function(t,e,r,i){void 0===t&&(t=50),void 0===e&&(e=1),void 0===r&&(r=.1),void 0===i&&(i=2e3),this.fov=t,this.aspect=e,this.near=r,this.far=i,this.zoom=1,this.focus=10,this.updateProjectionMatrix()},e.prototype.copy=function(e,r){return void 0===r&&(r=!0),t.prototype.copy.call(this,e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.updateProjectionMatrix(),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.updateProjectionMatrix=function(){this.projectionMatrix.setPerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.setInverseOf(this.projectionMatrix)},e}(ji),Ui=function(t){function e(e,r){void 0===r&&(r=1);var i=t.call(this)||this;return i.intensity=r,i._color=16777215,i._colorArr=new Float32Array([1,1,1]),i._colorVec3=new _i(1,1,1),i.color=e,i._instanceType="Light",i}return R(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){if(this._color!==t){this._color=t;var e=Dt(t);this._colorArr[0]=this._colorVec3.x=e[0],this._colorArr[1]=this._colorVec3.y=e[1],this._colorArr[2]=this._colorVec3.z=e[2]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorArr",{get:function(){return this._colorArr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorVec3",{get:function(){return this._colorVec3},enumerable:!0,configurable:!0}),e.prototype.copy=function(e){return t.prototype.copy.call(this,e),this.color=e.color,this.intensity=e.intensity,this.shadow=e.shadow.clone(),this},e}(Mi),Wi=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},t.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},t.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this},t.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},t.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},t.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},t.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},t.prototype.applyMatrix3=function(t){var e=this.x,r=this.y,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6],this.y=i[1]*e+i[4]*r+i[7],this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)},t.prototype.normalize=function(){return this.divideScalar(this.length()||1)},t.prototype.angle=function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},t.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},t.prototype.distanceToSquared=function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},t.prototype.manhattanDistanceTo=function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},t.prototype.setLength=function(t){return this.normalize().multiplyScalar(t)},t.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},t.prototype.lerpVectors=function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},t}(),qi=function(){function t(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=1/0),this.near=r,this.far=i,this.ray=new Ci(t,e)}return t.prototype.set=function(t,e){this.ray.set(t,e)},t.prototype.setFromCamera=function(t,e){this.ray.origin.setFromMatrixPosition(e._worldMatrix),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()},t.prototype.intersectObject=function(t,e){var r=e||[];return function t(e,r,i){if(!1===e.visible)return;e.mouseEnable&&e.raycast(r,i);if(e.mouseChildren)for(var n=e.children,o=0,a=n.length;o<a;o++)t(n[o],r,i)}(t,this,r),r.sort(Hi),r},t}();function Hi(t,e){return t.distance-e.distance}!function(t){t.basic="SHADOWMAP_TYPE_BASIC",t.pcf="SHADOWMAP_TYPE_PCF"}(Ni||(Ni={}));var Gi,Yi=function(t){function e(){var e=t.call(this)||this;return e._viewId=-1,e._viewX=0,e._viewY=0,e._viewWidth=750,e._viewHeight=1624,e.visible=!0,e.raycaster=new qi,e.shadowType=Ni.basic,e._instanceType="Scene3D",e.scene=e,e.transform={_parentId:0},e.camera=new Vi,e}return R(e,t),Object.defineProperty(e.prototype,"viewX",{get:function(){return this._viewX},set:function(t){t=t||0,this._viewX!==t&&(this._viewX=t,this._viewId=-1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewY",{get:function(){return this._viewY},set:function(t){t=t||0,this._viewY!==t&&(this._viewY=t,this._viewId=-1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewWidth",{get:function(){return this._viewWidth},set:function(t){t=t||0,this._viewWidth!==t&&(this._viewWidth=t,this._viewId=-1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewHeight",{get:function(){return this._viewHeight},set:function(t){t=t||0,this._viewHeight!==t&&(this._viewHeight=t,this._viewId=-1)},enumerable:!0,configurable:!0}),e.prototype.setViewRect=function(t,e,r,i){this.viewX=t,this.viewY=e,this.viewWidth=r,this.viewHeight=i,this._viewId=-1},e.prototype.setFog=function(t,e,r){void 0===t&&(t=16777215),void 0===e&&(e=0),void 0===r&&(r=100);var i=Dt(t);this._fog?(this._fog.color[0]=i[0],this._fog.color[1]=i[1],this._fog.color[2]=i[2],this._fog.near=e,this._fog.far=r):this._fog={color:new Float32Array(i),near:e,far:r}},e.prototype.removeFog=function(){this._fog=null},Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()},enumerable:!0,configurable:!0}),e.prototype.updateTransform=function(){this.visible&&this.updateWorldMatrix()},e.prototype.renderWebGL=function(t){if(this.visible){var e=t.plugins.d3;if(this.camera.updateWorldMatrix(),e.camera=this.camera,e.lightsConfig=this.getLightConfig(),e.fog=this._fog||null,e.shadowType=this.shadowType,t.batchManager.setObjectRenderer(e),this.setViewport(t),e.viewport=this._viewport,this.filters&&this.filters.length){var r=this.filters;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<r.length;i++)r[i].enabled&&this._enabledFilters.push(r[i]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}this.render(t),t.batchManager.flush(),r&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()}else this.render(t)}},e.prototype.setViewport=function(t){if(this._viewId!==this.parent.transform._worldID){this._viewId=this.parent.transform._worldID;var e=this.parent.transform.worldMatrix,r=this.viewX*e.a+this.viewY*e.c+e.tx,i=this.viewX*e.b+this.viewY*e.d+e.ty,n=Math.sqrt(e.a*e.a+e.b*e.b),o=Math.sqrt(e.c*e.c+e.d*e.d);this._viewport={x:r,y:t.height-i-this.viewHeight*o,width:this.viewWidth*n,height:this.viewHeight*o}}this._viewport&&t.gl.viewport(this._viewport.x,this._viewport.y,this._viewport.width,this._viewport.height)},e.prototype.getBounds=function(){var t=this.parent.transform.worldMatrix,e=this.viewX*t.b+this.viewY*t.d+t.ty;return new U(this._viewport.x,e,this._viewport.width,this._viewport.height)},e.prototype.getLightConfig=function(t,e){void 0===t&&(t=this),void 0===e&&(e={pointLights:[],directionalLights:[],ambientLightColor:[0,0,0]});for(var r=this.camera.worldMatrixInverse,i=0;i<t.children.length;i++){var n=t.children[i];if(n instanceof Ui){var o=n.colorVec3.clone().multiplyScalar(n.intensity).toArray();if("AmbientLight"==n.instanceType)e.ambientLightColor[0]+=o[0],e.ambientLightColor[1]+=o[1],e.ambientLightColor[2]+=o[2];else if("PointLight"==n.instanceType){var a=(new _i).setFromMatrixPosition(n._worldMatrix);a.applyMatrix4(r),e.pointLights.push({color:o,position:a.toArray(),distance:n.distance,decay:0===n.distance?0:n.decay})}else if("DirectionalLight"==n.instanceType){var s,l=(new _i).setFromMatrixPosition(n._worldMatrix);if(l.sub((new _i).setFromMatrixPosition(n.target._worldMatrix)),l.transformDirection(r),n.castShadow){n.shadow.map;var h=n.shadow.camera,u=n.shadow.matrix,c=n._worldMatrix.elements.slice(12,15),p=n.target._worldMatrix.elements.slice(12,15);h.position.set(c[0],c[1],c[2]),h.lookAt(p[0],p[1],p[2]),h.updateWorldMatrix(),s=u.setIdentity().multiply(h.projectionMatrix).multiply(h.worldMatrixInverse).toArray(),u.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),u.multiply(h.projectionMatrix),u.multiply(h.worldMatrixInverse)}e.directionalLights.push({color:o,direction:l.normalize().toArray(),castShadow:n.castShadow,shadowMatrixDepth:s,shadowMatrix:n.shadow.matrix.toArray(),bias:n.shadow.bias,radius:n.shadow.radius,mapSize:[n.shadow.mapSize.x,n.shadow.mapSize.y]})}}n.children&&n.children.length&&this.getLightConfig(n,e)}return e},e.prototype.hitTestPoint=function(t,e){if(!this.parent||!this.mouseEnable)return null;var r=this.parent.transform.worldMatrix,i=this.viewX*r.a+this.viewY*r.c+r.tx,n=this.viewX*r.b+this.viewY*r.d+r.ty,o=Math.sqrt(r.a*r.a+r.b*r.b),a=Math.sqrt(r.c*r.c+r.d*r.d),s=this.viewWidth*o,l=this.viewHeight*a;if(!(t.x>=i&&t.x<=i+s&&t.y>=n&&t.y<=n+l))return null;if(this.mouseChildren){i=(t.x-i)/s*2-1,n=-(t.y-n)/l*2+1,this.raycaster.setFromCamera(new _i(i,n,.5),this.camera);var h=this.raycaster.intersectObject(this);if(h.length)return h[0].object}return this},e.prototype.setOrbCtrCfg=function(t){var e=this.orbitControlConfig;if(e&&t)for(var r in t)void 0!==e[r]&&(e[r]=t[r])},e.prototype.setOrbitControl=function(t){var e=this;if(!this.orbitControlConfig){this.orbitControlConfig={enabled:!0,enableDamping:!0,dampingFactor:.25,userZoom:!0,userZoomSpeed:1,userRotate:!0,userRotateSpeed:1,autoRotate:!1,autoRotateSpeed:2,minPolarAngle:0,maxPolarAngle:Math.PI,minDistance:0,maxDistance:1/0,enablePitch:!0},this.setOrbCtrCfg(t);var r=this.orbitControlConfig,i=new _i,n=new Wi,o=new Wi,a=new Wi,s=0,l=0,h=1,u=[],c=0;this.addEventListener(Qt.MOUSE_DOWN,(function(t){if(r.enabled){if(u.push({x:t.clientX,y:t.clientY,id:t.identifier}),u.length>=2){var e=u[u.length-1],i=u[u.length-2];c=Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}n.set(t.clientX,t.clientY)}}),this),this.addEventListener(Qt.MOUSE_MOVE,(function(t){var e;if(r.enabled&&u.length)if(1==u.length){if(!r.userRotate)return;if(!n.x&&!n.y)return;o.set(t.clientX,t.clientY),a.subVectors(o,n),m(2*Math.PI*a.x/1800*r.userRotateSpeed),r.enablePitch&&(void 0===(e=2*Math.PI*a.y/1800*r.userRotateSpeed)&&(e=f()),s-=e),n.copy(o)}else{if(!1===r.userZoom)return;var i=u[u.length-1],l=u[u.length-2];if(t.identifier==i.id)i.x=t.clientX,i.y=t.clientY;else{if(t.identifier!=l.id)return;l.x=t.clientX,l.y=t.clientY}var h=Math.sqrt(Math.pow(i.x-l.x,2)+Math.pow(i.y-l.y,2));h-c>0?y(Math.pow(.95,r.userZoomSpeed/3)):v(Math.pow(.95,r.userZoomSpeed/3)),c=h}}),this);var p=function(t){u.length=0};this.addEventListener(Qt.MOUSE_UP,p,this),this.addEventListener(Qt.MOUSE_OUT,p,this),this.addEventListener(Qt.ENTER_FRAME,(function(){!function(){if(!(Math.abs(l)<1e-4&&Math.abs(s)<1e-4&&Math.abs(h-1)<1e-4)||r.autoRotate){var t=e.camera.position,n=t.clone().sub(i),o=Math.atan2(n.x,n.z),a=Math.atan2(Math.sqrt(n.x*n.x+n.z*n.z),n.y);r.autoRotate&&m(),o+=l,a+=s,a=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,a)),a=Math.max(1e-6,Math.min(Math.PI-1e-6,a));var u=n.length()*h;u=Math.max(r.minDistance,Math.min(r.maxDistance,u)),n.x=u*Math.sin(a)*Math.sin(o),n.y=u*Math.cos(a),n.z=u*Math.sin(a)*Math.cos(o),t.copy(i).add(n),e.camera.lookAt(i.x,i.y,i.z),r.enableDamping?(l*=1-r.dampingFactor,s*=1-r.dampingFactor):(l=0,s=0),h=1}}()}),this),document&&document.addEventListener("mousewheel",(function(t){if(r.enabled&&r.userZoom){var e=0;t.wheelDelta?e=t.wheelDelta:t.detail&&(e=-t.detail),e>0?y():v()}}),!1)}function f(){return 2*Math.PI/60/60*r.autoRotateSpeed}function d(){return Math.pow(.95,r.userZoomSpeed)}function m(t){void 0===t&&(t=f()),l-=t}function v(t){void 0===t&&(t=d()),h/=t}function y(t){void 0===t&&(t=d()),h*=t}},e}(Mi),Xi=(function(t){function e(e,r,i,n,o,a,s){void 0===e&&(e=1),void 0===r&&(r=8),void 0===i&&(i=6),void 0===n&&(n=0),void 0===o&&(o=2*Math.PI),void 0===a&&(a=0),void 0===s&&(s=Math.PI);var l=this;r=Math.max(3,Math.floor(r)),i=Math.max(2,Math.floor(i));var h,u,c=a+s,p=0,f=[],d=new _i,m=new _i,v=[],y=[],g=[],_=[];for(u=0;u<=i;u++){var b=[],x=u/i;for(h=0;h<=r;h++){var w=h/r;d.x=-e*Math.cos(n+w*o)*Math.sin(a+x*s),d.y=e*Math.cos(a+x*s),d.z=e*Math.sin(n+w*o)*Math.sin(a+x*s),y.push(d.x,d.y,d.z),m.set(d.x,d.y,d.z).normalize(),g.push(m.x,m.y,m.z),_.push(w,x),b.push(p++)}f.push(b)}for(u=0;u<i;u++)for(h=0;h<r;h++){var T=f[u][h+1],E=f[u][h],S=f[u+1][h],M=f[u+1][h+1];(0!==u||a>0)&&v.push(T,E,M),(u!==i-1||c<Math.PI)&&v.push(E,S,M)}return(l=t.call(this,y,v,g,null,_)||this).boundingSphere=new ki(new _i,e),l}R(e,t)}(zi),function(t){function e(e,r,i,n,o,a){void 0===e&&(e=1),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=1),void 0===o&&(o=1),void 0===a&&(a=1);var s=this;n=Math.floor(n)||1,o=Math.floor(o)||1,a=Math.floor(a)||1;var l=[],h=[],u=[],c=[],p=0;function f(t,e,r,i,n,o,a,s,f,d,m){var v,y,g=o/f,_=a/d,b=o/2,x=a/2,w=s/2,T=f+1,E=d+1,S=0,M=new _i;for(y=0;y<E;y++){var A=y*_-x;for(v=0;v<T;v++){var C=v*g-b;M[t]=C*i,M[e]=A*n,M[r]=w,h.push(M.x,M.y,M.z),M[t]=0,M[e]=0,M[r]=s>0?1:-1,u.push(M.x,M.y,M.z),c.push(v/f),c.push(y/d),S+=1}}for(y=0;y<d;y++)for(v=0;v<f;v++){var P=p+v+T*y,k=p+v+T*(y+1),O=p+(v+1)+T*(y+1),I=p+(v+1)+T*y;l.push(P,k,I),l.push(k,O,I)}p+=S}return f("z","y","x",-1,-1,i,r,e,a,o),f("z","y","x",1,-1,i,r,-e,a,o),f("x","z","y",1,1,e,i,r,n,a),f("x","z","y",1,-1,e,i,-r,n,a),f("x","y","z",1,-1,e,r,i,n,o),f("x","y","z",-1,-1,e,r,-i,n,o),(s=t.call(this,h,l,u,null,c)||this).boundingBox=new Pi(new _i(-e/2,-r/2,-i/2),new _i(e/2,r/2,i/2)),s.boundingSphere=new ki(new _i,Math.sqrt(e*e+r*r+i*i)),s}R(e,t)}(zi),function(t){function e(e,r,i,n){void 0===e&&(e=1),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=1);var o,a,s=e/2,l=r/2,h=Math.floor(i),u=Math.floor(n),c=h+1,p=u+1,f=e/h,d=r/u,m=[],v=[],y=[],g=[];for(a=0;a<p;a++){var _=a*d-l;for(o=0;o<c;o++){var b=o*f-s;v.push(b,-_,0),y.push(0,0,1),g.push(o/h),g.push(a/u)}}for(a=0;a<u;a++)for(o=0;o<h;o++){var x=o+c*a,w=o+c*(a+1),T=o+1+c*(a+1),E=o+1+c*a;m.push(x,w,E),m.push(w,T,E)}return t.call(this,v,m,y,null,g)||this}R(e,t)}(zi),function(t){function e(e,r,i,n){void 0===e&&(e=1),void 0===r&&(r=8),void 0===i&&(i=0),void 0===n&&(n=2*Math.PI);r=Math.max(3,r);var o,a,s=[],l=[],h=[],u=[],c=new _i,p=new Wi;for(l.push(0,0,0),h.push(0,0,1),u.push(.5,.5),a=0,o=3;a<=r;a++,o+=3){var f=i+a/r*n;c.x=e*Math.cos(f),c.y=e*Math.sin(f),l.push(c.x,c.y,c.z),h.push(0,0,1),p.x=(l[o]/e+1)/2,p.y=1-(l[o+1]/e+1)/2,u.push(p.x,p.y)}for(o=1;o<=r;o++)s.push(o,o+1,0);return t.call(this,l,s,h,null,u)||this}R(e,t)}(zi),function(t){function e(e,r,i,n,o,a,s,l){void 0===e&&(e=1),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=8),void 0===o&&(o=1),void 0===a&&(a=!1),void 0===s&&(s=0),void 0===l&&(l=2*Math.PI);n=Math.floor(n)||8,o=Math.floor(o)||1;var h=[],u=[],c=[],p=[],f=0,d=[],m=i/2;function v(t){var i,o,a,d=new Wi,v=new _i,y=!0===t?e:r,g=!0===t?1:-1;for(o=f,i=1;i<=n;i++)u.push(0,m*g,0),c.push(0,g,0),p.push(.5,.5),f++;for(a=f,i=0;i<=n;i++){var _=i/n*l+s,b=Math.cos(_),x=Math.sin(_);v.x=y*x,v.y=m*g,v.z=y*b,u.push(v.x,v.y,v.z),c.push(0,g,0),d.x=.5*b+.5,d.y=.5*x*g+.5,p.push(d.x,d.y),f++}for(i=0;i<n;i++){var w=o+i,T=a+i;!0===t?h.push(T,T+1,w):h.push(T+1,T,w)}}return function(){var t,a,v=new _i,y=new _i,g=(r-e)/i;for(a=0;a<=o;a++){var _=[],b=a/o,x=b*(r-e)+e;for(t=0;t<=n;t++){var w=t/n,T=w*l+s,E=Math.sin(T),S=Math.cos(T);y.x=x*E,y.y=-b*i+m,y.z=x*S,u.push(y.x,y.y,y.z),v.set(E,g,S).normalize(),c.push(v.x,v.y,v.z),p.push(w,b),_.push(f++)}d.push(_)}for(t=0;t<n;t++)for(a=0;a<o;a++){var M=d[a][t],A=d[a+1][t],C=d[a+1][t+1],P=d[a][t+1];h.push(M,A,P),h.push(A,C,P)}}(),a||(e>0&&v(!0),r>0&&v(!1)),t.call(this,u,h,c,null,p)||this}R(e,t)}(zi),function(t){function e(e,r,i,n,o,a){void 0===e&&(e=.5),void 0===r&&(r=1),void 0===i&&(i=8),void 0===n&&(n=1),void 0===o&&(o=0),void 0===a&&(a=2*Math.PI);i=Math.max(3,i);var s,l,h,u=[],c=[],p=[],f=[],d=e,m=(r-e)/(n=Math.max(1,n)),v=new _i,y=new Wi;for(l=0;l<=n;l++){for(h=0;h<=i;h++)s=o+h/i*a,v.x=d*Math.cos(s),v.y=d*Math.sin(s),c.push(v.x,v.y,v.z),p.push(0,0,1),y.x=(v.x/r+1)/2,y.y=1-(v.y/r+1)/2,f.push(y.x,y.y);d+=m}for(l=0;l<n;l++){var g=l*(i+1);for(h=0;h<i;h++){var _=s=h+g,b=s+i+1,x=s+i+2,w=s+1;u.push(_,b,w),u.push(b,x,w)}}return t.call(this,c,u,p,null,f)||this}R(e,t)}(zi),function(t){function e(e,r,i,n,o){void 0===e&&(e=1),void 0===r&&(r=.4),void 0===i&&(i=8),void 0===n&&(n=6),void 0===o&&(o=2*Math.PI);i=Math.floor(i),n=Math.floor(n);var a,s,l=[],h=[],u=[],c=[],p=new _i,f=new _i,d=new _i;for(a=0;a<=i;a++)for(s=0;s<=n;s++){var m=s/n*o,v=a/i*Math.PI*2;f.x=(e+r*Math.cos(v))*Math.cos(m),f.y=(e+r*Math.cos(v))*Math.sin(m),f.z=r*Math.sin(v),h.push(f.x,f.y,f.z),p.x=e*Math.cos(m),p.y=e*Math.sin(m),d.subVectors(f,p).normalize(),u.push(d.x,d.y,d.z),c.push(s/n),c.push(1-a/i)}for(a=1;a<=i;a++)for(s=1;s<=n;s++){var y=(n+1)*a+s-1,g=(n+1)*(a-1)+s-1,_=(n+1)*(a-1)+s,b=(n+1)*a+s;l.push(y,g,b),l.push(g,_,b)}return t.call(this,h,l,u,null,c)||this}R(e,t)}(zi),function(t){function e(e){var r=t.call(this,e)||this;return r._instanceType="LightMaterial",r._lightAffect=!0,r}return R(e,t),e.prototype.clone=function(){return(new e).copy(this)},e}(Ai)),Ki="attribute vec3 aPosition;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uModelMatrix;\nvoid main() {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4( aPosition, 1.0 );\n}",Zi=function(t){function e(e,r,i){void 0===e&&(e=Ki),void 0===r&&(r="void main() {\n    gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}"),void 0===i&&(i={});var n=t.call(this)||this;return n.vertexShader=e,n.fragmentShader=r,n.uniforms=i,n.shaders={},n.isShaderMaterial=!0,n.vertexShader=e||Ki,n.fragmentShader=r||"void main() {\n    gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",n._instanceType="ShaderMaterial",n}return R(e,t),e.prototype.getShader=function(t){var e=t.CONTEXT_UID;return this.shaders[e]||(this.shaders[e]=new Me(t.gl,this.vertexShader,this.fragmentShader),this.shaders[e]._glShaderKey="customShaderid"+e+"instanceId"+this.instanceId),this.shaders[e]},e.prototype.destroy=function(){for(var t in this.shaders)this.shaders[t].destroy(),delete this.shaders[t];this.shaders=null,this.vertexShader=null,this.fragmentShader=null},e}(F);!function(t){t.float="f",t.texture="t",t.color="c",t.vector2="v2",t.vector3="v3",t.vector4="v4",t.matrix4="m4"}(Gi||(Gi={}));(function(t){function e(){var e=t.call(this,"precision mediump float;\nattribute vec3 aPosition;\nattribute vec2 aTextureCoord;\nvarying vec2 vTextureCoord;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uModelMatrix;\n\nuniform vec2 center;\n\nuniform float rotation;\n\nvoid main() {\n    vTextureCoord = aTextureCoord;\n    vec4 mvPosition = uViewMatrix * uModelMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n    vec2 scale;\n\tscale.x = length( vec3( uModelMatrix[ 0 ].x, uModelMatrix[ 0 ].y, uModelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( uModelMatrix[ 1 ].x, uModelMatrix[ 1 ].y, uModelMatrix[ 1 ].z ) );\n    \n    #ifndef USE_SIZEATTENUATION\n        bool isPerspective = ( uProjectionMatrix[ 2 ][ 3 ] == - 1.0 );\n        if ( isPerspective ) scale *= - mvPosition.z;\n    #endif\n\n    vec2 alignedPosition = ( aPosition.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\n\tmvPosition.xy += rotatedPosition;\n\n\tgl_Position = uProjectionMatrix * mvPosition;\n}","precision mediump float;\nuniform vec3 color;\nuniform float alpha;\nuniform sampler2D map;\nvarying vec2 vTextureCoord;\nvoid main() {\n    vec4 mapColor = texture2D( map, vTextureCoord );\n    gl_FragColor = vec4( color, alpha )*mapColor;\n}",{center:{type:Gi.vector2,value:new Wi(.5,.5)},rotation:{type:Gi.float,value:0},color:{type:Gi.color,value:16777215},alpha:{type:Gi.float,value:1},map:{type:Gi.texture,value:Yt.WHITE}})||this;return e.sizeAttenuation=!0,e._instanceType="Sprite3dMaterial",e}R(e,t),e.prototype.getShader=function(t){var e=""+t.CONTEXT_UID+this.sizeAttenuation;return this.shaders[e]||(this.shaders[e]=new Me(t.gl,(this.sizeAttenuation?"#define USE_SIZEATTENUATION\n":"")+this.vertexShader,this.fragmentShader),this.shaders[e]._glShaderKey="customShaderid"+e+"instanceId"+this.instanceId+"sizeAttenuation"+this.sizeAttenuation),this.shaders[e]},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.uniforms.rotation.value*O},set:function(t){this.uniforms.rotation.value=t*I},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.uniforms.color.value},set:function(t){this.uniforms.color.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha.value},set:function(t){this.uniforms.alpha.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.map.value},set:function(t){this.uniforms.map.value=t},enumerable:!0,configurable:!0})})(Zi),function(t){function e(e,r){var i=t.call(this,e,r)||this;return i._instanceType="AmbientLight",i}R(e,t)}(Ui);var Ji=function(t){function e(e,r,i,n,o,a){void 0===e&&(e=-1),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=-1),void 0===o&&(o=.1),void 0===a&&(a=2e3);var s=t.call(this)||this;return s.left=e,s.right=r,s.top=i,s.bottom=n,s.near=o,s.far=a,s._instanceType="OrthographicCamera",s.zoom=1,s.updateProjectionMatrix(),s}return R(e,t),e.prototype.set=function(t,e,r,i,n,o){void 0===n&&(n=.1),void 0===o&&(o=2e3),this.zoom=1,this.left=t,this.right=e,this.top=r,this.bottom=i,this.near=n,this.far=o,this.updateProjectionMatrix()},e.prototype.copy=function(e,r){return void 0===r&&(r=!0),t.prototype.copy.call(this,e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.updateProjectionMatrix(),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.updateProjectionMatrix=function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2,n=r-t,o=r+t,a=i+e,s=i-e;this.projectionMatrix.setOrtho(n,o,a,s,this.near,this.far),this.projectionMatrixInverse.setInverseOf(this.projectionMatrix)},e}(ji),Qi=function(t){function e(){return t.call(this,new Ji(-5,5,5,-5,.5,500))||this}return R(e,t),e.prototype.clone=function(){return(new e).copy(this)},e}(function(t){function e(e){var r=t.call(this)||this;return r.camera=e,r.bias=0,r.radius=1,r.mapSize=new Wi(512,512),r.matrix=new bi,r._instanceType="LightShadow",r}return R(e,t),e.prototype.copy=function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.destroy=function(){this.mapSize=null,this.camera.destroy(),this.camera=null},e}(F));(function(t){function e(e,r){var i=t.call(this,e,r)||this;return i._instanceType="DirectionalLight",i.position.copy(Mi.DefaultUp),i.updateLocalMatrix(),i.target=new Mi,i.shadow=new Qi,i}R(e,t),e.prototype.copy=function(e){return t.prototype.copy.call(this,e),this.target=e.target.clone(),this}})(Ui),function(t){function e(e,r,i,n){void 0===i&&(i=0),void 0===n&&(n=1);var o=t.call(this,e,r)||this;return o.distance=i,o.decay=n,o._instanceType="PointLight",o}R(e,t),Object.defineProperty(e.prototype,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)},enumerable:!0,configurable:!0}),e.prototype.copy=function(e){return t.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this}}(Ui),function(t){function e(e){void 0===e&&(e=1);var r=new zi([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],null,null,[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),i=new Ai({wireframe:!0,useVertexColor:!0});return t.call(this,r,i)||this}R(e,t)}(Fi),function(t){function e(e,r,i,n){void 0===e&&(e=10),void 0===r&&(r=10),void 0===i&&(i=4473924),void 0===n&&(n=8947848);for(var o=r/2,a=e/r,s=e/2,l=Dt(i),h=Dt(n),u=[],c=[],p=0,f=-s;p<=r;p++,f+=a){u.push(-s,0,f,s,0,f),u.push(f,0,-s,f,0,s);for(var d=p===o?l:h,m=4;m--;)c.push(d[0],d[1],d[2])}var v=new zi(u,null,null,c),y=new Ai({wireframe:!0,useVertexColor:!0});return t.call(this,v,y)||this}R(e,t)}(Fi),function(t){function e(e,r){void 0===r&&(r=16776960);var i=this;return(i=t.call(this,new zi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],[0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),new Ai({wireframe:!0,color:r}))||this).box=e,i.mouseChildren=i.mouseEnable=!1,i}R(e,t),e.prototype.updateWorldMatrix=function(e,r){void 0===e&&(e=!1),void 0===r&&(r=!0);var i=this.box;i.isEmpty()||(i.getCenter(this.position),i.getSize(this.scale),this.scale.multiplyScalar(.5),t.prototype.updateWorldMatrix.call(this,e,r))}}(Fi);function $i(t,e,r,i,n,o,a,s){for(var l,h={glUid:t.CONTEXT_UID,precision:en(t),pointLightsNum:r.pointLights.length,dirLightsNum:r.directionalLights.length,morphTargets:i.morphTargetInfluences&&e.morphTargets,morphNormals:i.morphTargetInfluences&&e.morphTargets&&e.morphNormals,skinning:e.skinning&&n>0,maxBones:n||0,useVertexTexture:o,lightAffect:e._lightAffect,useMap:!!e.map,useEnvMap:!!e.envMap,combine:e.combine,useVertexColor:!!e.useVertexColor,useFog:a&&e.useFog,useShadow:s&&i.receiveShadow&&e._lightAffect,shadowType:s&&s.shadowType},u=function(t){for(var e=[],r=0;r<an.length;r++)e.push(t[an[r]]);return e.join()}(h),c=0;c<on.length;c++)if(on[c]._glShaderKey===u){++(l=on[c]).usedTimes;break}return l||((l=new rn(t.gl,h))._glShaderKey=u,on.push(l)),l}var tn={};function en(t){var e;return tn[t.CONTEXT_UID]||(tn[t.CONTEXT_UID]=(e=t.gl).getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0?"highp":e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"),tn[t.CONTEXT_UID]}var rn=function(t){function e(e,r){var i=this,n=["precision "+r.precision+" float;","precision "+r.precision+" int;",r.lightAffect?"#define USE_LIGHT":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals?"#define USE_MORPHNORMALS":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"","#define MAX_BONES "+r.maxBones,r.useMap?"#define USE_MAP":"",r.useEnvMap?"#define USE_ENVMAP":"",r.useVertexColor?"#define USE_VERTEXCOLOR":"",r.useFog?"#define USE_FOG":"",r.useShadow?"#define USE_SHADOW":""].filter((function(t){return""!==t})).join("\n");n&&(n+="\n");var o=["precision "+r.precision+" float;","precision "+r.precision+" int;",r.lightAffect?"#define USE_LIGHT":"",r.useMap?"#define USE_MAP":"",r.useEnvMap?"#define USE_ENVMAP":"",r.useEnvMap?"#define "+r.combine:"",r.useVertexColor?"#define USE_VERTEXCOLOR":"",r.useFog?"#define USE_FOG":"",r.useShadow?"#define USE_SHADOW":"",r.useShadow?"#define "+r.shadowType:""].filter((function(t){return""!==t})).join("\n");o&&(o+="\n");var a=ln.replace(new RegExp(nn.POINT_LIGHTS_NUM,"gm"),r.pointLightsNum+"").replace(new RegExp(nn.DIR_LIGHTS_NUM,"gm"),r.dirLightsNum+"");return(i=t.call(this,e,n+sn,o+a)||this).uniformData=function(t,e){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=t.getActiveUniform(e,n),a=0==o.name.indexOf("morphTargetInfluences")||0==o.name.indexOf("uBoneMatrices")?o.name.replace(/\[.*?\]/,""):o.name,s=pe(t,o.type);r[a]={type:s,size:o.size,location:t.getUniformLocation(e,a),value:ye(s,o.size)}}return r}(e,i.program),i.uniforms=be(e,i.uniformData),i.usedTimes=0,i}return R(e,t),e}(Me);var nn,on=[],an=["glUid","precision","pointLightsNum","dirLightsNum","morphTargets","morphNormals","skinning","maxBones","useVertexTexture","lightAffect","useMap","useEnvMap","combine","useVertexColor","useFog","useShadow","shadowType"];!function(t){t.POINT_LIGHTS_NUM="POINT_LIGHTS_NUM",t.DIR_LIGHTS_NUM="DIR_LIGHTS_NUM"}(nn||(nn={}));var sn=["attribute vec3 aPosition;","uniform mat4 uViewMatrix;","uniform mat4 uProjectionMatrix;","uniform mat4 uModelMatrix;","#ifdef USE_VERTEXCOLOR","   attribute vec3 aColor;","   varying vec3 vColor;","#endif","#ifdef USE_MAP","   attribute vec2 aTextureCoord;","   varying vec2 vTextureCoord;","#endif","#if defined( USE_ENVMAP ) || defined( USE_LIGHT )","   attribute vec3 aNormal;","   uniform mat4 uNormalMatrix;","   varying vec3 vNormal;","   varying vec3 vWorldPosition;","   varying vec3 vViewPosition;","#endif","#ifdef USE_ENVMAP","   varying vec3 vReflect;","   uniform vec3 uCameraPosition;","#endif","#ifdef USE_SKINNING","   uniform mat4 uBindMatrix;","   uniform mat4 uBindMatrixInverse;","   #ifdef BONE_TEXTURE","      uniform sampler2D uBoneTexture;","      uniform int uBoneTextureSize;","      mat4 getBoneMatrix( const in float i ) {","         float j = i * 4.0;","         float x = mod( j, float( uBoneTextureSize ) );","         float y = floor( j / float( uBoneTextureSize ) );","         float dx = 1.0 / float( uBoneTextureSize );","         float dy = 1.0 / float( uBoneTextureSize );","         y = dy * ( y + 0.5 );","         vec4 v1 = texture2D( uBoneTexture, vec2( dx * ( x + 0.5 ), y ) );","         vec4 v2 = texture2D( uBoneTexture, vec2( dx * ( x + 1.5 ), y ) );","         vec4 v3 = texture2D( uBoneTexture, vec2( dx * ( x + 2.5 ), y ) );","         vec4 v4 = texture2D( uBoneTexture, vec2( dx * ( x + 3.5 ), y ) );","         mat4 bone = mat4( v1, v2, v3, v4 );","         return bone;","      }","   #else","      uniform mat4 uBoneMatrices[ MAX_BONES ];","      mat4 getBoneMatrix( const in float i ) {","         mat4 bone = uBoneMatrices[ int(i) ];","         return bone;","      }","   #endif","\tattribute vec4 aSkinIndex;","\tattribute vec4 aSkinWeight;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","       uniform float morphTargetInfluences[ 4 ];","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","       uniform float morphTargetInfluences[ 8 ];","\t#endif","#endif","#ifdef USE_FOG","    varying float vFogDepth;","#endif","#ifdef USE_SHADOW","      uniform mat4 uDirectionalShadowMatrix;","      varying vec4 vDirectionalShadowCoord;","#endif","void main() {","   vec3 transformed = vec3( aPosition );","   #ifdef USE_MORPHTARGETS","      transformed += ( morphTarget0 - aPosition ) * morphTargetInfluences[ 0 ];","      transformed += ( morphTarget1 - aPosition ) * morphTargetInfluences[ 1 ];","      transformed += ( morphTarget2 - aPosition ) * morphTargetInfluences[ 2 ];","      transformed += ( morphTarget3 - aPosition ) * morphTargetInfluences[ 3 ];","      #ifndef USE_MORPHNORMALS","         transformed += ( morphTarget4 - aPosition ) * morphTargetInfluences[ 4 ];","         transformed += ( morphTarget5 - aPosition ) * morphTargetInfluences[ 5 ];","         transformed += ( morphTarget6 - aPosition ) * morphTargetInfluences[ 6 ];","         transformed += ( morphTarget7 - aPosition ) * morphTargetInfluences[ 7 ];","      #endif","   #endif","   #ifdef USE_SKINNING","      mat4 boneMatX = getBoneMatrix( aSkinIndex.x );","      mat4 boneMatY = getBoneMatrix( aSkinIndex.y );","      mat4 boneMatZ = getBoneMatrix( aSkinIndex.z );","      mat4 boneMatW = getBoneMatrix( aSkinIndex.w );","      vec4 skinVertex = uBindMatrix * vec4( transformed, 1.0 );","      vec4 skinned = vec4( 0.0 );","      skinned += boneMatX * skinVertex * aSkinWeight.x;","      skinned += boneMatY * skinVertex * aSkinWeight.y;","      skinned += boneMatZ * skinVertex * aSkinWeight.z;","      skinned += boneMatW * skinVertex * aSkinWeight.w;","      transformed = ( uBindMatrixInverse * skinned ).xyz;","   #endif","   vec4 mvPosition = uViewMatrix * uModelMatrix * vec4( transformed, 1.0 );","   gl_Position = uProjectionMatrix * mvPosition;","   #ifdef USE_VERTEXCOLOR","      vColor = aColor;","   #endif","   #ifdef USE_MAP","      vTextureCoord = aTextureCoord;","   #endif","   #if defined( USE_ENVMAP ) || defined( USE_LIGHT )","      vec3 objectNormal = vec3( aNormal );","      #ifdef USE_MORPHNORMALS","         objectNormal += ( morphNormal0 - aNormal ) * morphTargetInfluences[ 0 ];","         objectNormal += ( morphNormal1 - aNormal ) * morphTargetInfluences[ 1 ];","         objectNormal += ( morphNormal2 - aNormal ) * morphTargetInfluences[ 2 ];","         objectNormal += ( morphNormal3 - aNormal ) * morphTargetInfluences[ 3 ];","      #endif","      #ifdef USE_SKINNING","         mat4 skinMatrix = mat4( 0.0 );","         skinMatrix += aSkinWeight.x * boneMatX;","         skinMatrix += aSkinWeight.y * boneMatY;","         skinMatrix += aSkinWeight.z * boneMatZ;","         skinMatrix += aSkinWeight.w * boneMatW;","         skinMatrix  = uBindMatrixInverse * skinMatrix * uBindMatrix;","         objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;","      #endif","      vViewPosition = -mvPosition.xyz;","      vWorldPosition = vec3(uModelMatrix * vec4(transformed,1.0));","      vec3 vTransformedNormal = vec3(uNormalMatrix * vec4(objectNormal,1.0));","      vNormal = normalize(vTransformedNormal);","      #ifdef USE_ENVMAP","         vec3 cameraToVertex = normalize( vWorldPosition.xyz - uCameraPosition );","         vec3 worldNormal = normalize( ( vec4( vTransformedNormal, 0.0 ) * uViewMatrix ).xyz );","         vReflect = reflect(cameraToVertex, worldNormal);","      #endif","   #endif","   #ifdef USE_FOG","      vFogDepth = -mvPosition.z;","   #endif","   #ifdef USE_SHADOW","         vDirectionalShadowCoord = uDirectionalShadowMatrix * (uModelMatrix * vec4(transformed,1.0));","   #endif","}"].join("\n"),ln=["uniform vec3 uMatColor;","uniform float uMatAlpha;","#ifdef USE_MAP","   uniform sampler2D uMap;","   varying vec2 vTextureCoord;","#endif","#ifdef USE_VERTEXCOLOR","   varying vec3 vColor;","#endif","#if defined( USE_ENVMAP ) || defined( USE_LIGHT )","   varying vec3 vNormal;","   varying vec3 vWorldPosition;","   varying vec3 vViewPosition;","#endif","#ifdef USE_ENVMAP","   uniform sampler2D uEnvMap;","   uniform float uReflectivity;","   uniform mat4 uViewMatrix;","   varying vec3 vReflect;","#endif","#ifdef USE_LIGHT","   float calcSpecular(vec3 lightDir, vec3 viewDir, vec3 normal) {","      vec3 halfwayDir = normalize(lightDir + viewDir);","      float spec = pow(max(dot(normal, halfwayDir), 0.0), 32.0);","      return spec;","   }","   #if "+nn.POINT_LIGHTS_NUM+" > 0","      #define saturate(a) clamp( a, 0.0, 1.0 )","      float calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {","         if ( decayExponent > 0.0 ) {","            return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );","         }","         return 1.0;","      }","      struct PointLight {","         vec3 color;","         vec3 position;","         float distance;","         float decay;","      };","      uniform PointLight pointLights["+nn.POINT_LIGHTS_NUM+"];","   #endif","   #if "+nn.DIR_LIGHTS_NUM+" > 0","      struct DirectionalLight {","         vec3 direction;","         vec3 color;","         int shadow;","         float shadowBias;","\t      float shadowRadius;","\t      vec2 shadowMapSize;","      };","      uniform DirectionalLight directionalLights["+nn.DIR_LIGHTS_NUM+"];","   #endif","   uniform vec3 uAmbientLightColor;","#endif","#ifdef USE_FOG","   uniform vec3 uFogColor;","   varying float vFogDepth;","   uniform float uFogNear;","   uniform float uFogFar;","#endif","#ifdef USE_SHADOW","      uniform sampler2D uDirectionalShadowMap;","      varying vec4 vDirectionalShadowCoord;","      const float UnpackDownscale = 255. / 256.;","      const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );","      const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );","      float unpackRGBAToDepth( const in vec4 v ) {","          return dot( v, UnpackFactors );","      }","   float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {","      return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );","   }","   float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {","      float shadow = 1.0;","      shadowCoord.xyz /= shadowCoord.w;","      shadowCoord.z += shadowBias;","      bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );","      bool inFrustum = all( inFrustumVec );","      bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );","      bool frustumTest = all( frustumTestVec );","      if ( frustumTest ) {","         #if defined( SHADOWMAP_TYPE_PCF )","            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;","            float dx0 = - texelSize.x * shadowRadius;","\t         float dy0 = - texelSize.y * shadowRadius;","\t         float dx1 = + texelSize.x * shadowRadius;","\t         float dy1 = + texelSize.y * shadowRadius;","            shadow =(","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )","            ) * ( 1.0 / 9.0 );","         #elif defined( SHADOWMAP_TYPE_PCF_SOFT )","         #else","            shadow = texture2DCompare(shadowMap, shadowCoord.xy, shadowCoord.z);","         #endif","      }","      return shadow;","   }","#endif","void main() {","   vec4 color = vec4( uMatColor, uMatAlpha );","   color.rgb *= color.a;","   #ifdef USE_MAP","      vec4 mapColor = texture2D( uMap, vTextureCoord );","      color *= mapColor;","   #endif","   #ifdef USE_VERTEXCOLOR","      color *= vec4(vColor,1.0);","   #endif","   vec3 colorRgb = color.rgb;","   #ifdef USE_LIGHT","      vec3 totalDiffuseLight = vec3( 0.0 );","      vec3 totalSpecularLight = vec3( 0.0 );","      vec3 viewDir = normalize(vViewPosition);","      vec3 lightDirection;","      float diffuse;","      float specular;","      #if "+nn.POINT_LIGHTS_NUM+" > 0","         float attenuation;","         for ( int i = 0; i < "+nn.POINT_LIGHTS_NUM+"; i ++ ) {","            lightDirection = pointLights[i].position + vViewPosition;","            attenuation = calcLightAttenuation( length( lightDirection ), pointLights[ i ].distance, pointLights[ i ].decay );","            lightDirection = normalize(lightDirection);","            diffuse = max( dot( vNormal, lightDirection ), 0.0 );","            totalDiffuseLight += pointLights[i].color * (diffuse * attenuation);","            specular = calcSpecular(lightDirection,viewDir,vNormal);","            totalSpecularLight += pointLights[i].color *(specular * attenuation);","         }","      #endif","      #if "+nn.DIR_LIGHTS_NUM+" > 0","         DirectionalLight directionalLight;","         for( int i = 0; i < "+nn.DIR_LIGHTS_NUM+"; i++ ) {","            directionalLight = directionalLights[ i ];","            vec3 dColor = directionalLight.color;","            #ifdef USE_SHADOW","               dColor *= all( bvec2( directionalLight.shadow, 1.0 ) ) ? getShadow( uDirectionalShadowMap, directionalLight.shadowMapSize, directionalLight.shadowBias,directionalLight.shadowRadius, vDirectionalShadowCoord ) : 1.0;","            #endif","            lightDirection = directionalLight.direction;","            diffuse = max( dot( vNormal, lightDirection ), 0.0 );","            totalDiffuseLight += dColor * diffuse;","            specular = calcSpecular(lightDirection,viewDir,vNormal);","            totalSpecularLight += dColor * specular;","         }","      #endif","      colorRgb = (totalDiffuseLight + uAmbientLightColor + totalSpecularLight) * colorRgb;","   #endif","   #ifdef USE_ENVMAP","      vec2 envUv;","      vec3 reflectVec = normalize( vReflect );","      envUv.y =0.5 - asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * 0.31830988618;","      envUv.x = atan( reflectVec.z, reflectVec.x ) * 0.15915494 + 0.5;","\t   vec4 envColor = texture2D( uEnvMap, envUv );","      #ifdef ENVMAP_BLENDING_MULTIPLY","         colorRgb = mix(colorRgb, colorRgb * envColor.xyz,  uReflectivity);","      #elif defined( ENVMAP_BLENDING_MIX )","         colorRgb = mix( colorRgb, envColor.xyz,   uReflectivity );","      #elif defined( ENVMAP_BLENDING_ADD )","         colorRgb += envColor.xyz  * uReflectivity;","      #endif","   #endif","   gl_FragColor = vec4( colorRgb, color.a );","#ifdef USE_FOG","   float fogFactor = smoothstep( uFogNear, uFogFar, vFogDepth );","   gl_FragColor.rgb = mix( gl_FragColor.rgb, uFogColor*color.a, fogFactor );","#endif","}"].join("\n"),hn=function(t){function e(e){return t.call(this,e,"attribute vec3 aPosition;\nuniform mat4 uLightSpaceMatrix;\nuniform mat4 uModelMatrix;\nvoid main() {\n    gl_Position = uLightSpaceMatrix * uModelMatrix * vec4( aPosition, 1.0 );\n}","precision mediump float;\n    // uniform float uMatAlpha;\n    const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\n    vec4 packDepthToRGBA( const in float v ) {\n        vec4 r = vec4( fract( v * PackFactors ), v );\n        r.yzw -= r.xyz * (1. / 256.);\n        return r * (256. / 255.);\n    }\n    void main() {\n        // gl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), uMatAlpha );\n        gl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n}")||this}return R(e,t),e}(Me),un=new _i,cn=new bi,pn=function(t){function e(e){var r=t.call(this,e)||this;return r.meshes=[],r}return R(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.maxVertexUniforms=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS);t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),t.getExtension("OES_texture_float");this.floatVertexTextures=!1},e.prototype.start=function(){this.renderer.state.setDepthTest(1)},e.prototype.stop=function(){this.flush(),this.renderer._activeRenderTarget.activate(),this.renderer.state.setState(this.renderer.state.defaultState)},e.prototype.render=function(t){if(t.geometry&&t.material){for(var e=t.material,r=(t.geometry,0);r<this.meshes.length;r++)if(this.meshes[r].material==e)return void this.meshes.splice(r,0,t);this.meshes.push(t)}},e.prototype.flush=function(){var t=function(t,e,r){var i=function(){if(!t||!t.directionalLights||!t.directionalLights.length)return null;for(var e=0,r=t.directionalLights;e<r.length;e++){var i=r[e];if(i.castShadow)return i}return null}();if(!i)return null;var n=[],o=[];if(e&&e.length)for(var a=0,s=e;a<s.length;a++){var l=s[a];l.castShadow&&l.material._lightAffect&&n.push(l),l.receiveShadow&&l.material._lightAffect&&o.push(l)}if(!n.length||!o.length)return null;var h=r.gl;fn=fn||new mr(new dr(i.mapSize[0],i.mapSize[1])),r.bindRenderTexture(fn,null),r.clear([1,1,1,1]),r.state.setBlend(!1);var u=_n[r.CONTEXT_UID]||(_n[r.CONTEXT_UID]=new hn(r.gl));r.bindShader(u,!1);var c=u.uniforms;return c.uLightSpaceMatrix=i.shadowMatrixDepth,r.state.setCullFace(1),r.state.setFrontFace(1),n.forEach((function(t){var e=t.geometry,i=t.material;c.uModelMatrix=t._worldMatrix.toArray();var n=bn(e,r),o=n.vaos[r.CONTEXT_UID],a=u.attributes;o?r.bindVao(o):(o=n.vaos[r.CONTEXT_UID]=r.createVao().addAttribute(n.attrBuffer,a.aPosition,h.FLOAT,!1,e._vertByteSize,0),e._indices&&o.addIndex(n.indexBuffer),r.bindVao(o),n.attrBuffer.upload(e._attrBuffer.vertices,0,!1),e._indices&&n.indexBuffer.upload(e._indices,0,!1)),o.draw(i.wireframe?h.LINES:h.TRIANGLES)})),r.bindRenderTexture(null,null),r.state.setBlend(!0),{texture:fn,lightSpaceMatrix:i.shadowMatrix,shadowType:null}}(this.lightsConfig,this.meshes,this.renderer);t&&(this.renderer.gl.viewport(this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height),t.shadowType=this.shadowType);for(var e=null,r=this.lightsConfig.pointLights.length,i=this.lightsConfig.directionalLights.length,n=this.renderer.gl,o=this.renderer.textureManager,a=0;a<this.meshes.length;a++){var s=this.meshes[a],l=s.material,h=s.geometry;if(l.isShaderMaterial){var u=l.getShader(this.renderer),c=u.uniforms,p=l.uniforms;for(var f in e!==u&&(e=u,this.renderer.bindShader(e,!1),c.uViewMatrix&&(c.uViewMatrix=this.camera.worldMatrixInverse.toArray()),c.uProjectionMatrix&&(c.uProjectionMatrix=this.camera.projectionMatrix.toArray())),c.uModelMatrix&&(c.uModelMatrix=s._worldMatrix.toArray()),p){var d=p[f],m=d.type,v=d.value;switch(m){case Gi.texture:c[f]=o.bindTexture(v,void 0,!1);break;case Gi.color:c[f]=Dt(v);break;case Gi.vector2:case Gi.vector3:case Gi.vector4:case Gi.matrix4:c[f]=v.toArray();break;default:c[f]=v}}}else{var y=this.getMaxBones(s),g=$i(this.renderer,l,this.lightsConfig,s,y,this.floatVertexTextures,this.fog,t);c=g.uniforms;if(e!==g&&(e=g,this.renderer.bindShader(e,!1),c.uViewMatrix=this.camera.worldMatrixInverse.toArray(),c.uProjectionMatrix=this.camera.projectionMatrix.toArray(),l._lightAffect)){for(var _=0;_<r;_++){c[b="pointLights["+_+"]"].color=this.lightsConfig.pointLights[_].color,c[b].position=this.lightsConfig.pointLights[_].position,c[b].distance=this.lightsConfig.pointLights[_].distance,c[b].decay=this.lightsConfig.pointLights[_].decay}for(_=0;_<i;_++){var b="directionalLights["+_+"]",x=this.lightsConfig.directionalLights[_];c[b].color=x.color,c[b].direction=x.direction,c[b].shadow=+x.castShadow,c[b].shadowBias=x.bias,c[b].shadowRadius=x.radius,c[b].shadowMapSize=x.mapSize}c.uAmbientLightColor=this.lightsConfig.ambientLightColor,c.uDirectionalShadowMatrix&&(c.uDirectionalShadowMatrix=t.lightSpaceMatrix,c.uDirectionalShadowMap=o.bindTexture(t.texture,void 0,!1))}if(l.map&&(c.uMap=o.bindTexture(l.map,void 0,!1)),l.envMap&&(c.uEnvMap=o.bindTexture(l.envMap,void 0,!1),c.uReflectivity=l.reflectivity,c.uCameraPosition=un.setFromMatrixPosition(this.camera._worldMatrix).toArray()),c.uMatColor=l.colorArr,c.uMatAlpha=l.alpha,l.useFog&&this.fog&&(c.uFogColor=this.fog.color,c.uFogNear=this.fog.near,c.uFogFar=this.fog.far),c.uModelMatrix=s._worldMatrix.toArray(),c.uNormalMatrix){var w=cn.multiplyMatrices(this.camera.worldMatrixInverse,s._worldMatrix).invert().transpose();c.uNormalMatrix=w.toArray()}if(l.skinning&&y>0){var T=s;c.uBindMatrix=T.bindMatrix.toArray(),c.uBindMatrixInverse=T.bindMatrixInverse.toArray();var E=T.skeleton;if(E){var S=E.bones;if(this.floatVertexTextures){if(!E.boneTexture){var M=Math.sqrt(4*S.length);M=function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}(M),M=Math.max(M,4);var A=new Float32Array(M*M*4);A.set(E.boneMatrices);var C=new Ht({data:A,width:M,height:M});C.mipmap=!1,E.boneMatrices=A,E.boneTexture=C,E.boneTextureSize=M}var P=o.bindTexture(E.boneTexture,void 0,!1);c.uBoneTexture=P,c.uBoneTextureSize=E.boneTextureSize}else c.uBoneMatrices=T.skeleton.boneMatrices}}}var k,O=bn(h,this.renderer),I=O.vaos[e._glShaderKey],D=e.attributes;if(I)s.morphTargetInfluences&&l.morphTargets&&(k=yn(s.morphTargetInfluences,h,O,I,e,n)),this.renderer.bindVao(I,!!k),k&&k.forEach((function(t){t.buffer.upload(t.data,0,!1)}));else I=O.vaos[e._glShaderKey]=this.renderer.createVao().addAttribute(O.attrBuffer,D.aPosition,n.FLOAT,!1,h._vertByteSize,0),D.aColor&&I.addAttribute(O.attrBuffer,D.aColor,n.FLOAT,!0,h._vertByteSize,12),D.aTextureCoord&&I.addAttribute(O.attrBuffer,D.aTextureCoord,n.FLOAT,!0,h._vertByteSize,24),D.aNormal&&I.addAttribute(O.attrBuffer,D.aNormal,n.FLOAT,!1,h._vertByteSize,32),h._indices&&I.addIndex(O.indexBuffer),D.aSkinWeight&&I.addAttribute(O.skinWeightBuffer,D.aSkinWeight,n.FLOAT,!1,0,0),D.aSkinIndex&&I.addAttribute(O.skinIndexBuffer,D.aSkinIndex,n.UNSIGNED_BYTE,!1,0,0),s.morphTargetInfluences&&l.morphTargets&&(k=yn(s.morphTargetInfluences,h,O,I,e,n)),this.renderer.bindVao(I),O.attrBuffer.upload(h._attrBuffer.vertices,0,!1),h._indices&&O.indexBuffer.upload(h._indices,0,!1),D.aSkinWeight&&O.skinWeightBuffer.upload(new Float32Array(h._skinWeight),0,!1),D.aSkinIndex&&O.skinIndexBuffer.upload(new Uint8Array(h._skinIndex),0,!1),k&&k.forEach((function(t){t.buffer.upload(t.data,0,!1)}));l.side==Ti.DoubleSide?this.renderer.state.setCullFace(0):(this.renderer.state.setCullFace(1),this.renderer.state.setFrontFace(l.side)),I.draw(l.wireframe?n.LINES:n.TRIANGLES)}this.meshes.length=0},e.prototype.getMaxBones=function(t){if("SkinnedMesh3D"!==t.instanceType)return 0;if(this.floatVertexTextures)return 1024;var e=t.skeleton.bones,r=Math.floor((this.maxVertexUniforms-20)/4),i=Math.min(r,e.length);return i<e.length?(console.warn("Skeleton has "+e.length+" bones. This GPU supports "+i+"."),0):i},e}(te);var fn,dn={},mn={},vn=new Float32Array(8);function yn(t,e,r,i,n,o){var a=e._morphPositions,s=e._morphNormals,l=t.length,h=[],u=dn[e.instanceId];if(!u){u=[];for(var c=0;c<l;c++)u[c]=[c,0];dn[e.instanceId]=u}var p=mn[e.instanceId];p||((p=[]).length=8,mn[e.instanceId]=p);for(c=0;c<8;c++){(m=u[c])&&0!==m[1]&&(a&&i.removeAttribute("morphTarget"+c),s&&c<4&&i.removeAttribute("morphNormal"+c))}for(c=0;c<l;c++){(m=u[c])[0]=c,m[1]=t[c]}u.sort(gn);var f=n.attributes,d=s?4:8;for(c=0;c<d;c++){var m;if(m=u[c]){var v=m[0],y=m[1];if(y){if(a&&a[v]){var g=r.morphTargetBuffers[v];g||(g=r.morphTargetBuffers[v]=le.createVertexBuffer(o,null,o.STATIC_DRAW)),p[c]!==v&&(p[c]=v,h.push({buffer:g,data:new Float32Array(a[v])})),i.addAttribute(g,f["morphTarget"+c],o.FLOAT,!1,0,0,"morphTarget"+c)}if(s&&s[v]){var _=r.morphNormalBuffers[v];_||(_=r.morphNormalBuffers[v]=le.createVertexBuffer(o,null,o.STATIC_DRAW)),p[c+4]!==v&&(p[c+4]=v,h.push({buffer:_,data:new Float32Array(s[v])})),i.addAttribute(r.morphNormalBuffers[v],f["morphNormal"+c],o.FLOAT,!1,0,0,"morphNormal"+c)}vn[c]=y;continue}}vn[c]=0}return n.uniforms.morphTargetInfluences=vn,h}function gn(t,e){return Math.abs(e[1])-Math.abs(t[1])}cr.registerPlugin("d3",pn);var _n={};function bn(t,e){var r=e.gl,i=t._glVaoBuffer[e.CONTEXT_UID];return i||(i=t._glVaoBuffer[e.CONTEXT_UID]={attrBuffer:le.createVertexBuffer(r,null,r.STATIC_DRAW),vaos:{}},t._indices&&(i.indexBuffer=le.createIndexBuffer(r,null,r.STATIC_DRAW)),t._morphPositions&&(i.morphTargetBuffers=[]),t._morphNormals&&(i.morphNormalBuffers=[]),t._skinWeight&&(i.skinWeightBuffer=le.createVertexBuffer(r,null,r.STATIC_DRAW)),t._skinIndex&&(i.skinIndexBuffer=le.createVertexBuffer(r,null,r.STATIC_DRAW)),function(t){for(var e=t._attrBuffer.float32View,r=0,i=0;i<t._vertices.length/3;i++)e[r++]=t._vertices[3*i],e[r++]=t._vertices[3*i+1],e[r++]=t._vertices[3*i+2],e[r++]=t._colors[3*i],e[r++]=t._colors[3*i+1],e[r++]=t._colors[3*i+2],e[r++]=t._uvs[2*i],e[r++]=t._uvs[2*i+1],e[r++]=t._normals[3*i],e[r++]=t._normals[3*i+1],e[r++]=t._normals[3*i+2]}(t)),i}function xn(t,e,r){return i=t,!ArrayBuffer.isView(i)||i instanceof DataView?t.slice(e,r):new t.constructor(t.subarray(e,void 0!==r?r:t.length));var i}var wn;!function(t){t.quaternion="quaternion",t.scale="scale",t.morphTargetInfluences="morphTargetInfluences",t.position="position"}(wn||(wn={}));var Tn=function(t){function e(e,r,i,n){var o=t.call(this)||this;switch(o.node=e,o.animationType=r,o.times=i,o.values=n,o._instanceType="AnimationTrack",o.animationType){case wn.position:case wn.scale:case wn.quaternion:var a=o.node[o.animationType].clone().toArray();o.resetValue=function(){o.node[o.animationType].fromArray(a)};break;case wn.morphTargetInfluences:if("Mesh3D"==o.node.instanceType||"SkinnedMesh3D"==o.node.instanceType){var s=o.node.morphTargetInfluences?o.node.morphTargetInfluences.slice():[];o.resetValue=function(){for(var t=o.node.morphTargetInfluences,e=0;e<t.length;e++)t[e]=s[e]||0}}}return o.resetValue||(o.resetValue=function(){}),o}return R(e,t),e.prototype.setValue=function(t){var e=this.getValue(t);switch(this.animationType){case wn.position:case wn.scale:case wn.quaternion:this.node[this.animationType].fromArray(e);break;case wn.morphTargetInfluences:if("Mesh3D"==this.node.instanceType||"SkinnedMesh3D"==this.node.instanceType)for(var r=this.node.morphTargetInfluences,i=0;i<r.length;i++)r[i]=e[i]||0}},e.prototype.getValue=function(t){var e=this.getValueSize();if(t<=0)return this.values.slice(0,e);if(t>=this.times[this.times.length-1])return this.values.slice(-e);var r=this.findPreIndex(t),i=r-1;if(i<0)return this.values.slice(0,e);var n=(t-this.times[i])/(this.times[r]-this.times[i]),o=this.values.slice(i*e,i*e+e),a=this.values.slice(r*e,r*e+e);return this.animationType==wn.quaternion?function(t,e,r){var i=[];return xi.slerpFlat(i,0,e,0,r,0,t),i}(n,o,a):function(t,e,r){for(var i=[],n=0;n!==e.length;++n)i[n]=e[n]*(1-t)+r[n]*t;return i}(n,o,a)},e.prototype.getValueSize=function(){return this.values.length/this.times.length},e.prototype.findPreIndex=function(t){for(var e=0,r=0;r<this.times.length;r++)if(this.times[r]>t){e=r;break}return e},e.prototype.destroy=function(){this.node=null,this.values=null,this.times=null},e}(F);var En=new bi,Sn=new bi,Mn=function(t){function e(e,r){void 0===e&&(e=[]);var i=t.call(this)||this;if(i._instanceType="Skeleton3D",i.bones=e.slice(0),i.boneMatrices=new Float32Array(16*i.bones.length),r)if(i.bones.length===r.length)i.boneInverses=r.slice(0);else{console.warn("boneInverses长度有误"),i.boneInverses=[];for(var n=0,o=i.bones.length;n<o;n++)i.boneInverses.push(new bi)}else i.calculateInverses();return i}return R(e,t),e.prototype.calculateInverses=function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var r=new bi;this.bones[t]&&r.setInverseOf(this.bones[t]._worldMatrix),this.boneInverses.push(r)}},e.prototype.pose=function(){var t,e,r;for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&t._worldMatrix.setInverseOf(this.boneInverses[e]);for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&(t.parent&&"Bone3D"==t.parent.instanceType?(t._localMatrix.setInverseOf(t.parent._worldMatrix),t._localMatrix.multiply(t._worldMatrix)):t._localMatrix.copy(t._worldMatrix),t._localMatrix.decompose(t.position,t.quaternion,t.scale))},e.prototype.update=function(){for(var t=this.bones,e=this.boneInverses,r=this.boneMatrices,i=this.boneTexture,n=0,o=t.length;n<o;n++){var a=t[n]?t[n]._worldMatrix:Sn;En.multiplyMatrices(a,e[n]),En.toArray(r,16*n)}i&&i.update()},e.prototype.clone=function(){return new e(this.bones,this.boneInverses)},e.prototype.getBoneByName=function(t){for(var e=0,r=this.bones.length;e<r;e++){var i=this.bones[e];if(i.name===t)return i}return null},e.prototype.destroy=function(){},e}(F),An=function(t){function e(){var e=t.call(this)||this;return e._instanceType="Bone3D",e}return R(e,t),e}(Mi),Cn=function(t){function e(e,r){var i=t.call(this,e,r)||this;i.bindMode="attached",i.bindMatrix=new bi,i.bindMatrixInverse=new bi,i._instanceType="SkinnedMesh3D";var n=i.initBones(),o=new Mn(n);return i.bind(o,i._worldMatrix),i.normalizeSkinWeights(),i}return R(e,t),e.prototype.initBones=function(){var t,e,r,i,n=[];if(this.geometry&&void 0!==this.geometry.bones){for(r=0,i=this.geometry.bones.length;r<i;r++)e=this.geometry.bones[r],t=new An,n.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(r=0,i=this.geometry.bones.length;r<i;r++)-1!==(e=this.geometry.bones[r]).par&&null!==e.par&&void 0!==n[e.par]?n[e.par].addChild(n[r]):this.addChild(n[r])}return this.updateWorldMatrix(),n},e.prototype.bind=function(t,e){this.skeleton=t,void 0===e&&(this.updateWorldMatrix(),this.skeleton.calculateInverses(),e=this._worldMatrix),this.bindMatrix.copy(e),this.bindMatrixInverse.setInverseOf(e)},e.prototype.pose=function(){this.skeleton.pose()},e.prototype.normalizeSkinWeights=function(){var t,e;if(this.geometry){var r=new Pn,i=this.geometry._skinWeight,n=i.length/4||0;for(e=0;e<n;e++)r.x=i[4*e],r.y=i[4*e+1],r.z=i[4*e+2],r.w=i[4*e+3],(t=1/r.manhattanLength())!==1/0?r.multiplyScalar(t):r.set(1,0,0,0),i[4*e]=r.x,i[4*e+1]=r.y,i[4*e+2]=r.z,i[4*e+3]=r.w}},e.prototype.updateWorldMatrix=function(){t.prototype.updateWorldMatrix.call(this),"attached"===this.bindMode?this.bindMatrixInverse.setInverseOf(this._worldMatrix):"detached"===this.bindMode&&this.bindMatrixInverse.setInverseOf(this.bindMatrix)},e.prototype.update=function(){this.visible&&(this.skeleton.update(),t.prototype.update.call(this))},e.prototype.clone=function(){return new e(this.geometry,this.material).copy(this)},e}(Fi),Pn=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),this.x=t,this.y=e,this.z=r,this.w=i}return t.prototype.set=function(t,e,r,i){return this.x=t,this.y=e,this.z=r,this.w=i,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},t.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},t}(),kn=function(t){function e(e,r){var i=t.call(this)||this;return i._isPlaying=!0,i._isFront=!0,i.lastTime=null,i.curTime=0,i._endMark=!1,i._instanceType="AnimationClip",i.tracks=e,i._totalTime=r,i}return R(e,t),Object.defineProperty(e.prototype,"totalTime",{get:function(){return this._totalTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),e.prototype.update=function(t){if(this.tracks&&this.tracks.length)return this.curTime!==this.lastTime?(this.rectify(),void(this._endMark=!1)):void(t<=0||!this._isPlaying||(this._endMark=!1,this._isFront?(this.curTime+=t,this.curTime>this._totalTime&&(this.curTime=0,this._endMark=!0)):(this.curTime-=t,this.curTime<0&&(this.curTime=this._totalTime,this._endMark=!0)),this.curTime!==this.lastTime&&(this.rectify(),this.dispatchEvent(L.ENTER_FRAME),this._endMark&&this.hasEventListener(L.END_FRAME)&&this.dispatchEvent(L.END_FRAME))))},e.prototype.play=function(t){void 0===t&&(t=!0),this._isFront=t,this._isPlaying=!0},e.prototype.stop=function(){this._isPlaying=!1,this.lastTime=this.curTime},e.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=!0);var r=this;r._isFront=e,r._isPlaying=!0,t>r._totalTime&&(t=r._totalTime),t<1&&(t=0),r.curTime=t},e.prototype.gotoAndStop=function(t,e){void 0===e&&(e=!1),this._isPlaying=!1,t>this.totalTime&&(t=this.totalTime),t<0&&(t=0),this.curTime=t,e&&(this.lastTime=null)},e.prototype.startAniRange=function(t,e,r,i){var n=this;if(void 0===t&&(t=0),void 0===e&&(e=this._totalTime),void 0===r&&(r=1),t<0&&(t=0),t>this._totalTime&&(t=this._totalTime),e<0&&(e=0),e>this._totalTime&&(e=this._totalTime),t!==e){if(t<e)this._isFront=!0;else{this._isFront=!1;var o=t;t=e,e=o}this.startAniRangeFun&&this.removeEventListener(L.ENTER_FRAME,this.startAniRangeFun,this),this.curTime=t,this._isPlaying=!0;var a=r?r+.5>>0:1/0;this.addEventListener(L.ENTER_FRAME,this.startAniRangeFun=function(r){var o=r.target;o._isFront?(o.curTime>=e||o._endMark)&&(--a<=0?(o.gotoAndStop(e),o.removeEventListener(L.ENTER_FRAME,n.startAniRangeFun,n),n.startAniRangeFun=null,i&&i(a)):o.gotoAndPlay(t)):(o.curTime<=t||o._endMark)&&(--a<=0?(o.gotoAndStop(t),o.removeEventListener(L.ENTER_FRAME,n.startAniRangeFun,n),n.startAniRangeFun=null,i&&i(a)):o.gotoAndPlay(e,!1))},this)}else this.gotoAndStop(t)},e.prototype.rectify=function(){if(this.tracks&&this.tracks.length){for(var t=0;t<this.tracks.length;t++)this.tracks[t].setValue(this.curTime);this.lastTime=this.curTime}},e.prototype.resetState=function(){this.stop();for(var t=0;t<this.tracks.length;t++)this.tracks[t].resetValue()},e}(B),On=function(t){function e(e){var r=t.call(this)||this;return r.animationClips=e,r._instanceType="AnimationManager",r.stop(),r}return R(e,t),e.prototype.getAniClipByName=function(t){for(var e=0;e<this.animationClips.length;e++)if(this.animationClips[e].name==t)return this.animationClips[e];return null},e.prototype.showAni=function(t,e,r){void 0===e&&(e=1);var i=this.getAniClipByName(t);return i?(this.currentClip&&this.currentClip.resetState(),this.currentClip=i,i.startAniRange(0,void 0,e,r),i):null},e.prototype.stop=function(){this.animationClips.forEach((function(t){t.stop()})),this.currentClip=null},e.prototype.reset=function(){this.animationClips.forEach((function(t){t.resetState()})),this.currentClip=null},e.prototype.update=function(t){void 0===t&&(t=.0167);for(var e=0;e<this.animationClips.length;e++)this.animationClips[e].update(t)},e.prototype.destroy=function(){this.animationClips=null,this.currentClip=null},e}(F),In="KHR_binary_glTF",Dn="KHR_draco_mesh_compression",Rn="KHR_lights_punctual",Fn="KHR_materials_pbrSpecularGlossiness",Ln="KHR_materials_unlit",Bn="MSFT_texture_dds",Nn=4,zn=5,jn=6,Vn={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Un={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Wn={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences",position:"position"};function qn(t){if(t.isInterleavedBufferAttribute){for(var e=t.count,r=t.itemSize,i=t.array.slice(0,e*r),n=0;n<e;++n)i[n*r]=t.getX(n),r>=2&&(i[n*r+1]=t.getY(n)),r>=3&&(i[n*r+2]=t.getZ(n)),r>=4&&(i[n*r+3]=t.getW(n));return new Zn(i,r,t.normalized)}return t.clone()}function Hn(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(var r=0,i=e.weights.length;r<i;r++)t.morphTargetInfluences[r]=e.weights[r];if(e.extras&&Array.isArray(e.extras.targetNames)){var n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Gn(t,e){return t.indices===e.indices&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(t[r]!==e[r])return!1;return!0}(t.attributes,e.attributes)}function Yn(t,e){for(var r=0,i=t.length;r<i;r++){var n=t[r];if(Gn(n.primitive,e))return n.promise}return null}!function(){function t(t,e,r){void 0===t&&(t={}),void 0===e&&(e={}),void 0===r&&(r={}),this.json=t,this.extensions=e,this.options=r,this.cache=new Kn,this.primitiveCache=[],this.multiplePrimitivesCache=[],this.multiPassGeometryCache=[],this.loadScene=function(){function t(e,r,i,n,o){var a=n[e],s=i.nodes[e];if(void 0!==s.skin)for(var l="Object3D"==a.instanceType?a.children:[a],h=0;h<l.length;h++){for(var u=l[h],c=o[s.skin],p=[],f=[],d=0,m=c.joints.length;d<m;d++){var v=c.joints[d],y=n[v];if(y){p.push(y);var g=new bi;void 0!==c.inverseBindMatrices&&g.fromArray(c.inverseBindMatrices.array,16*d),f.push(g)}else console.warn('Joint "%s" could not be found.',v)}u.bind(new Mn(p,f),u._worldMatrix)}if(r.addChild(a),s.children){var _=s.children;for(h=0;h<_.length;h++){var b=_[h];a&&t(b,a,i,n,o)}}}return function(e){var r=this.json,i=(this.extensions,this.json.scenes[e]);return this.getMultiDependencies(["node","skin"]).then((function(e){var n=new Yi;void 0!==i.name&&(n.name=i.name);for(var o=i.nodes||[],a=0,s=o.length;a<s;a++)t(o[a],n,r,e.nodes,e.skins);return n}))}}()}t.prototype.parse=function(t,e){var r=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then((function(e){var i=e.scenes||[],n=i[r.scene||0],o=e.animations||[],a=e.cameras||[];t(n,i,a,o,r)})).catch(e)},t.prototype.markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],r=this.json.meshes||[],i={},n={},o=0,a=e.length;o<a;o++)for(var s=e[o].joints,l=0,h=s.length;l<h;l++)t[s[l]].isBone=!0;for(var u=0,c=t.length;u<c;u++){var p=t[u];void 0!==p.mesh&&(void 0===i[p.mesh]&&(i[p.mesh]=n[p.mesh]=0),i[p.mesh]++,void 0!==p.skin&&(r[p.mesh].isSkinnedMesh=!0))}this.json.meshReferences=i,this.json.meshUses=n},t.prototype.getDependency=function(t,e){var r=t+":"+e,i=this.cache.get(r);if(!i){switch(t){case"scene":i=this.loadScene(e);break;case"node":i=this.loadNode(e);break;case"mesh":i=this.loadMesh(e);break;case"accessor":i=this.loadAccessor(e);break;case"bufferView":i=this.loadBufferView(e);break;case"buffer":i=this.loadBuffer(e);break;case"material":i=this.loadMaterial(e);break;case"texture":i=this.loadTexture(e);break;case"skin":i=this.loadSkin(e);break;case"animation":i=this.loadAnimation(e);break;case"camera":i=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(r,i)}return i},t.prototype.getDependencies=function(t){var e=this.cache.get(t);if(!e){var r=this,i=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(i.map((function(e,i){return r.getDependency(t,i)}))),this.cache.add(t,e)}return e},t.prototype.getMultiDependencies=function(t){for(var e={},r=[],i=0,n=t.length;i<n;i++){var o=t[i],a=this.getDependencies(o);a=a.then(function(t,r){e[t]=r}.bind(this,o+("mesh"===o?"es":"s"))),r.push(a)}return Promise.all(r).then((function(){return e}))},t.prototype.loadBuffer=function(t){var e=this.json.buffers[t];if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");return void 0===e.uri&&0===t?Promise.resolve(this.extensions[In].body):new Promise((function(t,r){var i=e.uri.match(/^data:(.*?)(;base64)?,(.*)$/);if(i){i[1];var n=!!i[2],o=i[3];o=decodeURIComponent(o),n&&(o=atob(o));for(var a=new Uint8Array(o.length),s=0;s<o.length;s++)a[s]=o.charCodeAt(s);t(a.buffer)}else r("阿三的")}))},t.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){var r=e.byteLength||0,i=e.byteOffset||0;return t.slice(i,i+r)}))},t.prototype.loadAccessor=function(t){var e=this,r=this.json,i=this.json.accessors[t];if(void 0===i.bufferView&&void 0===i.sparse)return null;var n=[];return void 0!==i.bufferView?n.push(this.getDependency("bufferView",i.bufferView)):n.push(null),void 0!==i.sparse&&(n.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),n.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(n).then((function(t){var n,o,a=t[0],s=Un[i.type],l=Vn[i.componentType],h=l.BYTES_PER_ELEMENT,u=h*s,c=i.byteOffset||0,p=void 0!==i.bufferView?r.bufferViews[i.bufferView].byteStride:void 0,f=!0===i.normalized;if(p&&p!==u){var d="InterleavedBuffer:"+i.bufferView+":"+i.componentType,m=e.cache.get(d);m||(n=new l(a),m=new Jn(n,p/h),e.cache.add(d,m)),o=qn(new Qn(m,s,c/h,f))}else n=null===a?new l(i.count*s):new l(a,c,i.count*s),o=new Zn(n,s,f);if(void 0!==i.sparse){var v=Un.SCALAR,y=Vn[i.sparse.indices.componentType],g=i.sparse.indices.byteOffset||0,_=i.sparse.values.byteOffset||0,b=new y(t[1],g,i.sparse.count*v),x=new l(t[2],_,i.sparse.count*s);null!==a&&o.setArray(o.array.slice());for(var w=0,T=b.length;w<T;w++){var E=b[w];if(o.setX(E,x[w*s]),s>=2&&o.setY(E,x[w*s+1]),s>=3&&o.setZ(E,x[w*s+2]),s>=4&&o.setW(E,x[w*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o}))},t.prototype.loadTexture=function(t){var e,r=this.json,i=(this.options,r.textures[t]),n=i.extensions||{},o=(e=n[Bn]?r.images[n[Bn].source]:r.images[i.source]).uri;return void 0!==e.bufferView&&(o=this.getDependency("bufferView",e.bufferView).then((function(t){var r=Wt(t);return"data:"+e.mimeType+";base64,"+r}))),Promise.resolve(o).then((function(t){return new Promise((function(e,r){var i,n;qt.loadImage((function(t,i){t?e(Yt.fromImage(i)):r()}),(n="","string"!=typeof(i=t)||""===i?"":/^(https?:)?\/\//i.test(i)||/^data:.*,.*$/i.test(i)||/^blob:.*$/i.test(i)?i:n+i))}))})).then((function(t){return void 0!==i.name&&(t.name=i.name),t}))},t.prototype.assignTexture=function(t,e,r){return this.getDependency("texture",r).then((function(r){t[e]=r}))},t.prototype.loadMaterial=function(t){var e,r=this.json,i=(this.extensions,r.materials[t]),n={},o=i.extensions||{},a=[];if(o[Fn]){e=Xi;var s=i.extensions[Fn];if(n.color=16777215,n.alpha=1,Array.isArray(s.diffuseFactor)){var l=s.diffuseFactor;n.color=Lt(l),n.alpha=l[3]}void 0!==s.diffuseTexture&&a.push(this.assignTexture(n,"map",s.diffuseTexture.index))}else{e=o[Ln]?Ai:Xi;var h=i.pbrMetallicRoughness||{};if(n.color=16777215,n.alpha=1,Array.isArray(h.baseColorFactor)){l=h.baseColorFactor;n.color=Lt(l),n.alpha=l[3]}void 0!==h.baseColorTexture&&a.push(this.assignTexture(n,"map",h.baseColorTexture.index))}return!0===i.doubleSided&&(n.side=Ti.DoubleSide),Promise.all(a).then((function(){var t;return t=new e(n),void 0!==i.name&&(t.name=i.name),t}))},t.prototype.loadGeometries=function(t){this.extensions;var e=this.primitiveCache;return this.getDependencies("accessor").then((function(r){for(var i=[],n=0,o=t.length;n<o;n++){var a=t[n],s=Yn(e,a);if(s)i.push(s);else if(a.extensions&&a.extensions[Dn]);else{var l=Xn(a,r),h=Promise.resolve(l);e.push({primitive:a,promise:h}),i.push(h)}}return Promise.all(i).then((function(t){return t}))}))},t.prototype.loadMesh=function(t){var e=this,r=this.json,i=(this.extensions,r.meshes[t]);return this.getMultiDependencies(["accessor","material"]).then((function(r){for(var n=i.primitives,o=[],a=0,s=n.length;a<s;a++)o[a]=void 0===n[a].material?new Xi({color:16777215,side:0}):r.materials[n[a].material];return e.loadGeometries(n).then((function(r){for(var a=[],s=0,l=r.length;s<l;s++){var h,u=r[s],c=n[s],p=o[s];if(c.mode!==Nn&&c.mode!==zn&&c.mode!==jn&&void 0!==c.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+c.mode);"SkinnedMesh3D"===(h=!0===i.isSkinnedMesh?new Cn(u,p):new Fi(u,p)).instanceType&&h.normalizeSkinWeights(),h.geometry._morphPositions&&Hn(h,i),h.name=i.name||"mesh_"+t,r.length>1&&(h.name+="_"+s),a.push(h);p=h.material;var f="SkinnedMesh3D"==h.instanceType,d=!!u._morphPositions,m=d&&!!u._morphNormals;if(f||d){var v="ClonedMaterial:"+p.instanceId+":";f&&(v+="skinning:"),d&&(v+="morph-targets:"),m&&(v+="morph-normals:");var y=e.cache.get(v);y||(y=p.clone(),f&&(y.skinning=!0),d&&(y.morphTargets=!0),m&&(y.morphNormals=!0),e.cache.add(v,y)),p=y}h.material=p}if(1===a.length)return a[0];var g=new Mi;for(s=0;s<a.length;s++)g.addChild(a[s]);return g}))}))},t.prototype.loadCamera=function(t){var e,r=this.json.cameras[t],i=r[r.type];if(i)return"perspective"===r.type&&(e=new Vi(O*i.yfov,i.aspectRatio||1,i.znear||1,i.zfar||2e6)),void 0!==r.name&&(e.name=r.name),Promise.resolve(e);console.warn("模型相机参数异常")},t.prototype.loadSkin=function(t){var e=this.json.skins[t],r={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return r.inverseBindMatrices=t,r}))},t.prototype.loadAnimation=function(t){var e=this.json.animations[t];return this.getMultiDependencies(["accessor","node"]).then((function(r){for(var i=[],n=0,o=e.channels.length;n<o;n++){var a=e.channels[n],s=e.samplers[a.sampler];if(s){var l=a.target,h=void 0!==l.node?l.node:l.id,u=void 0!==e.parameters?e.parameters[s.input]:s.input,c=void 0!==e.parameters?e.parameters[s.output]:s.output,p=r.accessors[u],f=r.accessors[c],d=r.nodes[h];if(d){var m;switch(d.updateLocalMatrix(),Wn[l.path]){case Wn.weights:m=wn.morphTargetInfluences;break;case Wn.rotation:m=wn.quaternion;break;case Wn.position:m=wn.position;break;case Wn.scale:m=wn.scale;break;default:m=wn.position}var v=d.name?d.name:d.instanceId,y=(void 0!==s.interpolation&&s.interpolation,[]);Wn[l.path]===Wn.weights?eo(d,(function(t){"Mesh3D"!==t.instanceType&&"SkinnedMesh3D"!==t.instanceType||!t.morphTargetInfluences||y.push(t.name?t.name:t.instanceId)})):y.push(v);for(var g=0,_=y.length;g<_;g++){var b=new Tn(d,m,xn(p.array,0),xn(f.array,0));i.push(b)}}}}h=void 0!==e.name?e.name:"animation_"+t;for(var x=0,w=0,T=i.length;w!==T;++w){var E=i[w];x=Math.max(x,E.times[E.times.length-1])}var S=new kn(i,x);return S.name=h,S}))},t.prototype.loadNode=function(t){var e=this.json,r=this.extensions,i=e.meshReferences,n=e.meshUses,o=e.nodes[t];return this.getMultiDependencies(["mesh","skin","camera","light"]).then((function(t){var e;if(!0===o.isBone)e=new An;else if(void 0!==o.mesh){var a=t.meshes[o.mesh];if(i[o.mesh]>1){var s=n[o.mesh]++;(e=a.clone()).name+="_instance_"+s;for(var l=0,h=e.children.length;l<h;l++)e.children[l].name+="_instance_"+s}else e=a}else if(void 0!==o.camera)e=t.cameras[o.camera];else if(o.extensions&&o.extensions[Rn]&&void 0!==o.extensions[Rn].light){e=r[Rn].lights[o.extensions[Rn].light]}else e=new Mi;if(void 0!==o.name&&(e.name=o.name.replace(/\s/g,"_").replace(to,"")),void 0!==o.matrix){var u=new bi;u.fromArray(o.matrix),e.applyMatrix(u)}else void 0!==o.translation&&e.position.fromArray(o.translation),void 0!==o.rotation&&e.quaternion.fromArray(o.rotation),void 0!==o.scale&&e.scale.fromArray(o.scale);return e}))}}();function Xn(t,e){var r=t.attributes,i=e[r.POSITION],n=e[r.NORMAL],o=e[r.TEXCOORD_0]||e[r.TEXCOORD0],a=new zi($n(i),$n(e[t.indices]),n?$n(n):null,null,o?$n(o):null),s=e[r.WEIGHTS_0]||e[r.WEIGHTS];s&&(a._skinWeight=$n(s));var l=e[r.JOINTS_0]||e[r.JOINT];return l&&(a._skinIndex=$n(l)),void 0!==t.targets&&function(t,e,r){for(var i=!1,n=!1,o=0,a=e.length;o<a;o++){if(void 0!==(h=e[o]).POSITION&&(i=!0),void 0!==h.NORMAL&&(n=!0),i&&n)break}if(i||n){var s=[],l=[];for(o=0,a=e.length;o<a;o++){var h=e[o],u="morphTarget"+o;if(i){var c=void 0;if(void 0!==h.POSITION){c=[];var p=qn(r[h.POSITION]);p.name=u;for(var f=t._vertices,d=0,m=p.count;d<m;d++)c.push(p.getX(d)+f[3*d],p.getY(d)+f[3*d+1],p.getZ(d)+f[3*d+2])}else c=t._vertices;s.push(c)}if(n){var v=void 0;if(void 0!==h.NORMAL){v=[];var y=qn(r[h.NORMAL]);y.name=u;var g=t._normals;for(d=0,m=y.count;d<m;d++)v.push(y.getX(d)+g[3*d],y.getY(d)+g[3*d+1],y.getZ(d)+g[3*d+2])}else v=t._normals;l.push(v)}}i&&(t._morphPositions=s),n&&(t._morphNormals=l)}}(a,t.targets,e),a}var Kn=function(){function t(){this.objects={}}return t.prototype.get=function(t){return this.objects[t]},t.prototype.add=function(t,e){this.objects[t]=e},t.prototype.remove=function(t){delete this.objects[t]},t.prototype.removeAll=function(){this.objects={}},t}(),Zn=function(){function t(t,e,r){if(void 0===r&&(r=!1),this.array=t,this.itemSize=e,this.normalized=r,Array.isArray(t))throw new TypeError("array必须士类型化数组");this.count=void 0!==t?t.length/e:0}return t.prototype.set=function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},t.prototype.setArray=function(t){if(Array.isArray(t))throw new TypeError("array必须士类型化数组");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},t.prototype.getX=function(t){return this.array[t*this.itemSize]},t.prototype.setX=function(t,e){return this.array[t*this.itemSize]=e,this},t.prototype.getY=function(t){return this.array[t*this.itemSize+1]},t.prototype.setY=function(t,e){return this.array[t*this.itemSize+1]=e,this},t.prototype.getZ=function(t){return this.array[t*this.itemSize+2]},t.prototype.setZ=function(t,e){return this.array[t*this.itemSize+2]=e,this},t.prototype.getW=function(t){return this.array[t*this.itemSize+3]},t.prototype.setW=function(t,e){return this.array[t*this.itemSize+3]=e,this},t.prototype.setXY=function(t,e,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this},t.prototype.setXYZ=function(t,e,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=i,this},t.prototype.setXYZW=function(t,e,r,i,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=i,this.array[t+3]=n,this},t.prototype.copy=function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this},t.prototype.clone=function(){return new t(this.array,this.itemSize).copy(this)},t}(),Jn=function(){function t(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0}return t.prototype.setArray=function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},t.prototype.copy=function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this},t.prototype.set=function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},t.prototype.clone=function(){return(new t).copy(this)},t}(),Qn=function(){function t(t,e,r,i){void 0===i&&(i=!1),this.itemSize=e,this.offset=r,this.normalized=i,this.isInterleavedBufferAttribute=!0,this.data=t}return Object.defineProperty(t.prototype,"count",{get:function(){return this.data.count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"array",{get:function(){return this.data.array},enumerable:!0,configurable:!0}),t.prototype.setX=function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},t.prototype.setY=function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},t.prototype.setZ=function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},t.prototype.setW=function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},t.prototype.getX=function(t){return this.data.array[t*this.data.stride+this.offset]},t.prototype.getY=function(t){return this.data.array[t*this.data.stride+this.offset+1]},t.prototype.getZ=function(t){return this.data.array[t*this.data.stride+this.offset+2]},t.prototype.getW=function(t){return this.data.array[t*this.data.stride+this.offset+3]},t.prototype.setXY=function(t,e,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this},t.prototype.setXYZ=function(t,e,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=i,this},t.prototype.setXYZW=function(t,e,r,i,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=i,this.data.array[t+3]=n,this},t}();function $n(t){for(var e=[],r=0;r<t.count;r++)e.push(t.getX(r)),t.itemSize>=2&&e.push(t.getY(r)),t.itemSize>=3&&e.push(t.getZ(r)),t.itemSize>=4&&e.push(t.getW(r));return e}var to=new RegExp("[\\[\\]\\.:\\/]","g");function eo(t,e){e(t);for(var r=t.children,i=0,n=r.length;i<n;i++){eo(r[i],e)}}!function(t){function e(e){return t.call(this,new zi([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],[0,1,2,0,2,3],null,null,[0,1,1,1,1,0,0,0]),e)||this}R(e,t)}(Fi);var ro,io=function(t){function e(e,r){var i=t.call(this)||this;return i.data=e,i.root=r,i.ax=0,i.ay=0,i.arotation=0,i.ascaleX=0,i.ascaleY=0,i.ashearX=0,i.ashearY=0,i.appliedValid=!1,i.sorted=!1,i.shearX=0,i.shearY=0,i._instanceType="Bone",i.name=e.name,i.data.x=i.data.x||0,i.data.y=i.data.y||0,i.data.scaleX=i.data.scaleX||1,i.data.scaleY=i.data.scaleY||1,i.data.rotation=i.data.rotation||0,i.data.shearX=i.data.shearX||0,i.data.shearY=i.data.shearY||0,i.setToSetupPose(),r&&(i.debugBone=i.addChild(new ni).beginFill(16711680).drawRect(0,0,e.length||10,10).endFill()),i}return R(e,t),Object.defineProperty(e.prototype,"matrix",{get:function(){return this.worldMatrix},enumerable:!0,configurable:!0}),e.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY,this.skewX=-t.shearY,this.skewY=t.shearX},e.prototype.updateTransform=function(){this.appliedSelf();var t=e.yDown?-1:1;if(this.parent){var r=this.parent;if("Bone"==this.parent.instanceType){this.transform._worldID++;var i=r.transform.worldMatrix,n=this.localMatrix,o=this.worldMatrix,a=i.a,s=i.c,l=i.b,h=i.d;switch(o.tx=a*this.x+s*this.y+i.tx,o.ty=l*this.x+h*this.y+i.ty,this.data.transform){case ro.onlyTranslation:this.transform.updateLocalMatrix(),o.a=n.a,o.c=n.c,o.b=n.b,o.d=n.d;break;case ro.noRotationOrReflection:var u=0;(y=a*a+l*l)>1e-4?(s=l*(y=Math.abs(a*h-s*l)/y),h=a*y,u=Math.atan2(l,a)*O):(a=0,l=0,u=90-Math.atan2(h,s)*O);var c=this.rotation+this.shearX-u,p=this.rotation+this.shearY-u+90,f=Math.cos(c*I)*this.scaleX,d=Math.cos(p*I)*this.scaleY*t,m=Math.sin(c*I)*this.scaleX,v=Math.sin(p*I)*this.scaleY*t;o.a=a*f-s*m,o.c=a*d-s*v,o.b=l*f+h*m,o.d=l*d+h*v;break;case ro.noScale:case ro.noScaleOrReflection:var y,g=Math.cos(this.rotation*I),_=Math.sin(this.rotation*I),b=(a*g+s*_)/1,x=(l*g+h*_)/1;(y=Math.sqrt(b*b+x*x))>1e-5&&(y=1/y),b*=y,x*=y,y=Math.sqrt(b*b+x*x),this.data.transform==ro.noScale&&a*h-s*l<0!=!e.yDown&&(y=-y);var w=Math.PI/2+Math.atan2(x,b),T=Math.cos(w)*y,E=Math.sin(w)*y;f=Math.cos(this.shearX*I)*this.scaleX,d=Math.cos((90+this.shearY)*I)*this.scaleY,m=Math.sin(this.shearX*I)*this.scaleX,v=Math.sin((90+this.shearY)*I)*this.scaleY;o.a=b*f+T*m,o.c=b*d+T*v,o.b=x*f+E*m,o.d=x*d+E*v;break;case ro.normal:default:this.displayObjectUpdateTransform()}}else{var S=this.parent;this.parent=this._tempDisplayObjectParent,this.transform.updateWorldMatrix(this.parent.transform),this.parent=S}}for(var M=0,A=this.children.length;M<A;++M){var C=this.children[M];C.updateTransform(),C==this.debugBone&&C.worldMatrix.prepend(this.root.worldMatrix)}},e.prototype.updateWorldTransformWith=function(t,e,r,i,n,o,a){this.ax=this.x=t,this.ay=this.y=e,this.arotation=this.rotation=r,this.ascaleX=this.scaleX=i,this.ascaleY=this.scaleY=n,this.ashearX=o,this.ashearY=a,this.appliedValid=!0,this.skewX=-a,this.skewY=o,this.updateTransform()},e.prototype.appliedSelf=function(){this.ax=this.x,this.ay=this.y,this.arotation=this.rotation,this.ascaleX=this.scaleX,this.ascaleY=this.scaleY,this.ashearX=this.shearX,this.ashearY=this.shearY,this.appliedValid=!0},e.yDown=!0,e}($);!function(t){t.normal="normal",t.onlyTranslation="onlyTranslation",t.noRotationOrReflection="noRotationOrReflection",t.noScale="noScale",t.noScaleOrReflection="noScaleOrReflection"}(ro||(ro={}));var no,oo,ao=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.r=t,this.g=e,this.b=r,this.a=i}return t.prototype.set=function(t,e,r,i){return this.r=t,this.g=e,this.b=r,this.a=i,this.clamp(),this},t.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},t.prototype.add=function(t,e,r,i){return this.r+=t,this.g+=e,this.b+=r,this.a+=i,this.clamp(),this},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.fromString=function(e){return(new t).setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),so=function(t){function e(e,r,i){var n=t.call(this)||this;return n.bone=e,n.data=r,n.spine=i,n.deform=new Array,n.name=n.data.name,n.color=new ao(1,1,1,1),n.data.color&&n.color.setFromString(n.data.color),n.data.sColor=(new ao).setFromColor(n.color),n}return R(e,t),e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.deform.length=0)},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.sColor),null==this.data.attachment?this.attachment=null:(this.attachment=null,this.setAttachment(this.spine.getAttachment(this.spine.findSlotIndex(this.name),this.data.attachment)))},e}($),lo=function(){function t(t){this.name=t,this.attachments=new Array}return t.prototype.addAttachment=function(t,e,r){var i=this.attachments;t>=i.length&&(i.length=t+1),i[t]||(i[t]={}),i[t][e]=r},t.prototype.getAttachment=function(t,e){var r=this.attachments[t];return r?r[e]:null},t.prototype.attachAll=function(t,e){for(var r=0,i=0;i<t.length;i++){var n=t[i],o=n.getAttachment();if(o&&r<e.attachments.length){var a=e.attachments[r];for(var s in a){if(o==a[s]){var l=this.getAttachment(r,s);null!=l&&n.setAttachment(l);break}}}r++}},t}(),ho=function(t){this.name=t},uo=function(t){function e(r){var i=t.call(this,r)||this;return i.id=(65535&e.nextID++)<<11,i.worldVerticesLength=0,i.deformAttachment=i,i}return R(e,t),e.prototype.applyDeform=function(t){return this==t},e.prototype.computeWorldVerticesOld=function(t,e,r){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2,r)},e.prototype.computeWorldVertices=function(t,e,r,i,n,o,a){r=n+(r>>1)*o;var s=t.deform,l=this.vertices,h=this.bones;if(null!=h){for(var u=0,c=0,p=0;p<e;p+=2){u+=(m=h[u])+1,c+=m}if(0==s.length)for(A=n,T=3*c;A<r;A+=o){var f=0,d=0,m=h[u++];for(m+=u;u<m;u++,T+=3){_=a[h[u]].matrix,C=l[T],P=l[T+1];var v=l[T+2];f+=(C*_.a+P*_.c+_.tx)*v,d+=(C*_.b+P*_.d+_.ty)*v}i[A]=f,i[A+1]=d}else for(var y=s,g=(A=n,T=3*c,c<<1);A<r;A+=o){f=0,d=0,m=h[u++];for(m+=u;u<m;u++,T+=3,g+=2){_=a[h[u]].matrix,C=l[T]+y[g],P=l[T+1]+y[g+1],v=l[T+2];f+=(C*_.a+P*_.c+_.tx)*v,d+=(C*_.b+P*_.d+_.ty)*v}i[A]=f,i[A+1]=d}}else{s.length>0&&(l=s);for(var _,b=(_=t.bone.matrix).tx,x=_.ty,w=_.a,T=_.c,E=_.b,S=_.d,M=e,A=n;A<r;M+=2,A+=o){var C=l[M],P=l[M+1];i[A]=C*w+P*T+b,i[A+1]=C*E+P*S+x}}},e.nextID=0,e}(ho),co=function(t){function e(e,r,i,n,o,a,s,l,h){void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===o&&(o=1),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0);var u=t.call(this,e)||this;return u.x=r,u.y=i,u.scaleX=n,u.scaleY=o,u.rotation=a,u.width=s,u.height=l,u.texture=h,u.color=new ao(1,1,1,1),u}return R(e,t),e}(ho),po=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.color=new ao(1,1,1,1),e}return R(e,t),e}(uo),fo=function(){function t(e){this.curves=new Float32Array((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var i=this.curves[r];return i==t.LINEAR?t.LINEAR:i==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,i,n,o){var a=.03*(2*-r+n),s=.03*(2*-i+o),l=.006*(3*(r-n)+1),h=.006*(3*(i-o)+1),u=2*a+l,c=2*s+h,p=.3*r+a+.16666667*l,f=.3*i+s+.16666667*h,d=e*t.BEZIER_SIZE,m=this.curves;m[d++]=t.BEZIER;for(var v=p,y=f,g=d+t.BEZIER_SIZE-1;d<g;d+=2)m[d]=v,m[d+1]=y,p+=u,f+=c,u+=l,c+=h,v+=p,y+=f},t.prototype.getCurvePercent=function(e,r){r=Ut(r,0,1);var i=this.curves,n=e*t.BEZIER_SIZE,o=i[n];if(o==t.LINEAR)return r;if(o==t.STEPPED)return 0;for(var a=0,s=++n,l=n+t.BEZIER_SIZE-1;n<l;n+=2)if((a=i[n])>=r){var h=void 0,u=void 0;return n==s?(h=0,u=0):(h=i[n-2],u=i[n-1]),u+(i[n+1]-u)*(r-h)/(a-h)}var c=i[n-1];return c+(1-c)*(r-a)/(1-a)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=19,t}();function mo(t,e,r){if(t.hasOwnProperty("curve"))if("stepped"===t.curve)e.setStepped(r);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var i=t.curve;e.setCurve(r,i[0],i[1],i[2],i[3])}else e.setCurve(r,t.curve,t.c2||0,t.c3||1,t.c4||1)}function vo(t,e,r){void 0===r&&(r=1);var i=0,n=t.length/r-2;if(0==n)return r;for(var o=n>>>1;;){if(t[(o+1)*r]<=e?i=o+1:n=o,i==n)return(i+1)*r;o=i+n>>>1}}function yo(t,e,r,i,n){for(var o=e,a=i;o<e+n;o++,a++)r[a]=t[o]}function go(t,e,r){void 0===r&&(r=0);var i=t.length;if(i==e)return t;if(t.length=e,i<e)for(var n=i;n<e;n++)t[n]=r;return t}function _o(t,e){for(var r=new Array(t),i=0;i<t;i++)r[i]=e;return r}!function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(no||(no={})),function(t){t[t.in=0]="in",t[t.out=1]="out"}(oo||(oo={}));var bo,xo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.setValue=function(t,e,r,i){void 0===r&&(r=no.replace),void 0===i&&(i=oo.in)},e.prototype.resetValue=function(){},e.prototype.destroy=function(){},e}(F);!function(t){t.rotate="rotate",t.translate="translate",t.scale="scale",t.shear="shear"}(bo||(bo={}));var wo=function(t){function e(e,r,i){var n=t.call(this)||this;n.bone=e,n.animationType=r,n.times=i,n._instanceType="SpineBoneAniTrack",i.forEach((function(t){switch(t.time=t.time||0,r){case bo.rotate:t.angle=t.angle||0;break;case bo.scale:t.x=void 0===t.x?1:t.x,t.y=void 0===t.y?1:t.y;break;case bo.translate:case bo.shear:t.x=t.x||0,t.y=t.y||0}})),n.curve=new fo(i.length);for(var o=0,a=0;a<i.length;a++){mo(i[a],n.curve,o),o++}return n}return R(e,t),e.prototype.resetValue=function(){this.bone.setToSetupPose()},e.prototype.setValue=function(t,e,r,i){switch(void 0===e&&(e=1),void 0===r&&(r=no.replace),void 0===i&&(i=oo.in),this.animationType){case bo.translate:this.setPosition(t,e,r);break;case bo.scale:this.setScale(t,e,r,i);break;case bo.shear:this.setShear(t,e,r);break;case bo.rotate:this.setRotation(t,e,r)}},e.prototype.setRotation=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=no.replace);var i=this.times,n=this.bone;if(t<i[0].time)switch(r){case no.setup:return void(n.rotation=n.data.rotation);case no.first:var o=n.data.rotation-n.rotation;n.rotation+=(o-To(o))*e}else if(t>=i[i.length-1].time){var a=i[i.length-1].angle;switch(r){case no.setup:n.rotation=n.data.rotation+a*e;break;case no.first:case no.replace:a+=n.data.rotation-n.rotation,a-=To(a);case no.add:n.rotation+=a*e}}else{var s=this.findPreIndex(t),l=i[s-1].angle,h=i[s].time,u=this.curve.getCurvePercent(s-1,1-(t-h)/(i[s-1].time-h)),c=i[s].angle-l;switch(c=l+(c-To(c))*u,r){case no.setup:n.rotation=n.data.rotation+(c-To(c))*e;break;case no.first:case no.replace:c+=n.data.rotation-n.rotation;case no.add:n.rotation+=(c-To(c))*e}}},e.prototype.setPosition=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=no.replace);var i=this.times,n=this.bone;if(t<i[0].time)switch(r){case no.setup:return n.x=n.data.x,void(n.y=n.data.y);case no.first:n.x+=(n.data.x-n.x)*e,n.y+=(n.data.y-n.y)*e}else{var o=0,a=0;if(t>=i[i.length-1].time)o=i[i.length-1].x,a=i[i.length-1].y;else{var s=this.findPreIndex(t);o=i[s-1].x,a=i[s-1].y;var l=i[s].time,h=this.curve.getCurvePercent(s-1,1-(t-l)/(i[s-1].time-l));o+=(i[s].x-o)*h,a+=(i[s].y-a)*h}switch(r){case no.setup:n.x=n.data.x+o*e,n.y=n.data.y+a*e;break;case no.first:case no.replace:n.x+=(n.data.x+o-n.x)*e,n.y+=(n.data.y+a-n.y)*e;break;case no.add:n.x+=o*e,n.y+=a*e}}},e.prototype.setScale=function(t,e,r,i){void 0===e&&(e=1),void 0===r&&(r=no.replace),void 0===i&&(i=oo.in);var n=this.times,o=this.bone;if(t<n[0].time)switch(r){case no.setup:return o.scaleX=o.data.scaleX,void(o.scaleY=o.data.scaleY);case no.first:o.scaleX+=(o.data.scaleX-o.scaleX)*e,o.scaleY+=(o.data.scaleY-o.scaleY)*e}else{var a=0,s=0;if(t>=n[n.length-1].time)a=n[n.length-1].x*o.data.scaleX,s=n[n.length-1].y*o.data.scaleY;else{var l=this.findPreIndex(t);a=n[l-1].x,s=n[l-1].y;var h=n[l].time,u=this.curve.getCurvePercent(l-1,1-(t-h)/(n[l-1].time-h));a=(a+(n[l].x-a)*u)*o.data.scaleX,s=(s+(n[l].y-s)*u)*o.data.scaleY}if(1==e)r==no.add?(o.scaleX+=a-o.data.scaleX,o.scaleY+=s-o.data.scaleY):(o.scaleX=a,o.scaleY=s);else{var c=0,p=0;if(i==oo.out)switch(r){case no.setup:c=o.data.scaleX,p=o.data.scaleY,o.scaleX=c+(Math.abs(a)*Nt(c)-c)*e,o.scaleY=p+(Math.abs(s)*Nt(p)-p)*e;break;case no.first:case no.replace:c=o.scaleX,p=o.scaleY,o.scaleX=c+(Math.abs(a)*Nt(c)-c)*e,o.scaleY=p+(Math.abs(s)*Nt(p)-p)*e;break;case no.add:c=o.scaleX,p=o.scaleY,o.scaleX=c+(Math.abs(a)*Nt(c)-o.data.scaleX)*e,o.scaleY=p+(Math.abs(s)*Nt(p)-o.data.scaleY)*e}else switch(r){case no.setup:c=Math.abs(o.data.scaleX)*Nt(a),p=Math.abs(o.data.scaleY)*Nt(s),o.scaleX=c+(a-c)*e,o.scaleY=p+(s-p)*e;break;case no.first:case no.replace:c=Math.abs(o.scaleX)*Nt(a),p=Math.abs(o.scaleY)*Nt(s),o.scaleX=c+(a-c)*e,o.scaleY=p+(s-p)*e;break;case no.add:c=Nt(a),p=Nt(s),o.scaleX=Math.abs(o.scaleX)*c+(a-Math.abs(o.data.scaleX)*c)*e,o.scaleY=Math.abs(o.scaleY)*p+(s-Math.abs(o.data.scaleY)*p)*e}}}},e.prototype.setShear=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=no.replace);var i=this.times,n=this.bone;if(t<i[0].time)switch(r){case no.setup:return n.shearX=n.data.shearX,n.shearY=n.data.shearY,n.skewX=-n.shearY,void(n.skewY=n.shearX);case no.first:n.shearX+=(n.data.shearX-n.shearX)*e,n.shearY+=(n.data.shearY-n.shearY)*e,n.skewX=-n.shearY,n.skewY=n.shearX}else{var o=0,a=0;if(t>=i[i.length-1].time)o=i[i.length-1].x,a=i[i.length-1].y;else{var s=this.findPreIndex(t);o=i[s-1].x,a=i[s-1].y;var l=i[s].time,h=this.curve.getCurvePercent(s-1,1-(t-l)/(i[s-1].time-l));o+=(i[s].x-o)*h,a+=(i[s].y-a)*h}switch(r){case no.setup:n.shearX=n.data.shearX+o*e,n.shearY=n.data.shearY+a*e;break;case no.first:case no.replace:n.shearX+=(n.data.shearX+o-n.shearX)*e,n.shearY+=(n.data.shearY+a-n.shearY)*e;break;case no.add:n.shearX+=o*e,n.shearY+=a*e}n.skewX=-n.shearY,n.skewY=n.shearX}},e.prototype.findPreIndex=function(t){for(var e=0,r=0;r<this.times.length;r++)if(this.times[r].time>t){e=r;break}return e},e.prototype.destroy=function(){this.bone=null,this.times=null},e}(xo);function To(t){return 360*(16384-(16384.499999999996-t/360|0))}var Eo=function(t){function e(r,i){var n=t.call(this)||this;n.slot=r,n._instanceType="SpineColorAniTrack";var o=i.length;n.frames=new Float32Array(o*e.ENTRIES),n.curve=new fo(o);for(var a=0,s=0;s<o;s++){var l=i[s],h=(new ao).setFromString(l.color||"ffffffff"),u=a*e.ENTRIES;n.frames[u]=l.time||0,n.frames[u+e.R]=h.r,n.frames[u+e.G]=h.g,n.frames[u+e.B]=h.b,n.frames[u+e.A]=h.a,mo(l,n.curve,a),a++}return n}return R(e,t),e.prototype.resetValue=function(){this.slot.setToSetupPose()},e.prototype.setValue=function(t,r,i){void 0===r&&(r=1),void 0===i&&(i=no.replace);var n=this.slot,o=this.frames;if(t<o[0])switch(i){case no.setup:return void n.color.setFromColor(n.data.sColor);case no.first:case no.replace:var a=n.color,s=n.data.sColor;a.add((s.r-a.r)*r,(s.g-a.g)*r,(s.b-a.b)*r,(s.a-a.a)*r)}else{var l=0,h=0,u=0,c=0;if(t>=o[o.length-e.ENTRIES]){var p=o.length;l=o[p+e.PREV_R],h=o[p+e.PREV_G],u=o[p+e.PREV_B],c=o[p+e.PREV_A]}else{var f=vo(o,t,e.ENTRIES);l=o[f+e.PREV_R],h=o[f+e.PREV_G],u=o[f+e.PREV_B],c=o[f+e.PREV_A];var d=o[f],m=this.curve.getCurvePercent(f/e.ENTRIES-1,1-(t-d)/(o[f+e.PREV_TIME]-d));l+=(o[f+e.R]-l)*m,h+=(o[f+e.G]-h)*m,u+=(o[f+e.B]-u)*m,c+=(o[f+e.A]-c)*m}if(1==r)n.color.set(l,h,u,c);else{a=n.color;i==no.setup&&a.setFromColor(n.data.sColor),a.add((l-a.r)*r,(h-a.g)*r,(u-a.b)*r,(c-a.a)*r)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(xo),So=function(t){function e(e,r,i){var n=t.call(this)||this;n.slot=e,n.attachment=r,n.times=i,n._instanceType="SpineDeformAniTrack";var o=null!=r.bones,a=r.vertices,s=o?a.length/3*2:a.length;n.frameTimes=new Float32Array(i.length),n.frameVertices=new Array(i.length),n.curve=new fo(i.length);for(var l=0,h=0;h<i.length;h++){var u=i[h],c=void 0,p=u.vertices||null;if(null==p)c=o?new Float32Array(s):a;else if(yo(p,0,c=new Float32Array(s),u.offset||0,p.length),!o)for(var f=0;f<s;f++)c[f]+=a[f];n.frameTimes[l]=u.time||0,n.frameVertices[l]=c,mo(u,n.curve,l),l++}return n}return R(e,t),e.prototype.setValue=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=no.replace);var i=this.slot.getAttachment();if(i instanceof uo&&i.applyDeform(this.attachment)){var n=this.slot.deform;0==n.length&&(r=no.setup);var o=this.frameVertices,a=o[0].length,s=this.frameTimes;if(t<s[0]){var l=i;switch(r){case no.setup:return void(n.length=0);case no.first:if(1==e){n.length=0;break}var h=go(n,a);if(null==l.bones)for(var u=l.vertices,c=0;c<a;c++)h[c]+=(u[c]-h[c])*e;else{e=1-e;for(c=0;c<a;c++)h[c]*=e}}}else{var p=go(n,a);if(t>=s[s.length-1]){var f=o[s.length-1];if(1==e)if(r==no.add)if(null==(l=i).bones)for(u=l.vertices,c=0;c<a;c++)p[c]+=f[c]-u[c];else for(c=0;c<a;c++)p[c]+=f[c];else yo(f,0,p,0,a);else switch(r){case no.setup:var d=i;if(null==d.bones)for(u=d.vertices,c=0;c<a;c++){var m=u[c];p[c]=m+(f[c]-m)*e}else for(c=0;c<a;c++)p[c]=f[c]*e;break;case no.first:case no.replace:for(c=0;c<a;c++)p[c]+=(f[c]-p[c])*e;case no.add:if(null==(l=i).bones)for(u=l.vertices,c=0;c<a;c++)p[c]+=(f[c]-u[c])*e;else for(c=0;c<a;c++)p[c]+=f[c]*e}}else{var v=vo(s,t),y=o[v-1],g=o[v],_=s[v],b=this.curve.getCurvePercent(v-1,1-(t-_)/(s[v-1]-_));if(1==e)if(r==no.add)if(null==(l=i).bones)for(u=l.vertices,c=0;c<a;c++){var x=y[c];p[c]+=x+(g[c]-x)*b-u[c]}else for(c=0;c<a;c++){x=y[c];p[c]+=x+(g[c]-x)*b}else for(c=0;c<a;c++){x=y[c];p[c]=x+(g[c]-x)*b}else switch(r){case no.setup:var w=i;if(null==w.bones)for(u=w.vertices,c=0;c<a;c++){x=y[c],m=u[c];p[c]=m+(x+(g[c]-x)*b-m)*e}else for(c=0;c<a;c++){x=y[c];p[c]=(x+(g[c]-x)*b)*e}break;case no.first:case no.replace:for(c=0;c<a;c++){x=y[c];p[c]+=(x+(g[c]-x)*b-p[c])*e}break;case no.add:if(null==(l=i).bones)for(u=l.vertices,c=0;c<a;c++){x=y[c];p[c]+=(x+(g[c]-x)*b-u[c])*e}else for(c=0;c<a;c++){x=y[c];p[c]+=(x+(g[c]-x)*b)*e}}}}}},e}(xo),Mo=function(t){function e(e,r,i){var n=t.call(this)||this;return n.slot=e,n.times=r,n.spine=i,n._instanceType="AttachmentAniTrack",r.forEach((function(t){t.time=t.time||0})),n}return R(e,t),e.prototype.resetValue=function(){this.slot.setToSetupPose()},e.prototype.setValue=function(t,e,r,i){void 0===r&&(r=no.replace),void 0===i&&(i=oo.in);var n=this.slot;if(i!=oo.out||r!=no.setup){var o=this.times;if(t<o[0].time){if(r==no.setup||r==no.first||r==no.replace){s=n.data.attachment;n.setAttachment(s?this.spine.getAttachment(this.spine.slots.indexOf(n),s):null)}}else{var a=o[t>=o[o.length-1].time?o.length-1:function(t,e){var r=0,i=t.length-2;if(0==i)return 1;var n=i>>>1;for(;;){if(t[n+1].time<=e?r=n+1:i=n,r==i)return r+1;n=r+i>>>1}}(o,t)-1].name;n.setAttachment(null==a?null:this.spine.getAttachment(this.spine.slots.indexOf(n),a))}}else{var s=n.data.attachment;n.setAttachment(s?this.spine.getAttachment(this.spine.slots.indexOf(n),s):null)}},e}(xo);var Ao=function(t){function e(e,r,i){var n=t.call(this)||this;return n.slots=e,n.drawOrder=r,n.times=i,n._instanceType="DrawOrderAniTrack",n}return R(e,t),e.prototype.setValue=function(t,e,r,i){void 0===r&&(r=no.replace),void 0===i&&(i=oo.in);var n=this.drawOrder,o=this.slots;if(i!=oo.out||r!=no.setup){var a=this.times;if(t<a[0].time)r!=no.setup&&r!=no.first||yo(o,0,n,0,o.length);else{var s=a[t>=a[a.length-1].time?a.length-1:function(t,e){var r=0,i=t.length-2;if(0==i)return 1;var n=i>>>1;for(;;){if(t[n+1].time<=e?r=n+1:i=n,r==i)return r+1;n=r+i>>>1}}(a,t)-1].drawOrder;if(s)for(var l=0,h=s.length;l<h;l++)n[l]=o[s[l]];else yo(o,0,n,0,o.length)}}else yo(o,0,n,0,o.length)},e}(xo);var Co,Po=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alpha=1,e.blend=no.replace,e.direction=oo.in,e}return R(e,t),e.prototype.rectify=function(){if(this.tracks&&this.tracks.length){for(var t=0;t<this.tracks.length;t++)this.tracks[t].setValue(this.curTime,this.alpha,this.blend,this.direction);this.lastTime=this.curTime}},e}(kn),ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.showAni=function(e,r,i,n){if(void 0===r&&(r=1),void 0===n&&(n=0),!n||!this.currentClip)return t.prototype.showAni.call(this,e,r,i);var o=this.currentClip,a=this.getAniClipByName(e);return a?o==a?t.prototype.showAni.call(this,e,r,i):(o.fromClip&&(this.resetFrom(o.fromClip),o.fromClip=null),a.mixTime=0,a.mixDuration=n,a.fromClip=o,(this.currentClip=a).startAniRange(0,void 0,r,i),this.currentClip):null},e.prototype.update=function(e){void 0===e&&(e=.0167),this.applyMixingFrom(this.currentClip,e,no.first),t.prototype.update.call(this,e)},e.prototype.applyMixingFrom=function(t,e,r){if(t){var i=t.fromClip;if(i){t.mixTime+=e;var n=0;0==t.mixDuration?(n=1,r==no.first&&(r=no.setup)):((n=t.mixTime/t.mixDuration)>1&&(n=1),r!=no.first&&(r=i.blend)),t.alpha=n,i.alpha=1-n,i.blend=r,0==i.alpha&&(this.resetFrom(i),t.fromClip.tracks.forEach((function(t){"AttachmentAniTrack"==t.instanceType&&t.resetValue()})),t.fromClip=null)}}},e.prototype.resetFrom=function(t){t._isPlaying=!1,t.alpha=1,t.blend=no.replace},e}(On),Oo=function(t){function e(e,r){var i=t.call(this)||this;return i.bendDirection=1,i.compress=!1,i.stretch=!1,i.uniform=!1,i.mix=1,i.softness=0,i.active=!1,i._instanceType="IkConstraint",i.target=e,i.bones=r,i}return R(e,t),e.prototype.destroy=function(){},e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones,r=t.worldMatrix.tx,i=t.worldMatrix.ty;switch(e.length){case 1:this.apply1(e[0],r,i,this.compress,this.stretch,this.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],r,i,this.bendDirection,this.stretch,this.softness,this.mix)}},e.prototype.apply1=function(t,e,r,i,n,o,a){var s=t.parent.worldMatrix,l=s.a,h=s.c,u=s.b,c=s.d,p=-t.ashearX-t.arotation,f=0,d=0;switch(t.data.transform){case ro.onlyTranslation:f=e-t.worldMatrix.tx,d=r-t.worldMatrix.ty;break;case ro.noRotationOrReflection:p+=Math.atan2(u,l)*O;var m=Math.abs(l*c-h*u)/(l*l+u*u);h=-u*m,c=l*m;default:var v=e-s.tx,y=r-s.ty,g=l*c-h*u;f=(v*c-y*h)/g-t.ax,d=(y*l-v*u)/g-t.ay}p+=Math.atan2(d,f)*O,t.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var _=t.ascaleX,b=t.ascaleY;if(i||n){switch(t.data.transform){case ro.noScale:case ro.noScaleOrReflection:f=e-t.worldMatrix.tx,d=r-t.worldMatrix.ty}var x=t.data.length*_,w=Math.sqrt(f*f+d*d);if(i&&w<x||n&&w>x&&x>1e-4){var T=(w/x-1)*a+1;_*=T,o&&(b*=T)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+p*a,_,b,t.ashearX,t.ashearY)},e.prototype.apply2=function(t,e,r,i,n,o,a,s){if(0!=s){var l=t.ax,h=t.ay,u=t.ascaleX,c=u,p=t.ascaleY,f=e.ascaleX,d=t.matrix,m=0,v=0,y=0;u<0?(u=-u,m=180,y=-1):(m=0,y=1),p<0&&(p=-p,y=-y),f<0?(f=-f,v=180):v=0;var g=e.ax,_=0,b=0,x=0,w=d.a,T=d.c,E=d.b,S=d.d,M=Math.abs(u-p)<=1e-4;M?(b=w*g+T*(_=e.ay)+d.tx,x=E*g+S*_+d.ty):(_=0,b=w*g+d.tx,x=E*g+d.ty);var A=t.parent.worldMatrix;w=A.a,T=A.c,E=A.b;var C,P,k=1/(w*(S=A.d)-T*E),I=b-A.tx,D=x-A.ty,R=(I*S-D*T)*k-l,F=(D*w-I*E)*k-h,L=Math.sqrt(R*R+F*F),B=e.data.length*f;if(L<1e-4)return this.apply1(t,r,i,!1,o,!1,s),void e.updateWorldTransformWith(g,_,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var N=((I=r-A.tx)*S-(D=i-A.ty)*T)*k-l,z=(D*w-I*E)*k-h,j=N*N+z*z;if(0!=a){a*=u*(f+1)/2;var V=Math.sqrt(j),U=V-L-B*u+a;if(U>0){var W=Math.min(1,U/(2*a))-1;j=(N-=(W=(U-a*(1-W*W))/V)*N)*N+(z-=W*z)*z}}t:if(M){var q=(j-L*L-(B*=u)*B)/(2*L*B);q<-1?q=-1:q>1&&(q=1,o&&(c*=(Math.sqrt(j)/(L+B)-1)*s+1)),P=Math.acos(q)*n,w=L+B*q,T=B*Math.sin(P),C=Math.atan2(z*w-N*T,N*w+z*T)}else{var H=(w=u*B)*w,G=(T=p*B)*T,Y=Math.atan2(z,N),X=-2*G*L,K=G-H;if((S=X*X-4*K*(E=G*L*L+H*j-H*G))>=0){var Z=Math.sqrt(S);X<0&&(Z=-Z);var J=(Z=-(X+Z)/2)/K,Q=E/Z,$=Math.abs(J)<Math.abs(Q)?J:Q;if($*$<=j){D=Math.sqrt(j-$*$)*n,C=Y-Math.atan2(D,$),P=Math.atan2(D/p,($-L)/u);break t}}var tt=Math.PI,et=L-w,rt=et*et,it=0,nt=0,ot=L+w,at=ot*ot,st=0;(E=-w*L/(H-G))>=-1&&E<=1&&(E=Math.acos(E),(S=(I=w*Math.cos(E)+L)*I+(D=T*Math.sin(E))*D)<rt&&(tt=E,rt=S,et=I,it=D),S>at&&(nt=E,at=S,ot=I,st=D)),j<=(rt+at)/2?(C=Y-Math.atan2(it*n,et),P=tt*n):(C=Y-Math.atan2(st*n,ot),P=nt*n)}var lt=Math.atan2(_,g)*y,ht=t.arotation;(C=(C-lt)*O+m-ht)>180?C-=360:C<-180&&(C+=360),t.updateWorldTransformWith(l,h,ht+C*s,c,t.ascaleY,0,0),ht=e.arotation,(P=((P+lt)*O-e.ashearX)*y+v-ht)>180?P-=360:P<-180&&(P+=360),e.updateWorldTransformWith(g,_,ht+P*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}},e}(F);!function(t){t.region="region",t.mesh="mesh",t.clipping="clipping",t.linkedmesh="linkedmesh",t.path="path",t.point="point"}(Co||(Co={}));var Io=[0,0,0];!function(t){function e(e,r){void 0===r&&(r=!1);var i=t.call(this)||this;i._instanceType="Spine";var n=i.spineData=e;if(e.textures||(r=!0),i.scaleY=-1,n.bones){i.boneContainer=i.addChild(new $),i.bones=[];for(var o=0;o<n.bones.length;o++){var a=new io(n.bones[o],r?i.boneContainer:null);if(i.bones.push(a),a.data.parent){var s=i.findBone(a.data.parent);s&&s.addChild(a)}else i.boneContainer.addChild(a)}}if(n.ik&&(i.ikConstraints=[],n.ik.forEach((function(t){var e=new Oo(i.findBone(t.target),t.bones.map((function(t){return i.findBone(t)})));e.mix=void 0===t.mix?1:t.mix,e.softness=void 0===t.softness?0:t.softness,e.bendDirection=void 0===t.bendDirection||t.bendDirection?1:-1,e.compress=void 0!==t.compress&&t.compress,e.stretch=void 0!==t.stretch&&t.stretch,e.uniform=void 0!==t.uniform&&t.uniform,i.ikConstraints.push(e)}))),n.slots){i.slotContainer=i.addChildAt(new $,0),i.slots=[];for(var l=0;l<n.slots.length;l++){var h=n.slots[l];a=i.findBone(h.bone);i.slots.push(i.slotContainer.addChild(new so(a,h,i)))}i.drawOrder=i.slots.slice()}if(n.skins){i.skins=[];var u=n.skins;for(var c in"[object Array]"===Object.prototype.toString.call(n.skins)&&(u={},n.skins.forEach((function(t){u[t.name]=t.attachments}))),u){var p=u[c],f=new lo(c);for(var d in p){var m=i.findSlotIndex(d);if(-1==m)throw new Error("Slot not found: "+d);var v=p[d];for(var y in v){var g=i.readAttachment(v[y],f,m,y,null);null!=g&&f.addAttachment(m,y,g)}}i.skins.push(f),"default"==f.name&&(i.defaultSkin=f)}}if(n.animations){var _=[];for(var b in n.animations){var x=[],w=0,T=n.animations[b];if(T.bones)for(var E in T.bones){var S=T.bones[E];a=i.findBone(E);for(var M in S){var A=new wo(a,M,S[M]);x.push(A),w=Math.max(w,A.times[A.times.length-1].time)}}if(T.slots)for(var C in T.slots){var P=T.slots[C],k=i.findSlotIndex(C),O=i.slots[k];for(var I in P){var D=P[I],R=D[D.length-1].time;"attachment"==I?(x.push(new Mo(O,D,i)),w=Math.max(w,R||0)):"color"==I&&(x.push(new Eo(O,D)),w=Math.max(w,R||0))}}if(T.deform)for(var F in T.deform){var L=T.deform[F],B=i.findSkin(F);for(var d in L){var N=L[d],z=i.findSlotIndex(d);O=i.slots[z];for(var j in N){var V=N[j],U=B.getAttachment(z,j),W=new So(O,U,V);x.push(W),w=Math.max(w,W.frameTimes[W.frameTimes.length-1])}}}var q=T.drawOrder;if(q){var H=new Ao(i.slots,i.drawOrder,q.map((function(t){return{time:t.time||0,drawOrder:function(){var e=t.offsets;if(!e)return null;for(var r=i.slots.length,n=_o(r,-1),o=_o(r-e.length,0),a=0,s=0,l=0;l<e.length;l++){for(var h=e[l],u=i.findSlotIndex(h.slot);a!=u;)o[s++]=a++;n[a+h.offset]=a++}for(;a<r;)o[s++]=a++;for(l=r-1;l>=0;l--)-1==n[l]&&(n[l]=o[--s]);return n}()}})));x.push(H),w=Math.max(w,H.times[H.times.length-1].time)}var G=new Po(x,w);G.name=b,_.push(G)}i.animationManager=new ko(_)}if(n.slots)for(var Y=0;Y<i.slots.length;Y++){if((O=i.slots[Y]).data.attachment){var X=i.defaultSkin.getAttachment(Y,O.data.attachment);if(O.setAttachment(X),X instanceof co){var K=X.name,Z=i.createSprite(O,X,K);O.currentSprite=Z,O.currentSpriteName=K,O.addChild(Z)}else if(X instanceof po){var J=i.createMesh(O,X);O.currentMesh=J,O.currentMeshName=X.name,O.addChild(J)}}}return i}R(e,t),e.prototype.findBone=function(t){for(var e=this.bones,r=0,i=e.length;r<i;r++){var n=e[r];if(n.name==t)return n}return null},e.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;e&&this.sortBone(e),t.sorted=!0,this.orderCalculations.push(t)}},e.prototype.findSlot=function(t){for(var e=this.slots,r=0;r<e.length;r++)if(e[r].name==t)return e[r];return null},e.prototype.findSlotIndex=function(t){for(var e=this.slots,r=0;r<e.length;r++)if(e[r].name==t)return r;return-1},e.prototype.findSkin=function(t){for(var e=this.skins,r=0,i=e.length;r<i;r++){var n=e[r];if(n.name==t)return n}return null},e.prototype.getAttachment=function(t,e){var r;if(this.skin&&(r=this.skin.getAttachment(t,e)))return r;if(this.defaultSkin&&(r=this.defaultSkin.getAttachment(t,e)))return r;return null},e.prototype.update=function(){var e=Date.now(),r=this.lastTime?.001*(e-this.lastTime):.01667;this.lastTime=e,this.animationManager.update(r),t.prototype.update.call(this)},e.prototype.updateTransform=function(){this.transform.updateWorldMatrix(this.parent.transform),this._worldAlpha=this.alpha*this.parent._worldAlpha,this.boneContainer&&this.boneContainer.updateTransform(),this.ikConstraints&&this.ikConstraints.forEach((function(t){t.update()})),this.updateSlots(),this.updateDrawOrder(),this.slotContainer.updateTransform()},e.prototype.updateSlots=function(){for(var t=0,e=this.slots.length;t<e;t++){var r=this.slots[t],i=r.attachment;if(i){var n=i.color;if(i instanceof co){if(r.currentMesh&&(r.currentMesh.visible=!1,r.currentMesh=null,r.currentMeshName=void 0),!r.currentSpriteName||r.currentSpriteName!==i.name){var o=i.name;if(r.currentSprite&&(r.currentSprite.visible=!1),r.sprites=r.sprites||{},void 0!==r.sprites[o])r.sprites[o].visible=!0;else{var a=this.createSprite(r,i,o);r.addChild(a)}r.currentSprite=r.sprites[o],r.currentSpriteName=o}var s=r.transform;r.bone.matrix.decompose(s),s._localID++,Io[0]=r.color.r*n.r,Io[1]=r.color.g*n.g,Io[2]=r.color.b*n.b,r.currentSprite.tint=Lt(Io)}else{if(!(i instanceof po)){r.visible=!1;continue}r.currentSprite&&(r.currentSprite.visible=!1,r.currentSprite=null,r.currentSpriteName=void 0,(s=new W)._parentID=-1,s._worldID=r.transform._worldID,r.transform=s);if(!r.currentMeshName||r.currentMeshName!==i.name){var l=i.name;if(r.currentMesh&&(r.currentMesh.visible=!1),r.meshes=r.meshes||{},void 0!==r.meshes[l])r.meshes[l].visible=!0;else{var h=this.createMesh(r,i);r.addChild(h)}r.currentMesh=r.meshes[l],r.currentMeshName=l}i.computeWorldVerticesOld(r,r.currentMesh._vertices,this.bones),r.currentMesh._vertexDirty++,Io[0]=r.color.r*n.r,Io[1]=r.color.g*n.g,Io[2]=r.color.b*n.b,r.currentMesh.tint=Lt(Io)}r.visible=!0,r.alpha=r.color.a}else r.visible=!1}},e.prototype.updateDrawOrder=function(){for(var t=this.drawOrder,e=0,r=t.length;e<r;e++){var i=this.slots.indexOf(t[e]),n=this.slots[i];this.slotContainer.children[e]=n}},e.prototype.readAttachment=function(t,e,r,i,n){var o=this.spineData.textures;switch(i=t.name||i,t.type||Co.region){case Co.region:var a=new co(i,t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.width,t.height,o&&o[t.path||i]);return t.color&&a.color.setFromString(t.color),a;case"mesh":var s=new po(i);s.texture=o&&o[t.path||i];var l=t.uvs;return this.readVertices(t,s,l.length),s.triangles=t.triangles,s.regionUVs=new Float32Array(l),s.hullLength=2*t.hull||0,s}return null},e.prototype.readVertices=function(t,e,r){e.worldVerticesLength=r;var i=t.vertices;if(r!=i.length){for(var n=new Array,o=new Array,a=0,s=i.length;a<s;){var l=i[a++];o.push(l);for(var h=a+4*l;a<h;a+=4)o.push(i[a]),n.push(i[a+1]),n.push(i[a+2]),n.push(i[a+3])}e.bones=o,e.vertices=new Float32Array(n)}else{var u=new Float32Array(i);e.vertices=u}},e.prototype.createSprite=function(t,e,r){var i=new Jt(e.texture);return i.rotation=e.rotation||0,i.anchorTexture.set(.5,.5),i.position.x=e.x,i.position.y=e.y,i.alpha=e.color.a,e.texture&&(i.scaleX=e.scaleX*e.width/e.texture.width,i.scaleY=-e.scaleY*e.height/e.texture.height),t.sprites=t.sprites||{},t.sprites[r]=i,i},e.prototype.createMesh=function(t,e){var r=new hi(e.texture,new Float32Array(e.regionUVs.length),e.regionUVs,new Uint16Array(e.triangles));return r.canvasPadding&&(r.canvasPadding=1.5),r.refresh(!0),r.multiplyUvs(),t.meshes=t.meshes||{},t.meshes[e.name]=r,r},e.prototype.clone=function(){return new e(this.spineData)},e.prototype.setSkin=function(t){var e=this.findSkin(t);e&&this.skin!=e&&(this.addSkin(e)||(e==this.defaultSkin?this.resetSkin():(this.resetSkin(),this.addSkin(e))))},e.prototype.resetSkin=function(){this.skin=this.defaultSkin,this.slots.forEach((function(t){t.setToSetupPose()}))},e.prototype.addSkin=function(t){if(this.skin&&this.skin!=this.defaultSkin)return!1;for(var e=this.slots,r=0,i=e.length;r<i;r++){var n=e[r],o=n.data.attachment;if(o){var a=t.getAttachment(r,o);a&&n.setAttachment(a)}}return this.skin=t,!0},Object.defineProperty(e.prototype,"skinNames",{get:function(){return this.skins&&this.skins.length?this.skins.map((function(t){return t.name})):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aniNames",{get:function(){var t=this.animationManager;return t&&t.animationClips&&t.animationClips.length?t.animationClips.map((function(t){return t.name})):[]},enumerable:!0,configurable:!0})}($);!function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},t.prototype.readTuple=function(t){var e=this.readLine(),r=e.indexOf(":");if(-1==r)throw new Error("Invalid line: "+e);for(var i=0,n=r+1;i<3;i++){var o=e.indexOf(",",n);if(-1==o)break;t[i]=e.substr(n,o-n).trim(),n=o+1}return t[i]=e.substring(n).trim(),i+1}}();var Do={h5:l,taobao:function(){function t(){var t=my.getSystemInfoSync();this.systemInfo={pixelRatio:t.pixelRatio}}return t.prototype.setupCanvas=function(t,e){var r=this;my.createCanvas({id:t.canvasId,success:function(t){var i=my.getSystemInfoSync(),n=i.pixelRatio,o=i.windowWidth,a=i.windowHeight,s=o*n+n,l=a*n+n;t.width=s,t.height=l,r.systemInfo.canvasWidth=o,r.systemInfo.canvasHeight=a,function(t){et={createImage:t.createImage.bind(t),requestAnimationFrame:t.requestAnimationFrame.bind(t),cancelAnimationFrame:t.cancelAnimationFrame.bind(t)},rt="tb"}(t),e(r._canvas=t)}})},t.prototype.bindMouseEvent=function(t){},t}()};var Ro=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createStage=function(t){e._canvas=t;var r=e._adaptor.systemInfo,i=r.canvasWidth,n=r.canvasHeight,o=e._options.renderType,a=void 0===o?m.CANVAS:o,s=e._stage=new pr(t,750,1624,i,n,a);e._adaptor.bindMouseEvent(e._stage);var l=e;!function e(){l._pause||(mi.flush(),s.flush());l._requestID=(my?t:window).requestAnimationFrame(e)}()},e}return n(e,t),Object.defineProperty(e.prototype,"stage",{get:function(){return this._stage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widget",{get:function(){return this._widget},enumerable:!0,configurable:!0}),e.prototype.init=function(t,e){var r,i=this;this._options=t,this._adaptor=(r=t.platform,this._options,new(0,Do[r])),this._adaptor.setupCanvas(t,(function(t){i.createStage(t),e()}))},e.prototype.setWidget=function(t){this._stage&&this._stage.addChild(this._widget=t)},e.prototype.launch=function(t,e,r){t||(t={});var i=t.props,n=void 0===i?{}:i,o=t.assets,a=void 0===o?[]:o,s=this._widget;s.injectProps(n),s.onInitialized(n,a),s.loadAssets(a,e,r)},e.prototype.invokeMouseEvent=function(t){this._stage&&this._stage.onMouseEvent(t)},e.prototype.destroy=function(){var t=this._widget;if(t)try{cancelAnimationFrame(this._requestID),t.destroy(),this._stage.destroy()}catch(t){}},e}(B);var Fo,Lo={".png":"Texture",".jpg":"Texture",".jpeg":"Texture",".gif":"Texture",".svg":"Texture",".txt":"Text",".json":"Json",".mp3":"Audio","":"Raw"},Bo={},No={},zo={},jo={},Vo=[];function Uo(t){return No[t]}function Wo(t,e,r,i){return o(this,void 0,void 0,(function(){var n,o;return a(this,(function(a){switch(a.label){case 0:return Uo[e]?[2]:zo[e]?[2,new Promise((function(t,r){zo[e].push({resolve:t,reject:r})}))]:(zo[e]=[],[4,qo(t,r,i)]);case 1:for(a.sent(),No[e]=!0,n=0,o=zo[e];n<o.length;n++)o[n].resolve();return delete zo[e],[2]}}))}))}function qo(t,e,r){if(!t)return Promise.resolve();var i=t.length,n=0,o=[];return Promise.all(t.map((function(t){if(0===t.url.indexOf("link://")){var r=t.url.replace("link://","");t=jo[r]}if(t){var a,s=t.url,l=t.ext,h=t.uuid,u=Lo[l];return(a=u?qt["load"+u]:Bo[l])?new Promise((function(t,e){a.call(qt,(function(e,r){if(r){if(r.__merged)for(var i in r)jo[i]=r[i];else jo[h]=r;r.__frames&&Vo.push(r.__frames),c(!0)}else o.push(s);t(e)}),s,h)})):c()}return c();function c(t){if(void 0===t&&(t=!0),n++,e&&e(n,i),t)return Promise.resolve()}}))).then((function(){r&&r(o)}))}Fo=function(t,e){var r=this;qt.loadJson((function(i,n){if(i){var o=e.substring(0,e.lastIndexOf("/"))+"/"+n.tex;r.loadImage((function(e,r){if(e){var i=function(t,e){for(var r=e,i=Object.keys(r),n=0,o={};n<i.length;){var a=i[n],s=r[a],l=null,h=null,u=new U(0,0,Math.floor(s.sw),Math.floor(s.sh));l=s.ro?new U(Math.floor(s.x),Math.floor(s.y),Math.floor(s.h),Math.floor(s.w)):new U(Math.floor(s.x),Math.floor(s.y),Math.floor(s.w),Math.floor(s.h)),(s.ox||s.oy||s.w!=s.sw||s.h!=s.sh)&&(h=new U(Math.floor(s.ox),Math.floor(s.oy),Math.floor(s.w),Math.floor(s.h)));var c=new Yt(t,l,u,h,s.ro?2:0);Yt.addToCache(c,a),o[a]=c,n++}return o}(new Ht(r),n.frames);Object.defineProperty(i,"__merged",{enumerable:!1,get:function(){return!0}}),Object.defineProperty(i,"__frames",{enumerable:!1,get:function(){return n.frames}}),t(!0,i)}else t(!1)}),o)}else t(!1)}),e)},Bo[".sht"]=Fo;(function(){function t(){}t.registerPool=function(t,e,r){void 0===r&&(r=null),this.createMethods[t]=e,this.initMethods[t]=r,this.pools[t]=[]},t.getObject=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i,n=this.pools[t];if(!n)return console.warn(t+"没有注册在对象池中。"),null;if(n.length>0)i=n.pop();else{var o=this.createMethods[t];i=o.apply(null,e)}var a=this.initMethods[t];return a&&(e.unshift(i),a.apply(null,e)),this.debug(),i},t.recycleObject=function(t,e){if(e){var r=this.pools[t];r?(r.indexOf(e)<0&&r.length<=this.MAX&&r.push(e),this.debug()):console.warn(t+"没有注册在对象池中。")}},t.debug=function(){for(var t in this.pools){t+":"+this.pools[t].length+"\n"}},t.MAX=50,t.createMethods={},t.initMethods={},t.pools={}})(),function(t){function e(e){var r=t.call(this)||this;return r._props={},r._assets=[],r._metaConfig=e,e&&e.props&&r.injectProps(e.props),r.addEventListener("in",r.$onEvent,r),r}n(e,t),Object.defineProperty(e.prototype,"props",{get:function(){return this._props},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assets",{get:function(){return this._assets},enumerable:!0,configurable:!0}),e.prototype.getAssetByName=function(t){for(var e,r=0,i=this._assets;r<i.length;r++){var n=i[r];if(n.name===t){e=n;break}}if(!e)for(var o=0,a=Vo;o<a.length;o++){var s=a[o][t];if(s)for(var l in s){s[l].name===t&&(e={uuid:l,name:t,ext:".png"})}}return e},e.prototype.$onEvent=function(t){t.data&&this.onEvent(t.data.type,t.data.payload)},e.prototype.dispatchOutEvent=function(t,e){this.dispatchEvent("out",{type:t,payload:e})},e.prototype.dispatchInEvent=function(t,e){this.dispatchEvent("in",{type:t,payload:e})},e.prototype.emitEvent=function(t,e){this._onEvent&&this._onEvent(t,e)},e.prototype.$emitEvent=function(t,e){this.onEvent(t,e)},e.prototype.loadAssets=function(t,e,r){var i=this,n=[],s=[],l=this._metaConfig;if(l&&l.assets&&(n=l.assets.concat(),t&&t.length>0))for(var h=function(e,r){var i=t[e],o=-1;(function(t,e){if(t)for(var r=0,i=t.length;r<i;r++){var n=t[r];if(e(n,r,t))return n}})(n,(function(t,e){var r=t.uuid===i.uuid;return r&&(o=e),r}))?n[o]=i:s.push(i)},u=0,c=t.length;u<c;u++)h(u);this._assets=n,function(t,e,r,i,n){o(this,void 0,void 0,(function(){var o,s,l,h,u,c,p;return a(this,(function(a){switch(a.label){case 0:for(c in o=0,s=0,t)Uo(c)||(p=t[c])&&p.length>0&&(o+=p.length);return r?[4,r()]:[3,2];case 1:a.sent(),a.label=2;case 2:l=[],h=0,u=e,a.label=3;case 3:return h<u.length?Uo(c=u[h])?[3,5]:(p=t[c])&&p.length>0?[4,Wo(p,c,(function(){s++,i&&i(s,o)}),(function(t){l.push.apply(l,t)}))]:[3,5]:[3,6];case 4:a.sent(),a.label=5;case 5:return h++,[3,3];case 6:return[4,new Promise((function(t){setTimeout(t,100)}))];case 7:return a.sent(),n?[4,n(l)]:[3,9];case 8:a.sent(),a.label=9;case 9:return[2]}}))}))}({builtins:n,other:s},["builtins","other"],null,e,(function(t){r&&r(t),i.onLaunched()}))},e.prototype.injectProps=function(t){!function(t,e,r,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=!0),!t||!e)return!1;var o=!1;for(var a in e){var s=e[a];if(!(i&&"function"==typeof s||n&&null==s)){if(r)r(t,a,s);else try{t[a]=s}catch(t){}o=!0}}}(this._props,t)},e.prototype.onInitialized=function(t,e){},e.prototype.onLaunched=function(){},e.prototype.onDestroy=function(){},e.prototype.onEvent=function(t,e){},e.prototype.destroy=function(){!function t(e,r){void 0===r&&(r=!0),e&&(mi.removeTweens(e),r&&e.children&&e.children.length&&e.children.forEach((function(e){t(e)})))}(this),this.onDestroy(),t.prototype.destroy.call(this)}}($);function Ho(t,e,r,i){var n=new Ro;return n.init(e,(function(){var o=t();o._onEvent=i,n.setWidget(o),n.launch(r,e.onAssetsProcess,e.onAssetsComplete)})),n}},"F+F2":function(t,e,r){var i;t.exports=(i=r("Ib8C"),function(){if("function"==typeof ArrayBuffer){var t=i.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var r=t.byteLength,i=[],n=0;n<r;n++)i[n>>>2]|=t[n]<<24-n%4*8;e.call(this,i,r)}else e.apply(this,arguments)}).prototype=t}}(),i.lib.WordArray)},FatH:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SvgaPlayer})),__webpack_require__.d(__webpack_exports__,"b",(function(){return loadSvga}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_spark_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("Yb6r"),_lottiefiles_react_lottie_player__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("r5Tj"),_meta_json__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("O7F6"),_meta_json__WEBPACK_IMPORTED_MODULE_3___namespace=__webpack_require__.t("O7F6",1);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function __awaiter(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function __generator(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function createCommonjsModule(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return commonjsRequire(t,null==e?r.path:e)}},r.exports),r.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var svga_lite_min=createCommonjsModule((function(module,exports){var t;window,t=function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){this._d=t,this._transform=e,this._styles=r}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),n=r(3),o=r(4),a={Downloader:i.default,Parser:n.default,Player:o.default};e.default=a},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.request=null}return t.prototype.get=function(t){var e=this;if(!t)throw new Error("download link undefined");return new Promise((function(r,i){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onloadend=function(){!n.response||200!==n.status&&304!==n.status?i(n):r(n.response)},n.onerror=function(){return i(n.response)},n.send(),e.request=n}))},t.prototype.cancel=function(){this.request&&this.request.abort()},t.prototype.destroy=function(){this.request&&this.request.abort()},t}();e.default=i},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var WORKER='!function(t){var e={};function r(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=8)}([function(t,e,r){"use strict";var i=t.exports=r(6);i.codegen=r(16),i.toArray=function(t){if(t){for(var e=Object.keys(t),r=new Array(e.length),i=0;i<e.length;)r[i]=t[e[i++]];return r}return[]};var s=/\\\\/g,n=/"/g;i.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)},i.safeProp=function(t){return!/^[$\\w_]+$/.test(t)||i.isReserved(t)?\'["\'+t.replace(s,"\\\\\\\\").replace(n,\'\\\\"\')+\'"]\':"."+t}},function(t,e,r){"use strict";t.exports=h;var i=r(2);((h.prototype=Object.create(i.prototype)).constructor=h).className="Field";var s,n=r(3),o=r(5),a=r(0),f=/^required|optional|repeated$/;function h(t,e,r,s,n,h,l){if(a.isObject(s)?(l=n,h=s,s=n=void 0):a.isObject(n)&&(l=h,h=n,n=void 0),i.call(this,t,h),!a.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!a.isString(r))throw TypeError("type must be a string");if(void 0!==s&&!f.test(s=s.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==n&&!a.isString(n))throw TypeError("extend must be a string");this.rule=s&&"optional"!==s?s:void 0,this.type=r,this.id=e,this.extend=n||void 0,this.required="required"===s,this.optional=!this.required,this.repeated="repeated"===s,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==o.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}h.fromJSON=function(t,e){return new h(t,e.id,e.type,e.rule,e.extend,e.options,e.comment)},h.prototype.setOption=function(t,e,r){return"packed"===t&&(this._packed=null),i.prototype.setOption.call(this,t,e,r)},h.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof s?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof n&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof n)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var t;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,t=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,t=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=t}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof s&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},h._configure=function(t){s=t}},function(t,e,r){"use strict";var i;function s(t,e){this.options=e,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}t.exports=s,s.className="ReflectionObject",s.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;var e=t.root;e instanceof i&&e._handleAdd(this)},s.prototype.resolve=function(){return this.resolved?this:(this.root instanceof i&&(this.resolved=!0),this)},s.prototype.getOption=function(t){if(this.options)return this.options[t]},s._configure=function(t){i=t}},function(t,e,r){"use strict";t.exports=s;var i=r(2);function s(t,e,r,s,n){if(i.call(this,t,r),e&&"object"!=typeof e)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=s,this.comments=n||{},this.reserved=void 0,e)for(var o=Object.keys(e),a=0;a<o.length;++a)"number"==typeof e[o[a]]&&(this.valuesById[this.values[o[a]]=e[o[a]]]=o[a])}((s.prototype=Object.create(i.prototype)).constructor=s).className="Enum",s.fromJSON=function(t,e){var r=new s(t,e.values,e.options,e.comment,e.comments);return r.reserved=e.reserved,r}},function(t,e,r){"use strict";t.exports=h;var i=r(2);((h.prototype=Object.create(i.prototype)).constructor=h).className="Namespace";var s,n,o,a=r(1),f=r(0);function h(t,e){i.call(this,t,e),this.nested=void 0,this._nestedArray=null}h.fromJSON=function(t,e){return new h(t,e.options).addJSON(e.nested)},h.isReservedId=function(t,e){if(t)for(var r=0;r<t.length;++r)if("string"!=typeof t[r]&&t[r][0]<=e&&t[r][1]>=e)return!0;return!1},h.isReservedName=function(t,e){if(t)for(var r=0;r<t.length;++r)if(t[r]===e)return!0;return!1},Object.defineProperty(h.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=f.toArray(this.nested))}}),h.prototype.addJSON=function(t){if(t)for(var e,r=Object.keys(t),i=0;i<r.length;++i)e=t[r[i]],this.add((void 0!==e.fields?s.fromJSON:void 0!==e.values?o.fromJSON:void 0!==e.methods?n.fromJSON:void 0!==e.id?a.fromJSON:h.fromJSON)(r[i],e));return this},h.prototype.get=function(t){return this.nested&&this.nested[t]||null},h.prototype.add=function(t){if(!(t instanceof a&&void 0!==t.extend||t instanceof s||t instanceof o||t instanceof n||t instanceof h))throw TypeError("object must be a valid nested object");if(this.nested){var e=this.get(t.name);if(e){if(!(e instanceof h&&t instanceof h)||e instanceof s||e instanceof n)throw Error("duplicate name \'"+t.name+"\' in "+this);for(var r=e.nestedArray,i=0;i<r.length;++i)t.add(r[i]);this.remove(e),this.nested||(this.nested={}),t.setOptions(e.options,!0)}}else this.nested={};return this.nested[t.name]=t,t.onAdd(this),(f=this)._nestedArray=null,f;var f},h.prototype.lookup=function(t,e,r){if("boolean"==typeof e?(r=e,e=void 0):e&&!Array.isArray(e)&&(e=[e]),f.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;if(""===t[0])return this.root.lookup(t.slice(1),e);var i=this.get(t[0]);if(i){if(1===t.length){if(!e||e.indexOf(i.constructor)>-1)return i}else if(i instanceof h&&(i=i.lookup(t.slice(1),e,!0)))return i}else for(var s=0;s<this.nestedArray.length;++s)if(this._nestedArray[s]instanceof h&&(i=this._nestedArray[s].lookup(t,e,!0)))return i;return null===this.parent||r?null:this.parent.lookup(t,e)},h.prototype.lookupType=function(t){var e=this.lookup(t,[s]);if(!e)throw Error("no such type: "+t);return e},h.prototype.lookupTypeOrEnum=function(t){var e=this.lookup(t,[s,o]);if(!e)throw Error("no such Type or Enum \'"+t+"\' in "+this);return e},h._configure=function(t,e,r){s=t,n=e,o=r}},function(t,e,r){"use strict";var i=e,s=r(0),n=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(t,e){var r=0,i={};for(e|=0;r<t.length;)i[n[r+e]]=t[r++];return i}i.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",s.emptyArray,null]),i.long=o([0,0,0,1,1],7),i.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(t,e,r){"use strict";var i=e;i.float=r(14),i.utf8=r(15),i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},i.isString=function(t){return"string"==typeof t||t instanceof String},i.isObject=function(t){return t&&"object"==typeof t},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i._configure=function(){var t=i.Buffer;t?(i._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,r){return new t(e,r)},i._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):i._Buffer_from=i._Buffer_allocUnsafe=null}},function(t,e,r){"use strict";t.exports=s;var i=r(4);function s(t,e){i.call(this,t,e),this.methods={},this._methodsArray=null}((s.prototype=Object.create(i.prototype)).constructor=s).className="Service"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(9);var i,s=r(10),n=r(23),o=r(24),a=r(25),f=r(26);self.document?((i=self.SVGAParserMockWorker={}).disableWorker=!0,i.postMessage=function(t){i.onmessageCallback&&i.onmessageCallback(t)}):i=self;var h=s.Root.fromJSON(n.default).lookupType("com.opensource.svga.MovieEntity");i.onmessage=function(t){var e=new o.Zlib.Inflate(new Uint8Array(t.data)).decompress(),r=h.decode(e),s={};for(var n in r.images){var l=r.images[n],u=a.default(l);s[n]=btoa(u)}var p=new f.default(r,s);i.postMessage(p)}},function(t,e,r){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";!self.btoa&&(self.btoa=function(t){for(var e,r,s,n,o="",a=0,f=(t=String(t)).length%3;a<t.length;){if((r=t.charCodeAt(a++))>255||(s=t.charCodeAt(a++))>255||(n=t.charCodeAt(a++))>255)throw new TypeError("Failed to execute \'btoa\' on \'Window\': The string to be encoded contains characters outside of the Latin1 range.");o+=i.charAt((e=r<<16|s<<8|n)>>18&63)+i.charAt(e>>12&63)+i.charAt(e>>6&63)+i.charAt(63&e)}return f?o.slice(0,f-3)+"===".substring(f):o})},function(t,e,r){"use strict";t.exports=r(11)},function(t,e,r){"use strict";(t.exports=r(12)).build="full"},function(t,e,r){"use strict";var i=t.exports=r(13);i.build="light",i.ReflectionObject=r(2),i.Namespace=r(4),i.Root=r(17),i.Enum=r(3),i.Type=r(19),i.Field=r(1),i.Service=r(7),i.ReflectionObject._configure(i.Root),i.Namespace._configure(i.Type,i.Service,i.Enum),i.Root._configure(i.Type),i.Field._configure(i.Type)},function(t,e,r){"use strict";e.build="minimal"},function(t,e,r){"use strict";function i(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=128===r[3];function s(t,i,s){e[0]=t,i[s]=r[0],i[s+1]=r[1],i[s+2]=r[2],i[s+3]=r[3]}function n(t,i,s){e[0]=t,i[s]=r[3],i[s+1]=r[2],i[s+2]=r[1],i[s+3]=r[0]}function o(t,i){return r[0]=t[i],r[1]=t[i+1],r[2]=t[i+2],r[3]=t[i+3],e[0]}function a(t,i){return r[3]=t[i],r[2]=t[i+1],r[1]=t[i+2],r[0]=t[i+3],e[0]}t.writeFloatLE=i?s:n,t.writeFloatBE=i?n:s,t.readFloatLE=i?o:a,t.readFloatBE=i?a:o}():function(){function e(t,e,r,i){var s=e<0?1:0;if(s&&(e=-e),0===e)t(1/e>0?0:2147483648,r,i);else if(isNaN(e))t(2143289344,r,i);else if(e>34028234663852886e22)t((s<<31|2139095040)>>>0,r,i);else if(e<11754943508222875e-54)t((s<<31|Math.round(e/1401298464324817e-60))>>>0,r,i);else{var n=Math.floor(Math.log(e)/Math.LN2);t((s<<31|n+127<<23|8388607&Math.round(e*Math.pow(2,-n)*8388608))>>>0,r,i)}}function r(t,e,r){var i=t(e,r),s=2*(i>>31)+1,n=i>>>23&255,o=8388607&i;return 255===n?o?NaN:s*(1/0):0===n?1401298464324817e-60*s*o:s*Math.pow(2,n-150)*(o+8388608)}t.writeFloatLE=e.bind(null,s),t.writeFloatBE=e.bind(null,n),t.readFloatLE=r.bind(null,o),t.readFloatBE=r.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=128===r[7];function s(t,i,s){e[0]=t,i[s]=r[0],i[s+1]=r[1],i[s+2]=r[2],i[s+3]=r[3],i[s+4]=r[4],i[s+5]=r[5],i[s+6]=r[6],i[s+7]=r[7]}function n(t,i,s){e[0]=t,i[s]=r[7],i[s+1]=r[6],i[s+2]=r[5],i[s+3]=r[4],i[s+4]=r[3],i[s+5]=r[2],i[s+6]=r[1],i[s+7]=r[0]}function o(t,i){return r[0]=t[i],r[1]=t[i+1],r[2]=t[i+2],r[3]=t[i+3],r[4]=t[i+4],r[5]=t[i+5],r[6]=t[i+6],r[7]=t[i+7],e[0]}function a(t,i){return r[7]=t[i],r[6]=t[i+1],r[5]=t[i+2],r[4]=t[i+3],r[3]=t[i+4],r[2]=t[i+5],r[1]=t[i+6],r[0]=t[i+7],e[0]}t.writeDoubleLE=i?s:n,t.writeDoubleBE=i?n:s,t.readDoubleLE=i?o:a,t.readDoubleBE=i?a:o}():function(){function e(t,e,r,i,s,n){var o=i<0?1:0;if(o&&(i=-i),0===i)t(0,s,n+e),t(1/i>0?0:2147483648,s,n+r);else if(isNaN(i))t(0,s,n+e),t(2146959360,s,n+r);else if(i>17976931348623157e292)t(0,s,n+e),t((o<<31|2146435072)>>>0,s,n+r);else{var a;if(i<22250738585072014e-324)t((a=i/5e-324)>>>0,s,n+e),t((o<<31|a/4294967296)>>>0,s,n+r);else{var f=Math.floor(Math.log(i)/Math.LN2);1024===f&&(f=1023),t(4503599627370496*(a=i*Math.pow(2,-f))>>>0,s,n+e),t((o<<31|f+1023<<20|1048576*a&1048575)>>>0,s,n+r)}}}function r(t,e,r,i,s){var n=t(i,s+e),o=t(i,s+r),a=2*(o>>31)+1,f=o>>>20&2047,h=4294967296*(1048575&o)+n;return 2047===f?h?NaN:a*(1/0):0===f?5e-324*a*h:a*Math.pow(2,f-1075)*(h+4503599627370496)}t.writeDoubleLE=e.bind(null,s,0,4),t.writeDoubleBE=e.bind(null,n,4,0),t.readDoubleLE=r.bind(null,o,0,4),t.readDoubleBE=r.bind(null,a,4,0)}(),t}function s(t,e,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function n(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=255&t}function o(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function a(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=i(i)},function(t,e,r){"use strict";var i=e;i.length=function(t){for(var e=0,r=0,i=0;i<t.length;++i)(r=t.charCodeAt(i))<128?e+=1:r<2048?e+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(i+1))?(++i,e+=4):e+=3;return e},i.read=function(t,e,r){if(r-e<1)return"";for(var i,s=null,n=[],o=0;e<r;)(i=t[e++])<128?n[o++]=i:i>191&&i<224?n[o++]=(31&i)<<6|63&t[e++]:i>239&&i<365?(i=((7&i)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,n[o++]=55296+(i>>10),n[o++]=56320+(1023&i)):n[o++]=(15&i)<<12|(63&t[e++])<<6|63&t[e++],o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,n)),o=0);return s?(o&&s.push(String.fromCharCode.apply(String,n.slice(0,o))),s.join("")):String.fromCharCode.apply(String,n.slice(0,o))},i.write=function(t,e,r){for(var i,s,n=r,o=0;o<t.length;++o)(i=t.charCodeAt(o))<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=63&i|128):55296==(64512&i)&&56320==(64512&(s=t.charCodeAt(o+1)))?(i=65536+((1023&i)<<10)+(1023&s),++o,e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=63&i|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=63&i|128);return r-n}},function(t,e,r){"use strict";function i(t,e){"string"==typeof t&&(e=t,t=void 0);var r=[];function s(t){if("string"!=typeof t){var e=n();if(i.verbose&&console.log("codegen: "+e),e="return "+e,t){for(var o=Object.keys(t),a=new Array(o.length+1),f=new Array(o.length),h=0;h<o.length;)a[h]=o[h],f[h]=t[o[h++]];return a[h]=e,Function.apply(null,a).apply(null,f)}return Function(e)()}for(var l=new Array(arguments.length-1),u=0;u<l.length;)l[u]=arguments[++u];if(u=0,t=t.replace(/%([%dfijs])/g,function(t,e){var r=l[u++];switch(e){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"}),u!==l.length)throw Error("parameter count mismatch");return r.push(t),s}function n(i){return"function "+(i||e||"")+"("+(t&&t.join(",")||"")+"){\\n  "+r.join("\\n  ")+"\\n}"}return s.toString=n,s}t.exports=i,i.verbose=!1},function(t,e,r){"use strict";t.exports=f;var i=r(4);((f.prototype=Object.create(i.prototype)).constructor=f).className="Root";var s,n=r(1),o=r(3),a=r(18);function f(t){i.call(this,"",t),this.deferred=[],this.files=[]}f.fromJSON=function(t,e){return e||(e=new f),t.options&&e.setOptions(t.options),e.addJSON(t.nested)};var h=/^[A-Z]/;function l(t,e){var r=e.parent.lookup(e.extend);if(r){var i=new n(e.fullName,e.id,e.type,e.rule,void 0,e.options);return i.declaringField=e,e.extensionField=i,r.add(i),!0}return!1}f.prototype._handleAdd=function(t){if(t instanceof n)void 0===t.extend||t.extensionField||l(0,t)||this.deferred.push(t);else if(t instanceof o)h.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof a)){if(t instanceof s)for(var e=0;e<this.deferred.length;)l(0,this.deferred[e])?this.deferred.splice(e,1):++e;for(var r=0;r<t.nestedArray.length;++r)this._handleAdd(t._nestedArray[r]);h.test(t.name)&&(t.parent[t.name]=t)}},f._configure=function(t,e,r){s=t,e,r}},function(t,e,r){"use strict";t.exports=o;var i=r(2);((o.prototype=Object.create(i.prototype)).constructor=o).className="OneOf";var s=r(1),n=r(0);function o(t,e,r,s){if(Array.isArray(e)||(r=e,e=void 0),i.call(this,t,r),void 0!==e&&!Array.isArray(e))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=s}function a(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e])}o.fromJSON=function(t,e){return new o(t,e.oneof,e.options,e.comment)},o.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return n.toObject(["options",this.options,"oneof",this.oneof,"comment",e?this.comment:void 0])},o.prototype.add=function(t){if(!(t instanceof s))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,a(this),this},o.prototype.remove=function(t){if(!(t instanceof s))throw TypeError("field must be a Field");var e=this.fieldsArray.indexOf(t);if(e<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(e,1),(e=this.oneof.indexOf(t.name))>-1&&this.oneof.splice(e,1),t.partOf=null,this},o.prototype.onAdd=function(t){i.prototype.onAdd.call(this,t);for(var e=0;e<this.oneof.length;++e){var r=t.get(this.oneof[e]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}a(this)},o.prototype.onRemove=function(t){for(var e,r=0;r<this.fieldsArray.length;++r)(e=this.fieldsArray[r]).parent&&e.parent.remove(e);i.prototype.onRemove.call(this,t)},o.d=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;)t[e]=arguments[e++];return function(e,r){n.decorateType(e.constructor).add(new o(r,t)),Object.defineProperty(e,r,{get:n.oneOfGetter(t),set:n.oneOfSetter(t)})}}},function(t,e,r){"use strict";t.exports=u;var i=r(4);((u.prototype=Object.create(i.prototype)).constructor=u).className="Type";var s=r(3),n=r(1),o=r(20),a=r(7),f=r(21),h=r(0),l=r(22);function u(t,e){i.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(u.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var r=this.fields[t[e]],i=r.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=u.generateConstructor(this)())},set:function(t){t.prototype;t.$type=t.prototype.$type=this,this._ctor=t;for(var e=0;e<this.fieldsArray.length;++e)this._fieldsArray[e].resolve();var r={};for(e=0;e<this.oneofsArray.length;++e)r[this._oneofsArray[e].resolve().name]={get:h.oneOfGetter(this._oneofsArray[e].oneof),set:h.oneOfSetter(this._oneofsArray[e].oneof)};e&&Object.defineProperties(t.prototype,r)}}}),u.generateConstructor=function(t){for(var e,r=h.codegen(["p"],t.name),i=0;i<t.fieldsArray.length;++i)(e=t._fieldsArray[i]).map?r("this%s={}",h.safeProp(e.name)):e.repeated&&r("this%s=[]",h.safeProp(e.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},u.fromJSON=function(t,e){var r=new u(t,e.options);r.extensions=e.extensions,r.reserved=e.reserved;for(var f=Object.keys(e.fields),h=0;h<f.length;++h)r.add((void 0!==e.fields[f[h]].keyType?o.fromJSON:n.fromJSON)(f[h],e.fields[f[h]]));if(e.nested)for(f=Object.keys(e.nested),h=0;h<f.length;++h){var l=e.nested[f[h]];r.add((void 0!==l.id?n.fromJSON:void 0!==l.fields?u.fromJSON:void 0!==l.values?s.fromJSON:void 0!==l.methods?a.fromJSON:i.fromJSON)(f[h],l))}return e.extensions&&e.extensions.length&&(r.extensions=e.extensions),e.reserved&&e.reserved.length&&(r.reserved=e.reserved),e.group&&(r.group=!0),e.comment&&(r.comment=e.comment),r},u.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name \'"+t.name+"\' in "+this);if(t instanceof n&&void 0===t.extend){if(this._fieldsById?this._fieldsById[t.id]:this.fieldsById[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name \'"+t.name+"\' is reserved in "+this);return t.parent&&t.parent.remove(t),this.fields[t.name]=t,t.message=this,t.onAdd(this),(e=this)._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}var e;return i.prototype.add.call(this,t)},u.prototype.isReservedId=function(t){return i.isReservedId(this.reserved,t)},u.prototype.isReservedName=function(t){return i.isReservedName(this.reserved,t)},u.prototype.setup=function(){this.fullName;for(var t=[],e=0;e<this.fieldsArray.length;++e)t.push(this._fieldsArray[e].resolve().resolvedType);return this.decode=l(this)({Reader:f,types:t,util:h}),this},u.prototype.decode=function(t,e){return this.setup().decode(t,e)}},function(t,e,r){"use strict";t.exports=n;var i=r(1);((n.prototype=Object.create(i.prototype)).constructor=n).className="MapField";r(5);var s=r(0);function n(t,e,r,n,o,a){if(i.call(this,t,e,n,void 0,void 0,o,a),!s.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}n.fromJSON=function(t,e){return new n(t,e.id,e.keyType,e.type,e.options,e.comment)}},function(t,e,r){"use strict";t.exports=o;var i=r(6),s=(i.LongBits,i.utf8);function n(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function o(t){this.buf=t,this.pos=0,this.len=t.length}var a,f="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new o(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new o(t);throw Error("illegal buffer")};function h(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}o.create=i.Buffer?function(t){return(o.create=function(t){return i.Buffer.isBuffer(t)?new(void 0)(t):f(t)})(t)}:f,o.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,o.prototype.uint32=(a=4294967295,function(){if(a=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return a;if((this.pos+=5)>this.len)throw this.pos=this.len,n(this,10);return a}),o.prototype.int32=function(){return 0|this.uint32()},o.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},o.prototype.bool=function(){return 0!==this.uint32()},o.prototype.fixed32=function(){if(this.pos+4>this.len)throw n(this,4);return h(this.buf,this.pos+=4)},o.prototype.sfixed32=function(){if(this.pos+4>this.len)throw n(this,4);return 0|h(this.buf,this.pos+=4)},o.prototype.float=function(){if(this.pos+4>this.len)throw n(this,4);var t=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},o.prototype.double=function(){if(this.pos+8>this.len)throw n(this,4);var t=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},o.prototype.bytes=function(){var t=this.uint32(),e=this.pos,r=this.pos+t;if(r>this.len)throw n(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,r):e===r?new this.buf.constructor(0):this._slice.call(this.buf,e,r)},o.prototype.string=function(){var t=this.bytes();return s.read(t,0,t.length)},o.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw n(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw n(this)}while(128&this.buf[this.pos++]);return this},o.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this}},function(t,e,r){"use strict";t.exports=function(t){var e=n.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(t){return t.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&e("if((t&7)===4)")("break");e("switch(t>>>3){");for(var r=0;r<t.fieldsArray.length;++r){var a=t._fieldsArray[r].resolve(),f=a.resolvedType instanceof i?"int32":a.type,h="m"+n.safeProp(a.name);e("case %i:",a.id),a.map?(e("r.skip().pos++")("if(%s===util.emptyObject)",h)("%s={}",h)("k=r.%s()",a.keyType)("r.pos++"),void 0!==s.long[a.keyType]?void 0===s.basic[f]?e(\'%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())\',h,r):e(\'%s[typeof k==="object"?util.longToHash(k):k]=r.%s()\',h,f):void 0===s.basic[f]?e("%s[k]=types[%i].decode(r,r.uint32())",h,r):e("%s[k]=r.%s()",h,f)):a.repeated?(e("if(!(%s&&%s.length))",h,h)("%s=[]",h),void 0!==s.packed[f]&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",h,f)("}else"),void 0===s.basic[f]?e(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",h,r):e("%s.push(r.%s())",h,f)):void 0===s.basic[f]?e(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",h,r):e("%s=r.%s()",h,f),e("break")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<t._fieldsArray.length;++r){var l=t._fieldsArray[r];l.required&&e("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",o(l))}return e("return m")};var i=r(3),s=r(5),n=r(0);function o(t){return"missing required \'"+t.name+"\'"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={nested:{com:{nested:{opensource:{nested:{svga:{options:{objc_class_prefix:"SVGAProto",java_package:"com.opensource.svgaplayer"},nested:{MovieParams:{fields:{viewBoxWidth:{type:"float",id:1},viewBoxHeight:{type:"float",id:2},fps:{type:"int32",id:3},frames:{type:"int32",id:4}}},SpriteEntity:{fields:{imageKey:{type:"string",id:1},frames:{rule:"repeated",type:"FrameEntity",id:2}}},Layout:{fields:{x:{type:"float",id:1},y:{type:"float",id:2},width:{type:"float",id:3},height:{type:"float",id:4}}},Transform:{fields:{a:{type:"float",id:1},b:{type:"float",id:2},c:{type:"float",id:3},d:{type:"float",id:4},tx:{type:"float",id:5},ty:{type:"float",id:6}}},ShapeEntity:{oneofs:{args:{oneof:["shape","rect","ellipse"]}},fields:{type:{type:"ShapeType",id:1},shape:{type:"ShapeArgs",id:2},rect:{type:"RectArgs",id:3},ellipse:{type:"EllipseArgs",id:4},styles:{type:"ShapeStyle",id:10},transform:{type:"Transform",id:11}},nested:{ShapeType:{values:{SHAPE:0,RECT:1,ELLIPSE:2,KEEP:3}},ShapeArgs:{fields:{d:{type:"string",id:1}}},RectArgs:{fields:{x:{type:"float",id:1},y:{type:"float",id:2},width:{type:"float",id:3},height:{type:"float",id:4},cornerRadius:{type:"float",id:5}}},EllipseArgs:{fields:{x:{type:"float",id:1},y:{type:"float",id:2},radiusX:{type:"float",id:3},radiusY:{type:"float",id:4}}},ShapeStyle:{fields:{fill:{type:"RGBAColor",id:1},stroke:{type:"RGBAColor",id:2},strokeWidth:{type:"float",id:3},lineCap:{type:"LineCap",id:4},lineJoin:{type:"LineJoin",id:5},miterLimit:{type:"float",id:6},lineDashI:{type:"float",id:7},lineDashII:{type:"float",id:8},lineDashIII:{type:"float",id:9}},nested:{RGBAColor:{fields:{r:{type:"float",id:1},g:{type:"float",id:2},b:{type:"float",id:3},a:{type:"float",id:4}}},LineCap:{values:{LineCap_BUTT:0,LineCap_ROUND:1,LineCap_SQUARE:2}},LineJoin:{values:{LineJoin_MITER:0,LineJoin_ROUND:1,LineJoin_BEVEL:2}}}}}},FrameEntity:{fields:{alpha:{type:"float",id:1},layout:{type:"Layout",id:2},transform:{type:"Transform",id:3},clipPath:{type:"string",id:4},shapes:{rule:"repeated",type:"ShapeEntity",id:5}}},MovieEntity:{fields:{version:{type:"string",id:1},params:{type:"MovieParams",id:2},images:{keyType:"string",type:"bytes",id:3},sprites:{rule:"repeated",type:"SpriteEntity",id:4}}}}}}}}}}}},function(t,e){\n/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */\n(function(){"use strict";var t=void 0,e=this;function r(r,i){var s,n=r.split("."),o=e;!(n[0]in o)&&o.execScript&&o.execScript("var "+n[0]);for(;n.length&&(s=n.shift());)n.length||i===t?o=o[s]?o[s]:o[s]={}:o[s]=i}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function s(t){var e,r,s,n,o,a,f,h,l,u,p=t.length,d=0,c=Number.POSITIVE_INFINITY;for(h=0;h<p;++h)t[h]>d&&(d=t[h]),t[h]<c&&(c=t[h]);for(e=1<<d,r=new(i?Uint32Array:Array)(e),s=1,n=0,o=2;s<=d;){for(h=0;h<p;++h)if(t[h]===s){for(a=0,f=n,l=0;l<s;++l)a=a<<1|1&f,f>>=1;for(u=s<<16|h,l=a;l<e;l+=o)r[l]=u;++n}++s,n<<=1,o<<=1}return[r,d,c]}function n(t,e){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=i?new Uint8Array(t):t,this.m=!1,this.i=a,this.r=!1,!e&&(e={})||(e.index&&(this.a=e.index),e.bufferSize&&(this.h=e.bufferSize),e.bufferType&&(this.i=e.bufferType),e.resize&&(this.r=e.resize)),this.i){case o:this.b=32768,this.c=new(i?Uint8Array:Array)(32768+this.h+258);break;case a:this.b=0,this.c=new(i?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var o=0,a=1,f={t:o,s:a};n.prototype.k=function(){for(;!this.m;){var e=S(this,3);switch(1&e&&(this.m=!0),e>>>=1){case 0:var r=this.input,n=this.a,f=this.c,h=this.b,l=r.length,u=t,d=f.length,c=t;if(this.d=this.f=0,n+1>=l)throw Error("invalid uncompressed block header: LEN");if(u=r[n++]|r[n++]<<8,n+1>=l)throw Error("invalid uncompressed block header: NLEN");if(u===~(r[n++]|r[n++]<<8))throw Error("invalid uncompressed block header: length verify");if(n+u>r.length)throw Error("input buffer is broken");switch(this.i){case o:for(;h+u>f.length;){if(u-=c=d-h,i)f.set(r.subarray(n,n+c),h),h+=c,n+=c;else for(;c--;)f[h++]=r[n++];this.b=h,f=this.e(),h=this.b}break;case a:for(;h+u>f.length;)f=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(i)f.set(r.subarray(n,n+u),h),h+=u,n+=u;else for(;u--;)f[h++]=r[n++];this.a=n,this.b=h,this.c=f;break;case 1:this.j(_,x);break;case 2:var y,v,m,b,g=S(this,5)+257,A=S(this,5)+1,w=S(this,4)+4,k=new(i?Uint8Array:Array)(p.length),O=t,E=t,T=t,N=t,I=t;for(I=0;I<w;++I)k[p[I]]=S(this,3);if(!i)for(I=w,w=k.length;I<w;++I)k[p[I]]=0;for(y=s(k),O=new(i?Uint8Array:Array)(g+A),I=0,b=g+A;I<b;)switch(E=j(this,y),E){case 16:for(N=3+S(this,2);N--;)O[I++]=T;break;case 17:for(N=3+S(this,3);N--;)O[I++]=0;T=0;break;case 18:for(N=11+S(this,7);N--;)O[I++]=0;T=0;break;default:T=O[I++]=E}v=s(i?O.subarray(0,g):O.slice(0,g)),m=s(i?O.subarray(g):O.slice(g)),this.j(v,m);break;default:throw Error("unknown BTYPE: "+e)}}return this.n()};var h,l,u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=i?new Uint16Array(u):u,d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],c=i?new Uint16Array(d):d,y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],v=i?new Uint8Array(y):y,m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],b=i?new Uint16Array(m):m,g=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=i?new Uint8Array(g):g,w=new(i?Uint8Array:Array)(288);for(h=0,l=w.length;h<l;++h)w[h]=143>=h?8:255>=h?9:279>=h?7:8;var k,O,_=s(w),E=new(i?Uint8Array:Array)(30);for(k=0,O=E.length;k<O;++k)E[k]=5;var x=s(E);function S(t,e){for(var r,i=t.f,s=t.d,n=t.input,o=t.a,a=n.length;s<e;){if(o>=a)throw Error("input buffer is broken");i|=n[o++]<<s,s+=8}return r=i&(1<<e)-1,t.f=i>>>e,t.d=s-e,t.a=o,r}function j(t,e){for(var r,i,s=t.f,n=t.d,o=t.input,a=t.a,f=o.length,h=e[0],l=e[1];n<l&&!(a>=f);)s|=o[a++]<<n,n+=8;if((i=(r=h[s&(1<<l)-1])>>>16)>n)throw Error("invalid code length: "+i);return t.f=s>>i,t.d=n-i,t.a=a,65535&r}function T(t,e){var r,i;switch(this.input=t,this.a=0,!e&&(e={})||(e.index&&(this.a=e.index),e.verify&&(this.A=e.verify)),r=t[this.a++],i=t[this.a++],15&r){case N:this.method=N;break;default:throw Error("unsupported compression method")}if(0!=((r<<8)+i)%31)throw Error("invalid fcheck flag:"+((r<<8)+i)%31);if(32&i)throw Error("fdict flag is not supported");this.q=new n(t,{index:this.a,bufferSize:e.bufferSize,bufferType:e.bufferType,resize:e.resize})}n.prototype.j=function(t,e){var r=this.c,i=this.b;this.o=t;for(var s,n,o,a,f=r.length-258;256!==(s=j(this,t));)if(256>s)i>=f&&(this.b=i,r=this.e(),i=this.b),r[i++]=s;else for(a=c[n=s-257],0<v[n]&&(a+=S(this,v[n])),s=j(this,e),o=b[s],0<A[s]&&(o+=S(this,A[s])),i>=f&&(this.b=i,r=this.e(),i=this.b);a--;)r[i]=r[i++-o];for(;8<=this.d;)this.d-=8,this.a--;this.b=i},n.prototype.w=function(t,e){var r=this.c,i=this.b;this.o=t;for(var s,n,o,a,f=r.length;256!==(s=j(this,t));)if(256>s)i>=f&&(f=(r=this.e()).length),r[i++]=s;else for(a=c[n=s-257],0<v[n]&&(a+=S(this,v[n])),s=j(this,e),o=b[s],0<A[s]&&(o+=S(this,A[s])),i+a>f&&(f=(r=this.e()).length);a--;)r[i]=r[i++-o];for(;8<=this.d;)this.d-=8,this.a--;this.b=i},n.prototype.e=function(){var t,e,r=new(i?Uint8Array:Array)(this.b-32768),s=this.b-32768,n=this.c;if(i)r.set(n.subarray(32768,r.length));else for(t=0,e=r.length;t<e;++t)r[t]=n[t+32768];if(this.g.push(r),this.l+=r.length,i)n.set(n.subarray(s,s+32768));else for(t=0;32768>t;++t)n[t]=n[s+t];return this.b=32768,n},n.prototype.z=function(t){var e,r,s,n=this.input.length/this.a+1|0,o=this.input,a=this.c;return t&&("number"==typeof t.p&&(n=t.p),"number"==typeof t.u&&(n+=t.u)),2>n?r=(s=(o.length-this.a)/this.o[2]/2*258|0)<a.length?a.length+s:a.length<<1:r=a.length*n,i?(e=new Uint8Array(r)).set(a):e=a,this.c=e},n.prototype.n=function(){var t,e,r,s,n,o=0,a=this.c,f=this.g,h=new(i?Uint8Array:Array)(this.l+(this.b-32768));if(0===f.length)return i?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(e=0,r=f.length;e<r;++e)for(s=0,n=(t=f[e]).length;s<n;++s)h[o++]=t[s];for(e=32768,r=this.b;e<r;++e)h[o++]=a[e];return this.g=[],this.buffer=h},n.prototype.v=function(){var t,e=this.b;return i?this.r?(t=new Uint8Array(e)).set(this.c.subarray(0,e)):t=this.c.subarray(0,e):(this.c.length>e&&(this.c.length=e),t=this.c),this.buffer=t},T.prototype.k=function(){var t,e,r=this.input;if(t=this.q.k(),this.a=this.q.a,this.A){e=(r[this.a++]<<24|r[this.a++]<<16|r[this.a++]<<8|r[this.a++])>>>0;var i=t;if("string"==typeof i){var s,n,o=i.split("");for(s=0,n=o.length;s<n;s++)o[s]=(255&o[s].charCodeAt(0))>>>0;i=o}for(var a,f=1,h=0,l=i.length,u=0;0<l;){l-=a=1024<l?1024:l;do{h+=f+=i[u++]}while(--a);f%=65521,h%=65521}if(e!==(h<<16|f)>>>0)throw Error("invalid adler-32 checksum")}return t};var N=8;r("Zlib.Inflate",T),r("Zlib.Inflate.prototype.decompress",T.prototype.k);var I,B,F,D,M={ADAPTIVE:f.s,BLOCK:f.t};if(Object.keys)I=Object.keys(M);else for(B in I=[],F=0,M)I[F++]=B;for(F=0,D=I.length;F<D;++F)r("Zlib.Inflate.BufferType."+(B=I[F]),M[B])}).call(this)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=[],r=0;r<t.length;r+=32768)e.push(String.fromCharCode.apply(null,t.subarray(r,r+32768)));return e.join("")}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(27),s=function(t,e){this.videoSize={width:0,height:0},this.images={},this.dynamicElements={},this.sprites=[],this.version=t.version,this.videoSize.width=t.params.viewBoxWidth||0,this.videoSize.height=t.params.viewBoxHeight||0,this.FPS=t.params.fps||20,this.frames=t.params.frames||0,t.sprites instanceof Array&&(this.sprites=t.sprites.map(function(t){return new i.default(t)})),e&&(this.images=e)};e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(28),s=function(t){this.frames=[],this.imageKey=t.imageKey,t.frames&&(this.frames=t.frames.map(function(t){return new i.default(t)}))};e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(29),s=function(t,e,r,i,s,n){return{a:t,b:e,c:r,d:i,tx:s,ty:n}},n=function(t,e,r,i){return{x:t,y:e,width:r,height:i}},o=function(){function t(e){this.alpha=0,this.transform=s(1,0,0,1,0,0),this.nx=0,this.ny=0,this.layout=n(0,0,0,0),this.shapes=[],this.alpha=parseFloat(e.alpha)||0,e.layout&&(this.layout=n(parseFloat(e.layout.x)||0,parseFloat(e.layout.y)||0,parseFloat(e.layout.width)||0,parseFloat(e.layout.height)||0)),e.transform&&(this.transform=s(parseFloat(e.transform.a)||1,parseFloat(e.transform.b)||0,parseFloat(e.transform.c)||0,parseFloat(e.transform.d)||1,parseFloat(e.transform.tx)||0,parseFloat(e.transform.ty)||0)),e.clipPath&&e.clipPath.length>0&&(this.maskPath=new i.default(e.clipPath,void 0,{fill:"#000000"})),e.shapes&&(e.shapes instanceof Array&&e.shapes.forEach(function(t){switch(t.pathArgs=t.args,t.type){case 0:t.type="shape",t.pathArgs=t.shape;break;case 1:t.type="rect",t.pathArgs=t.rect;break;case 2:t.type="ellipse",t.pathArgs=t.ellipse;break;case 3:t.type="keep"}if(t.styles){t.styles.fill&&("number"==typeof t.styles.fill.r&&(t.styles.fill[0]=t.styles.fill.r),"number"==typeof t.styles.fill.g&&(t.styles.fill[1]=t.styles.fill.g),"number"==typeof t.styles.fill.b&&(t.styles.fill[2]=t.styles.fill.b),"number"==typeof t.styles.fill.a&&(t.styles.fill[3]=t.styles.fill.a)),t.styles.stroke&&("number"==typeof t.styles.stroke.r&&(t.styles.stroke[0]=t.styles.stroke.r),"number"==typeof t.styles.stroke.g&&(t.styles.stroke[1]=t.styles.stroke.g),"number"==typeof t.styles.stroke.b&&(t.styles.stroke[2]=t.styles.stroke.b),"number"==typeof t.styles.stroke.a&&(t.styles.stroke[3]=t.styles.stroke.a));var e=t.styles.lineDash||[];switch(t.styles.lineDashI>0&&e.push(t.styles.lineDashI),t.styles.lineDashII>0&&(e.length<1&&e.push(0),e.push(t.styles.lineDashII),e.push(0)),t.styles.lineDashIII>0&&(e.length<2&&(e.push(0),e.push(0)),e[2]=t.styles.lineDashIII),t.styles.lineDash=e,t.styles.lineJoin){case 0:t.styles.lineJoin="miter";break;case 1:t.styles.lineJoin="round";break;case 2:t.styles.lineJoin="bevel"}switch(t.styles.lineCap){case 0:t.styles.lineCap="butt";break;case 1:t.styles.lineCap="round";break;case 2:t.styles.lineCap="square"}}}),e.shapes[0]&&"keep"===e.shapes[0].type?this.shapes=t.lastShapes:(t.lastShapes=e.shapes,this.shapes=e.shapes));var r=this.transform.a*this.layout.x+this.transform.c*this.layout.y+this.transform.tx,o=this.transform.a*(this.layout.x+this.layout.width)+this.transform.c*this.layout.y+this.transform.tx,a=this.transform.a*this.layout.x+this.transform.c*(this.layout.y+this.layout.height)+this.transform.tx,f=this.transform.a*(this.layout.x+this.layout.width)+this.transform.c*(this.layout.y+this.layout.height)+this.transform.tx,h=this.transform.b*this.layout.x+this.transform.d*this.layout.y+this.transform.ty,l=this.transform.b*(this.layout.x+this.layout.width)+this.transform.d*this.layout.y+this.transform.ty,u=this.transform.b*this.layout.x+this.transform.d*(this.layout.y+this.layout.height)+this.transform.ty,p=this.transform.b*(this.layout.x+this.layout.width)+this.transform.d*(this.layout.y+this.layout.height)+this.transform.ty;this.nx=Math.min(Math.min(a,f),Math.min(r,o)),this.ny=Math.min(Math.min(u,p),Math.min(h,l))}return t.lastShapes="",t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,r){this._d=t,this._transform=e,this._styles=r};e.default=i}]);',Parser=function(){function Parser(_a){var disableWorker=(void 0===_a?{disableWorker:!1}:_a).disableWorker;disableWorker?(eval(WORKER),this.worker=window.SVGAParserMockWorker):this.worker=new Worker(window.URL.createObjectURL(new Blob([WORKER])))}return Parser.prototype.do=function(t){var e=this,r=new Uint8Array(t,0,4);if(80==r[0]&&75==r[1]&&3==r[2]&&4==r[3])throw"this parser not support version@1.x of svga.";if(!t)throw new Error("Parser Data not found");if(!this.worker)throw new Error("Parser Worker not found");return new Promise((function(r,i){var n;e.worker.disableWorker?((n=e.worker).onmessageCallback=function(t){r(t)},n.onmessage({data:t})):((n=e.worker).postMessage(t),n.onmessage=function(t){var e=t.data;r(e)})}))},Parser.prototype.destroy=function(){var t=this.worker;t.terminate&&t.terminate()},Parser}();exports.default=Parser},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i,n,o,a=r(5),s=r(9);!function(t){t.START="start",t.PROCESS="process",t.PAUSE="pause",t.STOP="stop",t.END="end",t.CLEAR="clear"}(i||(i={})),function(t){t.FORWARDS="forwards",t.BACKWARDS="backwards"}(n||(n={})),function(t){t.FORWARDS="forwards",t.FALLBACKS="fallbacks"}(o||(o={}));var l=function(){function t(t,e,r){if(this.videoItem=e,this.loop=!0,this.fillMode=n.FORWARDS,this.playMode=o.FORWARDS,this.progress=0,this.currentFrame=0,this.totalFramesCount=0,this.startFrame=0,this.endFrame=0,this.cacheFrames=!1,this.intersectionObserverRender=!1,this.intersectionObserverRenderShow=!0,this._intersectionObserver=null,this.$onEvent={start:function(){},process:function(){},pause:function(){},stop:function(){},end:function(){},clear:function(){}},this.container="string"==typeof t?document.body.querySelector(t):t,!this.container)throw new Error("container undefined.");if(!this.container.getContext)throw new Error("container should be HTMLCanvasElement.");this._renderer=new a.default(this),this._animator=new s.default,this.videoItem&&this.mount(e),r&&this.set(r)}return t.prototype.set=function(t){var e=this;void 0!==t.loop&&(this.loop=t.loop),t.fillMode&&(this.fillMode=t.fillMode),t.playMode&&(this.playMode=t.playMode),void 0!==t.cacheFrames&&(this.cacheFrames=t.cacheFrames),this.startFrame=t.startFrame?t.startFrame:this.startFrame,this.endFrame=t.endFrame?t.endFrame:this.endFrame,void 0!==t.intersectionObserverRender&&(this.intersectionObserverRender=t.intersectionObserverRender),IntersectionObserver&&this.intersectionObserverRender?(this._intersectionObserver=new IntersectionObserver((function(t){t[0].intersectionRatio<=0?e.intersectionObserverRenderShow&&(e.intersectionObserverRenderShow=!1):!e.intersectionObserverRenderShow&&(e.intersectionObserverRenderShow=!0)}),{rootMargin:"0px",threshold:[0,.5,1]}),this._intersectionObserver.observe(this.container)):(this._intersectionObserver&&this._intersectionObserver.disconnect(),this.intersectionObserverRender=!1,this.intersectionObserverRenderShow=!0),this._animator.noExecutionDelay=t.noExecutionDelay},t.prototype.mount=function(t){var e=this;return new Promise((function(r,i){e.currentFrame=0,e.progress=0,e.totalFramesCount=t.frames-1,e.videoItem=t,e._renderer.prepare().then(r),e._renderer.clear(),e._setSize()}))},t.prototype.start=function(){if(!this.videoItem)throw new Error("video item undefined.");this._renderer.clear(),this._startAnimation(),this.$onEvent.start()},t.prototype.pause=function(){this._animator&&this._animator.stop(),this.$onEvent.pause()},t.prototype.stop=function(){this._animator&&this._animator.stop(),this.currentFrame=0,this._renderer.drawFrame(this.currentFrame),this.$onEvent.stop()},t.prototype.clear=function(){this._animator&&this._animator.stop(),this._renderer.clear(),this.$onEvent.clear()},t.prototype.destroy=function(){this._animator&&this._animator.stop(),this._renderer.clear(),this._animator=null,this._renderer=null,this.videoItem=null},t.prototype.$on=function(t,e){var r=this;return this.$onEvent[t]=e,"end"===t&&(this._animator.onEnd=function(){return r.$onEvent.end()}),this},t.prototype._startAnimation=function(){var t=this,e=this,r=e.playMode,i=e.totalFramesCount,n=e.startFrame,o=e.endFrame,a=e.videoItem;this.currentFrame===i&&(this.currentFrame=n||0),this._animator.startValue="fallbacks"===r?o||i:n||0,this._animator.endValue="fallbacks"===r?n||0:o||i;var s=a.frames;o>0&&o>n?s=o-n:o<=0&&n>0&&(s=a.frames-n),this._animator.duration=s*(1/a.FPS)*1e3,this._animator.loop=!0===this.loop||this.loop<=0?1/0:!1===this.loop?1:this.loop,this._animator.fillRule="backwards"===this.fillMode?1:0,this._animator.onUpdate=function(e){e=Math.floor(e),t.currentFrame!==e&&(t.currentFrame=e,t.progress=parseFloat((e+1).toString())/parseFloat(a.frames.toString())*100,t._renderer.drawFrame(t.currentFrame),t.$onEvent.process())},this._animator.start(this.currentFrame)},t.prototype._setSize=function(){var t=this.videoItem.videoSize;this.container.width=t.width,this.container.height=t.height},t}();e.default=l},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=r(6),n=function(){function t(t){this._bitmapCache={},this._dynamicElements={},this._frames={},this._player=t;var e=this._player.container;this._ofsCanvas=window.OffscreenCanvas?new window.OffscreenCanvas(e.width,e.height):document.createElement("canvas")}return t.prototype.prepare=function(){var t=this;return new Promise((function(e,r){if(t._bitmapCache={},t._player.videoItem.images&&0!=Object.keys(t._player.videoItem.images).length){t._player.videoItem.dynamicElements&&(t._dynamicElements=t._player.videoItem.dynamicElements);var i=0,n=0;for(var o in t._player.videoItem.images){var a=t._player.videoItem.images[o];if("string"!=typeof a||0!==a.indexOf("iVBO")&&0!==a.indexOf("/9j/2w"))t._bitmapCache[o]=a;else{i++;var s=document.createElement("img");s.src="data:image/png;base64,"+a,t._bitmapCache[o]=s,s.onload=function(){++n===i&&e()}}}}else e()}))},t.prototype.clear=function(){this._player.container.width=this._player.container.width},t.prototype.drawFrame=function(t){var e=this._player;if(!e.intersectionObserverRender||e.intersectionObserverRenderShow){this.clear();var r=e.container.getContext("2d");if(this._player.cacheFrames&&this._frames[t]){var n=this._frames[t];r.drawImage(n,0,0,n.width,n.height,0,0,n.width,n.height)}else{var o=this._ofsCanvas;if(o.width=this._player.container.width,o.height=this._player.container.height,i.default(o,this._bitmapCache,this._dynamicElements,this._player.videoItem,this._player.currentFrame),r.drawImage(o,0,0,o.width,o.height,0,0,o.width,o.height),this._player.cacheFrames)if("toDataURL"in o){var a=o.toDataURL(),s=new Image;s.src=a,this._frames[t]=s}else this._frames[t]=o.transferToImageBitmap()}}},t}();e.default=n},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(r(0)),n=a(r(7)),o=a(r(8));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var r=e._styles;void 0!==r&&(r&&r.stroke?t.strokeStyle="rgba(".concat(parseInt((255*r.stroke[0]).toString()),", ").concat(parseInt((255*r.stroke[1]).toString()),", ").concat(parseInt((255*r.stroke[2]).toString()),", ").concat(r.stroke[3],")"):t.strokeStyle="transparent",r&&(t.lineWidth=r.strokeWidth||void 0,t.lineCap=r.lineCap||void 0,t.lineJoin=r.lineJoin||void 0,t.miterLimit=r.miterLimit||void 0),r&&r.fill?t.fillStyle="rgba(".concat(parseInt((255*r.fill[0]).toString()),", ").concat(parseInt((255*r.fill[1]).toString()),", ").concat(parseInt((255*r.fill[2]).toString()),", ").concat(r.fill[3],")"):t.fillStyle="transparent",r&&r.lineDash&&t.setLineDash(r.lineDash))}function l(t,e){t.save(),s(t,e),void 0!==e._transform&&null!==e._transform&&t.transform(e._transform.a||1,e._transform.b||0,e._transform.c||0,e._transform.d||1,e._transform.tx||0,e._transform.ty||0);var r={x:0,y:0,x1:0,y1:0,x2:0,y2:0};t.beginPath(),e._d.replace(/([a-zA-Z])/g,"|||$1 ").replace(/,/g," ").split("|||").forEach((function(e){if(0!=e.length){var i=e.substr(0,1);if("MLHVCSQRZmlhvcsqrz".indexOf(i)>=0){var n=e.substr(1).trim().split(" ");!function(t,e,r,i){switch(r){case"M":e.x=Number(i[0]),e.y=Number(i[1]),t.moveTo(e.x,e.y);break;case"m":e.x+=Number(i[0]),e.y+=Number(i[1]),t.moveTo(e.x,e.y);break;case"L":e.x=Number(i[0]),e.y=Number(i[1]),t.lineTo(e.x,e.y);break;case"l":e.x+=Number(i[0]),e.y+=Number(i[1]),t.lineTo(e.x,e.y);break;case"H":e.x=Number(i[0]),t.lineTo(e.x,e.y);break;case"h":e.x+=Number(i[0]),t.lineTo(e.x,e.y);break;case"V":e.y=Number(i[0]),t.lineTo(e.x,e.y);break;case"v":e.y+=Number(i[0]),t.lineTo(e.x,e.y);break;case"C":e.x1=Number(i[0]),e.y1=Number(i[1]),e.x2=Number(i[2]),e.y2=Number(i[3]),e.x=Number(i[4]),e.y=Number(i[5]),t.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y);break;case"c":e.x1=e.x+Number(i[0]),e.y1=e.y+Number(i[1]),e.x2=e.x+Number(i[2]),e.y2=e.y+Number(i[3]),e.x+=Number(i[4]),e.y+=Number(i[5]),t.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y);break;case"S":e.x1&&e.y1&&e.x2&&e.y2?(e.x1=e.x-e.x2+e.x,e.y1=e.y-e.y2+e.y,e.x2=Number(i[0]),e.y2=Number(i[1]),e.x=Number(i[2]),e.y=Number(i[3]),t.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y)):(e.x1=Number(i[0]),e.y1=Number(i[1]),e.x=Number(i[2]),e.y=Number(i[3]),t.quadraticCurveTo(e.x1,e.y1,e.x,e.y));break;case"s":e.x1&&e.y1&&e.x2&&e.y2?(e.x1=e.x-e.x2+e.x,e.y1=e.y-e.y2+e.y,e.x2=e.x+Number(i[0]),e.y2=e.y+Number(i[1]),e.x+=Number(i[2]),e.y+=Number(i[3]),t.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y)):(e.x1=e.x+Number(i[0]),e.y1=e.y+Number(i[1]),e.x+=Number(i[2]),e.y+=Number(i[3]),t.quadraticCurveTo(e.x1,e.y1,e.x,e.y));break;case"Q":e.x1=Number(i[0]),e.y1=Number(i[1]),e.x=Number(i[2]),e.y=Number(i[3]),t.quadraticCurveTo(e.x1,e.y1,e.x,e.y);break;case"q":e.x1=e.x+Number(i[0]),e.y1=e.y+Number(i[1]),e.x+=Number(i[2]),e.y+=Number(i[3]),t.quadraticCurveTo(e.x1,e.y1,e.x,e.y);break;case"A":case"a":break;case"Z":case"z":t.closePath()}}(t,r,i,n)}}})),e._styles&&e._styles.fill?t.fill():e._styles&&e._styles.stroke&&t.stroke(),t.restore()}e.default=function(t,e,r,a,h){var u=t.getContext("2d");return a.sprites.forEach((function(t){var a=t.frames[h];if(!(a.alpha<.05)){u.save(),u.globalAlpha=a.alpha,u.transform(a.transform.a||1,a.transform.b||0,a.transform.c||0,a.transform.d||1,a.transform.tx||0,a.transform.ty||0);var c=e[t.imageKey];c&&(void 0!==a.maskPath&&null!==a.maskPath&&(a.maskPath._styles=void 0,l(u,a.maskPath),u.clip()),u.drawImage(c,0,0));var p=r[t.imageKey];p&&u.drawImage(p,(a.layout.width-p.width)/2,(a.layout.height-p.height)/2),a.shapes&&a.shapes.forEach((function(t){"shape"===t.type&&t.pathArgs&&t.pathArgs.d?l(u,new i.default(t.pathArgs.d,t.transform,t.styles)):"ellipse"===t.type&&t.pathArgs?function(t,e){t.save(),s(t,e),void 0!==e._transform&&null!==e._transform&&t.transform(e._transform.a||1,e._transform.b||0,e._transform.c||0,e._transform.d||1,e._transform.tx||0,e._transform.ty||0);var r=e._x-e._radiusX,i=e._y-e._radiusY,n=2*e._radiusX,o=2*e._radiusY,a=n/2*.5522848,l=o/2*.5522848,h=r+n,u=i+o,c=r+n/2,p=i+o/2;t.beginPath(),t.moveTo(r,p),t.bezierCurveTo(r,p-l,c-a,i,c,i),t.bezierCurveTo(c+a,i,h,p-l,h,p),t.bezierCurveTo(h,p+l,c+a,u,c,u),t.bezierCurveTo(c-a,u,r,p+l,r,p),e._styles&&e._styles.fill?t.fill():e._styles&&e._styles.stroke&&t.stroke(),t.restore()}(u,new n.default(parseFloat(t.pathArgs.x)||0,parseFloat(t.pathArgs.y)||0,parseFloat(t.pathArgs.radiusX)||0,parseFloat(t.pathArgs.radiusY)||0,t.transform,t.styles)):"rect"===t.type&&t.pathArgs&&function(t,e){t.save(),s(t,e),void 0!==e._transform&&null!==e._transform&&t.transform(e._transform.a||1,e._transform.b||0,e._transform.c||0,e._transform.d||1,e._transform.tx||0,e._transform.ty||0);var r=e._x,i=e._y,n=e._width,o=e._height,a=e._cornerRadius;n<2*a&&(a=n/2),o<2*a&&(a=o/2),t.beginPath(),t.moveTo(r+a,i),t.arcTo(r+n,i,r+n,i+o,a),t.arcTo(r+n,i+o,r,i+o,a),t.arcTo(r,i+o,r,i,a),t.arcTo(r,i,r+n,i,a),t.closePath(),e._styles&&e._styles.fill?t.fill():e._styles&&e._styles.stroke&&t.stroke(),t.restore()}(u,new o.default(parseFloat(t.pathArgs.x)||0,parseFloat(t.pathArgs.y)||0,parseFloat(t.pathArgs.width)||0,parseFloat(t.pathArgs.height)||0,parseFloat(t.pathArgs.cornerRadius)||0,t.transform,t.styles))})),u.restore()}})),t}},function(t,e,r){var i,n=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i,n,o,a){var s=t.call(this)||this;return s._x=e,s._y=r,s._radiusX=i,s._radiusY=n,s._transform=o,s._styles=a,s}return n(e,t),e}(r(0).default);e.default=o},function(t,e,r){var i,n=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i,n,o,a,s){var l=t.call(this)||this;return l._x=e,l._y=r,l._width=i,l._height=n,l._cornerRadius=o,l._transform=a,l._styles=s,l}return n(e,t),e}(r(0).default);e.default=o},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this._currentTimeMillsecond=function(){return"undefined"==typeof performance?(new Date).getTime():performance.now()},this.noExecutionDelay=!1,this.startValue=0,this.endValue=0,this.duration=0,this.loop=1,this.fillRule=0,this.onStart=function(){},this.onUpdate=function(){},this.onEnd=function(){},this._isRunning=!1,this._mStartTime=0,this._currentFrication=0,this._worker=null}return t.prototype.start=function(t){this.doStart(t)},t.prototype.stop=function(){this._doStop()},Object.defineProperty(t.prototype,"animatedValue",{get:function(){return(this.endValue-this.startValue)*this._currentFrication+this.startValue},enumerable:!0,configurable:!0}),t.prototype.doStart=function(t){this._isRunning=!0,this._mStartTime=this._currentTimeMillsecond(),t&&(this._mStartTime-=t/(this.endValue-this.startValue)*this.duration),this._currentFrication=0,this.noExecutionDelay&&null===this._worker&&(this._worker=new Worker(window.URL.createObjectURL(new Blob(["onmessage = function () {\n  setTimeout(function() {postMessage(null)}, 1 / 60)\n}"])))),this.onStart(),this._doFrame()},t.prototype._doStop=function(){this._isRunning=!1,null!==this._worker&&(this._worker.terminate(),this._worker=null)},t.prototype._doFrame=function(){this._isRunning&&(this._doDeltaTime(this._currentTimeMillsecond()-this._mStartTime),this._isRunning&&(this._worker?(this._worker.onmessage=this._doFrame.bind(this),this._worker.postMessage(null)):window.requestAnimationFrame(this._doFrame.bind(this))))},t.prototype._doDeltaTime=function(t){t>=this.duration*this.loop?(this._currentFrication=1===this.fillRule?0:1,this._isRunning=!1):this._currentFrication=t%this.duration/this.duration,this.onUpdate(this.animatedValue),!1===this._isRunning&&(null!==this._worker&&(this._worker.terminate(),this._worker=null),this.onEnd())},t}();e.default=i}]).default},module.exports=t()})),disableWorker=!!window.svga_parser_disable_worker,cache={},loadings={},loaderCache=[];function loadSvga(t,e,r,i){return void 0===i&&(i=!1),__awaiter(this,void 0,void 0,(function(){var n,o,a,s,l,h,u,c,p,f;return __generator(this,(function(d){switch(d.label){case 0:return n=[],"string"!=typeof t?[3,2]:(a=(o=n).push,[4,loadSvgaOnce(t).then((function(t){try{e&&e(1,1),r&&r()}catch(t){console.warn(t)}return t}))]);case 1:return a.apply(o,[d.sent()]),[3,8];case 2:return s=t.length,l=0,i?[4,Promise.all(t.map((function(t){return loadSvgaOnce(t).then((function(t){try{l++,e&&e(l,s),l>=s&&r&&r()}catch(t){console.warn(t)}return t}))})))]:[3,4];case 3:return n=d.sent(),[3,8];case 4:h=0,u=t,d.label=5;case 5:return h<u.length?(c=u[h],f=(p=n).push,[4,loadSvgaOnce(c).then((function(t){try{l++,e&&e(l,s),l>=s&&r&&r()}catch(t){console.warn(t)}return t}))]):[3,8];case 6:f.apply(p,[d.sent()]),d.label=7;case 7:return h++,[3,5];case 8:return[2,n]}}))}))}function loadSvgaOnce(t){return __awaiter(this,void 0,void 0,(function(){var e,r,i,n;return __generator(this,(function(o){switch(o.label){case 0:return(e=cache[t])?[3,3]:(r=loadings[t])?[3,2]:(r=loadings[t]=[],[4,doLoadSvga(t)]);case 1:for(e=o.sent(),cache[t]=e,delete loadings[t],i=0,n=r;i<n.length;i++)(0,n[i].resolve)(e);return[3,3];case 2:return[2,new Promise((function(t,e){r.push({resolve:t,reject:e})}))];case 3:return[2,e]}}))}))}function doLoadSvga(t){return __awaiter(this,void 0,void 0,(function(){var e,r,i,n,o,a,s,l,h,u,c;return __generator(this,(function(p){switch(p.label){case 0:return e=loaderCache.length>0?loaderCache.pop():{downloader:new svga_lite_min.Downloader,parser:new svga_lite_min.Parser({disableWorker:disableWorker})},r=e.downloader,i=e.parser,[4,r.get(t)];case 1:return n=p.sent(),[4,i.do(n)];case 2:for(o=p.sent(),a=0,s=o.sprites;a<s.length;a++)for(l=s[a].frames,h=0,u=l;h<u.length;h++)(c=u[h].transform)._tx=c.tx,c._ty=c.ty;return loaderCache.push(e),[2,o]}}))}))}function Svga(t,e){var r=t.src,i=t.autoPlay,n=void 0===i||i,o=t.preview,a=void 0===o||o,s=t.loop,l=void 0===s?0:s,h=t.playMode,u=void 0===h?"forwards":h,c=t.fillMode,p=void 0===c?"forwards":c,f=t.startFrame,d=void 0===f?1:f,m=t.endFrame,v=void 0===m?0:m,y=t.className,g=t.style,_=t.onGotPlayer,b=t.onVideoDidMount,x=t.onError,w=t.onStart,T=t.onPause,E=t.onStop,S=t.onEnd,M=t.onClear,A=t.onProcess,C=t.onClick,P=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),k=P[0],O=P[1],I=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),D=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1);function R(t){var e=t||k;e&&e.set({loop:l,playMode:u,fillMode:p,startFrame:d,endFrame:v}),D.current&&e&&e.videoItem&&(e.pause(),e.start())}function F(){return __awaiter(this,void 0,void 0,(function(){var t,e,i,o;return __generator(this,(function(s){switch(s.label){case 0:k?t=k:(t=new svga_lite_min.Player(I.current),O(t),t.$on("start",(function(){D.current=!0,w&&w()})).$on("pause",(function(){D.current=!1,T&&T()})).$on("stop",(function(){D.current=!1,E&&E()})).$on("end",(function(){D.current=!1,S&&S()})).$on("clear",(function(){D.current=!1,M&&M()})).$on("process",(function(){A&&A(t.currentFrame,t.progress)}))),_&&_(t),s.label=1;case 1:return s.trys.push([1,4,,5]),t.clear(),R(t),[4,loadSvgaOnce(r)];case 2:return e=s.sent(),i=JSON.parse(JSON.stringify(e)),[4,t.mount(i)];case 3:return s.sent(),b&&b(t),n?t.start():a&&t._renderer.drawFrame(d),[3,5];case 4:return o=s.sent(),console.error(o),x&&x(o),[3,5];case 5:return[2]}}))}))}return Object(react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(e,(function(){return{getPlayer:function(){return k},start:function(){k&&k.videoItem&&k.start()},pause:function(){k&&k.videoItem&&k.pause()},stop:function(){k&&k.videoItem&&k.stop()},clear:function(){k&&k.videoItem&&k.clear()},reset:function(){F()},replaceImage:function(t,e){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(i){switch(i.label){case 0:return k&&k.videoItem?(r=void 0,"string"!=typeof e?[3,2]:[4,Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.c)(e)]):[3,4];case 1:return r=i.sent(),[3,3];case 2:r=e,i.label=3;case 3:return k._renderer._bitmapCache[t]=r,[2,r];case 4:return[2]}}))}))},addImage:function(t,e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a,s,l,h,u,c,p,f,d;return __generator(this,(function(m){switch(m.label){case 0:return k&&k.videoItem?((i=k.videoItem).sprites.forEach((function(r,i){r.imageKey===t&&(n=r,a=i),r.imageKey===e&&(o=r)})),n?o?(console.warn("节点["+e+"]已存在"),[3,3]):[3,1]:(console.warn("父节点["+t+"]不存在"),[2])):[3,3];case 1:return[4,this.replaceImage(e,r)];case 2:for(s=m.sent(),l=JSON.parse(JSON.stringify(n.frames)),h=0,u=l;h<u.length;h++)c=u[h],p=c.layout,f=c.transform,p.width=s.width,p.height=s.height,f._tx=f.tx,f._ty=f.ty;d={imageKey:e,frames:l},i.sprites.splice(a+1,0,d),m.label=3;case 3:return[2]}}))}))},removeImage:function(t){if(k&&k.videoItem){var e,r=k.videoItem;r.sprites.forEach((function(i,n){i.imageKey===t&&(e=i,r.sprites.splice(n,1))})),e||console.warn("节点["+t+"]不存在")}},setImageProps:function(t,e){if(void 0===e&&(e={}),k&&k.videoItem){var r;if(k.videoItem.sprites.forEach((function(e,i){e.imageKey===t&&(r=e)})),!r)return void console.warn("节点["+t+"]不存在");for(var i=e.offX,n=e.offY,o=e.alpha,a=e.visible,s=0,l=r.frames;s<l.length;s++){var h=l[s];void 0!==a&&(h.visible=a),void 0!==o&&(h.alpha=o);var u=h.transform;void 0!==i&&(u.tx=u._tx+i),void 0!==n&&(u.ty=u._ty+n)}}}}})),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){return function(){k&&k.clear()}}),[k]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){F()}),[r]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){R()}),[l,u,p,d,v]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var t=k;D.current&&t&&t.videoItem&&(t.pause(),t.start())}),[u,p]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("canvas",{className:y,style:g,ref:I,onClick:function(t){C&&C(t)}})}var SvgaPlayer=Object(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(Svga)},"G+3J":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,r){this.type=t,this.target=e,this.detail=r,this.timeStamp=+new Date},n=function(){function t(){this._listeners={}}return t.prototype.on=function(t,e,r,i){for(var n,o=(n=this._listeners=this._listeners||{})[t]=n[t]||[],a=0,s=o.length;a<s;a++)if(o[a].listener===e)return;return o.push({listener:e,context:r,once:i}),this},t.prototype.off=function(t,e){var r;if(r=this._listeners=this._listeners||{},0==arguments.length)return r=null,this;var i=r&&r[t];if(i){if(1==arguments.length)return delete r[t],this;for(var n=0,o=i.length;n<o;n++){var a=i[n];if(a.listener===e){i.splice(n,1),0===i.length&&delete r[t];break}}}return this},t.prototype.fire=function(t,e){var r,n;"string"==typeof t?n=t:(r=t,n=t.type);var o=this._listeners;if(!o)return!1;var a=o[n];if(a){var s=a.slice(0);r=r||new i(n,this,e);for(var l=0;l<s.length;l++){var h=s[l];if(h.listener.call(h.context,r),h.once){var u=a.indexOf(h);u>-1&&a.splice(u,1)}}return 0==a.length&&delete o[n],!0}return!1},t}(),o=new n;e.EventCenterClass=n,e.default=o},GRuw:function(t,e,r){var i,n,o,a,s,l;t.exports=(l=r("Ib8C"),r("lPiR"),n=(i=l).lib.WordArray,o=i.algo,a=o.SHA256,s=o.SHA224=a.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=4,t}}),i.SHA224=a._createHelper(s),i.HmacSHA224=a._createHmacHelper(s),l.SHA224)},HlzF:function(t,e,r){(function(r){var i;
/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */!function(){"use strict";var n=function(){this.init()};n.prototype={init:function(){var t=this||o;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||o;if(t=parseFloat(t),e.ctx||f(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,o.ctx.currentTime);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var i=e._howls[r]._getSoundIds(),n=0;n<i.length;n++){var a=e._howls[r]._soundById(i[n]);a&&a._node&&(a._node.volume=a._volume*t)}return e}return e._volume},mute:function(t){var e=this||o;e.ctx||f(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,o.ctx.currentTime);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var i=e._howls[r]._getSoundIds(),n=0;n<i.length;n++){var a=e._howls[r]._soundById(i[n]);a&&a._node&&(a._node.muted=!!t||a._muted)}return e},stop:function(){for(var t=this||o,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||o,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,f()),t},codecs:function(t){return(this||o)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||o;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||o,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var r=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i=t._navigator?t._navigator.userAgent:"",n=i.match(/OPR\/([0-6].)/g),a=n&&parseInt(n[0].split("/")[1],10)<33,s=-1!==i.indexOf("Safari")&&-1===i.indexOf("Chrome"),l=i.match(/Version\/(.*?) /),h=s&&l&&parseInt(l[1],10)<15;return t._codecs={mp3:!(a||!r&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(e.canPlayType('audio/wav; codecs="1"')||e.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(e.canPlayType("audio/x-m4b;")||e.canPlayType("audio/m4b;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(h||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(h||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||o;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(r){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var i=new Audio;i._unlocked=!0,t._releaseHtml5Audio(i)}catch(r){t.noAudio=!0;break}for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),a=0;a<o.length;a++){var s=t._howls[n]._soundById(o[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}t._autoResume();var l=t.ctx.createBufferSource();l.buffer=t._scratchBuffer,l.connect(t.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),l.onended=function(){l.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0),document.removeEventListener("keydown",e,!0);for(var r=0;r<t._howls.length;r++)t._howls[r]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),document.addEventListener("keydown",e,!0),t}},_obtainHtml5Audio:function(){var t=this||o;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var e=this||o;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&o.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var r=0;r<t._howls[e]._sounds.length;r++)if(!t._howls[e]._sounds[r]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&o.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var o=new n,a=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(t){var e=this;return o.ctx||f(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=o.usingWebAudio&&!e._html5,void 0!==o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&"none"!==e._preload&&e.load(),e},load:function(){var t=null;if(o.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var e=0;e<this._src.length;e++){var r,i;if(this._format&&this._format[e])r=this._format[e];else{if("string"!=typeof(i=this._src[e])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(i))||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&o.codecs(r)){t=this._src[e];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&h(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var r=this,i=null;if("number"==typeof t)i=t,t=null;else{if("string"==typeof t&&"loaded"===r._state&&!r._sprite[t])return null;if(void 0===t&&(t="__default",!r._playLock)){for(var n=0,a=0;a<r._sounds.length;a++)r._sounds[a]._paused&&!r._sounds[a]._ended&&(n++,i=r._sounds[a]._id);1===n?t=null:i=null}}var s=i?r._soundById(i):r._inactiveSound();if(!s)return null;if(i&&!t&&(t=s._sprite||"__default"),"loaded"!==r._state){s._sprite=t,s._ended=!1;var l=s._id;return r._queue.push({event:"play",action:function(){r.play(l)}}),l}if(i&&!s._paused)return e||r._loadQueue("play"),s._id;r._webAudio&&o._autoResume();var h=Math.max(0,s._seek>0?s._seek:r._sprite[t][0]/1e3),u=Math.max(0,(r._sprite[t][0]+r._sprite[t][1])/1e3-h),c=1e3*u/Math.abs(s._rate),p=r._sprite[t][0]/1e3,f=(r._sprite[t][0]+r._sprite[t][1])/1e3;s._sprite=t,s._ended=!1;var d=function(){s._paused=!1,s._seek=h,s._start=p,s._stop=f,s._loop=!(!s._loop&&!r._sprite[t][2])};if(!(h>=f)){var m=s._node;if(r._webAudio){var v=function(){r._playLock=!1,d(),r._refreshBuffer(s);var t=s._muted||r._muted?0:s._volume;m.gain.setValueAtTime(t,o.ctx.currentTime),s._playStart=o.ctx.currentTime,void 0===m.bufferSource.start?s._loop?m.bufferSource.noteGrainOn(0,h,86400):m.bufferSource.noteGrainOn(0,h,u):s._loop?m.bufferSource.start(0,h,86400):m.bufferSource.start(0,h,u),c!==1/0&&(r._endTimers[s._id]=setTimeout(r._ended.bind(r,s),c)),e||setTimeout((function(){r._emit("play",s._id),r._loadQueue()}),0)};"running"===o.state&&"interrupted"!==o.ctx.state?v():(r._playLock=!0,r.once("resume",v),r._clearTimer(s._id))}else{var y=function(){m.currentTime=h,m.muted=s._muted||r._muted||o._muted||m.muted,m.volume=s._volume*o.volume(),m.playbackRate=s._rate;try{var i=m.play();if(i&&"undefined"!=typeof Promise&&(i instanceof Promise||"function"==typeof i.then)?(r._playLock=!0,d(),i.then((function(){r._playLock=!1,m._unlocked=!0,e?r._loadQueue():r._emit("play",s._id)})).catch((function(){r._playLock=!1,r._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):e||(r._playLock=!1,d(),r._emit("play",s._id)),m.playbackRate=s._rate,m.paused)return void r._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||s._loop?r._endTimers[s._id]=setTimeout(r._ended.bind(r,s),c):(r._endTimers[s._id]=function(){r._ended(s),m.removeEventListener("ended",r._endTimers[s._id],!1)},m.addEventListener("ended",r._endTimers[s._id],!1))}catch(t){r._emit("playerror",s._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=r._src,m.load());var g=window&&window.ejecta||!m.readyState&&o._navigator.isCocoonJS;if(m.readyState>=3||g)y();else{r._playLock=!0,r._state="loading";var _=function(){r._state="loaded",y(),m.removeEventListener(o._canPlayEvent,_,!1)};m.addEventListener(o._canPlayEvent,_,!1),r._clearTimer(s._id)}}return s._id}r._ended(s)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var r=e._getSoundIds(t),i=0;i<r.length;i++){e._clearTimer(r[i]);var n=e._soundById(r[i]);if(n&&!n._paused&&(n._seek=e.seek(r[i]),n._rateSeek=0,n._paused=!0,e._stopFade(r[i]),n._node))if(e._webAudio){if(!n._node.bufferSource)continue;void 0===n._node.bufferSource.stop?n._node.bufferSource.noteOff(0):n._node.bufferSource.stop(0),e._cleanBuffer(n._node)}else isNaN(n._node.duration)&&n._node.duration!==1/0||n._node.pause();arguments[1]||e._emit("pause",n?n._id:null)}return e},stop:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(t)}}),r;for(var i=r._getSoundIds(t),n=0;n<i.length;n++){r._clearTimer(i[n]);var o=r._soundById(i[n]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,r._stopFade(i[n]),o._node&&(r._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),r._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&r._clearSound(o._node))),e||r._emit("stop",o._id))}return r},mute:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(t,e)}}),r;if(void 0===e){if("boolean"!=typeof t)return r._muted;r._muted=t}for(var i=r._getSoundIds(e),n=0;n<i.length;n++){var a=r._soundById(i[n]);a&&(a._muted=t,a._interval&&r._stopFade(a._id),r._webAudio&&a._node?a._node.gain.setValueAtTime(t?0:a._volume,o.ctx.currentTime):a._node&&(a._node.muted=!!o._muted||t),r._emit("mute",a._id))}return r},volume:function(){var t,e,r,i=this,n=arguments;if(0===n.length)return i._volume;if(1===n.length||2===n.length&&void 0===n[1]){var a=i._getSoundIds(),s=a.indexOf(n[0]);s>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else n.length>=2&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if(!(void 0!==t&&t>=0&&t<=1))return(r=e?i._soundById(e):i._sounds[0])?r._volume:0;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,n)}}),i;void 0===e&&(i._volume=t),e=i._getSoundIds(e);for(var l=0;l<e.length;l++)(r=i._soundById(e[l]))&&(r._volume=t,n[2]||i._stopFade(e[l]),i._webAudio&&r._node&&!r._muted?r._node.gain.setValueAtTime(t,o.ctx.currentTime):r._node&&!r._muted&&(r._node.volume=t*o.volume()),i._emit("volume",r._id));return i},fade:function(t,e,r,i){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"fade",action:function(){n.fade(t,e,r,i)}}),n;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),r=parseFloat(r),n.volume(t,i);for(var a=n._getSoundIds(i),s=0;s<a.length;s++){var l=n._soundById(a[s]);if(l){if(i||n._stopFade(a[s]),n._webAudio&&!l._muted){var h=o.ctx.currentTime,u=h+r/1e3;l._volume=t,l._node.gain.setValueAtTime(t,h),l._node.gain.linearRampToValueAtTime(e,u)}n._startFadeInterval(l,t,e,r,a[s],void 0===i)}}return n},_startFadeInterval:function(t,e,r,i,n,o){var a=this,s=e,l=r-e,h=Math.abs(l/.01),u=Math.max(4,h>0?i/h:i),c=Date.now();t._fadeTo=r,t._interval=setInterval((function(){var n=(Date.now()-c)/i;c=Date.now(),s+=l*n,s=Math.round(100*s)/100,s=l<0?Math.max(r,s):Math.min(r,s),a._webAudio?t._volume=s:a.volume(s,t._id,!0),o&&(a._volume=s),(r<e&&s<=r||r>e&&s>=r)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(r,t._id),a._emit("fade",t._id))}),u)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,r,i=this,n=arguments;if(0===n.length)return i._loop;if(1===n.length){if("boolean"!=typeof n[0])return!!(r=i._soundById(parseInt(n[0],10)))&&r._loop;t=n[0],i._loop=t}else 2===n.length&&(t=n[0],e=parseInt(n[1],10));for(var o=i._getSoundIds(e),a=0;a<o.length;a++)(r=i._soundById(o[a]))&&(r._loop=t,i._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=t,t&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop,i.playing(o[a])&&(i.pause(o[a],!0),i.play(o[a],!0)))));return i},rate:function(){var t,e,r,i=this,n=arguments;if(0===n.length)e=i._sounds[0]._id;else if(1===n.length){var a=i._getSoundIds(),s=a.indexOf(n[0]);s>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if("number"!=typeof t)return(r=i._soundById(e))?r._rate:i._rate;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,n)}}),i;void 0===e&&(i._rate=t),e=i._getSoundIds(e);for(var l=0;l<e.length;l++)if(r=i._soundById(e[l])){i.playing(e[l])&&(r._rateSeek=i.seek(e[l]),r._playStart=i._webAudio?o.ctx.currentTime:r._playStart),r._rate=t,i._webAudio&&r._node&&r._node.bufferSource?r._node.bufferSource.playbackRate.setValueAtTime(t,o.ctx.currentTime):r._node&&(r._node.playbackRate=t);var h=i.seek(e[l]),u=(i._sprite[r._sprite][0]+i._sprite[r._sprite][1])/1e3-h,c=1e3*u/Math.abs(r._rate);!i._endTimers[e[l]]&&r._paused||(i._clearTimer(e[l]),i._endTimers[e[l]]=setTimeout(i._ended.bind(i,r),c)),i._emit("rate",r._id)}return i},seek:function(){var t,e,r=this,i=arguments;if(0===i.length)r._sounds.length&&(e=r._sounds[0]._id);else if(1===i.length){var n=r._getSoundIds(),a=n.indexOf(i[0]);a>=0?e=parseInt(i[0],10):r._sounds.length&&(e=r._sounds[0]._id,t=parseFloat(i[0]))}else 2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if(void 0===e)return 0;if("number"==typeof t&&("loaded"!==r._state||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,i)}}),r;var s=r._soundById(e);if(s){if(!("number"==typeof t&&t>=0)){if(r._webAudio){var l=r.playing(e)?o.ctx.currentTime-s._playStart:0,h=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(h+l*Math.abs(s._rate))}return s._node.currentTime}var u=r.playing(e);u&&r.pause(e,!0),s._seek=t,s._ended=!1,r._clearTimer(e),r._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=t);var c=function(){u&&r.play(e,!0),r._emit("seek",e)};if(u&&!r._webAudio){var p=function(){r._playLock?setTimeout(p,0):c()};setTimeout(p,0)}else c()}return r},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var r=0;r<this._sounds.length;r++)if(!this._sounds[r]._paused)return!0;return!1},duration:function(t){var e=this._duration,r=this._soundById(t);return r&&(e=this._sprite[r._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,r=0;r<e.length;r++)e[r]._paused||t.stop(e[r]._id),t._webAudio||(t._clearSound(e[r]._node),e[r]._node.removeEventListener("error",e[r]._errorFn,!1),e[r]._node.removeEventListener(o._canPlayEvent,e[r]._loadFn,!1),e[r]._node.removeEventListener("ended",e[r]._endFn,!1),o._releaseHtml5Audio(e[r]._node)),delete e[r]._node,t._clearTimer(e[r]._id);var i=o._howls.indexOf(t);i>=0&&o._howls.splice(i,1);var n=!0;for(r=0;r<o._howls.length;r++)if(o._howls[r]._src===t._src||t._src.indexOf(o._howls[r]._src)>=0){n=!1;break}return l&&n&&delete l[t._src],o.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,r,i){var n=this["_on"+t];return"function"==typeof e&&n.push(i?{id:r,fn:e,once:i}:{id:r,fn:e}),this},off:function(t,e,r){var i=this["_on"+t],n=0;if("number"==typeof e&&(r=e,e=null),e||r)for(n=0;n<i.length;n++){var o=r===i[n].id;if(e===i[n].fn&&o||!e&&o){i.splice(n,1);break}}else if(t)this["_on"+t]=[];else{var a=Object.keys(this);for(n=0;n<a.length;n++)0===a[n].indexOf("_on")&&Array.isArray(this[a[n]])&&(this[a[n]]=[])}return this},once:function(t,e,r){return this.on(t,e,r,1),this},_emit:function(t,e,r){for(var i=this["_on"+t],n=i.length-1;n>=0;n--)i[n].id&&i[n].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,r)}.bind(this,i[n].fn),0),i[n].once&&this.off(t,i[n].fn,i[n].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var e=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var r=!(!t._loop&&!this._sprite[e][2]);if(this._emit("end",t._id),!this._webAudio&&r&&this.stop(t._id,!0).play(t._id),this._webAudio&&r){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=o.ctx.currentTime;var i=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),i)}return this._webAudio&&!r&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),o._autoSuspend()),this._webAudio||r||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new s(this)},_drain:function(){var t=this._pool,e=0,r=0;if(!(this._sounds.length<t)){for(r=0;r<this._sounds.length;r++)this._sounds[r]._ended&&e++;for(r=this._sounds.length-1;r>=0;r--){if(e<=t)return;this._sounds[r]._ended&&(this._webAudio&&this._sounds[r]._node&&this._sounds[r]._node.disconnect(0),this._sounds.splice(r,1),e--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],r=0;r<this._sounds.length;r++)e.push(this._sounds[r]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=o.ctx.createBufferSource(),t._node.bufferSource.buffer=l[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,o.ctx.currentTime),this},_cleanBuffer:function(t){var e=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=o._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(t){this._parent=t,this.init()};s.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,e=o._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),this._node.gain.setValueAtTime(e,o.ctx.currentTime),this._node.paused=!0,this._node.connect(o.masterGain)):o.noAudio||(this._node=o._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(o._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=t._src,this._node.preload=!0===t._preload?"auto":t._preload,this._node.volume=e*o.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(o._canPlayEvent,this._loadFn,!1)},_endListener:function(){var t=this._parent;t._duration===1/0&&(t._duration=Math.ceil(10*this._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}};var l={},h=function(t){var e=t._src;if(l[e])return t._duration=l[e].duration,void p(t);if(/^data:[^;]+;base64,/.test(e)){for(var r=atob(e.split(",")[1]),i=new Uint8Array(r.length),n=0;n<r.length;++n)i[n]=r.charCodeAt(n);c(i.buffer,t)}else{var o=new XMLHttpRequest;o.open(t._xhr.method,e,!0),o.withCredentials=t._xhr.withCredentials,o.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach((function(e){o.setRequestHeader(e,t._xhr.headers[e])})),o.onload=function(){var e=(o.status+"")[0];"0"===e||"2"===e||"3"===e?c(o.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete l[e],t.load())},u(o)}},u=function(t){try{t.send()}catch(e){t.onerror()}},c=function(t,e){var r=function(){e._emit("loaderror",null,"Decoding audio data failed.")},i=function(t){t&&e._sounds.length>0?(l[e._src]=t,p(e,t)):r()};"undefined"!=typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(t).then(i).catch(r):o.ctx.decodeAudioData(t,i,r)},p=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},f=function(){if(o.usingWebAudio){try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(t){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),e=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=e?parseInt(e[1],10):null;if(t&&r&&r<9){var i=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!i&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0===(i=function(){return{Howler:o,Howl:a}}.apply(e,[]))||(t.exports=i),e.Howler=o,e.Howl=a,void 0!==r?(r.HowlerGlobal=n,r.Howler=o,r.Howl=a,r.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=n,window.Howler=o,window.Howl=a,window.Sound=s)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;e>=0;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,r){return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,r="number"!=typeof r?this._pos[2]:r,"number"!=typeof t?this._pos:(this._pos=[t,e,r],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,r,i,n,o){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return e="number"!=typeof e?a[1]:e,r="number"!=typeof r?a[2]:r,i="number"!=typeof i?a[3]:i,n="number"!=typeof n?a[4]:n,o="number"!=typeof o?a[5]:o,"number"!=typeof t?a:(this._orientation=[t,e,r,i,n,o],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,r,i,n,o),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(t,r)}}),i;var n=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===r){if("number"!=typeof t)return i._stereo;i._stereo=t,i._pos=[t,0,0]}for(var o=i._getSoundIds(r),a=0;a<o.length;a++){var s=i._soundById(o[a]);if(s){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,n),"spatial"===n?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),i._emit("stereo",s._id)}}return i},Howl.prototype.pos=function(t,r,i,n){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(t,r,i,n)}}),o;if(r="number"!=typeof r?0:r,i="number"!=typeof i?-.5:i,void 0===n){if("number"!=typeof t)return o._pos;o._pos=[t,r,i]}for(var a=o._getSoundIds(n),s=0;s<a.length;s++){var l=o._soundById(a[s]);if(l){if("number"!=typeof t)return l._pos;l._pos=[t,r,i],l._node&&(l._panner&&!l._panner.pan||e(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setPosition(t,r,i)),o._emit("pos",l._id)}}return o},Howl.prototype.orientation=function(t,r,i,n){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(t,r,i,n)}}),o;if(r="number"!=typeof r?o._orientation[1]:r,i="number"!=typeof i?o._orientation[2]:i,void 0===n){if("number"!=typeof t)return o._orientation;o._orientation=[t,r,i]}for(var a=o._getSoundIds(n),s=0;s<a.length;s++){var l=o._soundById(a[s]);if(l){if("number"!=typeof t)return l._orientation;l._orientation=[t,r,i],l._node&&(l._panner||(l._pos||(l._pos=o._pos||[0,0,-.5]),e(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setOrientation(t,r,i)),o._emit("orientation",l._id)}}return o},Howl.prototype.pannerAttr=function(){var t,r,i,n=this,o=arguments;if(!n._webAudio)return n;if(0===o.length)return n._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return(i=n._soundById(parseInt(o[0],10)))?i._pannerAttr:n._pannerAttr;t=o[0],void 0===r&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),n._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:n._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:n._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:n._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:n._panningModel})}else 2===o.length&&(t=o[0],r=parseInt(o[1],10));for(var a=n._getSoundIds(r),s=0;s<a.length;s++)if(i=n._soundById(a[s])){var l=i._pannerAttr;l={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:l.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:l.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:l.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:l.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:l.panningModel};var h=i._panner;h?(h.coneInnerAngle=l.coneInnerAngle,h.coneOuterAngle=l.coneOuterAngle,h.coneOuterGain=l.coneOuterGain,h.distanceModel=l.distanceModel,h.maxDistance=l.maxDistance,h.refDistance=l.refDistance,h.rolloffFactor=l.rolloffFactor,h.panningModel=l.panningModel):(i._pos||(i._pos=n._pos||[0,0,-.5]),e(i,"spatial"))}return n},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}).call(this,r("yLpj"))},Ib8C:function(t,e,r){(function(e){var i;t.exports=(i=i||function(t,i){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==e&&e.crypto&&(n=e.crypto),!n)try{n=r(0)}catch(t){}var o=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),s={},l=s.lib={},h=l.Base={extend:function(t){var e=a(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},u=l.WordArray=h.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||p).stringify(this)},concat:function(t){var e=this.words,r=t.words,i=this.sigBytes,n=t.sigBytes;if(this.clamp(),i%4)for(var o=0;o<n;o++){var a=r[o>>>2]>>>24-o%4*8&255;e[i+o>>>2]|=a<<24-(i+o)%4*8}else for(var s=0;s<n;s+=4)e[i+s>>>2]=r[s>>>2];return this.sigBytes+=n,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=h.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(o());return new u.init(e,t)}}),c=s.enc={},p=c.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,i=[],n=0;n<r;n++){var o=e[n>>>2]>>>24-n%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i+=2)r[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new u.init(r,e/2)}},f=c.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,i=[],n=0;n<r;n++){var o=e[n>>>2]>>>24-n%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new u.init(r,e)}},d=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},m=l.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,i=this._data,n=i.words,o=i.sigBytes,a=this.blockSize,s=o/(4*a),l=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,h=t.min(4*l,o);if(l){for(var c=0;c<l;c+=a)this._doProcessBlock(n,c);r=n.splice(0,l),i.sigBytes-=h}return new u.init(r,h)},clone:function(){var t=h.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),v=(l.Hasher=m.extend({cfg:h.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new v.HMAC.init(t,r).finalize(e)}}}),s.algo={});return s}(Math),i)}).call(this,r("yLpj"))},Ijbi:function(t,e,r){var i=r("WkPL");t.exports=function(t){if(Array.isArray(t))return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},IrXD:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return p})),r.d(e,"c",(function(){return f}));var i,n={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-n.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*n.Bounce.In(2*t):.5*n.Bounce.Out(2*t-1)+.5}}},o="undefined"==typeof self&&void 0!==t&&t.hrtime?function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},a=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=o()),void 0===e&&(e=!1);var r=Object.keys(this._tweens);if(0===r.length)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var n=this._tweens[r[i]],a=!e;n&&!1===n.update(t,a)&&!e&&delete this._tweens[r[i]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),s={Linear:function(t,e){var r=t.length-1,i=r*e,n=Math.floor(i),o=s.Utils.Linear;return e<0?o(t[0],t[1],i):e>1?o(t[r],t[r-1],r-i):o(t[n],t[n+1>r?r:n+1],i-n)},Bezier:function(t,e){for(var r=0,i=t.length-1,n=Math.pow,o=s.Utils.Bernstein,a=0;a<=i;a++)r+=n(1-e,i-a)*n(e,a)*t[a]*o(i,a);return r},CatmullRom:function(t,e){var r=t.length-1,i=r*e,n=Math.floor(i),o=s.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(n=Math.floor(i=r*(1+e))),o(t[(n-1+r)%r],t[n],t[(n+1)%r],t[(n+2)%r],i-n)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[r]-(o(t[r],t[r],t[r-1],t[r-1],i-r)-t[r]):o(t[n?n-1:0],t[n],t[r<n+1?r:n+1],t[r<n+2?r:n+2],i-n)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=s.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:(i=[1],function(t){var e=1;if(i[t])return i[t];for(var r=t;r>1;r--)e*=r;return i[t]=e,e}),CatmullRom:function(t,e,r,i,n){var o=.5*(r-t),a=.5*(i-e),s=n*n;return(2*e-2*r+o+a)*(n*s)+(-3*e+3*r-2*o-a)*s+o*n+e}}},l=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),h=new a,u=function(){function t(t,e){void 0===e&&(e=h),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=n.Linear.None,this._interpolationFunction=s.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=l.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?o()+parseFloat(t):t:o(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,r,i){for(var n in r){var o=t[n],a=Array.isArray(o),s=a?"array":typeof o,l=!a&&Array.isArray(r[n]);if("undefined"!==s&&"function"!==s){if(l){var h=r[n];if(0===h.length)continue;h=h.map(this._handleRelativeValue.bind(this,o)),r[n]=[o].concat(h)}if("object"!==s&&!a||!o||l)void 0===e[n]&&(e[n]=o),a||(e[n]*=1),i[n]=l?r[n].slice().reverse():e[n]||0;else{for(var u in e[n]=a?[]:{},o)e[n][u]=o[u];i[n]=a?[]:{},this._setupProperties(o,e[n],r[n],i[n])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=o()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},t.prototype.resume=function(t){return void 0===t&&(t=o()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=o()),void 0===e&&(e=!0),this._isPaused)return!0;var r,i,n=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>n)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(t-this._startTime)/this._duration,i=0===this._duration||i>1?1:i;var a=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),1===i){if(this._repeat>0){for(r in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[r]||(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,l=this._chainedTweens.length;s<l;s++)this._chainedTweens[s].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,r,i){for(var n in r)if(void 0!==e[n]){var o=e[n]||0,a=r[n],s=Array.isArray(t[n]),l=Array.isArray(a);!s&&l?t[n]=this._interpolationFunction(a,i):"object"==typeof a&&a?this._updateProperties(t[n],o,a,i):"number"==typeof(a=this._handleRelativeValue(o,a))&&(t[n]=o+(a-o)*i)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],r=this._valuesEnd[t];this._valuesStartRepeat[t]="string"==typeof r?this._valuesStartRepeat[t]+parseFloat(r):this._valuesEnd[t],this._valuesEnd[t]=e},t}(),c=(l.nextId,h),p=(c.getAll.bind(c),c.removeAll.bind(c)),f=(c.add.bind(c),c.remove.bind(c),c.update.bind(c))}).call(this,r("8oxB"))},J4zp:function(t,e,r){var i=r("wTVA"),n=r("m0LI"),o=r("ZhPi"),a=r("wkBT");t.exports=function(t,e){return i(t)||n(t,e)||o(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},JQVm:function(t,e,r){t.exports=function t(e,r,i){function n(a,s){if(!r[a]){if(!e[a]){if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=r[a]={exports:{}};e[a][0].call(l.exports,(function(t){var r=e[a][1][t];return n(r||t)}),l,l.exports,t,e,r,i)}return r[a].exports}for(var o=!1,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(t,e,r){var i=t("./Scalar");function n(){}e.exports=n,n.lineInt=function(t,e,r){r=r||0;var n,o,a,s,l,h,u,c=[0,0];return n=t[1][1]-t[0][1],o=t[0][0]-t[1][0],a=n*t[0][0]+o*t[0][1],s=e[1][1]-e[0][1],l=e[0][0]-e[1][0],h=s*e[0][0]+l*e[0][1],u=n*l-s*o,i.eq(u,0,r)||(c[0]=(l*a-o*h)/u,c[1]=(n*h-s*a)/u),c},n.segmentsIntersect=function(t,e,r,i){var n=e[0]-t[0],o=e[1]-t[1],a=i[0]-r[0],s=i[1]-r[1];if(a*o-s*n==0)return!1;var l=(n*(r[1]-t[1])+o*(t[0]-r[0]))/(a*o-s*n),h=(a*(t[1]-r[1])+s*(r[0]-t[0]))/(s*n-a*o);return l>=0&&l<=1&&h>=0&&h<=1}},{"./Scalar":4}],2:[function(t,e,r){function i(){}e.exports=i,i.area=function(t,e,r){return(e[0]-t[0])*(r[1]-t[1])-(r[0]-t[0])*(e[1]-t[1])},i.left=function(t,e,r){return i.area(t,e,r)>0},i.leftOn=function(t,e,r){return i.area(t,e,r)>=0},i.right=function(t,e,r){return i.area(t,e,r)<0},i.rightOn=function(t,e,r){return i.area(t,e,r)<=0};var n=[],o=[];i.collinear=function(t,e,r,a){if(a){var s=n,l=o;s[0]=e[0]-t[0],s[1]=e[1]-t[1],l[0]=r[0]-e[0],l[1]=r[1]-e[1];var h=s[0]*l[0]+s[1]*l[1],u=Math.sqrt(s[0]*s[0]+s[1]*s[1]),c=Math.sqrt(l[0]*l[0]+l[1]*l[1]);return Math.acos(h/(u*c))<a}return 0==i.area(t,e,r)},i.sqdist=function(t,e){var r=e[0]-t[0],i=e[1]-t[1];return r*r+i*i}},{}],3:[function(t,e,r){var i=t("./Line"),n=t("./Point"),o=t("./Scalar");function a(){this.vertices=[]}e.exports=a,a.prototype.at=function(t){var e=this.vertices,r=e.length;return e[t<0?t%r+r:t%r]},a.prototype.first=function(){return this.vertices[0]},a.prototype.last=function(){return this.vertices[this.vertices.length-1]},a.prototype.clear=function(){this.vertices.length=0},a.prototype.append=function(t,e,r){if(void 0===e)throw new Error("From is not given!");if(void 0===r)throw new Error("To is not given!");if(r-1<e)throw new Error("lol1");if(r>t.vertices.length)throw new Error("lol2");if(e<0)throw new Error("lol3");for(var i=e;i<r;i++)this.vertices.push(t.vertices[i])},a.prototype.makeCCW=function(){for(var t=0,e=this.vertices,r=1;r<this.vertices.length;++r)(e[r][1]<e[t][1]||e[r][1]==e[t][1]&&e[r][0]>e[t][0])&&(t=r);n.left(this.at(t-1),this.at(t),this.at(t+1))||this.reverse()},a.prototype.reverse=function(){for(var t=[],e=0,r=this.vertices.length;e!==r;e++)t.push(this.vertices.pop());this.vertices=t},a.prototype.isReflex=function(t){return n.right(this.at(t-1),this.at(t),this.at(t+1))};var s=[],l=[];function h(t,e,r,i,n){n=n||0;var a=e[1]-t[1],s=t[0]-e[0],l=a*t[0]+s*t[1],h=i[1]-r[1],u=r[0]-i[0],c=h*r[0]+u*r[1],p=a*u-h*s;return o.eq(p,0,n)?[0,0]:[(u*l-s*c)/p,(a*c-h*l)/p]}a.prototype.canSee=function(t,e){var r,o,a=s,h=l;if(n.leftOn(this.at(t+1),this.at(t),this.at(e))&&n.rightOn(this.at(t-1),this.at(t),this.at(e)))return!1;o=n.sqdist(this.at(t),this.at(e));for(var u=0;u!==this.vertices.length;++u)if((u+1)%this.vertices.length!==t&&u!==t&&n.leftOn(this.at(t),this.at(e),this.at(u+1))&&n.rightOn(this.at(t),this.at(e),this.at(u))&&(a[0]=this.at(t),a[1]=this.at(e),h[0]=this.at(u),h[1]=this.at(u+1),r=i.lineInt(a,h),n.sqdist(this.at(t),r)<o))return!1;return!0},a.prototype.copy=function(t,e,r){var i=r||new a;if(i.clear(),t<e)for(var n=t;n<=e;n++)i.vertices.push(this.vertices[n]);else{for(n=0;n<=e;n++)i.vertices.push(this.vertices[n]);for(n=t;n<this.vertices.length;n++)i.vertices.push(this.vertices[n])}return i},a.prototype.getCutEdges=function(){for(var t=[],e=[],r=[],i=new a,n=Number.MAX_VALUE,o=0;o<this.vertices.length;++o)if(this.isReflex(o))for(var s=0;s<this.vertices.length;++s)if(this.canSee(o,s)){e=this.copy(o,s,i).getCutEdges(),r=this.copy(s,o,i).getCutEdges();for(var l=0;l<r.length;l++)e.push(r[l]);e.length<n&&(t=e,n=e.length,t.push([this.at(o),this.at(s)]))}return t},a.prototype.decomp=function(){var t=this.getCutEdges();return t.length>0?this.slice(t):[this]},a.prototype.slice=function(t){if(0==t.length)return[this];if(t instanceof Array&&t.length&&t[0]instanceof Array&&2==t[0].length&&t[0][0]instanceof Array){for(var e=[this],r=0;r<t.length;r++)for(var i=t[r],n=0;n<e.length;n++){var o=e[n].slice(i);if(o){e.splice(n,1),e.push(o[0],o[1]);break}}return e}return i=t,r=this.vertices.indexOf(i[0]),n=this.vertices.indexOf(i[1]),-1!=r&&-1!=n&&[this.copy(r,n),this.copy(n,r)]},a.prototype.isSimple=function(){for(var t=this.vertices,e=0;e<t.length-1;e++)for(var r=0;r<e-1;r++)if(i.segmentsIntersect(t[e],t[e+1],t[r],t[r+1]))return!1;for(e=1;e<t.length-2;e++)if(i.segmentsIntersect(t[0],t[t.length-1],t[e],t[e+1]))return!1;return!0},a.prototype.quickDecomp=function(t,e,r,i,o,s){o=o||100,s=s||0,i=i||25,t=void 0!==t?t:[],e=e||[],r=r||[];var l=[0,0],u=[0,0],c=[0,0],p=0,f=0,d=0,m=0,v=0,y=0,g=0,_=new a,b=new a,x=this.vertices;if(x.length<3)return t;if(++s>o)return console.warn("quickDecomp: max level ("+o+") reached."),t;for(var w=0;w<this.vertices.length;++w)if(this.isReflex(w)){e.push(this.vertices[w]),p=f=Number.MAX_VALUE;for(var T=0;T<this.vertices.length;++T)n.left(this.at(w-1),this.at(w),this.at(T))&&n.rightOn(this.at(w-1),this.at(w),this.at(T-1))&&(c=h(this.at(w-1),this.at(w),this.at(T),this.at(T-1)),n.right(this.at(w+1),this.at(w),c)&&(d=n.sqdist(this.vertices[w],c))<f&&(f=d,u=c,y=T)),n.left(this.at(w+1),this.at(w),this.at(T+1))&&n.rightOn(this.at(w+1),this.at(w),this.at(T))&&(c=h(this.at(w+1),this.at(w),this.at(T),this.at(T+1)),n.left(this.at(w-1),this.at(w),c)&&(d=n.sqdist(this.vertices[w],c))<p&&(p=d,l=c,v=T));if(y==(v+1)%this.vertices.length)c[0]=(u[0]+l[0])/2,c[1]=(u[1]+l[1])/2,r.push(c),w<v?(_.append(this,w,v+1),_.vertices.push(c),b.vertices.push(c),0!=y&&b.append(this,y,this.vertices.length),b.append(this,0,w+1)):(0!=w&&_.append(this,w,this.vertices.length),_.append(this,0,v+1),_.vertices.push(c),b.vertices.push(c),b.append(this,y,w+1));else{if(y>v&&(v+=this.vertices.length),m=Number.MAX_VALUE,v<y)return t;for(T=y;T<=v;++T)n.leftOn(this.at(w-1),this.at(w),this.at(T))&&n.rightOn(this.at(w+1),this.at(w),this.at(T))&&(d=n.sqdist(this.at(w),this.at(T)))<m&&(m=d,g=T%this.vertices.length);w<g?(_.append(this,w,g+1),0!=g&&b.append(this,g,x.length),b.append(this,0,w+1)):(0!=w&&_.append(this,w,x.length),_.append(this,0,g+1),b.append(this,g,w+1))}return _.vertices.length<b.vertices.length?(_.quickDecomp(t,e,r,i,o,s),b.quickDecomp(t,e,r,i,o,s)):(b.quickDecomp(t,e,r,i,o,s),_.quickDecomp(t,e,r,i,o,s)),t}return t.push(this),t},a.prototype.removeCollinearPoints=function(t){for(var e=0,r=this.vertices.length-1;this.vertices.length>3&&r>=0;--r)n.collinear(this.at(r-1),this.at(r),this.at(r+1),t)&&(this.vertices.splice(r%this.vertices.length,1),r--,e++);return e}},{"./Line":1,"./Point":2,"./Scalar":4}],4:[function(t,e,r){function i(){}e.exports=i,i.eq=function(t,e,r){return r=r||0,Math.abs(t-e)<r}},{}],5:[function(t,e,r){e.exports={Polygon:t("./Polygon"),Point:t("./Point")}},{"./Point":2,"./Polygon":3}],6:[function(t,e,r){e.exports={name:"p2",version:"0.7.1",description:"A JavaScript 2D physics engine.",author:"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)",keywords:["p2.js","p2","physics","engine","2d"],main:"./src/p2.js",engines:{node:"*"},repository:{type:"git",url:"https://github.com/schteppe/p2.js.git"},bugs:{url:"https://github.com/schteppe/p2.js/issues"},licenses:[{type:"MIT"}],devDependencies:{grunt:"^0.4.5","grunt-contrib-jshint":"^0.11.2","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.5.0","grunt-browserify":"~2.0.1","grunt-contrib-concat":"^0.4.0"},dependencies:{"poly-decomp":"0.1.1"}}},{}],7:[function(t,e,r){var i=t("../math/vec2");function n(t){this.lowerBound=i.create(),t&&t.lowerBound&&i.copy(this.lowerBound,t.lowerBound),this.upperBound=i.create(),t&&t.upperBound&&i.copy(this.upperBound,t.upperBound)}t("../utils/Utils"),e.exports=n;var o=i.create();n.prototype.setFromPoints=function(t,e,r,n){var a=this.lowerBound,s=this.upperBound;"number"!=typeof r&&(r=0),0!==r?i.rotate(a,t[0],r):i.copy(a,t[0]),i.copy(s,a);for(var l=Math.cos(r),h=Math.sin(r),u=1;u<t.length;u++){var c=t[u];if(0!==r){var p=c[0],f=c[1];o[0]=l*p-h*f,o[1]=h*p+l*f,c=o}for(var d=0;d<2;d++)c[d]>s[d]&&(s[d]=c[d]),c[d]<a[d]&&(a[d]=c[d])}e&&(i.add(this.lowerBound,this.lowerBound,e),i.add(this.upperBound,this.upperBound,e)),n&&(this.lowerBound[0]-=n,this.lowerBound[1]-=n,this.upperBound[0]+=n,this.upperBound[1]+=n)},n.prototype.copy=function(t){i.copy(this.lowerBound,t.lowerBound),i.copy(this.upperBound,t.upperBound)},n.prototype.extend=function(t){for(var e=2;e--;){var r=t.lowerBound[e];this.lowerBound[e]>r&&(this.lowerBound[e]=r);var i=t.upperBound[e];this.upperBound[e]<i&&(this.upperBound[e]=i)}},n.prototype.overlaps=function(t){var e=this.lowerBound,r=this.upperBound,i=t.lowerBound,n=t.upperBound;return(i[0]<=r[0]&&r[0]<=n[0]||e[0]<=n[0]&&n[0]<=r[0])&&(i[1]<=r[1]&&r[1]<=n[1]||e[1]<=n[1]&&n[1]<=r[1])},n.prototype.containsPoint=function(t){var e=this.lowerBound,r=this.upperBound;return e[0]<=t[0]&&t[0]<=r[0]&&e[1]<=t[1]&&t[1]<=r[1]},n.prototype.overlapsRay=function(t){var e=1/t.direction[0],r=1/t.direction[1],i=(this.lowerBound[0]-t.from[0])*e,n=(this.upperBound[0]-t.from[0])*e,o=(this.lowerBound[1]-t.from[1])*r,a=(this.upperBound[1]-t.from[1])*r,s=Math.max(Math.max(Math.min(i,n),Math.min(o,a))),l=Math.min(Math.min(Math.max(i,n),Math.max(o,a)));return l<0||s>l?-1:s}},{"../math/vec2":30,"../utils/Utils":57}],8:[function(t,e,r){var i=t("../math/vec2"),n=t("../objects/Body");function o(t){this.type=t,this.result=[],this.world=null,this.boundingVolumeType=o.AABB}e.exports=o,o.AABB=1,o.BOUNDING_CIRCLE=2,o.prototype.setWorld=function(t){this.world=t},o.prototype.getCollisionPairs=function(t){};var a=i.create();o.boundingRadiusCheck=function(t,e){i.sub(a,t.position,e.position);var r=i.squaredLength(a),n=t.boundingRadius+e.boundingRadius;return r<=n*n},o.aabbCheck=function(t,e){return t.getAABB().overlaps(e.getAABB())},o.prototype.boundingVolumeCheck=function(t,e){var r;switch(this.boundingVolumeType){case o.BOUNDING_CIRCLE:r=o.boundingRadiusCheck(t,e);break;case o.AABB:r=o.aabbCheck(t,e);break;default:throw new Error("Bounding volume type not recognized: "+this.boundingVolumeType)}return r},o.canCollide=function(t,e){var r=n.KINEMATIC,i=n.STATIC;return!(t.type===i&&e.type===i||t.type===r&&e.type===i||t.type===i&&e.type===r||t.type===r&&e.type===r||t.sleepState===n.SLEEPING&&e.sleepState===n.SLEEPING||t.sleepState===n.SLEEPING&&e.type===i||e.sleepState===n.SLEEPING&&t.type===i)},o.NAIVE=1,o.SAP=2},{"../math/vec2":30,"../objects/Body":31}],9:[function(t,e,r){t("../shapes/Circle"),t("../shapes/Plane"),t("../shapes/Shape"),t("../shapes/Particle");var i=t("../collision/Broadphase");function n(){i.call(this,i.NAIVE)}t("../math/vec2"),e.exports=n,n.prototype=new i,n.prototype.constructor=n,n.prototype.getCollisionPairs=function(t){var e=t.bodies,r=this.result;r.length=0;for(var n=0,o=e.length;n!==o;n++)for(var a=e[n],s=0;s<n;s++){var l=e[s];i.canCollide(a,l)&&this.boundingVolumeCheck(a,l)&&r.push(a,l)}return r},n.prototype.aabbQuery=function(t,e,r){r=r||[];for(var i=t.bodies,n=0;n<i.length;n++){var o=i[n];o.aabbNeedsUpdate&&o.updateAABB(),o.aabb.overlaps(e)&&r.push(o)}return r}},{"../collision/Broadphase":8,"../math/vec2":30,"../shapes/Circle":39,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45}],10:[function(t,e,r){var i=t("../math/vec2"),n=i.sub,o=i.add,a=i.dot,s=(t("../utils/Utils"),t("../utils/ContactEquationPool")),l=t("../utils/FrictionEquationPool"),h=t("../utils/TupleDictionary"),u=t("../equations/Equation"),c=(t("../equations/ContactEquation"),t("../equations/FrictionEquation"),t("../shapes/Circle")),p=t("../shapes/Convex"),f=t("../shapes/Shape"),d=(t("../objects/Body"),t("../shapes/Box"));e.exports=F;var m=i.fromValues(0,1),v=i.fromValues(0,0),y=i.fromValues(0,0),g=i.fromValues(0,0),_=i.fromValues(0,0),b=i.fromValues(0,0),x=i.fromValues(0,0),w=i.fromValues(0,0),T=i.fromValues(0,0),E=i.fromValues(0,0),S=i.fromValues(0,0),M=i.fromValues(0,0),A=i.fromValues(0,0),C=i.fromValues(0,0),P=i.fromValues(0,0),k=i.fromValues(0,0),O=i.fromValues(0,0),I=i.fromValues(0,0),D=i.fromValues(0,0),R=[];function F(){this.contactEquations=[],this.frictionEquations=[],this.enableFriction=!0,this.enabledEquations=!0,this.slipForce=10,this.frictionCoefficient=.3,this.surfaceVelocity=0,this.contactEquationPool=new s({size:32}),this.frictionEquationPool=new l({size:64}),this.restitution=0,this.stiffness=u.DEFAULT_STIFFNESS,this.relaxation=u.DEFAULT_RELAXATION,this.frictionStiffness=u.DEFAULT_STIFFNESS,this.frictionRelaxation=u.DEFAULT_RELAXATION,this.enableFrictionReduction=!0,this.collidingBodiesLastStep=new h,this.contactSkinSize=.01}var L=i.create(),B=i.create();function N(t,e){i.set(t.vertices[0],.5*-e.length,-e.radius),i.set(t.vertices[1],.5*e.length,-e.radius),i.set(t.vertices[2],.5*e.length,e.radius),i.set(t.vertices[3],.5*-e.length,e.radius)}F.prototype.bodiesOverlap=function(t,e){for(var r=L,i=B,n=0,o=t.shapes.length;n!==o;n++){var a=t.shapes[n];t.toWorldFrame(r,a.position);for(var s=0,l=e.shapes.length;s!==l;s++){var h=e.shapes[s];if(e.toWorldFrame(i,h.position),this[a.type|h.type](t,a,r,a.angle+t.angle,e,h,i,h.angle+e.angle,!0))return!0}}return!1},F.prototype.collidedLastStep=function(t,e){var r=0|t.id,i=0|e.id;return!!this.collidingBodiesLastStep.get(r,i)},F.prototype.reset=function(){this.collidingBodiesLastStep.reset();for(var t=this.contactEquations,e=t.length;e--;){var r=t[e],i=r.bodyA.id,n=r.bodyB.id;this.collidingBodiesLastStep.set(i,n,!0)}for(var o=this.contactEquations,a=this.frictionEquations,s=0;s<o.length;s++)this.contactEquationPool.release(o[s]);for(s=0;s<a.length;s++)this.frictionEquationPool.release(a[s]);this.contactEquations.length=this.frictionEquations.length=0},F.prototype.createContactEquation=function(t,e,r,i){var n=this.contactEquationPool.get();return n.bodyA=t,n.bodyB=e,n.shapeA=r,n.shapeB=i,n.restitution=this.restitution,n.firstImpact=!this.collidedLastStep(t,e),n.stiffness=this.stiffness,n.relaxation=this.relaxation,n.needsUpdate=!0,n.enabled=this.enabledEquations,n.offset=this.contactSkinSize,n},F.prototype.createFrictionEquation=function(t,e,r,i){var n=this.frictionEquationPool.get();return n.bodyA=t,n.bodyB=e,n.shapeA=r,n.shapeB=i,n.setSlipForce(this.slipForce),n.frictionCoefficient=this.frictionCoefficient,n.relativeVelocity=this.surfaceVelocity,n.enabled=this.enabledEquations,n.needsUpdate=!0,n.stiffness=this.frictionStiffness,n.relaxation=this.frictionRelaxation,n.contactEquations.length=0,n},F.prototype.createFrictionFromContact=function(t){var e=this.createFrictionEquation(t.bodyA,t.bodyB,t.shapeA,t.shapeB);return i.copy(e.contactPointA,t.contactPointA),i.copy(e.contactPointB,t.contactPointB),i.rotate90cw(e.t,t.normalA),e.contactEquations.push(t),e},F.prototype.createFrictionFromAverage=function(t){var e=this.contactEquations[this.contactEquations.length-1],r=this.createFrictionEquation(e.bodyA,e.bodyB,e.shapeA,e.shapeB),n=e.bodyA;e.bodyB,i.set(r.contactPointA,0,0),i.set(r.contactPointB,0,0),i.set(r.t,0,0);for(var o=0;o!==t;o++)(e=this.contactEquations[this.contactEquations.length-1-o]).bodyA===n?(i.add(r.t,r.t,e.normalA),i.add(r.contactPointA,r.contactPointA,e.contactPointA),i.add(r.contactPointB,r.contactPointB,e.contactPointB)):(i.sub(r.t,r.t,e.normalA),i.add(r.contactPointA,r.contactPointA,e.contactPointB),i.add(r.contactPointB,r.contactPointB,e.contactPointA)),r.contactEquations.push(e);var a=1/t;return i.scale(r.contactPointA,r.contactPointA,a),i.scale(r.contactPointB,r.contactPointB,a),i.normalize(r.t,r.t),i.rotate90cw(r.t,r.t),r},F.prototype[f.LINE|f.CONVEX]=F.prototype.convexLine=function(t,e,r,i,n,o,a,s,l){return!l&&0},F.prototype[f.LINE|f.BOX]=F.prototype.lineBox=function(t,e,r,i,n,o,a,s,l){return!l&&0};var z=new d({width:1,height:1}),j=i.create();F.prototype[f.CAPSULE|f.CONVEX]=F.prototype[f.CAPSULE|f.BOX]=F.prototype.convexCapsule=function(t,e,r,n,o,a,s,l,h){var u=j;i.set(u,a.length/2,0),i.rotate(u,u,l),i.add(u,u,s);var c=this.circleConvex(o,a,u,l,t,e,r,n,h,a.radius);i.set(u,-a.length/2,0),i.rotate(u,u,l),i.add(u,u,s);var p=this.circleConvex(o,a,u,l,t,e,r,n,h,a.radius);if(h&&(c||p))return!0;var f=z;return N(f,a),this.convexConvex(t,e,r,n,o,f,s,l,h)+c+p},F.prototype[f.CAPSULE|f.LINE]=F.prototype.lineCapsule=function(t,e,r,i,n,o,a,s,l){return!l&&0};var V=i.create(),U=i.create(),W=new d({width:1,height:1});F.prototype[f.CAPSULE|f.CAPSULE]=F.prototype.capsuleCapsule=function(t,e,r,n,o,a,s,l,h){for(var u=V,c=U,p=0,f=0;f<2;f++){i.set(u,(0===f?-1:1)*e.length/2,0),i.rotate(u,u,n),i.add(u,u,r);for(var d=0;d<2;d++){i.set(c,(0===d?-1:1)*a.length/2,0),i.rotate(c,c,l),i.add(c,c,s),this.enableFrictionReduction&&(g=this.enableFriction,this.enableFriction=!1);var m=this.circleCircle(t,e,u,n,o,a,c,l,h,e.radius,a.radius);if(this.enableFrictionReduction&&(this.enableFriction=g),h&&m)return!0;p+=m}}this.enableFrictionReduction&&(g=this.enableFriction,this.enableFriction=!1);var v=W;N(v,e);var y=this.convexCapsule(t,v,r,n,o,a,s,l,h);if(this.enableFrictionReduction&&(this.enableFriction=g),h&&y)return!0;if(p+=y,this.enableFrictionReduction){var g=this.enableFriction;this.enableFriction=!1}N(v,a);var _=this.convexCapsule(o,v,s,l,t,e,r,n,h);return this.enableFrictionReduction&&(this.enableFriction=g),!(!h||!_)||(p+=_,this.enableFrictionReduction&&p&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(p)),p)},F.prototype[f.LINE|f.LINE]=F.prototype.lineLine=function(t,e,r,i,n,o,a,s,l){return!l&&0},F.prototype[f.PLANE|f.LINE]=F.prototype.planeLine=function(t,e,r,s,l,h,u,c,p){var f=v,d=y,S=g,M=_,A=b,C=x,P=w,k=T,O=E,I=R,D=0;i.set(f,-h.length/2,0),i.set(d,h.length/2,0),i.rotate(S,f,c),i.rotate(M,d,c),o(S,S,u),o(M,M,u),i.copy(f,S),i.copy(d,M),n(A,d,f),i.normalize(C,A),i.rotate90cw(O,C),i.rotate(k,m,s),I[0]=f,I[1]=d;for(var F=0;F<I.length;F++){var L=I[F];n(P,L,r);var B=a(P,k);if(B<0){if(p)return!0;var N=this.createContactEquation(t,l,e,h);D++,i.copy(N.normalA,k),i.normalize(N.normalA,N.normalA),i.scale(P,k,B),n(N.contactPointA,L,P),n(N.contactPointA,N.contactPointA,t.position),n(N.contactPointB,L,u),o(N.contactPointB,N.contactPointB,u),n(N.contactPointB,N.contactPointB,l.position),this.contactEquations.push(N),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(N))}}return!p&&(this.enableFrictionReduction||D&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(D)),D)},F.prototype[f.PARTICLE|f.CAPSULE]=F.prototype.particleCapsule=function(t,e,r,i,n,o,a,s,l){return this.circleLine(t,e,r,i,n,o,a,s,l,o.radius,0)},F.prototype[f.CIRCLE|f.LINE]=F.prototype.circleLine=function(t,e,r,s,l,h,u,c,p,f,d){f=f||0,d=void 0!==d?d:e.radius;var m=v,k=y,O=g,I=_,D=b,F=x,L=w,B=T,N=E,z=S,j=M,V=A,U=C,W=P,q=R;i.set(B,-h.length/2,0),i.set(N,h.length/2,0),i.rotate(z,B,c),i.rotate(j,N,c),o(z,z,u),o(j,j,u),i.copy(B,z),i.copy(N,j),n(F,N,B),i.normalize(L,F),i.rotate90cw(D,L),n(V,r,B);var H=a(V,D);n(I,B,u),n(U,r,u);var G=d+f;if(Math.abs(H)<G){i.scale(m,D,H),n(O,r,m),i.scale(k,D,a(D,U)),i.normalize(k,k),i.scale(k,k,f),o(O,O,k);var Y=a(L,O),X=a(L,B),K=a(L,N);if(Y>X&&Y<K){if(p)return!0;var Z=this.createContactEquation(t,l,e,h);return i.scale(Z.normalA,m,-1),i.normalize(Z.normalA,Z.normalA),i.scale(Z.contactPointA,Z.normalA,d),o(Z.contactPointA,Z.contactPointA,r),n(Z.contactPointA,Z.contactPointA,t.position),n(Z.contactPointB,O,u),o(Z.contactPointB,Z.contactPointB,u),n(Z.contactPointB,Z.contactPointB,l.position),this.contactEquations.push(Z),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Z)),1}}q[0]=B,q[1]=N;for(var J=0;J<q.length;J++){var Q=q[J];if(n(V,Q,r),i.squaredLength(V)<Math.pow(G,2))return!!p||(Z=this.createContactEquation(t,l,e,h),i.copy(Z.normalA,V),i.normalize(Z.normalA,Z.normalA),i.scale(Z.contactPointA,Z.normalA,d),o(Z.contactPointA,Z.contactPointA,r),n(Z.contactPointA,Z.contactPointA,t.position),n(Z.contactPointB,Q,u),i.scale(W,Z.normalA,-f),o(Z.contactPointB,Z.contactPointB,W),o(Z.contactPointB,Z.contactPointB,u),n(Z.contactPointB,Z.contactPointB,l.position),this.contactEquations.push(Z),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Z)),1)}return 0},F.prototype[f.CIRCLE|f.CAPSULE]=F.prototype.circleCapsule=function(t,e,r,i,n,o,a,s,l){return this.circleLine(t,e,r,i,n,o,a,s,l,o.radius)},F.prototype[f.CIRCLE|f.CONVEX]=F.prototype[f.CIRCLE|f.BOX]=F.prototype.circleConvex=function(t,e,r,a,s,l,h,u,c,p){p="number"==typeof p?p:e.radius;for(var f=v,d=y,m=g,x=_,w=b,T=S,E=M,A=C,I=P,D=k,R=O,F=!1,L=Number.MAX_VALUE,B=l.vertices,N=0;N!==B.length+1;N++){var z=B[N%B.length],j=B[(N+1)%B.length];if(i.rotate(f,z,u),i.rotate(d,j,u),o(f,f,h),o(d,d,h),n(m,d,f),i.normalize(x,m),i.rotate90cw(w,x),i.scale(I,w,-e.radius),o(I,I,r),X(I,l,h,u)){i.sub(D,f,I);var V=Math.abs(i.dot(D,w));V<L&&(i.copy(R,I),L=V,i.scale(A,w,V),i.add(A,A,I),F=!0)}}if(F){if(c)return!0;var U=this.createContactEquation(t,s,e,l);return i.sub(U.normalA,R,r),i.normalize(U.normalA,U.normalA),i.scale(U.contactPointA,U.normalA,p),o(U.contactPointA,U.contactPointA,r),n(U.contactPointA,U.contactPointA,t.position),n(U.contactPointB,A,h),o(U.contactPointB,U.contactPointB,h),n(U.contactPointB,U.contactPointB,s.position),this.contactEquations.push(U),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(U)),1}if(p>0)for(N=0;N<B.length;N++){var W=B[N];if(i.rotate(E,W,u),o(E,E,h),n(T,E,r),i.squaredLength(T)<Math.pow(p,2))return!!c||(U=this.createContactEquation(t,s,e,l),i.copy(U.normalA,T),i.normalize(U.normalA,U.normalA),i.scale(U.contactPointA,U.normalA,p),o(U.contactPointA,U.contactPointA,r),n(U.contactPointA,U.contactPointA,t.position),n(U.contactPointB,E,h),o(U.contactPointB,U.contactPointB,h),n(U.contactPointB,U.contactPointB,s.position),this.contactEquations.push(U),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(U)),1)}return 0};var q=i.create(),H=i.create(),G=i.create(),Y=i.create();function X(t,e,r,a){for(var s=q,l=H,h=G,u=Y,c=t,p=e.vertices,f=null,d=0;d!==p.length+1;d++){var m=p[d%p.length],v=p[(d+1)%p.length];i.rotate(s,m,a),i.rotate(l,v,a),o(s,s,r),o(l,l,r),n(h,s,c),n(u,l,c);var y=i.crossLength(h,u);if(null===f&&(f=y),y*f<=0)return!1;f=y}return!0}F.prototype[f.PARTICLE|f.CONVEX]=F.prototype[f.PARTICLE|f.BOX]=F.prototype.particleConvex=function(t,e,r,s,l,h,u,c,p){var f=v,d=y,m=g,T=_,E=b,M=x,A=w,P=S,k=C,O=I,R=D,F=Number.MAX_VALUE,L=!1,B=h.vertices;if(!X(r,h,u,c))return 0;if(p)return!0;for(var N=0;N!==B.length+1;N++){var z=B[N%B.length],j=B[(N+1)%B.length];i.rotate(f,z,c),i.rotate(d,j,c),o(f,f,u),o(d,d,u),n(m,d,f),i.normalize(T,m),i.rotate90cw(E,T),n(P,r,f),a(P,E),n(M,f,u),n(A,r,u),i.sub(O,f,r);var V=Math.abs(i.dot(O,E));V<F&&(F=V,i.scale(k,E,V),i.add(k,k,r),i.copy(R,E),L=!0)}if(L){var U=this.createContactEquation(t,l,e,h);return i.scale(U.normalA,R,-1),i.normalize(U.normalA,U.normalA),i.set(U.contactPointA,0,0),o(U.contactPointA,U.contactPointA,r),n(U.contactPointA,U.contactPointA,t.position),n(U.contactPointB,k,u),o(U.contactPointB,U.contactPointB,u),n(U.contactPointB,U.contactPointB,l.position),this.contactEquations.push(U),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(U)),1}return 0},F.prototype[f.CIRCLE]=F.prototype.circleCircle=function(t,e,r,a,s,l,h,u,c,p,f){var d=v;p=p||e.radius,f=f||l.radius,n(d,r,h);var m=p+f;if(i.squaredLength(d)>Math.pow(m,2))return 0;if(c)return!0;var y=this.createContactEquation(t,s,e,l);return n(y.normalA,h,r),i.normalize(y.normalA,y.normalA),i.scale(y.contactPointA,y.normalA,p),i.scale(y.contactPointB,y.normalA,-f),o(y.contactPointA,y.contactPointA,r),n(y.contactPointA,y.contactPointA,t.position),o(y.contactPointB,y.contactPointB,h),n(y.contactPointB,y.contactPointB,s.position),this.contactEquations.push(y),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(y)),1},F.prototype[f.PLANE|f.CONVEX]=F.prototype[f.PLANE|f.BOX]=F.prototype.planeConvex=function(t,e,r,s,l,h,u,c,p){var f=v,d=y,_=g,b=0;i.rotate(d,m,s);for(var x=0;x!==h.vertices.length;x++){var w=h.vertices[x];if(i.rotate(f,w,c),o(f,f,u),n(_,f,r),a(_,d)<=0){if(p)return!0;b++;var T=this.createContactEquation(t,l,e,h);n(_,f,r),i.copy(T.normalA,d);var E=a(_,T.normalA);i.scale(_,T.normalA,E),n(T.contactPointB,f,l.position),n(T.contactPointA,f,_),n(T.contactPointA,T.contactPointA,t.position),this.contactEquations.push(T),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(T))}}return this.enableFrictionReduction&&this.enableFriction&&b&&this.frictionEquations.push(this.createFrictionFromAverage(b)),b},F.prototype[f.PARTICLE|f.PLANE]=F.prototype.particlePlane=function(t,e,r,o,s,l,h,u,c){var p=v,f=y;u=u||0,n(p,r,h),i.rotate(f,m,u);var d=a(p,f);if(d>0)return 0;if(c)return!0;var g=this.createContactEquation(s,t,l,e);return i.copy(g.normalA,f),i.scale(p,g.normalA,d),n(g.contactPointA,r,p),n(g.contactPointA,g.contactPointA,s.position),n(g.contactPointB,r,t.position),this.contactEquations.push(g),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(g)),1},F.prototype[f.CIRCLE|f.PARTICLE]=F.prototype.circleParticle=function(t,e,r,a,s,l,h,u,c){var p=v;if(n(p,h,r),i.squaredLength(p)>Math.pow(e.radius,2))return 0;if(c)return!0;var f=this.createContactEquation(t,s,e,l);return i.copy(f.normalA,p),i.normalize(f.normalA,f.normalA),i.scale(f.contactPointA,f.normalA,e.radius),o(f.contactPointA,f.contactPointA,r),n(f.contactPointA,f.contactPointA,t.position),n(f.contactPointB,h,s.position),this.contactEquations.push(f),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(f)),1};var K=new c({radius:1}),Z=i.create(),J=i.create();i.create(),F.prototype[f.PLANE|f.CAPSULE]=F.prototype.planeCapsule=function(t,e,r,n,a,s,l,h,u){var c,p=Z,f=J,d=K;i.set(p,-s.length/2,0),i.rotate(p,p,h),o(p,p,l),i.set(f,s.length/2,0),i.rotate(f,f,h),o(f,f,l),d.radius=s.radius,this.enableFrictionReduction&&(c=this.enableFriction,this.enableFriction=!1);var m=this.circlePlane(a,d,p,0,t,e,r,n,u),v=this.circlePlane(a,d,f,0,t,e,r,n,u);if(this.enableFrictionReduction&&(this.enableFriction=c),u)return m||v;var y=m+v;return this.enableFrictionReduction&&y&&this.frictionEquations.push(this.createFrictionFromAverage(y)),y},F.prototype[f.CIRCLE|f.PLANE]=F.prototype.circlePlane=function(t,e,r,s,l,h,u,c,p){var f=t,d=e,_=r,b=l,x=u,w=c;w=w||0;var T=v,E=y,S=g;n(T,_,x),i.rotate(E,m,w);var M=a(E,T);if(M>d.radius)return 0;if(p)return!0;var A=this.createContactEquation(b,f,h,e);return i.copy(A.normalA,E),i.scale(A.contactPointB,A.normalA,-d.radius),o(A.contactPointB,A.contactPointB,_),n(A.contactPointB,A.contactPointB,f.position),i.scale(S,A.normalA,M),n(A.contactPointA,T,S),o(A.contactPointA,A.contactPointA,x),n(A.contactPointA,A.contactPointA,b.position),this.contactEquations.push(A),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(A)),1},F.prototype[f.CONVEX]=F.prototype[f.CONVEX|f.BOX]=F.prototype[f.BOX]=F.prototype.convexConvex=function(t,e,r,s,l,h,u,c,p,f){var d=v,m=y,x=g,S=_,M=b,A=w,C=T,P=E,k=0;if(f="number"==typeof f?f:0,!F.findSeparatingAxis(e,r,s,h,u,c,d))return 0;n(C,u,r),a(d,C)>0&&i.scale(d,d,-1);var O=F.getClosestEdge(e,s,d,!0),I=F.getClosestEdge(h,c,d);if(-1===O||-1===I)return 0;for(var D=0;D<2;D++){var R,L=O,B=I,N=e,z=h,j=r,V=u,U=s,W=c,q=t,H=l;0===D&&(R=L,L=B,B=R,R=N,N=z,z=R,R=j,j=V,V=R,R=U,U=W,W=R,R=q,q=H,H=R);for(var G=B;G<B+2;G++){var Y=z.vertices[(G+z.vertices.length)%z.vertices.length];i.rotate(m,Y,W),o(m,m,V);for(var X=0,K=L-1;K<L+2;K++){var Z=N.vertices[(K+N.vertices.length)%N.vertices.length],J=N.vertices[(K+1+N.vertices.length)%N.vertices.length];i.rotate(x,Z,U),i.rotate(S,J,U),o(x,x,j),o(S,S,j),n(M,S,x),i.rotate90cw(P,M),i.normalize(P,P),n(C,m,x);var Q=a(P,C);(K===L&&Q<=f||K!==L&&Q<=0)&&X++}if(X>=3){if(p)return!0;var $=this.createContactEquation(q,H,N,z);k++,Z=N.vertices[L%N.vertices.length],J=N.vertices[(L+1)%N.vertices.length],i.rotate(x,Z,U),i.rotate(S,J,U),o(x,x,j),o(S,S,j),n(M,S,x),i.rotate90cw($.normalA,M),i.normalize($.normalA,$.normalA),n(C,m,x),Q=a($.normalA,C),i.scale(A,$.normalA,Q),n($.contactPointA,m,j),n($.contactPointA,$.contactPointA,A),o($.contactPointA,$.contactPointA,j),n($.contactPointA,$.contactPointA,q.position),n($.contactPointB,m,V),o($.contactPointB,$.contactPointB,V),n($.contactPointB,$.contactPointB,H.position),this.contactEquations.push($),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact($))}}}return this.enableFrictionReduction&&this.enableFriction&&k&&this.frictionEquations.push(this.createFrictionFromAverage(k)),k};var Q=i.fromValues(0,0);F.projectConvexOntoAxis=function(t,e,r,n,o){var s,l,h=null,u=null,c=Q;i.rotate(c,n,-r);for(var p=0;p<t.vertices.length;p++)s=t.vertices[p],l=a(s,c),(null===h||l>h)&&(h=l),(null===u||l<u)&&(u=l);if(u>h){var f=u;u=h,h=f}var d=a(e,n);i.set(o,u+d,h+d)};var $=i.fromValues(0,0),tt=i.fromValues(0,0),et=i.fromValues(0,0),rt=i.fromValues(0,0),it=i.fromValues(0,0),nt=i.fromValues(0,0);F.findSeparatingAxis=function(t,e,r,o,a,s,l){var h=null,u=!1,c=!1,p=$,f=tt,m=et,v=rt,y=it,g=nt;if(t instanceof d&&o instanceof d)for(var _=0;2!==_;_++){var b=t,x=r;1===_&&(b=o,x=s);for(var w=0;2!==w;w++){0===w?i.set(v,0,1):1===w&&i.set(v,1,0),0!==x&&i.rotate(v,v,x),F.projectConvexOntoAxis(t,e,r,v,y),F.projectConvexOntoAxis(o,a,s,v,g);var T=y,E=g;y[0]>g[0]&&(E=y,T=g),u=(S=E[0]-T[1])<=0,(null===h||S>h)&&(i.copy(l,v),h=S,c=u)}}else for(_=0;2!==_;_++)for(b=t,x=r,1===_&&(b=o,x=s),w=0;w!==b.vertices.length;w++){var S;i.rotate(f,b.vertices[w],x),i.rotate(m,b.vertices[(w+1)%b.vertices.length],x),n(p,m,f),i.rotate90cw(v,p),i.normalize(v,v),F.projectConvexOntoAxis(t,e,r,v,y),F.projectConvexOntoAxis(o,a,s,v,g),T=y,E=g,y[0]>g[0]&&(E=y,T=g),u=(S=E[0]-T[1])<=0,(null===h||S>h)&&(i.copy(l,v),h=S,c=u)}return c};var ot=i.fromValues(0,0),at=i.fromValues(0,0),st=i.fromValues(0,0);F.getClosestEdge=function(t,e,r,o){var s=ot,l=at,h=st;i.rotate(s,r,-e),o&&i.scale(s,s,-1);for(var u=-1,c=t.vertices.length,p=-1,f=0;f!==c;f++){n(l,t.vertices[(f+1)%c],t.vertices[f%c]),i.rotate90cw(h,l),i.normalize(h,h);var d=a(h,s);(-1===u||d>p)&&(u=f%c,p=d)}return u};var lt=i.create(),ht=i.create(),ut=i.create(),ct=i.create(),pt=i.create(),ft=i.create(),dt=i.create();F.prototype[f.CIRCLE|f.HEIGHTFIELD]=F.prototype.circleHeightfield=function(t,e,r,a,s,l,h,u,c,p){var f=l.heights,d=(p=p||e.radius,l.elementWidth),m=ht,v=lt,y=pt,g=dt,_=ft,b=ut,x=ct,w=Math.floor((r[0]-p-h[0])/d),T=Math.ceil((r[0]+p-h[0])/d);w<0&&(w=0),T>=f.length&&(T=f.length-1);for(var E=f[w],S=f[T],M=w;M<T;M++)f[M]<S&&(S=f[M]),f[M]>E&&(E=f[M]);if(r[1]-p>E)return!c&&0;var A=!1;for(M=w;M<T;M++){i.set(b,M*d,f[M]),i.set(x,(M+1)*d,f[M+1]),i.add(b,b,h),i.add(x,x,h),i.sub(_,x,b),i.rotate(_,_,Math.PI/2),i.normalize(_,_),i.scale(v,_,-p),i.add(v,v,r),i.sub(m,v,b);var C=i.dot(m,_);if(v[0]>=b[0]&&v[0]<x[0]&&C<=0){if(c)return!0;A=!0,i.scale(m,_,-C),i.add(y,v,m),i.copy(g,_);var P=this.createContactEquation(s,t,l,e);i.copy(P.normalA,g),i.scale(P.contactPointB,P.normalA,-p),o(P.contactPointB,P.contactPointB,r),n(P.contactPointB,P.contactPointB,t.position),i.copy(P.contactPointA,y),i.sub(P.contactPointA,P.contactPointA,s.position),this.contactEquations.push(P),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(P))}}if(A=!1,p>0)for(M=w;M<=T;M++)if(i.set(b,M*d,f[M]),i.add(b,b,h),i.sub(m,r,b),i.squaredLength(m)<Math.pow(p,2)){if(c)return!0;A=!0,P=this.createContactEquation(s,t,l,e),i.copy(P.normalA,m),i.normalize(P.normalA,P.normalA),i.scale(P.contactPointB,P.normalA,-p),o(P.contactPointB,P.contactPointB,r),n(P.contactPointB,P.contactPointB,t.position),n(P.contactPointA,b,h),o(P.contactPointA,P.contactPointA,h),n(P.contactPointA,P.contactPointA,s.position),this.contactEquations.push(P),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(P))}return A?1:0};var mt=i.create(),vt=i.create(),yt=i.create(),gt=new p({vertices:[i.create(),i.create(),i.create(),i.create()]});F.prototype[f.BOX|f.HEIGHTFIELD]=F.prototype[f.CONVEX|f.HEIGHTFIELD]=F.prototype.convexHeightfield=function(t,e,r,n,o,a,s,l,h){var u=a.heights,c=a.elementWidth,p=mt,f=vt,d=yt,m=gt,v=Math.floor((t.aabb.lowerBound[0]-s[0])/c),y=Math.ceil((t.aabb.upperBound[0]-s[0])/c);v<0&&(v=0),y>=u.length&&(y=u.length-1);for(var g=u[v],_=u[y],b=v;b<y;b++)u[b]<_&&(_=u[b]),u[b]>g&&(g=u[b]);if(t.aabb.lowerBound[1]>g)return!h&&0;var x=0;for(b=v;b<y;b++)i.set(p,b*c,u[b]),i.set(f,(b+1)*c,u[b+1]),i.add(p,p,s),i.add(f,f,s),i.set(d,.5*(f[0]+p[0]),.5*(f[1]+p[1]-100)),i.sub(m.vertices[0],f,d),i.sub(m.vertices[1],p,d),i.copy(m.vertices[2],m.vertices[1]),i.copy(m.vertices[3],m.vertices[0]),m.vertices[2][1]-=100,m.vertices[3][1]-=100,x+=this.convexConvex(t,e,r,n,o,m,d,0,h);return x}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../shapes/Box":37,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Shape":45,"../utils/ContactEquationPool":48,"../utils/FrictionEquationPool":49,"../utils/TupleDictionary":56,"../utils/Utils":57}],11:[function(t,e,r){e.exports=n;var i=t("../math/vec2");function n(t){t=t||{},this.from=t.from?i.fromValues(t.from[0],t.from[1]):i.create(),this.to=t.to?i.fromValues(t.to[0],t.to[1]):i.create(),this.checkCollisionResponse=void 0===t.checkCollisionResponse||t.checkCollisionResponse,this.skipBackfaces=!!t.skipBackfaces,this.collisionMask=void 0!==t.collisionMask?t.collisionMask:-1,this.collisionGroup=void 0!==t.collisionGroup?t.collisionGroup:-1,this.mode=void 0!==t.mode?t.mode:n.ANY,this.callback=t.callback||function(t){},this.direction=i.create(),this.length=1,this.update()}t("../collision/RaycastResult"),t("../shapes/Shape"),t("../collision/AABB"),n.prototype.constructor=n,n.CLOSEST=1,n.ANY=2,n.ALL=4,n.prototype.update=function(){var t=this.direction;i.sub(t,this.to,this.from),this.length=i.length(t),i.normalize(t,t)},n.prototype.intersectBodies=function(t,e){for(var r=0,i=e.length;!t.shouldStop(this)&&r<i;r++){var n=e[r],o=n.getAABB();(o.overlapsRay(this)>=0||o.containsPoint(this.from))&&this.intersectBody(t,n)}};var o=i.create();n.prototype.intersectBody=function(t,e){var r=this.checkCollisionResponse;if(!r||e.collisionResponse)for(var n=o,a=0,s=e.shapes.length;a<s;a++){var l=e.shapes[a];if((!r||l.collisionResponse)&&0!=(this.collisionGroup&l.collisionMask)&&0!=(l.collisionGroup&this.collisionMask)){i.rotate(n,l.position,e.angle),i.add(n,n,e.position);var h=l.angle+e.angle;if(this.intersectShape(t,l,h,n,e),t.shouldStop(this))break}}},n.prototype.intersectShape=function(t,e,r,n,o){(function(t,e,r){i.sub(a,r,t);var n=i.dot(a,e);return i.scale(s,e,n),i.add(s,s,t),i.squaredDistance(r,s)})(this.from,this.direction,n)>e.boundingRadius*e.boundingRadius||(this._currentBody=o,this._currentShape=e,e.raycast(t,this,n,r),this._currentBody=this._currentShape=null)},n.prototype.getAABB=function(t){var e=this.to,r=this.from;i.set(t.lowerBound,Math.min(e[0],r[0]),Math.min(e[1],r[1])),i.set(t.upperBound,Math.max(e[0],r[0]),Math.max(e[1],r[1]))},i.create(),n.prototype.reportIntersection=function(t,e,r,o){this.from,this.to;var a=this._currentShape,s=this._currentBody;if(!(this.skipBackfaces&&i.dot(r,this.direction)>0))switch(this.mode){case n.ALL:t.set(r,a,s,e,o),this.callback(t);break;case n.CLOSEST:(e<t.fraction||!t.hasHit())&&t.set(r,a,s,e,o);break;case n.ANY:t.set(r,a,s,e,o)}};var a=i.create(),s=i.create()},{"../collision/AABB":7,"../collision/RaycastResult":12,"../math/vec2":30,"../shapes/Shape":45}],12:[function(t,e,r){var i=t("../math/vec2"),n=t("../collision/Ray");function o(){this.normal=i.create(),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1}e.exports=o,o.prototype.reset=function(){i.set(this.normal,0,0),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1},o.prototype.getHitDistance=function(t){return i.distance(t.from,t.to)*this.fraction},o.prototype.hasHit=function(){return-1!==this.fraction},o.prototype.getHitPoint=function(t,e){i.lerp(t,e.from,e.to,this.fraction)},o.prototype.stop=function(){this.isStopped=!0},o.prototype.shouldStop=function(t){return this.isStopped||-1!==this.fraction&&t.mode===n.ANY},o.prototype.set=function(t,e,r,n,o){i.copy(this.normal,t),this.shape=e,this.body=r,this.fraction=n,this.faceIndex=o}},{"../collision/Ray":11,"../math/vec2":30}],13:[function(t,e,r){var i=t("../utils/Utils"),n=t("../collision/Broadphase");function o(){n.call(this,n.SAP),this.axisList=[],this.axisIndex=0;var t=this;this._addBodyHandler=function(e){t.axisList.push(e.body)},this._removeBodyHandler=function(e){var r=t.axisList.indexOf(e.body);-1!==r&&t.axisList.splice(r,1)}}e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.setWorld=function(t){this.axisList.length=0,i.appendArray(this.axisList,t.bodies),t.off("addBody",this._addBodyHandler).off("removeBody",this._removeBodyHandler),t.on("addBody",this._addBodyHandler).on("removeBody",this._removeBodyHandler),this.world=t},o.sortAxisList=function(t,e){e|=0;for(var r=1,i=t.length;r<i;r++){for(var n=t[r],o=r-1;o>=0&&!(t[o].aabb.lowerBound[e]<=n.aabb.lowerBound[e]);o--)t[o+1]=t[o];t[o+1]=n}return t},o.prototype.sortList=function(){var t=this.axisList,e=this.axisIndex;o.sortAxisList(t,e)},o.prototype.getCollisionPairs=function(t){var e=this.axisList,r=this.result,i=this.axisIndex;r.length=0;for(var o=e.length;o--;){var a=e[o];a.aabbNeedsUpdate&&a.updateAABB()}this.sortList();for(var s=0,l=0|e.length;s!==l;s++)for(var h=e[s],u=s+1;u<l;u++){var c=e[u];if(!(c.aabb.lowerBound[i]<=h.aabb.upperBound[i]))break;n.canCollide(h,c)&&this.boundingVolumeCheck(h,c)&&r.push(h,c)}return r},o.prototype.aabbQuery=function(t,e,r){r=r||[],this.sortList();var i=this.axisIndex,n="x";1===i&&(n="y"),2===i&&(n="z");for(var o=this.axisList,a=(e.lowerBound[n],e.upperBound[n],0);a<o.length;a++){var s=o[a];s.aabbNeedsUpdate&&s.updateAABB(),s.aabb.overlaps(e)&&r.push(s)}return r}},{"../collision/Broadphase":8,"../utils/Utils":57}],14:[function(t,e,r){e.exports=n;var i=t("../utils/Utils");function n(t,e,r,n){this.type=r,n=i.defaults(n,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=t,this.bodyB=e,this.collideConnected=n.collideConnected,n.wakeUpBodies&&(t&&t.wakeUp(),e&&e.wakeUp())}n.prototype.update=function(){throw new Error("method update() not implmemented in this Constraint subclass!")},n.DISTANCE=1,n.GEAR=2,n.LOCK=3,n.PRISMATIC=4,n.REVOLUTE=5,n.prototype.setStiffness=function(t){for(var e=this.equations,r=0;r!==e.length;r++){var i=e[r];i.stiffness=t,i.needsUpdate=!0}},n.prototype.setRelaxation=function(t){for(var e=this.equations,r=0;r!==e.length;r++){var i=e[r];i.relaxation=t,i.needsUpdate=!0}}},{"../utils/Utils":57}],15:[function(t,e,r){var i=t("./Constraint"),n=t("../equations/Equation"),o=t("../math/vec2"),a=t("../utils/Utils");function s(t,e,r){r=a.defaults(r,{localAnchorA:[0,0],localAnchorB:[0,0]}),i.call(this,t,e,i.DISTANCE,r),this.localAnchorA=o.fromValues(r.localAnchorA[0],r.localAnchorA[1]),this.localAnchorB=o.fromValues(r.localAnchorB[0],r.localAnchorB[1]);var s,l=this.localAnchorA,h=this.localAnchorB;if(this.distance=0,"number"==typeof r.distance)this.distance=r.distance;else{var u=o.create(),c=o.create(),p=o.create();o.rotate(u,l,t.angle),o.rotate(c,h,e.angle),o.add(p,e.position,c),o.sub(p,p,u),o.sub(p,p,t.position),this.distance=o.length(p)}s=void 0===r.maxForce?Number.MAX_VALUE:r.maxForce;var f=new n(t,e,-s,s);this.equations=[f],this.maxForce=s,p=o.create();var d=o.create(),m=o.create(),v=this;f.computeGq=function(){var t=this.bodyA,e=this.bodyB,r=t.position,i=e.position;return o.rotate(d,l,t.angle),o.rotate(m,h,e.angle),o.add(p,i,m),o.sub(p,p,d),o.sub(p,p,r),o.length(p)-v.distance},this.setMaxForce(s),this.upperLimitEnabled=!1,this.upperLimit=1,this.lowerLimitEnabled=!1,this.lowerLimit=0,this.position=0}e.exports=s,s.prototype=new i,s.prototype.constructor=s;var l=o.create(),h=o.create(),u=o.create();s.prototype.update=function(){var t=this.equations[0],e=this.bodyA,r=this.bodyB,i=(this.distance,e.position),n=r.position,a=this.equations[0],s=t.G;o.rotate(h,this.localAnchorA,e.angle),o.rotate(u,this.localAnchorB,r.angle),o.add(l,n,u),o.sub(l,l,h),o.sub(l,l,i),this.position=o.length(l);var c=!1;if(this.upperLimitEnabled&&this.position>this.upperLimit&&(a.maxForce=0,a.minForce=-this.maxForce,this.distance=this.upperLimit,c=!0),this.lowerLimitEnabled&&this.position<this.lowerLimit&&(a.maxForce=this.maxForce,a.minForce=0,this.distance=this.lowerLimit,c=!0),!this.lowerLimitEnabled&&!this.upperLimitEnabled||c){a.enabled=!0,o.normalize(l,l);var p=o.crossLength(h,l),f=o.crossLength(u,l);s[0]=-l[0],s[1]=-l[1],s[2]=-p,s[3]=l[0],s[4]=l[1],s[5]=f}else a.enabled=!1},s.prototype.setMaxForce=function(t){var e=this.equations[0];e.minForce=-t,e.maxForce=t},s.prototype.getMaxForce=function(){return this.equations[0].maxForce}},{"../equations/Equation":22,"../math/vec2":30,"../utils/Utils":57,"./Constraint":14}],16:[function(t,e,r){var i=t("./Constraint"),n=(t("../equations/Equation"),t("../equations/AngleLockEquation"));function o(t,e,r){r=r||{},i.call(this,t,e,i.GEAR,r),this.ratio=void 0!==r.ratio?r.ratio:1,this.angle=void 0!==r.angle?r.angle:e.angle-this.ratio*t.angle,r.angle=this.angle,r.ratio=this.ratio,this.equations=[new n(t,e,r)],void 0!==r.maxTorque&&this.setMaxTorque(r.maxTorque)}t("../math/vec2"),e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.update=function(){var t=this.equations[0];t.ratio!==this.ratio&&t.setRatio(this.ratio),t.angle=this.angle},o.prototype.setMaxTorque=function(t){this.equations[0].setMaxTorque(t)},o.prototype.getMaxTorque=function(t){return this.equations[0].maxForce}},{"../equations/AngleLockEquation":20,"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],17:[function(t,e,r){var i=t("./Constraint"),n=t("../math/vec2"),o=t("../equations/Equation");function a(t,e,r){r=r||{},i.call(this,t,e,i.LOCK,r);var a=void 0===r.maxForce?Number.MAX_VALUE:r.maxForce,s=(r.localAngleB,new o(t,e,-a,a)),l=new o(t,e,-a,a),h=new o(t,e,-a,a),u=n.create(),c=n.create(),p=this;s.computeGq=function(){return n.rotate(u,p.localOffsetB,t.angle),n.sub(c,e.position,t.position),n.sub(c,c,u),c[0]},l.computeGq=function(){return n.rotate(u,p.localOffsetB,t.angle),n.sub(c,e.position,t.position),n.sub(c,c,u),c[1]};var f=n.create(),d=n.create();h.computeGq=function(){return n.rotate(f,p.localOffsetB,e.angle-p.localAngleB),n.scale(f,f,-1),n.sub(c,t.position,e.position),n.add(c,c,f),n.rotate(d,f,-Math.PI/2),n.normalize(d,d),n.dot(c,d)},this.localOffsetB=n.create(),r.localOffsetB?n.copy(this.localOffsetB,r.localOffsetB):(n.sub(this.localOffsetB,e.position,t.position),n.rotate(this.localOffsetB,this.localOffsetB,-t.angle)),this.localAngleB=0,"number"==typeof r.localAngleB?this.localAngleB=r.localAngleB:this.localAngleB=e.angle-t.angle,this.equations.push(s,l,h),this.setMaxForce(a)}e.exports=a,a.prototype=new i,a.prototype.constructor=a,a.prototype.setMaxForce=function(t){for(var e=this.equations,r=0;r<this.equations.length;r++)e[r].maxForce=t,e[r].minForce=-t},a.prototype.getMaxForce=function(){return this.equations[0].maxForce};var s=n.create(),l=n.create(),h=n.create(),u=n.fromValues(1,0),c=n.fromValues(0,1);a.prototype.update=function(){var t=this.equations[0],e=this.equations[1],r=this.equations[2],i=this.bodyA,o=this.bodyB;n.rotate(s,this.localOffsetB,i.angle),n.rotate(l,this.localOffsetB,o.angle-this.localAngleB),n.scale(l,l,-1),n.rotate(h,l,Math.PI/2),n.normalize(h,h),t.G[0]=-1,t.G[1]=0,t.G[2]=-n.crossLength(s,u),t.G[3]=1,e.G[0]=0,e.G[1]=-1,e.G[2]=-n.crossLength(s,c),e.G[4]=1,r.G[0]=-h[0],r.G[1]=-h[1],r.G[3]=h[0],r.G[4]=h[1],r.G[5]=n.crossLength(l,h)}},{"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],18:[function(t,e,r){var i=t("./Constraint"),n=t("../equations/ContactEquation"),o=t("../equations/Equation"),a=t("../math/vec2"),s=t("../equations/RotationalLockEquation");function l(t,e,r){r=r||{},i.call(this,t,e,i.PRISMATIC,r);var l=a.fromValues(0,0),h=a.fromValues(1,0),u=a.fromValues(0,0);r.localAnchorA&&a.copy(l,r.localAnchorA),r.localAxisA&&a.copy(h,r.localAxisA),r.localAnchorB&&a.copy(u,r.localAnchorB),this.localAnchorA=l,this.localAnchorB=u,this.localAxisA=h;var c=this.maxForce=void 0!==r.maxForce?r.maxForce:Number.MAX_VALUE,p=new o(t,e,-c,c),f=new a.create,d=new a.create,m=new a.create,v=new a.create;if(p.computeGq=function(){return a.dot(m,v)},p.updateJacobian=function(){var r=this.G,i=t.position,n=e.position;a.rotate(f,l,t.angle),a.rotate(d,u,e.angle),a.add(m,n,d),a.sub(m,m,i),a.sub(m,m,f),a.rotate(v,h,t.angle+Math.PI/2),r[0]=-v[0],r[1]=-v[1],r[2]=-a.crossLength(f,v)+a.crossLength(v,m),r[3]=v[0],r[4]=v[1],r[5]=a.crossLength(d,v)},this.equations.push(p),!r.disableRotationalLock){var y=new s(t,e,-c,c);this.equations.push(y)}this.position=0,this.velocity=0,this.lowerLimitEnabled=void 0!==r.lowerLimit,this.upperLimitEnabled=void 0!==r.upperLimit,this.lowerLimit=void 0!==r.lowerLimit?r.lowerLimit:0,this.upperLimit=void 0!==r.upperLimit?r.upperLimit:1,this.upperLimitEquation=new n(t,e),this.lowerLimitEquation=new n(t,e),this.upperLimitEquation.minForce=this.lowerLimitEquation.minForce=0,this.upperLimitEquation.maxForce=this.lowerLimitEquation.maxForce=c,this.motorEquation=new o(t,e),this.motorEnabled=!1,this.motorSpeed=0;var g=this,_=this.motorEquation;_.computeGW,_.computeGq=function(){return 0},_.computeGW=function(){var t=this.G,e=this.bodyA,r=this.bodyB,i=e.velocity,n=r.velocity,o=e.angularVelocity,a=r.angularVelocity;return this.gmult(t,i,o,n,a)+g.motorSpeed}}e.exports=l,l.prototype=new i,l.prototype.constructor=l;var h=a.create(),u=a.create(),c=a.create(),p=a.create(),f=a.create(),d=a.create();l.prototype.update=function(){var t=this.equations,e=t[0],r=this.upperLimit,i=this.lowerLimit,n=this.upperLimitEquation,o=this.lowerLimitEquation,s=this.bodyA,l=this.bodyB,m=this.localAxisA,v=this.localAnchorA,y=this.localAnchorB;e.updateJacobian(),a.rotate(h,m,s.angle),a.rotate(p,v,s.angle),a.add(u,p,s.position),a.rotate(f,y,l.angle),a.add(c,f,l.position);var g,_=this.position=a.dot(c,h)-a.dot(u,h);if(this.motorEnabled){var b=this.motorEquation.G;b[0]=h[0],b[1]=h[1],b[2]=a.crossLength(h,f),b[3]=-h[0],b[4]=-h[1],b[5]=-a.crossLength(h,p)}this.upperLimitEnabled&&_>r?(a.scale(n.normalA,h,-1),a.sub(n.contactPointA,u,s.position),a.sub(n.contactPointB,c,l.position),a.scale(d,h,r),a.add(n.contactPointA,n.contactPointA,d),-1===t.indexOf(n)&&t.push(n)):-1!==(g=t.indexOf(n))&&t.splice(g,1),this.lowerLimitEnabled&&_<i?(a.scale(o.normalA,h,1),a.sub(o.contactPointA,u,s.position),a.sub(o.contactPointB,c,l.position),a.scale(d,h,i),a.sub(o.contactPointB,o.contactPointB,d),-1===t.indexOf(o)&&t.push(o)):-1!==(g=t.indexOf(o))&&t.splice(g,1)},l.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},l.prototype.disableMotor=function(){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations.splice(t,1),this.motorEnabled=!1}},l.prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../math/vec2":30,"./Constraint":14}],19:[function(t,e,r){var i=t("./Constraint"),n=t("../equations/Equation"),o=t("../equations/RotationalVelocityEquation"),a=t("../equations/RotationalLockEquation"),s=t("../math/vec2");e.exports=f;var l=s.create(),h=s.create(),u=s.fromValues(1,0),c=s.fromValues(0,1),p=s.create();function f(t,e,r){r=r||{},i.call(this,t,e,i.REVOLUTE,r);var f=this.maxForce=void 0!==r.maxForce?r.maxForce:Number.MAX_VALUE;this.pivotA=s.create(),this.pivotB=s.create(),r.worldPivot?(s.sub(this.pivotA,r.worldPivot,t.position),s.sub(this.pivotB,r.worldPivot,e.position),s.rotate(this.pivotA,this.pivotA,-t.angle),s.rotate(this.pivotB,this.pivotB,-e.angle)):(s.copy(this.pivotA,r.localPivotA),s.copy(this.pivotB,r.localPivotB));var d=this.equations=[new n(t,e,-f,f),new n(t,e,-f,f)],m=d[0],v=d[1],y=this;m.computeGq=function(){return s.rotate(l,y.pivotA,t.angle),s.rotate(h,y.pivotB,e.angle),s.add(p,e.position,h),s.sub(p,p,t.position),s.sub(p,p,l),s.dot(p,u)},v.computeGq=function(){return s.rotate(l,y.pivotA,t.angle),s.rotate(h,y.pivotB,e.angle),s.add(p,e.position,h),s.sub(p,p,t.position),s.sub(p,p,l),s.dot(p,c)},v.minForce=m.minForce=-f,v.maxForce=m.maxForce=f,this.motorEquation=new o(t,e),this.motorEnabled=!1,this.angle=0,this.lowerLimitEnabled=!1,this.upperLimitEnabled=!1,this.lowerLimit=0,this.upperLimit=0,this.upperLimitEquation=new a(t,e),this.lowerLimitEquation=new a(t,e),this.upperLimitEquation.minForce=0,this.lowerLimitEquation.maxForce=0}f.prototype=new i,f.prototype.constructor=f,f.prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)},f.prototype.update=function(){var t,e=this.bodyA,r=this.bodyB,i=this.pivotA,n=this.pivotB,o=this.equations,a=(o[0],o[1],o[0]),p=o[1],f=this.upperLimit,d=this.lowerLimit,m=this.upperLimitEquation,v=this.lowerLimitEquation,y=this.angle=r.angle-e.angle;this.upperLimitEnabled&&y>f?(m.angle=f,-1===o.indexOf(m)&&o.push(m)):-1!==(t=o.indexOf(m))&&o.splice(t,1),this.lowerLimitEnabled&&y<d?(v.angle=d,-1===o.indexOf(v)&&o.push(v)):-1!==(t=o.indexOf(v))&&o.splice(t,1),s.rotate(l,i,e.angle),s.rotate(h,n,r.angle),a.G[0]=-1,a.G[1]=0,a.G[2]=-s.crossLength(l,u),a.G[3]=1,a.G[4]=0,a.G[5]=s.crossLength(h,u),p.G[0]=0,p.G[1]=-1,p.G[2]=-s.crossLength(l,c),p.G[3]=0,p.G[4]=1,p.G[5]=s.crossLength(h,c)},f.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},f.prototype.disableMotor=function(){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations.splice(t,1),this.motorEnabled=!1}},f.prototype.motorIsEnabled=function(){return!!this.motorEnabled},f.prototype.setMotorSpeed=function(t){if(this.motorEnabled){var e=this.equations.indexOf(this.motorEquation);this.equations[e].relativeVelocity=t}},f.prototype.getMotorSpeed=function(){return!!this.motorEnabled&&this.motorEquation.relativeVelocity}},{"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../equations/RotationalVelocityEquation":25,"../math/vec2":30,"./Constraint":14}],20:[function(t,e,r){var i=t("./Equation");function n(t,e,r){r=r||{},i.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=r.angle||0,this.ratio="number"==typeof r.ratio?r.ratio:1,this.setRatio(this.ratio)}t("../math/vec2"),e.exports=n,n.prototype=new i,n.prototype.constructor=n,n.prototype.computeGq=function(){return this.ratio*this.bodyA.angle-this.bodyB.angle+this.angle},n.prototype.setRatio=function(t){var e=this.G;e[2]=t,e[5]=-1,this.ratio=t},n.prototype.setMaxTorque=function(t){this.maxForce=t,this.minForce=-t}},{"../math/vec2":30,"./Equation":22}],21:[function(t,e,r){var i=t("./Equation"),n=t("../math/vec2");function o(t,e){i.call(this,t,e,0,Number.MAX_VALUE),this.contactPointA=n.create(),this.penetrationVec=n.create(),this.contactPointB=n.create(),this.normalA=n.create(),this.restitution=0,this.firstImpact=!1,this.shapeA=null,this.shapeB=null}e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.computeB=function(t,e,r){var i,o,a=this.bodyA,s=this.bodyB,l=this.contactPointA,h=this.contactPointB,u=a.position,c=s.position,p=this.penetrationVec,f=this.normalA,d=this.G,m=n.crossLength(l,f),v=n.crossLength(h,f);return d[0]=-f[0],d[1]=-f[1],d[2]=-m,d[3]=f[0],d[4]=f[1],d[5]=v,n.add(p,c,h),n.sub(p,p,u),n.sub(p,p,l),this.firstImpact&&0!==this.restitution?(o=0,i=1/e*(1+this.restitution)*this.computeGW()):(o=n.dot(f,p)+this.offset,i=this.computeGW()),-o*t-i*e-r*this.computeGiMf()};var a=n.create(),s=n.create(),l=n.create();o.prototype.getVelocityAlongNormal=function(){return this.bodyA.getVelocityAtPoint(a,this.contactPointA),this.bodyB.getVelocityAtPoint(s,this.contactPointB),n.subtract(l,a,s),n.dot(this.normalA,l)}},{"../math/vec2":30,"./Equation":22}],22:[function(t,e,r){e.exports=o;var i=t("../math/vec2"),n=t("../utils/Utils");function o(t,e,r,i){this.minForce=void 0===r?-Number.MAX_VALUE:r,this.maxForce=void 0===i?Number.MAX_VALUE:i,this.bodyA=t,this.bodyB=e,this.stiffness=o.DEFAULT_STIFFNESS,this.relaxation=o.DEFAULT_RELAXATION,this.G=new n.ARRAY_TYPE(6);for(var a=0;a<6;a++)this.G[a]=0;this.offset=0,this.a=0,this.b=0,this.epsilon=0,this.timeStep=1/60,this.needsUpdate=!0,this.multiplier=0,this.relativeVelocity=0,this.enabled=!0}t("../objects/Body"),o.prototype.constructor=o,o.DEFAULT_STIFFNESS=1e6,o.DEFAULT_RELAXATION=4,o.prototype.update=function(){var t=this.stiffness,e=this.relaxation,r=this.timeStep;this.a=4/(r*(1+4*e)),this.b=4*e/(1+4*e),this.epsilon=4/(r*r*t*(1+4*e)),this.needsUpdate=!1},o.prototype.gmult=function(t,e,r,i,n){return t[0]*e[0]+t[1]*e[1]+t[2]*r+t[3]*i[0]+t[4]*i[1]+t[5]*n},o.prototype.computeB=function(t,e,r){var i=this.computeGW();return-this.computeGq()*t-i*e-this.computeGiMf()*r};var a=i.create(),s=i.create();o.prototype.computeGq=function(){var t=this.G,e=this.bodyA,r=this.bodyB,i=(e.position,r.position,e.angle),n=r.angle;return this.gmult(t,a,i,s,n)+this.offset},o.prototype.computeGW=function(){var t=this.G,e=this.bodyA,r=this.bodyB,i=e.velocity,n=r.velocity,o=e.angularVelocity,a=r.angularVelocity;return this.gmult(t,i,o,n,a)+this.relativeVelocity},o.prototype.computeGWlambda=function(){var t=this.G,e=this.bodyA,r=this.bodyB,i=e.vlambda,n=r.vlambda,o=e.wlambda,a=r.wlambda;return this.gmult(t,i,o,n,a)};var l=i.create(),h=i.create();o.prototype.computeGiMf=function(){var t=this.bodyA,e=this.bodyB,r=t.force,n=t.angularForce,o=e.force,a=e.angularForce,s=t.invMassSolve,u=e.invMassSolve,c=t.invInertiaSolve,p=e.invInertiaSolve,f=this.G;return i.scale(l,r,s),i.multiply(l,t.massMultiplier,l),i.scale(h,o,u),i.multiply(h,e.massMultiplier,h),this.gmult(f,l,n*c,h,a*p)},o.prototype.computeGiMGt=function(){var t=this.bodyA,e=this.bodyB,r=t.invMassSolve,i=e.invMassSolve,n=t.invInertiaSolve,o=e.invInertiaSolve,a=this.G;return a[0]*a[0]*r*t.massMultiplier[0]+a[1]*a[1]*r*t.massMultiplier[1]+a[2]*a[2]*n+a[3]*a[3]*i*e.massMultiplier[0]+a[4]*a[4]*i*e.massMultiplier[1]+a[5]*a[5]*o};var u=i.create(),c=i.create(),p=i.create();i.create(),i.create(),i.create(),o.prototype.addToWlambda=function(t){var e=this.bodyA,r=this.bodyB,n=u,o=c,a=p,s=e.invMassSolve,l=r.invMassSolve,h=e.invInertiaSolve,f=r.invInertiaSolve,d=this.G;o[0]=d[0],o[1]=d[1],a[0]=d[3],a[1]=d[4],i.scale(n,o,s*t),i.multiply(n,n,e.massMultiplier),i.add(e.vlambda,e.vlambda,n),e.wlambda+=h*d[2]*t,i.scale(n,a,l*t),i.multiply(n,n,r.massMultiplier),i.add(r.vlambda,r.vlambda,n),r.wlambda+=f*d[5]*t},o.prototype.computeInvC=function(t){return 1/(this.computeGiMGt()+t)}},{"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],23:[function(t,e,r){var i=t("../math/vec2"),n=t("./Equation");function o(t,e,r){n.call(this,t,e,-r,r),this.contactPointA=i.create(),this.contactPointB=i.create(),this.t=i.create(),this.contactEquations=[],this.shapeA=null,this.shapeB=null,this.frictionCoefficient=.3}t("../utils/Utils"),e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.setSlipForce=function(t){this.maxForce=t,this.minForce=-t},o.prototype.getSlipForce=function(){return this.maxForce},o.prototype.computeB=function(t,e,r){this.bodyA,this.bodyB;var n=this.contactPointA,o=this.contactPointB,a=this.t,s=this.G;return s[0]=-a[0],s[1]=-a[1],s[2]=-i.crossLength(n,a),s[3]=a[0],s[4]=a[1],s[5]=i.crossLength(o,a),-this.computeGW()*e-r*this.computeGiMf()}},{"../math/vec2":30,"../utils/Utils":57,"./Equation":22}],24:[function(t,e,r){var i=t("./Equation"),n=t("../math/vec2");function o(t,e,r){r=r||{},i.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=r.angle||0;var n=this.G;n[2]=1,n[5]=-1}e.exports=o,o.prototype=new i,o.prototype.constructor=o;var a=n.create(),s=n.create(),l=n.fromValues(1,0),h=n.fromValues(0,1);o.prototype.computeGq=function(){return n.rotate(a,l,this.bodyA.angle+this.angle),n.rotate(s,h,this.bodyB.angle),n.dot(a,s)}},{"../math/vec2":30,"./Equation":22}],25:[function(t,e,r){var i=t("./Equation");function n(t,e){i.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.relativeVelocity=1,this.ratio=1}t("../math/vec2"),e.exports=n,n.prototype=new i,n.prototype.constructor=n,n.prototype.computeB=function(t,e,r){var i=this.G;i[2]=-1,i[5]=this.ratio;var n=this.computeGiMf();return-this.computeGW()*e-r*n}},{"../math/vec2":30,"./Equation":22}],26:[function(t,e,r){var i=function(){};e.exports=i,i.prototype={constructor:i,on:function(t,e,r){e.context=r||this,void 0===this._listeners&&(this._listeners={});var i=this._listeners;return void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e),this},has:function(t,e){if(void 0===this._listeners)return!1;var r=this._listeners;if(e){if(void 0!==r[t]&&-1!==r[t].indexOf(e))return!0}else if(void 0!==r[t])return!0;return!1},off:function(t,e){if(void 0===this._listeners)return this;var r=this._listeners,i=r[t].indexOf(e);return-1!==i&&r[t].splice(i,1),this},emit:function(t){if(void 0===this._listeners)return this;var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var r=0,i=e.length;r<i;r++){var n=e[r];n.call(n.context,t)}}return this}}},{}],27:[function(t,e,r){var i=t("./Material"),n=t("../equations/Equation");function o(t,e,r){if(r=r||{},!(t instanceof i&&e instanceof i))throw new Error("First two arguments must be Material instances.");this.id=o.idCounter++,this.materialA=t,this.materialB=e,this.friction=void 0!==r.friction?Number(r.friction):.3,this.restitution=void 0!==r.restitution?Number(r.restitution):0,this.stiffness=void 0!==r.stiffness?Number(r.stiffness):n.DEFAULT_STIFFNESS,this.relaxation=void 0!==r.relaxation?Number(r.relaxation):n.DEFAULT_RELAXATION,this.frictionStiffness=void 0!==r.frictionStiffness?Number(r.frictionStiffness):n.DEFAULT_STIFFNESS,this.frictionRelaxation=void 0!==r.frictionRelaxation?Number(r.frictionRelaxation):n.DEFAULT_RELAXATION,this.surfaceVelocity=void 0!==r.surfaceVelocity?Number(r.surfaceVelocity):0,this.contactSkinSize=.005}e.exports=o,o.idCounter=0},{"../equations/Equation":22,"./Material":28}],28:[function(t,e,r){function i(t){this.id=t||i.idCounter++}e.exports=i,i.idCounter=0},{}],29:[function(t,e,r){var i={GetArea:function(t){if(t.length<6)return 0;for(var e=t.length-2,r=0,i=0;i<e;i+=2)r+=(t[i+2]-t[i])*(t[i+1]+t[i+3]);return.5*-(r+=(t[0]-t[e])*(t[e+1]+t[1]))},Triangulate:function(t){var e=t.length>>1;if(e<3)return[];for(var r=[],n=[],o=0;o<e;o++)n.push(o);o=0;for(var a=e;a>3;){var s=n[(o+0)%a],l=n[(o+1)%a],h=n[(o+2)%a],u=t[2*s],c=t[2*s+1],p=t[2*l],f=t[2*l+1],d=t[2*h],m=t[2*h+1],v=!1;if(i._convex(u,c,p,f,d,m)){v=!0;for(var y=0;y<a;y++){var g=n[y];if(g!=s&&g!=l&&g!=h&&i._PointInTriangle(t[2*g],t[2*g+1],u,c,p,f,d,m)){v=!1;break}}}if(v)r.push(s,l,h),n.splice((o+1)%a,1),a--,o=0;else if(o++>3*a)break}return r.push(n[0],n[1],n[2]),r},_PointInTriangle:function(t,e,r,i,n,o,a,s){var l=a-r,h=s-i,u=n-r,c=o-i,p=t-r,f=e-i,d=l*l+h*h,m=l*u+h*c,v=l*p+h*f,y=u*u+c*c,g=u*p+c*f,_=1/(d*y-m*m),b=(y*v-m*g)*_,x=(d*g-m*v)*_;return b>=0&&x>=0&&b+x<1},_convex:function(t,e,r,i,n,o){return(e-i)*(n-r)+(r-t)*(o-i)>=0}};e.exports=i},{}],30:[function(t,e,r){var i=e.exports={},n=t("../utils/Utils");i.crossLength=function(t,e){return t[0]*e[1]-t[1]*e[0]},i.crossVZ=function(t,e,r){return i.rotate(t,e,-Math.PI/2),i.scale(t,t,r),t},i.crossZV=function(t,e,r){return i.rotate(t,r,Math.PI/2),i.scale(t,t,e),t},i.rotate=function(t,e,r){if(0!==r){var i=Math.cos(r),n=Math.sin(r),o=e[0],a=e[1];t[0]=i*o-n*a,t[1]=n*o+i*a}else t[0]=e[0],t[1]=e[1]},i.rotate90cw=function(t,e){var r=e[0],i=e[1];t[0]=i,t[1]=-r},i.toLocalFrame=function(t,e,r,n){i.copy(t,e),i.sub(t,t,r),i.rotate(t,t,-n)},i.toGlobalFrame=function(t,e,r,n){i.copy(t,e),i.rotate(t,t,n),i.add(t,t,r)},i.vectorToLocalFrame=function(t,e,r){i.rotate(t,e,-r)},i.vectorToGlobalFrame=function(t,e,r){i.rotate(t,e,r)},i.centroid=function(t,e,r,n){return i.add(t,e,r),i.add(t,t,n),i.scale(t,t,1/3),t},i.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},i.fromValues=function(t,e){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},i.set=function(t,e,r){return t[0]=e,t[1]=r,t},i.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},i.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t},i.sub=i.subtract,i.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t},i.mul=i.multiply,i.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t},i.div=i.divide,i.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},i.distance=function(t,e){var r=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var r=e[0]-t[0],i=e[1]-t[1];return r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)},i.len=i.length,i.squaredLength=function(t){var e=t[0],r=t[1];return e*e+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.normalize=function(t,e){var r=e[0],i=e[1],n=r*r+i*i;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},i.lerp=function(t,e,r,i){var n=e[0],o=e[1];return t[0]=n+i*(r[0]-n),t[1]=o+i*(r[1]-o),t},i.reflect=function(t,e,r){var i=e[0]*r[0]+e[1]*r[1];t[0]=e[0]-2*r[0]*i,t[1]=e[1]-2*r[1]*i},i.getLineSegmentsIntersection=function(t,e,r,n,o){var a=i.getLineSegmentsIntersectionFraction(e,r,n,o);return!(a<0||(t[0]=e[0]+a*(r[0]-e[0]),t[1]=e[1]+a*(r[1]-e[1]),0))},i.getLineSegmentsIntersectionFraction=function(t,e,r,i){var n,o,a=e[0]-t[0],s=e[1]-t[1],l=i[0]-r[0],h=i[1]-r[1];return n=(-s*(t[0]-r[0])+a*(t[1]-r[1]))/(-l*s+a*h),o=(l*(t[1]-r[1])-h*(t[0]-r[0]))/(-l*s+a*h),n>=0&&n<=1&&o>=0&&o<=1?o:-1}},{"../utils/Utils":57}],31:[function(t,e,r){var i=t("../math/vec2"),n=t("poly-decomp"),o=t("../shapes/Convex"),a=t("../collision/RaycastResult"),s=t("../collision/Ray"),l=t("../collision/AABB"),h=t("../events/EventEmitter");function u(t){t=t||{},h.call(this),this.id=t.id||++u._idCounter,this.world=null,this.shapes=[],this.mass=t.mass||0,this.invMass=0,this.inertia=0,this.invInertia=0,this.invMassSolve=0,this.invInertiaSolve=0,this.fixedRotation=!!t.fixedRotation,this.fixedX=!!t.fixedX,this.fixedY=!!t.fixedY,this.massMultiplier=i.create(),this.position=i.fromValues(0,0),t.position&&i.copy(this.position,t.position),this.interpolatedPosition=i.fromValues(0,0),this.interpolatedAngle=0,this.previousPosition=i.fromValues(0,0),this.previousAngle=0,this.velocity=i.fromValues(0,0),t.velocity&&i.copy(this.velocity,t.velocity),this.vlambda=i.fromValues(0,0),this.wlambda=0,this.angle=t.angle||0,this.angularVelocity=t.angularVelocity||0,this.force=i.create(),t.force&&i.copy(this.force,t.force),this.angularForce=t.angularForce||0,this.damping="number"==typeof t.damping?t.damping:.1,this.angularDamping="number"==typeof t.angularDamping?t.angularDamping:.1,this.type=u.STATIC,void 0!==t.type?this.type=t.type:t.mass?this.type=u.DYNAMIC:this.type=u.STATIC,this.boundingRadius=0,this.aabb=new l,this.aabbNeedsUpdate=!0,this.allowSleep=void 0===t.allowSleep||t.allowSleep,this.wantsToSleep=!1,this.sleepState=u.AWAKE,this.sleepSpeedLimit=void 0!==t.sleepSpeedLimit?t.sleepSpeedLimit:.2,this.sleepTimeLimit=void 0!==t.sleepTimeLimit?t.sleepTimeLimit:1,this.gravityScale=void 0!==t.gravityScale?t.gravityScale:1,this.collisionResponse=void 0===t.collisionResponse||t.collisionResponse,this.idleTime=0,this.timeLastSleepy=0,this.ccdSpeedThreshold=void 0!==t.ccdSpeedThreshold?t.ccdSpeedThreshold:-1,this.ccdIterations=void 0!==t.ccdIterations?t.ccdIterations:10,this.concavePath=null,this._wakeUpAfterNarrowphase=!1,this.updateMassProperties()}e.exports=u,u.prototype=new h,u.prototype.constructor=u,u._idCounter=0,u.prototype.updateSolveMassProperties=function(){this.sleepState===u.SLEEPING||this.type===u.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve=0):(this.invMassSolve=this.invMass,this.invInertiaSolve=this.invInertia)},u.prototype.setDensity=function(t){var e=this.getArea();this.mass=e*t,this.updateMassProperties()},u.prototype.getArea=function(){for(var t=0,e=0;e<this.shapes.length;e++)t+=this.shapes[e].area;return t},u.prototype.getAABB=function(){return this.aabbNeedsUpdate&&this.updateAABB(),this.aabb};var c=new l,p=i.create();u.prototype.updateAABB=function(){for(var t=this.shapes,e=t.length,r=p,n=this.angle,o=0;o!==e;o++){var a=t[o],s=a.angle+n;i.rotate(r,a.position,n),i.add(r,r,this.position),a.computeAABB(c,r,s),0===o?this.aabb.copy(c):this.aabb.extend(c)}this.aabbNeedsUpdate=!1},u.prototype.updateBoundingRadius=function(){for(var t=this.shapes,e=t.length,r=0,n=0;n!==e;n++){var o=t[n],a=i.length(o.position),s=o.boundingRadius;a+s>r&&(r=a+s)}this.boundingRadius=r},u.prototype.addShape=function(t,e,r){if(t.body)throw new Error("A shape can only be added to one body.");t.body=this,e?i.copy(t.position,e):i.set(t.position,0,0),t.angle=r||0,this.shapes.push(t),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0},u.prototype.removeShape=function(t){var e=this.shapes.indexOf(t);return-1!==e&&(this.shapes.splice(e,1),this.aabbNeedsUpdate=!0,t.body=null,!0)},u.prototype.updateMassProperties=function(){if(this.type===u.STATIC||this.type===u.KINEMATIC)this.mass=Number.MAX_VALUE,this.invMass=0,this.inertia=Number.MAX_VALUE,this.invInertia=0;else{var t=this.shapes,e=t.length,r=this.mass/e,n=0;if(this.fixedRotation)this.inertia=Number.MAX_VALUE,this.invInertia=0;else{for(var o=0;o<e;o++){var a=t[o],s=i.squaredLength(a.position);n+=a.computeMomentOfInertia(r)+r*s}this.inertia=n,this.invInertia=n>0?1/n:0}this.invMass=1/this.mass,i.set(this.massMultiplier,this.fixedX?0:1,this.fixedY?0:1)}},i.create(),u.prototype.applyForce=function(t,e){if(i.add(this.force,this.force,t),e){var r=i.crossLength(e,t);this.angularForce+=r}};var f=i.create(),d=i.create(),m=i.create();u.prototype.applyForceLocal=function(t,e){e=e||m;var r=f,i=d;this.vectorToWorldFrame(r,t),this.vectorToWorldFrame(i,e),this.applyForce(r,i)};var v=i.create();u.prototype.applyImpulse=function(t,e){if(this.type===u.DYNAMIC){var r=v;if(i.scale(r,t,this.invMass),i.multiply(r,this.massMultiplier,r),i.add(this.velocity,r,this.velocity),e){var n=i.crossLength(e,t);n*=this.invInertia,this.angularVelocity+=n}}};var y=i.create(),g=i.create(),_=i.create();u.prototype.applyImpulseLocal=function(t,e){e=e||_;var r=y,i=g;this.vectorToWorldFrame(r,t),this.vectorToWorldFrame(i,e),this.applyImpulse(r,i)},u.prototype.toLocalFrame=function(t,e){i.toLocalFrame(t,e,this.position,this.angle)},u.prototype.toWorldFrame=function(t,e){i.toGlobalFrame(t,e,this.position,this.angle)},u.prototype.vectorToLocalFrame=function(t,e){i.vectorToLocalFrame(t,e,this.angle)},u.prototype.vectorToWorldFrame=function(t,e){i.vectorToGlobalFrame(t,e,this.angle)},u.prototype.fromPolygon=function(t,e){e=e||{};for(var r=this.shapes.length;r>=0;--r)this.removeShape(this.shapes[r]);var a,s=new n.Polygon;if(s.vertices=t,s.makeCCW(),"number"==typeof e.removeCollinearPoints&&s.removeCollinearPoints(e.removeCollinearPoints),void 0===e.skipSimpleCheck&&!s.isSimple())return!1;for(this.concavePath=s.vertices.slice(0),r=0;r<this.concavePath.length;r++){var l=[0,0];i.copy(l,this.concavePath[r]),this.concavePath[r]=l}a=e.optimalDecomp?s.decomp():s.quickDecomp();var h=i.create();for(r=0;r!==a.length;r++){for(var u=new o({vertices:a[r].vertices}),c=0;c!==u.vertices.length;c++)l=u.vertices[c],i.sub(l,l,u.centerOfMass);i.scale(h,u.centerOfMass,1),u.updateTriangles(),u.updateCenterOfMass(),u.updateBoundingRadius(),this.addShape(u,h)}return this.adjustCenterOfMass(),this.aabbNeedsUpdate=!0,!0},i.fromValues(0,0);var b=i.fromValues(0,0),x=i.fromValues(0,0),w=i.fromValues(0,0);u.prototype.adjustCenterOfMass=function(){var t=b,e=x,r=w,n=0;i.set(e,0,0);for(var o=0;o!==this.shapes.length;o++){var a=this.shapes[o];i.scale(t,a.position,a.area),i.add(e,e,t),n+=a.area}for(i.scale(r,e,1/n),o=0;o!==this.shapes.length;o++)a=this.shapes[o],i.sub(a.position,a.position,r);for(i.add(this.position,this.position,r),o=0;this.concavePath&&o<this.concavePath.length;o++)i.sub(this.concavePath[o],this.concavePath[o],r);this.updateMassProperties(),this.updateBoundingRadius()},u.prototype.setZeroForce=function(){i.set(this.force,0,0),this.angularForce=0},u.prototype.resetConstraintVelocity=function(){var t=this.vlambda;i.set(t,0,0),this.wlambda=0},u.prototype.addConstraintVelocity=function(){var t=this,e=t.velocity;i.add(e,e,t.vlambda),t.angularVelocity+=t.wlambda},u.prototype.applyDamping=function(t){if(this.type===u.DYNAMIC){var e=this.velocity;i.scale(e,e,Math.pow(1-this.damping,t)),this.angularVelocity*=Math.pow(1-this.angularDamping,t)}},u.prototype.wakeUp=function(){var t=this.sleepState;this.sleepState=u.AWAKE,this.idleTime=0,t!==u.AWAKE&&this.emit(u.wakeUpEvent)},u.prototype.sleep=function(){this.sleepState=u.SLEEPING,this.angularVelocity=0,this.angularForce=0,i.set(this.velocity,0,0),i.set(this.force,0,0),this.emit(u.sleepEvent)},u.prototype.sleepTick=function(t,e,r){this.allowSleep&&this.type!==u.SLEEPING&&(this.wantsToSleep=!1,this.sleepState,i.squaredLength(this.velocity)+Math.pow(this.angularVelocity,2)>=Math.pow(this.sleepSpeedLimit,2)?(this.idleTime=0,this.sleepState=u.AWAKE):(this.idleTime+=r,this.sleepState=u.SLEEPY),this.idleTime>this.sleepTimeLimit&&(e?this.wantsToSleep=!0:this.sleep()))},u.prototype.overlaps=function(t){return this.world.overlapKeeper.bodiesAreOverlapping(this,t)};var T=i.create(),E=i.create();u.prototype.integrate=function(t){var e=this.invMass,r=this.force,n=this.position,o=this.velocity;i.copy(this.previousPosition,this.position),this.previousAngle=this.angle,this.fixedRotation||(this.angularVelocity+=this.angularForce*this.invInertia*t),i.scale(T,r,t*e),i.multiply(T,this.massMultiplier,T),i.add(o,T,o),this.integrateToTimeOfImpact(t)||(i.scale(E,o,t),i.add(n,n,E),this.fixedRotation||(this.angle+=this.angularVelocity*t)),this.aabbNeedsUpdate=!0};var S=new a,M=new s({mode:s.ALL}),A=i.create(),C=i.create(),P=i.create(),k=i.create();u.prototype.integrateToTimeOfImpact=function(t){if(this.ccdSpeedThreshold<0||i.squaredLength(this.velocity)<Math.pow(this.ccdSpeedThreshold,2))return!1;i.normalize(A,this.velocity),i.scale(C,this.velocity,t),i.add(C,C,this.position),i.sub(P,C,this.position);var e,r=this.angularVelocity*t,n=i.length(P),o=1,a=this;if(S.reset(),M.callback=function(t){t.body!==a&&(e=t.body,t.getHitPoint(C,M),i.sub(P,C,a.position),o=i.length(P)/n,t.stop())},i.copy(M.from,this.position),i.copy(M.to,C),M.update(),this.world.raycast(S,M),!e)return!1;var s=this.angle;i.copy(k,this.position);for(var l=0,h=0,u=0,c=o;c>=h&&l<this.ccdIterations;)l++,u=(c-h)/2,i.scale(E,P,o),i.add(this.position,k,E),this.angle=s+r*o,this.updateAABB(),this.aabb.overlaps(e.aabb)&&this.world.narrowphase.bodiesOverlap(this,e)?h=u:c=u;return o=u,i.copy(this.position,k),this.angle=s,i.scale(E,P,o),i.add(this.position,this.position,E),this.fixedRotation||(this.angle+=r*o),!0},u.prototype.getVelocityAtPoint=function(t,e){return i.crossVZ(t,e,this.angularVelocity),i.subtract(t,this.velocity,t),t},u.sleepyEvent={type:"sleepy"},u.sleepEvent={type:"sleep"},u.wakeUpEvent={type:"wakeup"},u.DYNAMIC=1,u.STATIC=2,u.KINEMATIC=4,u.AWAKE=0,u.SLEEPY=1,u.SLEEPING=2},{"../collision/AABB":7,"../collision/Ray":11,"../collision/RaycastResult":12,"../events/EventEmitter":26,"../math/vec2":30,"../shapes/Convex":40,"poly-decomp":5}],32:[function(t,e,r){var i=t("../math/vec2"),n=t("./Spring");function o(t,e,r){r=r||{},n.call(this,t,e,r),this.localAnchorA=i.fromValues(0,0),this.localAnchorB=i.fromValues(0,0),r.localAnchorA&&i.copy(this.localAnchorA,r.localAnchorA),r.localAnchorB&&i.copy(this.localAnchorB,r.localAnchorB),r.worldAnchorA&&this.setWorldAnchorA(r.worldAnchorA),r.worldAnchorB&&this.setWorldAnchorB(r.worldAnchorB);var o=i.create(),a=i.create();this.getWorldAnchorA(o),this.getWorldAnchorB(a);var s=i.distance(o,a);this.restLength="number"==typeof r.restLength?r.restLength:s}t("../utils/Utils"),e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.setWorldAnchorA=function(t){this.bodyA.toLocalFrame(this.localAnchorA,t)},o.prototype.setWorldAnchorB=function(t){this.bodyB.toLocalFrame(this.localAnchorB,t)},o.prototype.getWorldAnchorA=function(t){this.bodyA.toWorldFrame(t,this.localAnchorA)},o.prototype.getWorldAnchorB=function(t){this.bodyB.toWorldFrame(t,this.localAnchorB)};var a=i.create(),s=i.create(),l=i.create(),h=i.create(),u=i.create(),c=i.create(),p=i.create(),f=i.create(),d=i.create();o.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,r=this.restLength,n=this.bodyA,o=this.bodyB,m=a,v=s,y=l,g=h,_=d,b=u,x=c,w=p,T=f;this.getWorldAnchorA(b),this.getWorldAnchorB(x),i.sub(w,b,n.position),i.sub(T,x,o.position),i.sub(m,x,b);var E=i.len(m);i.normalize(v,m),i.sub(y,o.velocity,n.velocity),i.crossZV(_,o.angularVelocity,T),i.add(y,y,_),i.crossZV(_,n.angularVelocity,w),i.sub(y,y,_),i.scale(g,v,-t*(E-r)-e*i.dot(y,v)),i.sub(n.force,n.force,g),i.add(o.force,o.force,g);var S=i.crossLength(w,g),M=i.crossLength(T,g);n.angularForce-=S,o.angularForce+=M}},{"../math/vec2":30,"../utils/Utils":57,"./Spring":34}],33:[function(t,e,r){t("../math/vec2");var i=t("./Spring");function n(t,e,r){r=r||{},i.call(this,t,e,r),this.restAngle="number"==typeof r.restAngle?r.restAngle:e.angle-t.angle}e.exports=n,n.prototype=new i,n.prototype.constructor=n,n.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,r=this.restAngle,i=this.bodyA,n=this.bodyB,o=-t*(n.angle-i.angle-r)-e*(n.angularVelocity-i.angularVelocity)*0;i.angularForce-=o,n.angularForce+=o}},{"../math/vec2":30,"./Spring":34}],34:[function(t,e,r){t("../math/vec2");var i=t("../utils/Utils");function n(t,e,r){r=i.defaults(r,{stiffness:100,damping:1}),this.stiffness=r.stiffness,this.damping=r.damping,this.bodyA=t,this.bodyB=e}e.exports=n,n.prototype.applyForce=function(){}},{"../math/vec2":30,"../utils/Utils":57}],35:[function(t,e,r){var i=t("../math/vec2"),n=(t("../utils/Utils"),t("../constraints/Constraint")),o=t("../equations/FrictionEquation"),a=t("../objects/Body");function s(t,e){e=e||{},this.chassisBody=t,this.wheels=[],this.groundBody=new a({mass:0}),this.world=null;var r=this;this.preStepCallback=function(){r.update()}}function l(t,e){e=e||{},this.vehicle=t,this.forwardEquation=new o(t.chassisBody,t.groundBody),this.sideEquation=new o(t.chassisBody,t.groundBody),this.steerValue=0,this.engineForce=0,this.setSideFriction(void 0!==e.sideFriction?e.sideFriction:5),this.localForwardVector=i.fromValues(0,1),e.localForwardVector&&i.copy(this.localForwardVector,e.localForwardVector),this.localPosition=i.fromValues(0,0),e.localPosition&&i.copy(this.localPosition,e.localPosition),n.apply(this,t.chassisBody,t.groundBody),this.equations.push(this.forwardEquation,this.sideEquation),this.setBrakeForce(0)}e.exports=s,s.prototype.addToWorld=function(t){this.world=t,t.addBody(this.groundBody),t.on("preStep",this.preStepCallback);for(var e=0;e<this.wheels.length;e++){var r=this.wheels[e];t.addConstraint(r)}},s.prototype.removeFromWorld=function(){var t=this.world;t.removeBody(this.groundBody),t.off("preStep",this.preStepCallback);for(var e=0;e<this.wheels.length;e++){var r=this.wheels[e];t.removeConstraint(r)}this.world=null},s.prototype.addWheel=function(t){var e=new l(this,t);return this.wheels.push(e),e},s.prototype.update=function(){for(var t=0;t<this.wheels.length;t++)this.wheels[t].update()},l.prototype=new n,l.prototype.setBrakeForce=function(t){this.forwardEquation.setSlipForce(t)},l.prototype.setSideFriction=function(t){this.sideEquation.setSlipForce(t)};var h=i.create(),u=i.create();l.prototype.getSpeed=function(){return this.vehicle.chassisBody.vectorToWorldFrame(u,this.localForwardVector),this.vehicle.chassisBody.getVelocityAtPoint(h,u),i.dot(h,u)};var c=i.create();l.prototype.update=function(){this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.t,this.localForwardVector),i.rotate(this.sideEquation.t,this.localForwardVector,Math.PI/2),this.vehicle.chassisBody.vectorToWorldFrame(this.sideEquation.t,this.sideEquation.t),i.rotate(this.forwardEquation.t,this.forwardEquation.t,this.steerValue),i.rotate(this.sideEquation.t,this.sideEquation.t,this.steerValue),this.vehicle.chassisBody.toWorldFrame(this.forwardEquation.contactPointB,this.localPosition),i.copy(this.sideEquation.contactPointB,this.forwardEquation.contactPointB),this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.contactPointA,this.localPosition),i.copy(this.sideEquation.contactPointA,this.forwardEquation.contactPointA),i.normalize(c,this.forwardEquation.t),i.scale(c,c,this.engineForce),this.vehicle.chassisBody.applyForce(c,this.forwardEquation.contactPointA)}},{"../constraints/Constraint":14,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],36:[function(t,e,r){var i=e.exports={AABB:t("./collision/AABB"),AngleLockEquation:t("./equations/AngleLockEquation"),Body:t("./objects/Body"),Broadphase:t("./collision/Broadphase"),Capsule:t("./shapes/Capsule"),Circle:t("./shapes/Circle"),Constraint:t("./constraints/Constraint"),ContactEquation:t("./equations/ContactEquation"),ContactEquationPool:t("./utils/ContactEquationPool"),ContactMaterial:t("./material/ContactMaterial"),Convex:t("./shapes/Convex"),DistanceConstraint:t("./constraints/DistanceConstraint"),Equation:t("./equations/Equation"),EventEmitter:t("./events/EventEmitter"),FrictionEquation:t("./equations/FrictionEquation"),FrictionEquationPool:t("./utils/FrictionEquationPool"),GearConstraint:t("./constraints/GearConstraint"),GSSolver:t("./solver/GSSolver"),Heightfield:t("./shapes/Heightfield"),Line:t("./shapes/Line"),LockConstraint:t("./constraints/LockConstraint"),Material:t("./material/Material"),Narrowphase:t("./collision/Narrowphase"),NaiveBroadphase:t("./collision/NaiveBroadphase"),Particle:t("./shapes/Particle"),Plane:t("./shapes/Plane"),Pool:t("./utils/Pool"),RevoluteConstraint:t("./constraints/RevoluteConstraint"),PrismaticConstraint:t("./constraints/PrismaticConstraint"),Ray:t("./collision/Ray"),RaycastResult:t("./collision/RaycastResult"),Box:t("./shapes/Box"),RotationalVelocityEquation:t("./equations/RotationalVelocityEquation"),SAPBroadphase:t("./collision/SAPBroadphase"),Shape:t("./shapes/Shape"),Solver:t("./solver/Solver"),Spring:t("./objects/Spring"),TopDownVehicle:t("./objects/TopDownVehicle"),LinearSpring:t("./objects/LinearSpring"),RotationalSpring:t("./objects/RotationalSpring"),Utils:t("./utils/Utils"),World:t("./world/World"),vec2:t("./math/vec2"),version:t("../package.json").version};Object.defineProperty(i,"Rectangle",{get:function(){return console.warn("The Rectangle class has been renamed to Box."),this.Box}})},{"../package.json":6,"./collision/AABB":7,"./collision/Broadphase":8,"./collision/NaiveBroadphase":9,"./collision/Narrowphase":10,"./collision/Ray":11,"./collision/RaycastResult":12,"./collision/SAPBroadphase":13,"./constraints/Constraint":14,"./constraints/DistanceConstraint":15,"./constraints/GearConstraint":16,"./constraints/LockConstraint":17,"./constraints/PrismaticConstraint":18,"./constraints/RevoluteConstraint":19,"./equations/AngleLockEquation":20,"./equations/ContactEquation":21,"./equations/Equation":22,"./equations/FrictionEquation":23,"./equations/RotationalVelocityEquation":25,"./events/EventEmitter":26,"./material/ContactMaterial":27,"./material/Material":28,"./math/vec2":30,"./objects/Body":31,"./objects/LinearSpring":32,"./objects/RotationalSpring":33,"./objects/Spring":34,"./objects/TopDownVehicle":35,"./shapes/Box":37,"./shapes/Capsule":38,"./shapes/Circle":39,"./shapes/Convex":40,"./shapes/Heightfield":41,"./shapes/Line":42,"./shapes/Particle":43,"./shapes/Plane":44,"./shapes/Shape":45,"./solver/GSSolver":46,"./solver/Solver":47,"./utils/ContactEquationPool":48,"./utils/FrictionEquationPool":49,"./utils/Pool":55,"./utils/Utils":57,"./world/World":61}],37:[function(t,e,r){var i=t("../math/vec2"),n=t("./Shape"),o=t("./Convex");function a(t){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t={width:arguments[0],height:arguments[1]},console.warn("The Rectangle has been renamed to Box and its constructor signature has changed. Please use the following format: new Box({ width: 1, height: 1, ... })")),t=t||{};var e=this.width=t.width||1,r=this.height=t.height||1,a=[i.fromValues(-e/2,-r/2),i.fromValues(e/2,-r/2),i.fromValues(e/2,r/2),i.fromValues(-e/2,r/2)],s=[i.fromValues(1,0),i.fromValues(0,1)];t.vertices=a,t.axes=s,t.type=n.BOX,o.call(this,t)}e.exports=a,a.prototype=new o,a.prototype.constructor=a,a.prototype.computeMomentOfInertia=function(t){var e=this.width,r=this.height;return t*(r*r+e*e)/12},a.prototype.updateBoundingRadius=function(){var t=this.width,e=this.height;this.boundingRadius=Math.sqrt(t*t+e*e)/2},i.create(),i.create(),i.create(),i.create(),a.prototype.computeAABB=function(t,e,r){t.setFromPoints(this.vertices,e,r,0)},a.prototype.updateArea=function(){this.area=this.width*this.height}},{"../math/vec2":30,"./Convex":40,"./Shape":45}],38:[function(t,e,r){var i=t("./Shape"),n=t("../math/vec2");function o(t){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t={length:arguments[0],radius:arguments[1]},console.warn("The Capsule constructor signature has changed. Please use the following format: new Capsule({ radius: 1, length: 1 })")),t=t||{},this.length=t.length||1,this.radius=t.radius||1,t.type=i.CAPSULE,i.call(this,t)}e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.computeMomentOfInertia=function(t){var e=this.radius,r=this.length+e,i=2*e;return t*(i*i+r*r)/12},o.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius+this.length/2},o.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius+2*this.radius*this.length};var a=n.create();o.prototype.computeAABB=function(t,e,r){var i=this.radius;n.set(a,this.length/2,0),0!==r&&n.rotate(a,a,r),n.set(t.upperBound,Math.max(a[0]+i,-a[0]+i),Math.max(a[1]+i,-a[1]+i)),n.set(t.lowerBound,Math.min(a[0]-i,-a[0]-i),Math.min(a[1]-i,-a[1]-i)),n.add(t.lowerBound,t.lowerBound,e),n.add(t.upperBound,t.upperBound,e)};var s=n.create(),l=n.create(),h=n.create(),u=n.create(),c=n.fromValues(0,1);o.prototype.raycast=function(t,e,r,i){for(var o=e.from,a=e.to,p=(e.direction,s),f=l,d=h,m=u,v=this.length/2,y=0;y<2;y++){var g=this.radius*(2*y-1);if(n.set(d,-v,g),n.set(m,v,g),n.toGlobalFrame(d,d,r,i),n.toGlobalFrame(m,m,r,i),(b=n.getLineSegmentsIntersectionFraction(o,a,d,m))>=0&&(n.rotate(f,c,i),n.scale(f,f,2*y-1),e.reportIntersection(t,b,f,-1),t.shouldStop(e)))return}var _=Math.pow(this.radius,2)+Math.pow(v,2);for(y=0;y<2;y++){n.set(d,v*(2*y-1),0),n.toGlobalFrame(d,d,r,i);var b,x=Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2),w=2*((a[0]-o[0])*(o[0]-d[0])+(a[1]-o[1])*(o[1]-d[1])),T=Math.pow(o[0]-d[0],2)+Math.pow(o[1]-d[1],2)-Math.pow(this.radius,2);if(!((b=Math.pow(w,2)-4*x*T)<0))if(0===b){if(n.lerp(p,o,a,b),n.squaredDistance(p,r)>_&&(n.sub(f,p,d),n.normalize(f,f),e.reportIntersection(t,b,f,-1),t.shouldStop(e)))return}else{var E=Math.sqrt(b),S=1/(2*x),M=(-w-E)*S,A=(-w+E)*S;if(M>=0&&M<=1&&(n.lerp(p,o,a,M),n.squaredDistance(p,r)>_&&(n.sub(f,p,d),n.normalize(f,f),e.reportIntersection(t,M,f,-1),t.shouldStop(e))))return;if(A>=0&&A<=1&&(n.lerp(p,o,a,A),n.squaredDistance(p,r)>_&&(n.sub(f,p,d),n.normalize(f,f),e.reportIntersection(t,A,f,-1),t.shouldStop(e))))return}}}},{"../math/vec2":30,"./Shape":45}],39:[function(t,e,r){var i=t("./Shape"),n=t("../math/vec2");function o(t){"number"==typeof arguments[0]&&(t={radius:arguments[0]},console.warn("The Circle constructor signature has changed. Please use the following format: new Circle({ radius: 1 })")),t=t||{},this.radius=t.radius||1,t.type=i.CIRCLE,i.call(this,t)}e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.computeMomentOfInertia=function(t){var e=this.radius;return t*e*e/2},o.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius},o.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius},o.prototype.computeAABB=function(t,e,r){var i=this.radius;n.set(t.upperBound,i,i),n.set(t.lowerBound,-i,-i),e&&(n.add(t.lowerBound,t.lowerBound,e),n.add(t.upperBound,t.upperBound,e))};var a=n.create(),s=n.create();o.prototype.raycast=function(t,e,r,i){var o=e.from,l=e.to,h=this.radius,u=Math.pow(l[0]-o[0],2)+Math.pow(l[1]-o[1],2),c=2*((l[0]-o[0])*(o[0]-r[0])+(l[1]-o[1])*(o[1]-r[1])),p=Math.pow(o[0]-r[0],2)+Math.pow(o[1]-r[1],2)-Math.pow(h,2),f=Math.pow(c,2)-4*u*p,d=a,m=s;if(!(f<0))if(0===f)n.lerp(d,o,l,f),n.sub(m,d,r),n.normalize(m,m),e.reportIntersection(t,f,m,-1);else{var v=Math.sqrt(f),y=1/(2*u),g=(-c-v)*y,_=(-c+v)*y;if(g>=0&&g<=1&&(n.lerp(d,o,l,g),n.sub(m,d,r),n.normalize(m,m),e.reportIntersection(t,g,m,-1),t.shouldStop(e)))return;_>=0&&_<=1&&(n.lerp(d,o,l,_),n.sub(m,d,r),n.normalize(m,m),e.reportIntersection(t,_,m,-1))}}},{"../math/vec2":30,"./Shape":45}],40:[function(t,e,r){var i=t("./Shape"),n=t("../math/vec2"),o=t("../math/polyk");function a(t){Array.isArray(arguments[0])&&(t={vertices:arguments[0],axes:arguments[1]},console.warn("The Convex constructor signature has changed. Please use the following format: new Convex({ vertices: [...], ... })")),t=t||{},this.vertices=[];for(var e=void 0!==t.vertices?t.vertices:[],r=0;r<e.length;r++){var o=n.create();n.copy(o,e[r]),this.vertices.push(o)}if(this.axes=[],t.axes)for(r=0;r<t.axes.length;r++){var a=n.create();n.copy(a,t.axes[r]),this.axes.push(a)}else for(r=0;r<this.vertices.length;r++){var s=this.vertices[r],l=this.vertices[(r+1)%this.vertices.length],h=n.create();n.sub(h,l,s),n.rotate90cw(h,h),n.normalize(h,h),this.axes.push(h)}if(this.centerOfMass=n.fromValues(0,0),this.triangles=[],this.vertices.length&&(this.updateTriangles(),this.updateCenterOfMass()),this.boundingRadius=0,t.type=i.CONVEX,i.call(this,t),this.updateBoundingRadius(),this.updateArea(),this.area<0)throw new Error("Convex vertices must be given in conter-clockwise winding.")}t("poly-decomp"),e.exports=a,a.prototype=new i,a.prototype.constructor=a;var s=n.create(),l=n.create();a.prototype.projectOntoLocalAxis=function(t,e){for(var r,i,o=null,a=null,l=(t=s,0);l<this.vertices.length;l++)r=this.vertices[l],i=n.dot(r,t),(null===o||i>o)&&(o=i),(null===a||i<a)&&(a=i);if(a>o){var h=a;a=o,o=h}n.set(e,a,o)},a.prototype.projectOntoWorldAxis=function(t,e,r,i){var o=l;this.projectOntoLocalAxis(t,i),0!==r?n.rotate(o,t,r):o=t;var a=n.dot(e,o);n.set(i,i[0]+a,i[1]+a)},a.prototype.updateTriangles=function(){this.triangles.length=0;for(var t=[],e=0;e<this.vertices.length;e++){var r=this.vertices[e];t.push(r[0],r[1])}var i=o.Triangulate(t);for(e=0;e<i.length;e+=3){var n=i[e],a=i[e+1],s=i[e+2];this.triangles.push([n,a,s])}};var h=n.create(),u=n.create(),c=n.create(),p=n.create(),f=n.create();n.create(),n.create(),n.create(),n.create(),a.prototype.updateCenterOfMass=function(){var t=this.triangles,e=this.vertices,r=this.centerOfMass,i=h,o=c,s=p,l=f,d=u;n.set(r,0,0);for(var m=0,v=0;v!==t.length;v++){var y=t[v];o=e[y[0]],s=e[y[1]],l=e[y[2]],n.centroid(i,o,s,l);var g=a.triangleArea(o,s,l);m+=g,n.scale(d,i,g),n.add(r,r,d)}n.scale(r,r,1/m)},a.prototype.computeMomentOfInertia=function(t){for(var e=0,r=0,i=this.vertices.length,o=i-1,a=0;a<i;o=a,a++){var s=this.vertices[o],l=this.vertices[a],h=Math.abs(n.crossLength(s,l));e+=h*(n.dot(l,l)+n.dot(l,s)+n.dot(s,s)),r+=h}return t/6*(e/r)},a.prototype.updateBoundingRadius=function(){for(var t=this.vertices,e=0,r=0;r!==t.length;r++){var i=n.squaredLength(t[r]);i>e&&(e=i)}this.boundingRadius=Math.sqrt(e)},a.triangleArea=function(t,e,r){return.5*((e[0]-t[0])*(r[1]-t[1])-(r[0]-t[0])*(e[1]-t[1]))},a.prototype.updateArea=function(){this.updateTriangles(),this.area=0;for(var t=this.triangles,e=this.vertices,r=0;r!==t.length;r++){var i=t[r],n=e[i[0]],o=e[i[1]],s=e[i[2]],l=a.triangleArea(n,o,s);this.area+=l}},a.prototype.computeAABB=function(t,e,r){t.setFromPoints(this.vertices,e,r,0)};var d=n.create(),m=n.create(),v=n.create();a.prototype.raycast=function(t,e,r,i){var o=d,a=m,s=v,l=this.vertices;n.toLocalFrame(o,e.from,r,i),n.toLocalFrame(a,e.to,r,i);for(var h=l.length,u=0;u<h&&!t.shouldStop(e);u++){var c=l[u],p=l[(u+1)%h],f=n.getLineSegmentsIntersectionFraction(o,a,c,p);f>=0&&(n.sub(s,p,c),n.rotate(s,s,-Math.PI/2+i),n.normalize(s,s),e.reportIntersection(t,f,s,u))}}},{"../math/polyk":29,"../math/vec2":30,"./Shape":45,"poly-decomp":5}],41:[function(t,e,r){var i=t("./Shape"),n=t("../math/vec2");function o(t){if(Array.isArray(arguments[0])){if(t={heights:arguments[0]},"object"==typeof arguments[1])for(var e in arguments[1])t[e]=arguments[1][e];console.warn("The Heightfield constructor signature has changed. Please use the following format: new Heightfield({ heights: [...], ... })")}t=t||{},this.heights=t.heights?t.heights.slice(0):[],this.maxValue=t.maxValue||null,this.minValue=t.minValue||null,this.elementWidth=t.elementWidth||.1,void 0!==t.maxValue&&void 0!==t.minValue||this.updateMaxMinValues(),t.type=i.HEIGHTFIELD,i.call(this,t)}t("../utils/Utils"),e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.updateMaxMinValues=function(){for(var t=this.heights,e=t[0],r=t[0],i=0;i!==t.length;i++){var n=t[i];n>e&&(e=n),n<r&&(r=n)}this.maxValue=e,this.minValue=r},o.prototype.computeMomentOfInertia=function(t){return Number.MAX_VALUE},o.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},o.prototype.updateArea=function(){for(var t=this.heights,e=0,r=0;r<t.length-1;r++)e+=(t[r]+t[r+1])/2*this.elementWidth;this.area=e};var a=[n.create(),n.create(),n.create(),n.create()];o.prototype.computeAABB=function(t,e,r){n.set(a[0],0,this.maxValue),n.set(a[1],this.elementWidth*this.heights.length,this.maxValue),n.set(a[2],this.elementWidth*this.heights.length,this.minValue),n.set(a[3],0,this.minValue),t.setFromPoints(a,e,r)},o.prototype.getLineSegment=function(t,e,r){var i=this.heights,o=this.elementWidth;n.set(t,r*o,i[r]),n.set(e,(r+1)*o,i[r+1])},o.prototype.getSegmentIndex=function(t){return Math.floor(t[0]/this.elementWidth)},o.prototype.getClampedSegmentIndex=function(t){var e=this.getSegmentIndex(t);return e=Math.min(this.heights.length,Math.max(e,0))},n.create();var s=n.create(),l=n.create(),h=n.create(),u=n.create(),c=n.create();n.fromValues(0,1),o.prototype.raycast=function(t,e,r,i){var o=e.from,a=e.to,p=(e.direction,s),f=l,d=h,m=u,v=c;n.toLocalFrame(m,o,r,i),n.toLocalFrame(v,a,r,i);var y=this.getClampedSegmentIndex(m),g=this.getClampedSegmentIndex(v);if(y>g){var _=y;y=g,g=_}for(var b=0;b<this.heights.length-1;b++){this.getLineSegment(f,d,b);var x=n.getLineSegmentsIntersectionFraction(m,v,f,d);if(x>=0&&(n.sub(p,d,f),n.rotate(p,p,i+Math.PI/2),n.normalize(p,p),e.reportIntersection(t,x,p,-1),t.shouldStop(e)))return}}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],42:[function(t,e,r){var i=t("./Shape"),n=t("../math/vec2");function o(t){"number"==typeof arguments[0]&&(t={length:arguments[0]},console.warn("The Line constructor signature has changed. Please use the following format: new Line({ length: 1, ... })")),t=t||{},this.length=t.length||1,t.type=i.LINE,i.call(this,t)}e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.computeMomentOfInertia=function(t){return t*Math.pow(this.length,2)/12},o.prototype.updateBoundingRadius=function(){this.boundingRadius=this.length/2};var a=[n.create(),n.create()];o.prototype.computeAABB=function(t,e,r){var i=this.length/2;n.set(a[0],-i,0),n.set(a[1],i,0),t.setFromPoints(a,e,r,0)},n.create();var s=n.create(),l=n.create(),h=n.create(),u=n.fromValues(0,1);o.prototype.raycast=function(t,e,r,i){var o=e.from,a=e.to,c=l,p=h,f=this.length/2;n.set(c,-f,0),n.set(p,f,0),n.toGlobalFrame(c,c,r,i),n.toGlobalFrame(p,p,r,i);var d=n.getLineSegmentsIntersectionFraction(c,p,o,a);if(d>=0){var m=s;n.rotate(m,u,i),e.reportIntersection(t,d,m,-1)}}},{"../math/vec2":30,"./Shape":45}],43:[function(t,e,r){var i=t("./Shape"),n=t("../math/vec2");function o(t){(t=t||{}).type=i.PARTICLE,i.call(this,t)}e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.computeMomentOfInertia=function(t){return 0},o.prototype.updateBoundingRadius=function(){this.boundingRadius=0},o.prototype.computeAABB=function(t,e,r){n.copy(t.lowerBound,e),n.copy(t.upperBound,e)}},{"../math/vec2":30,"./Shape":45}],44:[function(t,e,r){var i=t("./Shape"),n=t("../math/vec2");function o(t){(t=t||{}).type=i.PLANE,i.call(this,t)}t("../utils/Utils"),e.exports=o,o.prototype=new i,o.prototype.constructor=o,o.prototype.computeMomentOfInertia=function(t){return 0},o.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},o.prototype.computeAABB=function(t,e,r){var i=r%(2*Math.PI),o=n.set,a=1e7,s=t.lowerBound,l=t.upperBound;o(s,-a,-a),o(l,a,a),0===i?l[1]=0:i===Math.PI/2?s[0]=0:i===Math.PI?s[1]=0:i===3*Math.PI/2&&(l[0]=0)},o.prototype.updateArea=function(){this.area=Number.MAX_VALUE};var a=n.create(),s=(n.create(),n.create(),n.create()),l=n.create();o.prototype.raycast=function(t,e,r,i){var o=e.from,h=e.to,u=e.direction,c=a,p=s,f=l;n.set(p,0,1),n.rotate(p,p,i),n.sub(f,o,r);var d=n.dot(f,p);if(n.sub(f,h,r),!(d*n.dot(f,p)>0||n.squaredDistance(o,h)<d*d)){var m=n.dot(p,u);n.sub(c,o,r);var v=-n.dot(p,c)/m/e.length;e.reportIntersection(t,v,p,-1)}}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],45:[function(t,e,r){e.exports=n;var i=t("../math/vec2");function n(t){t=t||{},this.body=null,this.position=i.fromValues(0,0),t.position&&i.copy(this.position,t.position),this.angle=t.angle||0,this.type=t.type||0,this.id=n.idCounter++,this.boundingRadius=0,this.collisionGroup=void 0!==t.collisionGroup?t.collisionGroup:1,this.collisionResponse=void 0===t.collisionResponse||t.collisionResponse,this.collisionMask=void 0!==t.collisionMask?t.collisionMask:1,this.material=t.material||null,this.area=0,this.sensor=void 0!==t.sensor&&t.sensor,this.type&&this.updateBoundingRadius(),this.updateArea()}n.idCounter=0,n.CIRCLE=1,n.PARTICLE=2,n.PLANE=4,n.CONVEX=8,n.LINE=16,n.BOX=32,Object.defineProperty(n,"RECTANGLE",{get:function(){return console.warn("Shape.RECTANGLE is deprecated, use Shape.BOX instead."),n.BOX}}),n.CAPSULE=64,n.HEIGHTFIELD=128,n.prototype.computeMomentOfInertia=function(t){},n.prototype.updateBoundingRadius=function(){},n.prototype.updateArea=function(){},n.prototype.computeAABB=function(t,e,r){},n.prototype.raycast=function(t,e,r,i){}},{"../math/vec2":30}],46:[function(t,e,r){var i=t("../math/vec2"),n=t("./Solver"),o=t("../utils/Utils"),a=t("../equations/FrictionEquation");function s(t){n.call(this,t,n.GS),t=t||{},this.iterations=t.iterations||10,this.tolerance=t.tolerance||1e-7,this.arrayStep=30,this.lambda=new o.ARRAY_TYPE(this.arrayStep),this.Bs=new o.ARRAY_TYPE(this.arrayStep),this.invCs=new o.ARRAY_TYPE(this.arrayStep),this.useZeroRHS=!1,this.frictionIterations=void 0!==t.frictionIterations?0:t.frictionIterations,this.usedIterations=0}e.exports=s,s.prototype=new n,s.prototype.constructor=s,s.prototype.solve=function(t,e){this.sortEquations();var r=0,n=this.iterations,l=this.frictionIterations,h=this.equations,u=h.length,c=Math.pow(this.tolerance*u,2),p=e.bodies,f=e.bodies.length,d=(i.add,i.set,this.useZeroRHS),m=this.lambda;if(this.usedIterations=0,u)for(var v=0;v!==f;v++)p[v].updateSolveMassProperties();m.length<u&&(m=this.lambda=new o.ARRAY_TYPE(u+this.arrayStep),this.Bs=new o.ARRAY_TYPE(u+this.arrayStep),this.invCs=new o.ARRAY_TYPE(u+this.arrayStep)),function(t){for(var e=t.length;e--;)t[e]=0}(m);var y,g,_=this.invCs,b=this.Bs;for(m=this.lambda,v=0;v!==h.length;v++){var x;((x=h[v]).timeStep!==t||x.needsUpdate)&&(x.timeStep=t,x.update()),b[v]=x.computeB(x.a,x.b,t),_[v]=x.computeInvC(x.epsilon)}if(0!==u){for(v=0;v!==f;v++)p[v].resetConstraintVelocity();if(l){for(r=0;r!==l;r++){for(y=0,g=0;g!==u;g++){x=h[g];var w=s.iterateEquation(g,x,x.epsilon,b,_,m,d,t,r);y+=Math.abs(w)}if(this.usedIterations++,y*y<=c)break}for(s.updateMultipliers(h,m,1/t),g=0;g!==u;g++){var T=h[g];if(T instanceof a){for(var E=0,S=0;S!==T.contactEquations.length;S++)E+=T.contactEquations[S].multiplier;E*=T.frictionCoefficient/T.contactEquations.length,T.maxForce=E,T.minForce=-E}}}for(r=0;r!==n;r++){for(y=0,g=0;g!==u;g++)x=h[g],w=s.iterateEquation(g,x,x.epsilon,b,_,m,d,t,r),y+=Math.abs(w);if(this.usedIterations++,y*y<=c)break}for(v=0;v!==f;v++)p[v].addConstraintVelocity();s.updateMultipliers(h,m,1/t)}},s.updateMultipliers=function(t,e,r){for(var i=t.length;i--;)t[i].multiplier=e[i]*r},s.iterateEquation=function(t,e,r,i,n,o,a,s,l){var h=i[t],u=n[t],c=o[t],p=e.computeGWlambda(),f=e.maxForce,d=e.minForce;a&&(h=0);var m=u*(h-p-r*c),v=c+m;return v<d*s?m=d*s-c:v>f*s&&(m=f*s-c),o[t]+=m,e.addToWlambda(m),m}},{"../equations/FrictionEquation":23,"../math/vec2":30,"../utils/Utils":57,"./Solver":47}],47:[function(t,e,r){t("../utils/Utils");var i=t("../events/EventEmitter");function n(t,e){t=t||{},i.call(this),this.type=e,this.equations=[],this.equationSortFunction=t.equationSortFunction||!1}e.exports=n,n.prototype=new i,n.prototype.constructor=n,n.prototype.solve=function(t,e){throw new Error("Solver.solve should be implemented by subclasses!")};var o={bodies:[]};n.prototype.solveIsland=function(t,e){this.removeAllEquations(),e.equations.length&&(this.addEquations(e.equations),o.bodies.length=0,e.getBodies(o.bodies),o.bodies.length&&this.solve(t,o))},n.prototype.sortEquations=function(){this.equationSortFunction&&this.equations.sort(this.equationSortFunction)},n.prototype.addEquation=function(t){t.enabled&&this.equations.push(t)},n.prototype.addEquations=function(t){for(var e=0,r=t.length;e!==r;e++){var i=t[e];i.enabled&&this.equations.push(i)}},n.prototype.removeEquation=function(t){var e=this.equations.indexOf(t);-1!==e&&this.equations.splice(e,1)},n.prototype.removeAllEquations=function(){this.equations.length=0},n.GS=1,n.ISLAND=2},{"../events/EventEmitter":26,"../utils/Utils":57}],48:[function(t,e,r){var i=t("../equations/ContactEquation"),n=t("./Pool");function o(){n.apply(this,arguments)}e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.create=function(){return new i},o.prototype.destroy=function(t){return t.bodyA=t.bodyB=null,this}},{"../equations/ContactEquation":21,"./Pool":55}],49:[function(t,e,r){var i=t("../equations/FrictionEquation"),n=t("./Pool");function o(){n.apply(this,arguments)}e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.create=function(){return new i},o.prototype.destroy=function(t){return t.bodyA=t.bodyB=null,this}},{"../equations/FrictionEquation":23,"./Pool":55}],50:[function(t,e,r){var i=t("../world/IslandNode"),n=t("./Pool");function o(){n.apply(this,arguments)}e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.create=function(){return new i},o.prototype.destroy=function(t){return t.reset(),this}},{"../world/IslandNode":60,"./Pool":55}],51:[function(t,e,r){var i=t("../world/Island"),n=t("./Pool");function o(){n.apply(this,arguments)}e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.create=function(){return new i},o.prototype.destroy=function(t){return t.reset(),this}},{"../world/Island":58,"./Pool":55}],52:[function(t,e,r){var i=t("./TupleDictionary"),n=(t("./OverlapKeeperRecord"),t("./OverlapKeeperRecordPool"));function o(){this.overlappingShapesLastState=new i,this.overlappingShapesCurrentState=new i,this.recordPool=new n({size:16}),this.tmpDict=new i,this.tmpArray1=[]}t("./Utils"),e.exports=o,o.prototype.tick=function(){for(var t=this.overlappingShapesLastState,e=this.overlappingShapesCurrentState,r=t.keys.length;r--;){var i=t.keys[r],n=t.getByKey(i);e.getByKey(i),n&&this.recordPool.release(n)}t.reset(),t.copy(e),e.reset()},o.prototype.setOverlapping=function(t,e,r,i){this.overlappingShapesLastState;var n=this.overlappingShapesCurrentState;if(!n.get(e.id,i.id)){var o=this.recordPool.get();o.set(t,e,r,i),n.set(e.id,i.id,o)}},o.prototype.getNewOverlaps=function(t){return this.getDiff(this.overlappingShapesLastState,this.overlappingShapesCurrentState,t)},o.prototype.getEndOverlaps=function(t){return this.getDiff(this.overlappingShapesCurrentState,this.overlappingShapesLastState,t)},o.prototype.bodiesAreOverlapping=function(t,e){for(var r=this.overlappingShapesCurrentState,i=r.keys.length;i--;){var n=r.keys[i],o=r.data[n];if(o.bodyA===t&&o.bodyB===e||o.bodyA===e&&o.bodyB===t)return!0}return!1},o.prototype.getDiff=function(t,e,r){var i=t,n=e;(r=r||[]).length=0;for(var o=n.keys.length;o--;){var a=n.keys[o],s=n.data[a];if(!s)throw new Error("Key "+a+" had no data!");i.data[a]||r.push(s)}return r},o.prototype.isNewOverlap=function(t,e){var r=0|t.id,i=0|e.id,n=this.overlappingShapesLastState,o=this.overlappingShapesCurrentState;return!n.get(r,i)&&!!o.get(r,i)},o.prototype.getNewBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getNewOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},o.prototype.getEndBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getEndOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},o.prototype.getBodyDiff=function(t,e){e=e||[];for(var r=this.tmpDict,i=t.length;i--;){var n=t[i];r.set(0|n.bodyA.id,0|n.bodyB.id,n)}for(i=r.keys.length;i--;)(n=r.getByKey(r.keys[i]))&&e.push(n.bodyA,n.bodyB);return r.reset(),e}},{"./OverlapKeeperRecord":53,"./OverlapKeeperRecordPool":54,"./TupleDictionary":56,"./Utils":57}],53:[function(t,e,r){function i(t,e,r,i){this.shapeA=e,this.shapeB=i,this.bodyA=t,this.bodyB=r}e.exports=i,i.prototype.set=function(t,e,r,n){i.call(this,t,e,r,n)}},{}],54:[function(t,e,r){var i=t("./OverlapKeeperRecord"),n=t("./Pool");function o(){n.apply(this,arguments)}e.exports=o,o.prototype=new n,o.prototype.constructor=o,o.prototype.create=function(){return new i},o.prototype.destroy=function(t){return t.bodyA=t.bodyB=t.shapeA=t.shapeB=null,this}},{"./OverlapKeeperRecord":53,"./Pool":55}],55:[function(t,e,r){function i(t){t=t||{},this.objects=[],void 0!==t.size&&this.resize(t.size)}e.exports=i,i.prototype.resize=function(t){for(var e=this.objects;e.length>t;)e.pop();for(;e.length<t;)e.push(this.create());return this},i.prototype.get=function(){var t=this.objects;return t.length?t.pop():this.create()},i.prototype.release=function(t){return this.destroy(t),this.objects.push(t),this}},{}],56:[function(t,e,r){var i=t("./Utils");function n(){this.data={},this.keys=[]}e.exports=n,n.prototype.getKey=function(t,e){return(0|(t|=0))==(0|(e|=0))?-1:0|((0|t)>(0|e)?t<<16|65535&e:e<<16|65535&t)},n.prototype.getByKey=function(t){return t|=0,this.data[t]},n.prototype.get=function(t,e){return this.data[this.getKey(t,e)]},n.prototype.set=function(t,e,r){if(!r)throw new Error("No data!");var i=this.getKey(t,e);return this.data[i]||this.keys.push(i),this.data[i]=r,i},n.prototype.reset=function(){for(var t=this.data,e=this.keys,r=e.length;r--;)delete t[e[r]];e.length=0},n.prototype.copy=function(t){this.reset(),i.appendArray(this.keys,t.keys);for(var e=t.keys.length;e--;){var r=t.keys[e];this.data[r]=t.data[r]}}},{"./Utils":57}],57:[function(t,e,r){function i(){}e.exports=i,i.appendArray=function(t,e){if(e.length<15e4)t.push.apply(t,e);else for(var r=0,i=e.length;r!==i;++r)t.push(e[r])},i.splice=function(t,e,r){r=r||1;for(var i=e,n=t.length-r;i<n;i++)t[i]=t[i+r];t.length=n},"undefined"!=typeof P2_ARRAY_TYPE?i.ARRAY_TYPE=P2_ARRAY_TYPE:"undefined"!=typeof Float32Array?i.ARRAY_TYPE=Float32Array:i.ARRAY_TYPE=Array,i.extend=function(t,e){for(var r in e)t[r]=e[r]},i.defaults=function(t,e){for(var r in t=t||{},e)r in t||(t[r]=e[r]);return t}},{}],58:[function(t,e,r){var i=t("../objects/Body");function n(){this.equations=[],this.bodies=[]}e.exports=n,n.prototype.reset=function(){this.equations.length=this.bodies.length=0};var o=[];n.prototype.getBodies=function(t){var e=t||[],r=this.equations;o.length=0;for(var i=0;i!==r.length;i++){var n=r[i];-1===o.indexOf(n.bodyA.id)&&(e.push(n.bodyA),o.push(n.bodyA.id)),-1===o.indexOf(n.bodyB.id)&&(e.push(n.bodyB),o.push(n.bodyB.id))}return e},n.prototype.wantsToSleep=function(){for(var t=0;t<this.bodies.length;t++){var e=this.bodies[t];if(e.type===i.DYNAMIC&&!e.wantsToSleep)return!1}return!0},n.prototype.sleep=function(){for(var t=0;t<this.bodies.length;t++)this.bodies[t].sleep();return!0}},{"../objects/Body":31}],59:[function(t,e,r){t("../math/vec2"),t("./Island"),t("./IslandNode");var i=t("./../utils/IslandNodePool"),n=t("./../utils/IslandPool"),o=t("../objects/Body");function a(t){this.nodePool=new i({size:16}),this.islandPool=new n({size:8}),this.equations=[],this.islands=[],this.nodes=[],this.queue=[]}e.exports=a,a.getUnvisitedNode=function(t){for(var e=t.length,r=0;r!==e;r++){var i=t[r];if(!i.visited&&i.body.type===o.DYNAMIC)return i}return!1},a.prototype.visit=function(t,e,r){e.push(t.body);for(var i=t.equations.length,n=0;n!==i;n++){var o=t.equations[n];-1===r.indexOf(o)&&r.push(o)}},a.prototype.bfs=function(t,e,r){var i=this.queue;for(i.length=0,i.push(t),t.visited=!0,this.visit(t,e,r);i.length;)for(var n,s=i.pop();n=a.getUnvisitedNode(s.neighbors);)n.visited=!0,this.visit(n,e,r),n.body.type===o.DYNAMIC&&i.push(n)},a.prototype.split=function(t){for(var e=t.bodies,r=this.nodes,i=this.equations;r.length;)this.nodePool.release(r.pop());for(var n=0;n!==e.length;n++){var o=this.nodePool.get();o.body=e[n],r.push(o)}for(var s=0;s!==i.length;s++){var l=i[s],h=(n=e.indexOf(l.bodyA),e.indexOf(l.bodyB)),u=r[n],c=r[h];u.neighbors.push(c),c.neighbors.push(u),u.equations.push(l),c.equations.push(l)}var p,f=this.islands;for(n=0;n<f.length;n++)this.islandPool.release(f[n]);for(f.length=0;p=a.getUnvisitedNode(r);){var d=this.islandPool.get();this.bfs(p,d.bodies,d.equations),f.push(d)}return f}},{"../math/vec2":30,"../objects/Body":31,"./../utils/IslandNodePool":50,"./../utils/IslandPool":51,"./Island":58,"./IslandNode":60}],60:[function(t,e,r){function i(t){this.body=t,this.neighbors=[],this.equations=[],this.visited=!1}e.exports=i,i.prototype.reset=function(){this.equations.length=0,this.neighbors.length=0,this.visited=!1,this.body=null}},{}],61:[function(t,e,r){var i=t("../solver/GSSolver"),n=(t("../solver/Solver"),t("../collision/Ray"),t("../math/vec2")),o=t("../shapes/Circle"),a=t("../shapes/Convex"),s=(t("../shapes/Line"),t("../shapes/Plane")),l=t("../shapes/Capsule"),h=t("../shapes/Particle"),u=t("../events/EventEmitter"),c=t("../objects/Body"),p=(t("../shapes/Shape"),t("../objects/LinearSpring"),t("../material/Material")),f=t("../material/ContactMaterial"),d=(t("../constraints/DistanceConstraint"),t("../constraints/Constraint"),t("../constraints/LockConstraint"),t("../constraints/RevoluteConstraint"),t("../constraints/PrismaticConstraint"),t("../constraints/GearConstraint"),t("../../package.json"),t("../collision/Broadphase"),t("../collision/AABB")),m=t("../collision/SAPBroadphase"),v=t("../collision/Narrowphase"),y=t("../utils/Utils"),g=t("../utils/OverlapKeeper"),_=t("./IslandManager");function b(t){u.apply(this),t=t||{},this.springs=[],this.bodies=[],this.disabledBodyCollisionPairs=[],this.solver=t.solver||new i,this.narrowphase=new v(this),this.islandManager=new _,this.gravity=n.fromValues(0,-9.78),t.gravity&&n.copy(this.gravity,t.gravity),this.frictionGravity=n.length(this.gravity)||10,this.useWorldGravityAsFrictionGravity=!0,this.useFrictionGravityOnZeroGravity=!0,this.broadphase=t.broadphase||new m,this.broadphase.setWorld(this),this.constraints=[],this.defaultMaterial=new p,this.defaultContactMaterial=new f(this.defaultMaterial,this.defaultMaterial),this.lastTimeStep=1/60,this.applySpringForces=!0,this.applyDamping=!0,this.applyGravity=!0,this.solveConstraints=!0,this.contactMaterials=[],this.time=0,this.accumulator=0,this.stepping=!1,this.bodiesToBeRemoved=[],this.islandSplit=void 0===t.islandSplit||!!t.islandSplit,this.emitImpactEvent=!0,this._constraintIdCounter=0,this._bodyIdCounter=0,this.postStepEvent={type:"postStep"},this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.addSpringEvent={type:"addSpring",spring:null},this.impactEvent={type:"impact",bodyA:null,bodyB:null,shapeA:null,shapeB:null,contactEquation:null},this.postBroadphaseEvent={type:"postBroadphase",pairs:null},this.sleepMode=b.NO_SLEEPING,this.beginContactEvent={type:"beginContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null,contactEquations:[]},this.endContactEvent={type:"endContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null},this.preSolveEvent={type:"preSolve",contactEquations:null,frictionEquations:null},this.overlappingShapesLastState={keys:[]},this.overlappingShapesCurrentState={keys:[]},this.overlapKeeper=new g}t("../objects/RotationalSpring"),e.exports=b,b.prototype=new Object(u.prototype),b.prototype.constructor=b,b.NO_SLEEPING=1,b.BODY_SLEEPING=2,b.ISLAND_SLEEPING=4,b.prototype.addConstraint=function(t){this.constraints.push(t)},b.prototype.addContactMaterial=function(t){this.contactMaterials.push(t)},b.prototype.removeContactMaterial=function(t){var e=this.contactMaterials.indexOf(t);-1!==e&&y.splice(this.contactMaterials,e,1)},b.prototype.getContactMaterial=function(t,e){for(var r=this.contactMaterials,i=0,n=r.length;i!==n;i++){var o=r[i];if(o.materialA.id===t.id&&o.materialB.id===e.id||o.materialA.id===e.id&&o.materialB.id===t.id)return o}return!1},b.prototype.removeConstraint=function(t){var e=this.constraints.indexOf(t);-1!==e&&y.splice(this.constraints,e,1)},n.create(),n.create(),n.create(),n.create(),n.create(),n.create();var x=n.create(),w=n.fromValues(0,0),T=n.fromValues(0,0);n.fromValues(0,0),n.fromValues(0,0),b.prototype.step=function(t,e,r){if(r=r||10,0===(e=e||0))this.internalStep(t),this.time+=t;else{this.accumulator+=e;for(var i=0;this.accumulator>=t&&i<r;)this.internalStep(t),this.time+=t,this.accumulator-=t,i++;for(var o=this.accumulator%t/t,a=0;a!==this.bodies.length;a++){var s=this.bodies[a];n.lerp(s.interpolatedPosition,s.previousPosition,s.position,o),s.interpolatedAngle=s.previousAngle+o*(s.angle-s.previousAngle)}}};var E=[];b.prototype.internalStep=function(t){this.stepping=!0;var e=this.springs.length,r=this.springs,i=this.bodies,o=this.gravity,a=this.solver,s=this.bodies.length,l=this.broadphase,h=this.narrowphase,u=this.constraints,p=x,f=(n.scale,n.add),d=(n.rotate,this.islandManager);if(this.overlapKeeper.tick(),this.lastTimeStep=t,this.useWorldGravityAsFrictionGravity){var m=n.length(this.gravity);0===m&&this.useFrictionGravityOnZeroGravity||(this.frictionGravity=m)}if(this.applyGravity)for(var v=0;v!==s;v++){var g=(_=i[v]).force;_.type===c.DYNAMIC&&_.sleepState!==c.SLEEPING&&(n.scale(p,o,_.mass*_.gravityScale),f(g,g,p))}if(this.applySpringForces)for(v=0;v!==e;v++)r[v].applyForce();if(this.applyDamping)for(v=0;v!==s;v++){var _;(_=i[v]).type===c.DYNAMIC&&_.applyDamping(t)}var w=l.getCollisionPairs(this),T=this.disabledBodyCollisionPairs;for(v=T.length-2;v>=0;v-=2)for(var S=w.length-2;S>=0;S-=2)(T[v]===w[S]&&T[v+1]===w[S+1]||T[v+1]===w[S]&&T[v]===w[S+1])&&w.splice(S,2);var M=u.length;for(v=0;v!==M;v++){var A=u[v];if(!A.collideConnected)for(S=w.length-2;S>=0;S-=2)(A.bodyA===w[S]&&A.bodyB===w[S+1]||A.bodyB===w[S]&&A.bodyA===w[S+1])&&w.splice(S,2)}this.postBroadphaseEvent.pairs=w,this.emit(this.postBroadphaseEvent),this.postBroadphaseEvent.pairs=null,h.reset(this),v=0;for(var C=w.length;v!==C;v+=2)for(var P=w[v],k=w[v+1],O=0,I=P.shapes.length;O!==I;O++)for(var D=P.shapes[O],R=D.position,F=D.angle,L=0,B=k.shapes.length;L!==B;L++){var N=k.shapes[L],z=N.position,j=N.angle,V=this.defaultContactMaterial;if(D.material&&N.material){var U=this.getContactMaterial(D.material,N.material);U&&(V=U)}this.runNarrowphase(h,P,D,R,F,k,N,z,j,V,this.frictionGravity)}for(v=0;v!==s;v++)(G=i[v])._wakeUpAfterNarrowphase&&(G.wakeUp(),G._wakeUpAfterNarrowphase=!1);if(this.has("endContact")){this.overlapKeeper.getEndOverlaps(E);var W=this.endContactEvent;for(L=E.length;L--;){var q=E[L];W.shapeA=q.shapeA,W.shapeB=q.shapeB,W.bodyA=q.bodyA,W.bodyB=q.bodyB,this.emit(W)}E.length=0}var H=this.preSolveEvent;for(H.contactEquations=h.contactEquations,H.frictionEquations=h.frictionEquations,this.emit(H),H.contactEquations=H.frictionEquations=null,M=u.length,v=0;v!==M;v++)u[v].update();if(h.contactEquations.length||h.frictionEquations.length||M)if(this.islandSplit){for(d.equations.length=0,y.appendArray(d.equations,h.contactEquations),y.appendArray(d.equations,h.frictionEquations),v=0;v!==M;v++)y.appendArray(d.equations,u[v].equations);for(d.split(this),v=0;v!==d.islands.length;v++)(K=d.islands[v]).equations.length&&a.solveIsland(t,K)}else{for(a.addEquations(h.contactEquations),a.addEquations(h.frictionEquations),v=0;v!==M;v++)a.addEquations(u[v].equations);this.solveConstraints&&a.solve(t,this),a.removeAllEquations()}for(v=0;v!==s;v++){var G;(G=i[v]).integrate(t)}for(v=0;v!==s;v++)i[v].setZeroForce();if(this.emitImpactEvent&&this.has("impact")){var Y=this.impactEvent;for(v=0;v!==h.contactEquations.length;v++){var X=h.contactEquations[v];X.firstImpact&&(Y.bodyA=X.bodyA,Y.bodyB=X.bodyB,Y.shapeA=X.shapeA,Y.shapeB=X.shapeB,Y.contactEquation=X,this.emit(Y))}}if(this.sleepMode===b.BODY_SLEEPING)for(v=0;v!==s;v++)i[v].sleepTick(this.time,!1,t);else if(this.sleepMode===b.ISLAND_SLEEPING&&this.islandSplit){for(v=0;v!==s;v++)i[v].sleepTick(this.time,!0,t);for(v=0;v<this.islandManager.islands.length;v++){var K;(K=this.islandManager.islands[v]).wantsToSleep()&&K.sleep()}}this.stepping=!1;var Z=this.bodiesToBeRemoved;for(v=0;v!==Z.length;v++)this.removeBody(Z[v]);Z.length=0,this.emit(this.postStepEvent)},b.prototype.runNarrowphase=function(t,e,r,i,o,a,s,l,h,u,p){if(0!=(r.collisionGroup&s.collisionMask)&&0!=(s.collisionGroup&r.collisionMask)){n.rotate(w,i,e.angle),n.rotate(T,l,a.angle),n.add(w,w,e.position),n.add(T,T,a.position);var f,d=o+e.angle,m=h+a.angle;t.enableFriction=u.friction>0,t.frictionCoefficient=u.friction,f=e.type===c.STATIC||e.type===c.KINEMATIC?a.mass:a.type===c.STATIC||a.type===c.KINEMATIC?e.mass:e.mass*a.mass/(e.mass+a.mass),t.slipForce=u.friction*p*f,t.restitution=u.restitution,t.surfaceVelocity=u.surfaceVelocity,t.frictionStiffness=u.frictionStiffness,t.frictionRelaxation=u.frictionRelaxation,t.stiffness=u.stiffness,t.relaxation=u.relaxation,t.contactSkinSize=u.contactSkinSize,t.enabledEquations=e.collisionResponse&&a.collisionResponse&&r.collisionResponse&&s.collisionResponse;var v=t[r.type|s.type],y=0;if(v){var g=r.sensor||s.sensor,_=t.frictionEquations.length;y=r.type<s.type?v.call(t,e,r,w,d,a,s,T,m,g):v.call(t,a,s,T,m,e,r,w,d,g);var b=t.frictionEquations.length-_;if(y){if(e.allowSleep&&e.type===c.DYNAMIC&&e.sleepState===c.SLEEPING&&a.sleepState===c.AWAKE&&a.type!==c.STATIC&&n.squaredLength(a.velocity)+Math.pow(a.angularVelocity,2)>=2*Math.pow(a.sleepSpeedLimit,2)&&(e._wakeUpAfterNarrowphase=!0),a.allowSleep&&a.type===c.DYNAMIC&&a.sleepState===c.SLEEPING&&e.sleepState===c.AWAKE&&e.type!==c.STATIC&&n.squaredLength(e.velocity)+Math.pow(e.angularVelocity,2)>=2*Math.pow(e.sleepSpeedLimit,2)&&(a._wakeUpAfterNarrowphase=!0),this.overlapKeeper.setOverlapping(e,r,a,s),this.has("beginContact")&&this.overlapKeeper.isNewOverlap(r,s)){var x=this.beginContactEvent;if(x.shapeA=r,x.shapeB=s,x.bodyA=e,x.bodyB=a,x.contactEquations.length=0,"number"==typeof y)for(var E=t.contactEquations.length-y;E<t.contactEquations.length;E++)x.contactEquations.push(t.contactEquations[E]);this.emit(x)}if("number"==typeof y&&b>1)for(E=t.frictionEquations.length-b;E<t.frictionEquations.length;E++){var S=t.frictionEquations[E];S.setSlipForce(S.getSlipForce()/b)}}}}},b.prototype.addSpring=function(t){this.springs.push(t);var e=this.addSpringEvent;e.spring=t,this.emit(e),e.spring=null},b.prototype.removeSpring=function(t){var e=this.springs.indexOf(t);-1!==e&&y.splice(this.springs,e,1)},b.prototype.addBody=function(t){if(-1===this.bodies.indexOf(t)){this.bodies.push(t),t.world=this;var e=this.addBodyEvent;e.body=t,this.emit(e),e.body=null}},b.prototype.removeBody=function(t){if(this.stepping)this.bodiesToBeRemoved.push(t);else{t.world=null;var e=this.bodies.indexOf(t);-1!==e&&(y.splice(this.bodies,e,1),this.removeBodyEvent.body=t,t.resetConstraintVelocity(),this.emit(this.removeBodyEvent),this.removeBodyEvent.body=null)}},b.prototype.getBodyById=function(t){for(var e=this.bodies,r=0;r<e.length;r++){var i=e[r];if(i.id===t)return i}return!1},b.prototype.disableBodyCollision=function(t,e){this.disabledBodyCollisionPairs.push(t,e)},b.prototype.enableBodyCollision=function(t,e){for(var r=this.disabledBodyCollisionPairs,i=0;i<r.length;i+=2)if(r[i]===t&&r[i+1]===e||r[i+1]===t&&r[i]===e)return void r.splice(i,2)},b.prototype.clear=function(){this.time=0,this.solver&&this.solver.equations.length&&this.solver.removeAllEquations();for(var t=this.constraints,e=t.length-1;e>=0;e--)this.removeConstraint(t[e]);var r=this.bodies;for(e=r.length-1;e>=0;e--)this.removeBody(r[e]);var i=this.springs;for(e=i.length-1;e>=0;e--)this.removeSpring(i[e]);var n=this.contactMaterials;for(e=n.length-1;e>=0;e--)this.removeContactMaterial(n[e]);b.apply(this)};var S=n.create(),M=(n.fromValues(0,0),n.fromValues(0,0));b.prototype.hitTest=function(t,e,r){r=r||0;var i=new c({position:t}),u=new h,p=t,f=S,d=M;i.addShape(u);for(var m=this.narrowphase,v=[],y=0,g=e.length;y!==g;y++)for(var _=e[y],b=0,x=_.shapes.length;b!==x;b++){var w=_.shapes[b];n.rotate(f,w.position,_.angle),n.add(f,f,_.position);var T=w.angle+_.angle;(w instanceof o&&m.circleParticle(_,w,f,T,i,u,p,0,!0)||w instanceof a&&m.particleConvex(i,u,p,0,_,w,f,T,!0)||w instanceof s&&m.particlePlane(i,u,p,0,_,w,f,T,!0)||w instanceof l&&m.particleCapsule(i,u,p,0,_,w,f,T,!0)||w instanceof h&&n.squaredLength(n.sub(d,f,t))<r*r)&&v.push(_)}return v},b.prototype.setGlobalStiffness=function(t){for(var e=this.constraints,r=0;r!==e.length;r++)for(var i=e[r],n=0;n!==i.equations.length;n++){var o=i.equations[n];o.stiffness=t,o.needsUpdate=!0}var a=this.contactMaterials;for(r=0;r!==a.length;r++)(i=a[r]).stiffness=i.frictionStiffness=t;(i=this.defaultContactMaterial).stiffness=i.frictionStiffness=t},b.prototype.setGlobalRelaxation=function(t){for(var e=0;e!==this.constraints.length;e++)for(var r=this.constraints[e],i=0;i!==r.equations.length;i++){var n=r.equations[i];n.relaxation=t,n.needsUpdate=!0}for(e=0;e!==this.contactMaterials.length;e++)(r=this.contactMaterials[e]).relaxation=r.frictionRelaxation=t;(r=this.defaultContactMaterial).relaxation=r.frictionRelaxation=t};var A=new d,C=[];b.prototype.raycast=function(t,e){return e.getAABB(A),this.broadphase.aabbQuery(this,A,C),e.intersectBodies(t,C),C.length=0,t.hasHit()}},{"../../package.json":6,"../collision/AABB":7,"../collision/Broadphase":8,"../collision/Narrowphase":10,"../collision/Ray":11,"../collision/SAPBroadphase":13,"../constraints/Constraint":14,"../constraints/DistanceConstraint":15,"../constraints/GearConstraint":16,"../constraints/LockConstraint":17,"../constraints/PrismaticConstraint":18,"../constraints/RevoluteConstraint":19,"../events/EventEmitter":26,"../material/ContactMaterial":27,"../material/Material":28,"../math/vec2":30,"../objects/Body":31,"../objects/LinearSpring":32,"../objects/RotationalSpring":33,"../shapes/Capsule":38,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Line":42,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45,"../solver/GSSolver":46,"../solver/Solver":47,"../utils/OverlapKeeper":52,"../utils/Utils":57,"./IslandManager":59}]},{},[36])(36)},K3mO:function(t,e,r){var i,n,o,a,s,l,h,u;t.exports=(u=r("Ib8C"),r("3y9D"),r("WYAk"),n=(i=u).lib,o=n.Base,a=n.WordArray,s=i.algo,l=s.MD5,h=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:l,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r,i=this.cfg,n=i.hasher.create(),o=a.create(),s=o.words,l=i.keySize,h=i.iterations;s.length<l;){r&&n.update(r),r=n.update(t).finalize(e),n.reset();for(var u=1;u<h;u++)r=n.finalize(r),n.reset();o.concat(r)}return o.sigBytes=4*l,o}}),i.EvpKDF=function(t,e,r){return h.create(r).compute(t,e)},u.EvpKDF)},KmYQ:function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("OLod"),i.pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){var e=t.words,r=t.sigBytes-1;for(r=t.sigBytes-1;r>=0;r--)if(e[r>>>2]>>>24-r%4*8&255){t.sigBytes=r+1;break}}},i.pad.ZeroPadding)},LboF:function(t,e,r){"use strict";var i,n=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}(),a=[];function s(t){for(var e=-1,r=0;r<a.length;r++)if(a[r].identifier===t){e=r;break}return e}function l(t,e){for(var r={},i=[],n=0;n<t.length;n++){var o=t[n],l=e.base?o[0]+e.base:o[0],h=r[l]||0,u="".concat(l," ").concat(h);r[l]=h+1;var c=s(u),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==c?(a[c].references++,a[c].updater(p)):a.push({identifier:u,updater:v(p,e),references:1}),i.push(u)}return i}function h(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var n=r.nc;n&&(i.nonce=n)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,c=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function p(t,e,r,i){var n=r?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=c(e,n);else{var o=document.createTextNode(n),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e,r){var i=r.css,n=r.media,o=r.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var d=null,m=0;function v(t,e){var r,i,n;if(e.singleton){var o=m++;r=d||(d=h(e)),i=p.bind(null,r,o,!1),n=p.bind(null,r,o,!0)}else r=h(e),i=f.bind(null,r,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=n());var r=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<r.length;i++){var n=s(r[i]);a[n].references--}for(var o=l(t,e),h=0;h<r.length;h++){var u=s(r[h]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}r=o}}}},MgzW:function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,l=a(t),h=1;h<arguments.length;h++){for(var u in r=Object(arguments[h]))n.call(r,u)&&(l[u]=r[u]);if(i){s=i(r);for(var c=0;c<s.length;c++)o.call(r,s[c])&&(l[s[c]]=r[s[c]])}}return l}},MlIO:function(t,e,r){var i,n,o,a,s,l;t.exports=(l=r("Ib8C"),n=(i=l).lib,o=n.Base,a=n.WordArray,(s=i.x64={}).Word=o.extend({init:function(t,e){this.high=t,this.low=e}}),s.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],i=0;i<e;i++){var n=t[i];r.push(n.high),r.push(n.low)}return a.create(r,this.sigBytes)},clone:function(){for(var t=o.clone.call(this),e=t.words=this.words.slice(0),r=e.length,i=0;i<r;i++)e[i]=e[i].clone();return t}}),l)},NFKh:function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("MlIO"),r("F+F2"),r("qM6L"),r("ETIr"),r("wbyO"),r("cv67"),r("3y9D"),r("lPiR"),r("GRuw"),r("1uat"),r("uGsb"),r("5hvy"),r("ELcG"),r("WYAk"),r("e7zE"),r("K3mO"),r("OLod"),r("ALsQ"),r("9OqN"),r("qu8F"),r("S6kV"),r("gb/T"),r("qBft"),r("oRuE"),r("jO9C"),r("KmYQ"),r("uGxW"),r("bQjk"),r("wZgz"),r("pA7S"),r("w7YG"),r("E4JC"),r("PVpz"),i)},NiLM:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return l})),r.d(e,"c",(function(){return h})),r.d(e,"d",(function(){return u}));var i=function(){return(i=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};Object.create;Object.create;var n={interval:200};function o(t){i(n,t)}var a,s=[];function l(t,e,r){void 0===r&&(r=!1);var i={target:t,callback:e,realVisible:r};return s.push(i),function(){s.splice(s.indexOf(i),1)}}function h(){u(),a=setInterval(c,n.interval)}function u(){a&&clearInterval(a)}function c(){for(var t=window.innerWidth,e=window.innerHeight,r=0,i=s;r<i.length;r++){var n=i[r],o=n.target,a=n.callback,l=n.realVisible;if(o){var h=void 0;"string"==typeof o?h=document.querySelector(o):o instanceof HTMLElement&&(h=o);var u=void 0;if(h&&"hidden"!==h.style.visibility){if(u=!0,l){var c=h.getBoundingClientRect(),p=c.x,f=c.y,d=c.left,m=c.top,v=c.width,y=c.height,g=p||d,_=f||m;(g>t||g+v<0||_>e||_+y<0)&&(u=!1)}}else u=!1;n.visible!==u&&(n.visible=u,a(n,h,u))}}}},Nsbk:function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},O7F6:function(t){t.exports=JSON.parse("{}")},OLod:function(t,e,r){var i,n,o,a,s,l,h,u,c,p,f,d,m,v,y,g,_,b,x;t.exports=(i=r("Ib8C"),r("K3mO"),void(i.lib.Cipher||(n=i,o=n.lib,a=o.Base,s=o.WordArray,l=o.BufferedBlockAlgorithm,h=n.enc,h.Utf8,u=h.Base64,c=n.algo.EvpKDF,p=o.Cipher=l.extend({cfg:a.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?x:_}return function(e){return{encrypt:function(r,i,n){return t(i).encrypt(e,r,i,n)},decrypt:function(r,i,n){return t(i).decrypt(e,r,i,n)}}}}()}),o.StreamCipher=p.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),f=n.mode={},d=o.BlockCipherMode=a.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),m=f.CBC=function(){var t=d.extend();function e(t,e,r){var i,n=this._iv;n?(i=n,this._iv=void 0):i=this._prevBlock;for(var o=0;o<r;o++)t[e+o]^=i[o]}return t.Encryptor=t.extend({processBlock:function(t,r){var i=this._cipher,n=i.blockSize;e.call(this,t,r,n),i.encryptBlock(t,r),this._prevBlock=t.slice(r,r+n)}}),t.Decryptor=t.extend({processBlock:function(t,r){var i=this._cipher,n=i.blockSize,o=t.slice(r,r+n);i.decryptBlock(t,r),e.call(this,t,r,n),this._prevBlock=o}}),t}(),v=(n.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,i=r-t.sigBytes%r,n=i<<24|i<<16|i<<8|i,o=[],a=0;a<i;a+=4)o.push(n);var l=s.create(o,i);t.concat(l)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},o.BlockCipher=p.extend({cfg:p.cfg.extend({mode:m,padding:v}),reset:function(){var t;p.reset.call(this);var e=this.cfg,r=e.iv,i=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=i.createEncryptor:(t=i.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,r&&r.words):(this._mode=t.call(i,this,r&&r.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),y=o.CipherParams=a.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),g=(n.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;return(r?s.create([1398893684,1701076831]).concat(r).concat(e):e).toString(u)},parse:function(t){var e,r=u.parse(t),i=r.words;return 1398893684==i[0]&&1701076831==i[1]&&(e=s.create(i.slice(2,4)),i.splice(0,4),r.sigBytes-=16),y.create({ciphertext:r,salt:e})}},_=o.SerializableCipher=a.extend({cfg:a.extend({format:g}),encrypt:function(t,e,r,i){i=this.cfg.extend(i);var n=t.createEncryptor(r,i),o=n.finalize(e),a=n.cfg;return y.create({ciphertext:o,key:r,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,r,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(r,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),b=(n.kdf={}).OpenSSL={execute:function(t,e,r,i){i||(i=s.random(8));var n=c.create({keySize:e+r}).compute(t,i),o=s.create(n.words.slice(e),4*r);return n.sigBytes=4*e,y.create({key:n,iv:o,salt:i})}},x=o.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:b}),encrypt:function(t,e,r,i){var n=(i=this.cfg.extend(i)).kdf.execute(r,t.keySize,t.ivSize);i.iv=n.iv;var o=_.encrypt.call(this,t,e,n.key,i);return o.mixIn(n),o},decrypt:function(t,e,r,i){i=this.cfg.extend(i),e=this._parse(e,i.format);var n=i.kdf.execute(r,t.keySize,t.ivSize,e.salt);return i.iv=n.iv,_.decrypt.call(this,t,e,n.key,i)}}))))},PJYZ:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},PVpz:function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("ETIr"),r("cv67"),r("K3mO"),r("OLod"),function(){var t=i,e=t.lib.StreamCipher,r=t.algo,n=[],o=[],a=[],s=r.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(e){var o=e.words,a=o[0],s=o[1],h=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=h>>>16|4294901760&u,p=u<<16|65535&h;for(i[0]^=h,i[1]^=c,i[2]^=u,i[3]^=p,i[4]^=h,i[5]^=c,i[6]^=u,i[7]^=p,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(t,e){var r=this._X;l.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),t[e+i]^=n[i]},blockSize:4,ivSize:2});function l(){for(var t=this._X,e=this._C,r=0;r<8;r++)o[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var i=t[r]+e[r],n=65535&i,s=i>>>16,l=((n*n>>>17)+n*s>>>15)+s*s,h=((4294901760&i)*i|0)+((65535&i)*i|0);a[r]=l^h}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=e._createHelper(s)}(),i.RabbitLegacy)},QCnb:function(t,e,r){"use strict";t.exports=r("+wdc")},RIqP:function(t,e,r){var i=r("Ijbi"),n=r("EbDI"),o=r("ZhPi"),a=r("Bnag");t.exports=function(t){return i(t)||n(t)||o(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},RMBI:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global,process){__webpack_require__.d(__webpack_exports__,"a",(function(){return Weixin})),__webpack_require__.d(__webpack_exports__,"b",(function(){return callShare})),__webpack_require__.d(__webpack_exports__,"c",(function(){return start})),__webpack_require__.d(__webpack_exports__,"d",(function(){return updateShare}));var _spark_api_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("XZNu"),_spark_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("cqKg"),_spark_api_base__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("zgwS"),_meta_json__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("YQrK"),_meta_json__WEBPACK_IMPORTED_MODULE_3___namespace=__webpack_require__.t("YQrK",1);window.__ENV__||(window.__ENV__={})
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */;var extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function __extends(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var __assign=function(){return(__assign=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function __awaiter(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function __generator(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ShareWay=function(){function t(){}return t.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!1]}))}))},t.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!0]}))}))},t.prototype.updateShare=function(t,e){},t.prototype.callShare=function(t,e){return Promise.resolve()},t.prototype.sendShareResult=function(t,e){this._onShareResult&&this._onShareResult(this.name,t,e)},t.isOn=!1,t}(),EverSunshine=function(t){function e(){var e=t.call(this)||this;return e.name="阳光守护",e}return __extends(e,t),e.prototype.ready=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2]}))}))},e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,e.inApp]}))}))},e.prototype.callShare=function(t,e){var r=this,i={title:t.title,content:t.content,href:t.url,thumbs:[t.thumbnail]};return new Promise((function(t){plusShare(i,(function(e){r.sendShareResult(!!e),t(!!e)}))}))},Object.defineProperty(e,"inApp",{get:function(){return e.hasOwnProperty("_inApp")||(e._inApp=navigator.userAgent.indexOf("eversunshine")>=0),e._inApp},enumerable:!1,configurable:!0}),e}(ShareWay),QQ=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="QQ",e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,mqq.support("mqq.ui.setOnShareHandler")]}))}))},e.prototype.updateShare=function(t,e){var r=this,i=t.url,n=t.title,o=t.content,a=t.thumbnail;mqq.ui.setOnShareHandler((function(t){var e={title:n,share_url:i,desc:o,image_url:a,share_type:t,back:!0};mqq.ui.shareMessage(e,(function(t){r.sendShareResult(0==t.retCode)}))}))},e}(ShareWay),Zhangzhongtou=function(t){function e(){var e=t.call(this)||this;return e.name="掌中投",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/zztplatform/i)]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;this.params.title=n,this.params.url=i,this.params.message=o,this.params.img_url=a;var s=r.shareType,l=void 0===s?99:s;this.params.sharetype=l;var h=[],u=this.params;for(var c in u)""!=u[c]&&("title"!=c&&"message"!=c||h.push(c+"="+u[c]),h.push(c+"="+encodeURIComponent(u[c])));return onJsOverrideUrlLoading("http://action:10055/?"+h.join("&&")),t.prototype.callShare.call(this,e,r)},e}(ShareWay);function onJsOverrideUrlLoading(t){var e=navigator.appVersion.toLocaleLowerCase();e.indexOf("windows phone")>0?external.notify(t):e.indexOf("android")>0?MyWebView.onJsOverrideUrlLoading(t):window.location.href=t}var PinganZhengquan=function(t){function e(){var e=t.call(this)||this;return e.name="平安证券",e.params={type:"0",channel:"",pageId:"LICAIshare"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,Adapter.isNative]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;return this.params.title=n,this.params.link=i,this.params.description=o,this.params.thumbimage=a,Adapter.share(this.params,(function(){})),t.prototype.callShare.call(this,e,r)},e}(ShareWay),Dingding=function(t){function e(){var e=t.call(this)||this;return e.name="钉钉",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,"notInDingTalk"!==dd.env.platform]}))}))},e.prototype.dingdingReady=function(){return new Promise((function(t){dd.ready((function(){return t(!0)}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this.dingdingReady()];case 1:return t.sent(),[2,!0]}}))}))},e.prototype.callShare=function(t,e){var r=this,i=t.url,n=t.title,o=t.content,a=t.thumbnail;this.params.title=n,this.params.url=i,this.params.content=o,this.params.image=a;var s=e.type,l=void 0===s?0:s;return this.params.type=l,new Promise((function(t){r.params.onSuccess=function(){r.sendShareResult(!0),t(!0)},r.params.onFail=function(){r.sendShareResult(!1),t(!1)},dd.biz.util.share(r.params)}))},e}(ShareWay),GongshangElife=function(t){function e(){var e=t.call(this)||this;return e.name="工银e生活",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/eLife/i)]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;return this.params.Title=n,this.params.ShareUrl=i,this.params.Content=o,this.params.PNGUrl=a,hybrid_app.share(JSON.stringify(this.params)),t.prototype.callShare.call(this,e,r)},e.channels=["wechat_session","wechat_timeline"],e}(ShareWay),VERSION_CANNOT_SET_LINK="8.0.16",ua=navigator.userAgent,isWeixinWork=!!ua.match(/wxwork/i),result$1=ua.match(/MicroMessenger\/([\d.]+)/i),appVersion,cannotSetLink=!1;result$1&&(appVersion=result$1[1],cannotSetLink=Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)(appVersion,VERSION_CANNOT_SET_LINK),console.info("微信APP版本：",appVersion,cannotSetLink));var jsApiList12=["onMenuShareTimeline","onMenuShareAppMessage"];isWeixinWork&&jsApiList12.push("onMenuShareWechat");var jsApiList14=["updateAppMessageShareData","updateTimelineShareData"],jsApiList=window.wx?wx.updateAppMessageShareData?jsApiList14:jsApiList12:[],originHref=location.href;window.addEventListener("pagehide",(function(){cannotSetLink&&sessionStorage.setItem("__jump_url",originHref)}));var Weixin=function(t){function e(){var e=t.call(this)||this;return e.name="微信",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){navigator.userAgent.toLowerCase().match(/micromessenger/i)?e.distinguishedFromMini?wx.miniProgram.getEnv((function(e){t(!e.miniprogram)})):t(!0):t(!1)}))]}))}))},e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){var r,i,n,o,a,s,l,h,u,c,p,f,d;return __generator(this,(function(m){switch(m.label){case 0:return[4,e.testEnv()];case 1:if(!m.sent())return[2,!0];m.label=2;case 2:return m.trys.push([2,5,,6]),r=t.signUrl,i=t.jsApiList,n=t.openTagList,o=t.isMiniApp,a=void 0!==o&&o,s=t.apk,l=t.customSignData,(u=l)?[3,4]:[4,Object(_spark_api_common__WEBPACK_IMPORTED_MODULE_0__.a)(r,a,s)];case 3:u=m.sent(),m.label=4;case 4:if(h=u,c=jsApiList.concat(),i)for(p=0,f=i;p<f.length;p++)d=f[p],c.indexOf(d)<0&&c.push(d);return[2,new Promise((function(t){var r=h.wxappid,i=h.wxtimestamp,o=h.wxnonceStr,a=h.wxsignature;wx.config({debug:e.debugMode,appId:r,timestamp:i,nonceStr:o,signature:a,jsApiList:c,openTagList:n}),wx.ready((function(){t(!0)})),wx.error((function(e){console.info(e),t(!1)}))}))];case 5:return m.sent(),[2,!1];case 6:return[2]}}))}))},e.prototype.updateShare=function(t,e){var r=this,i=t.url,n=t.title,o=t.content,a=t.thumbnail;this.params.title=n,this.params.desc=o,this.params.imgUrl=a,this.params.link=i,wx.ready((function(){jsApiList.forEach((function(t){wx[t](r.params)}))}))},e.prototype.callShare=function(t,e){var r=this,i=t.url,n=t.title,o=t.content,a=t.thumbnail;this.params.title=n,this.params.link=i,this.params.desc=o,this.params.imgUrl=a;var s,l=e.scene;switch(void 0===l?0:l){case 0:s="shareAppMessage";break;case 1:s="shareWechatMessage"}return new Promise((function(t){wx.invoke(s,r.params,(function(e){var i="shareAppMessage:ok"==e.err_msg;r.sendShareResult(i),t(i)}))}))},e.debugMode=!1,e.distinguishedFromMini=!1,e}(ShareWay),WeixinMini=function(t){function e(){var e=t.call(this)||this;return e.name="微信小程序",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){navigator.userAgent.toLowerCase().match(/micromessenger/i)?wx.miniProgram.getEnv((function(e){t(e.miniprogram)})):t(!1)}))]}))}))},e.prototype.updateShare=function(r,i){t.prototype.updateShare.call(this,r);var n,o=r.url,a=r.title,s=r.content,l=r.thumbnail,h=this.params;e.shareId&&(n=sfms[e.shareId]),n||(n=e.shareFieldsMapping),h[n.title]=a,h[n.link]=o,h[n.desc]=s,h[n.imgUrl]=l,wx.miniProgram.postMessage({data:this.params})},e.shareFieldsMapping={title:"title",link:"link",desc:"desc",imgUrl:"imgUrl"},e}(ShareWay),sfms={TaoboSports:{title:"shareTitle",link:"url",desc:"shareDesc",imgUrl:"shareImage"}},ChangchengWey=function(t){function e(){var e=t.call(this)||this;return e.name="长城Wey",e.params={official:!0,img:"havalIcon"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){return[2,!!(t=navigator.userAgent).match(/BOB/i)||!!t.match(/wey/i)]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;return this.params.title=n,this.params.url=i,this.params.description=o,this.params.img=a,this.params.imgUrl=a,dsBridge.call("NativeController.presentShare",this.params),t.prototype.callShare.call(this,e,r)},e}(ShareWay),RenshouYunzhuli=function(t){function e(){var e=t.call(this)||this;return e.name="人寿云助理",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/yunzhuli/i)]}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){yzl.config({appId:e.appId}),yzl.ready((function(){console.info("ready"),t(!0)})),yzl.error((function(t){console.info("error",t)}))}))]}))}))},e.prototype.updateShare=function(t,e){var r=this,i=t.title;t.content;var n=t.url,o=t.thumbnail;return this.params.title=i,this.params.link=n,this.params.imgUrl=o,new Promise((function(t){r.params.success=function(e){r.sendShareResult(!0),t(!0)},r.params.fail=function(){r.sendShareResult(!1),t(!1)},yzl.onMenuShareTimeline(r.params),yzl.onMenuShareAppMessage(r.params)}))},e.prototype.callShare=function(t,e){var r=this,i=t.title,n=t.content,o=t.url,a=t.thumbnail;this.params.title=i,this.params.webpageUrl=o,this.params.description=n,this.params.thumbUrl=a;var s=e.scene,l=void 0===s?0:s;return this.params.scene=l,new Promise((function(t){r.params.success=function(){r.sendShareResult(!0),t(!0)},r.params.fail=function(e){r.sendShareResult(!1,e),t(!1)},yzl.shareWebpageToWX(r.params)}))},e}(ShareWay),Xiangcai=function(t){function e(){var e=t.call(this)||this;return e.name="湘财",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/xcsc/i)]}))}))},e.prototype.callShare=function(e,r){var i=this,n=e.url,o=e.title,a=e.content;return e.thumbnail,this.params.Title=o,this.params.Shareurl=n,this.params.Substract=a,__webCallTql.send("tdxOpenShare",this.params,(function(t){i.sendShareResult(t)})),t.prototype.callShare.call(this,e,r)},e}(ShareWay),Yunshanfu=function(t){function e(){var e=t.call(this)||this;return e.name="云闪付",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/unionpay/i)]}))}))},e.initSdk=function(t){return __awaiter(this,void 0,void 0,(function(){var e,r,i,n,o;return __generator(this,(function(a){switch(a.label){case 0:return[4,Object(_spark_api_base__WEBPACK_IMPORTED_MODULE_2__.c)("share/shareInfo.do",{url:encodeURIComponent(location.href.split("#")[0])})];case 1:return e=a.sent(),r=e.appId,i=e.timestamp,n=e.nonceStr,o=e.signature,[2,new Promise((function(e,a){upsdk.config({appId:r,timestamp:i,nonceStr:n,signature:o,debug:t}),upsdk.ready((function(){e(!0)})),upsdk.error((function(t){a(t)}))}))]}}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){upsdk.pluginReady((function(){t(!0)}))}))]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;return this.params.title=n,this.params.shareUrl=i,this.params.desc=o,this.params.picUrl=a,upsdk.showSharePopup(this.params),t.prototype.callShare.call(this,e,r)},e}(ShareWay),Yangshipin=function(t){function e(){var r=t.call(this)||this;return r.name="央视频",r.params={shareId:e.shareId},r}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/yangshipin/i)]}))}))},e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,window["cctvh5-share"].default.init(t)];case 1:return[2,e.sent().canShare]}}))}))},e.prototype.updateShare=function(t,e){var r=t.url,i=t.title,n=t.content,o=t.thumbnail;this.params.shareTitle=i,this.params.shareUrl=r,this.params.shareSubTitle=n,this.params.shareImgUrl=o,window["cctvh5-share"].default.setShareData(this.params)},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;return this.params.shareTitle=n,this.params.shareUrl=i,this.params.shareSubTitle=o,this.params.shareImgUrl=a,window["cctvh5-share"].default.invokeCCTVShare(this.params),t.prototype.callShare.call(this,e,r)},e.shareId="itemtype=aid&aid=5f59c123abd19175e5b3e388",e}(ShareWay),Zhangshangzhongyi=function(t){function e(){var e=t.call(this)||this;return e.name="掌上中意",e.params={message:{media:{}}},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/ePolicy/i)]}))}))},e.prototype.callShare=function(t,e){var r=this,i=t.url,n=t.title,o=t.content,a=t.thumbnail,s=this.params.message;s.title=n,s.description=o,s.thumb=a,s.media.webpageUrl=i;var l=e.scene,h=void 0===l?Wechat.Scene.SESSION:l,u=e.mediaType,c=void 0===u?Wechat.Type.WEBPAGE:u;return this.params.scene=h,s.media.type=c,console.info("params:",this.params),new Promise((function(t){Wechat.share(r.params,(function(e){r.sendShareResult(!0),t(!0)}),(function(e){r.sendShareResult(!1,e),t(!1)}))}))},e}(ShareWay),TianmuNews=function(t){function e(){var e=t.call(this)||this;return e.name="天目新闻",e.params={completed:function(t){},cpIncompatible:function(){}},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/zjolapp/i)]}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){CP.ready({debug:e.debugMode,ready:function(e){t(!0)},error:function(e){t(!1)}})}))]}))}))},e.prototype.ensure=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<10?CP&&CP._options.is_ready_done?[3,3]:[4,new Promise((function(t){setTimeout(t,200)}))]:[3,5];case 2:return e.sent(),[3,4];case 3:return[2];case 4:return t++,[3,1];case 5:return[2]}}))}))},e.prototype.updateShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var r,i,n,o,a,s;return __generator(this,(function(l){switch(l.label){case 0:return r=t.url,i=t.title,n=t.content,o=t.thumbnail,this.params.title=i,this.params.link=r,this.params.shareSummary=n,this.params.imgUrl=o,a=e.shareTo,s=void 0===a?"":a,this.params.shareTo=s,[4,this.ensure()];case 1:return l.sent(),CP.setShare(this.params),[2]}}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a,s,l;return __generator(this,(function(h){switch(h.label){case 0:return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.link=i,this.params.shareSummary=o,this.params.imgUrl=a,s=r.shareTo,l=void 0===s?"":s,this.params.shareTo=l,[4,this.ensure()];case 1:return h.sent(),CP.showShare(this.params),[2,t.prototype.callShare.call(this,e,r)]}}))}))},e.debugMode=!1,e}(ShareWay),Guanqiaian=function(t){function e(){var e=t.call(this)||this;return e.name="广汽埃安",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!window.GACLOVECAR]}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!0]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;this.params.title=n,this.params.url=i,this.params.context=o,this.params.imagePath=a;var s={weChat:this.params,circleOfFriends:this.params,weiBo:this.params,buddy:this.params,groupChat:this.params};return GACLOVECAR&&GACLOVECAR.goShareArticle(JSON.stringify(s)),t.prototype.callShare.call(this,e,r)},e}(ShareWay),Unicom=function(t){function e(){var e=t.call(this)||this;return e.name="中国联通APP",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/unicom/i)]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;this.params.shareTitle=n,this.params.shareContent=o,this.params.shareURL=i,this.params.shareIconURL=a;var s=r.shareStyle,l=void 0===s?"webpage":s;return this.params.shareStyle=l,ms.showShareMenu(this.params),t.prototype.callShare.call(this,e,r)},e.prototype.updateShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;this.params.shareTitle=n,this.params.shareContent=o,this.params.shareURL=i,this.params.shareIconURL=a;var s=r.shareStyle,l=void 0===s?"webpage":s,h=r.shareChannel,u=void 0===h?["share"]:h;return this.params.shareStyle=l,this.params.shareChannel=u,ms.updateClientMoreMenu({moreMenu:["share","screenshotShare"],shareConfig:this.params}),t.prototype.callShare.call(this,e,r)},e}(ShareWay),UnicomMobile=function(t){function e(){var e=t.call(this)||this;return e.name="联通手机营业厅",e.params={shareType:"url"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/unicom/i)]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;this.params.shareTitle=n,this.params.shareContent=o,this.params.shareURL=i,this.params.shareIconURL=a;var s=r.shareList,l={type:"share2",url:"",shareList:void 0===s?"sinaweibo,tencentweibo,qzone,wechat,wechatmoments,email,shortmessage,qq":s,msg:"",shareJson:this.params},h=JSON.stringify(l);return"iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)()?location.href="clientAction="+h:js_invoke.interact(h),t.prototype.callShare.call(this,e,r)},e}(ShareWay),HebaoPay=function(t){function e(){var e=t.call(this)||this;return e.name="和包支付",e.params={shareWay:"WECHAT_SHARE_WAY_WEBPAGE"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/hebao/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a,s;return __generator(this,(function(l){return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.linkUrl=i,this.params.content=o,this.params.image=a,"Android"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)()?MobileWalletShare.startShare(n,i,o):(window.handleSuccess=function(t){},s={shareUrl:i,shareDetail:o},hebaoWkjs.doCall("CMPShareAction",s)),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),Xiangyijia=function(t){function e(){var e=t.call(this)||this;return e.name="香溢家",e.params={},e}return __extends(e,t),e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;this.params.title=n,this.params.link=i,this.params.describe=o,this.params.imgUrl=a;var s={method:"share",value:this.params};return ReactNativeWebView.postMessage(JSON.stringify(s)),t.prototype.callShare.call(this,e,r)},e}(ShareWay),Beijingxiandai=function(t){function e(){var e=t.call(this)||this;return e.name="北京现代",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/bjxd/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a;return __generator(this,(function(s){return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.url=i,this.params.desc=o,this.params.pic=a,"iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)()?webkit.messageHandlers.webShareToAppWithParam.postMessage(this.params):android.webShareToAppWithParam(n,a,i,o),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),Xiamenguoji=function(t){function e(){var e=t.call(this)||this;return e.name="厦门国际",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/xib/i)]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var e,r,i,n,o=this;return __generator(this,(function(a){return e=t.url,r=t.title,i=t.content,n=t.thumbnail,this.params.title=r,this.params.url=e,this.params.desc=i,this.params.thumbnail=n,[2,new Promise((function(t){XIBLS.SocialShare.shareAll((function(){o.sendShareResult(!0),t(!0)}),(function(){o.sendShareResult(!1),t(!1)}),o.params)}))]}))}))},e}(ShareWay),Yizhifu=function(t){function e(){var e=t.call(this)||this;return e.name="翼支付",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/bestpay/i)]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var r,i,n,o,a,s,l,h,u,c,p,f,d,m,v=this;return __generator(this,(function(y){return r=t.url,i=t.title,n=t.content,0==(o=t.thumbnail).indexOf("http")?(a="imageUrl",s=o):(a="imageData",s=o.replace(/^data:image\/\w+;base64,/,"")),this.params.title=i,this.params.linkUrl=r,this.params.text=n,this.params[a]=s,l=e.type,h=void 0===l?"weixin":l,u=e.contentType,c=void 0===u?"link":u,p=e.miniprogramType,f=void 0===p?"0":p,d=e.userName,m=void 0===d?"gh_6619cdb5d346":d,this.params.contentType=c,this.params.type=h,"miniProgram"===c&&(this.params.miniprogramType=f,this.params.userName=m,this.params.path="/package/pages/beartransfer/index?url="+encodeURIComponent(r)),[2,new Promise((function(t){BestpayHtml5.Other.share(v.params,(function(e){v.sendShareResult(!0,e),t(!0)}),(function(e){v.sendShareResult(!1,e),t(!1)}),(function(e){v.sendShareResult(!1,e),t(!1)}))}))]}))}))},e}(ShareWay),YizhifuWeixinMini=function(t){function e(){var e=t.call(this)||this;return e.name="翼支付微信小程序",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t,e){navigator.userAgent.toLowerCase().match(/micromessenger/i)?wx.miniProgram.getEnv((function(e){e.miniprogram?t(!0):t(!1)})):t(!1)}))]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var e,r,i,n,o,a;return __generator(this,(function(s){return e=t.url,r=t.title,i=t.content,n=t.thumbnail,this.params.title=r,this.params.linkUrl=e,this.params.text=i,this.params.imageUrl=n,o="/package/pages/beartransfer/index?url="+encodeURIComponent(e),a="/package/pages/transfer/index?type=share&shareTitle="+r+"&path="+encodeURIComponent(o)+"&shareImageUrl="+encodeURIComponent(n),wx.miniProgram.navigateTo({url:a}),[2]}))}))},e}(ShareWay),ZhongguoRenshou=function(t){function e(){var e=t.call(this)||this;return e.name="中国人寿",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/ecssmobile/i)]}))}))},e.prototype.callShare=function(e,r){var i=this,n=e.url,o=e.title,a=e.content,s=e.thumbnail;return this.params.title=o,this.params.url=n,this.params.desc=a,this.params.imageUrl=s,this.params.onSuccess=function(){i.sendShareResult(!0)},ECSS&&ECSS.shareFromEBao(JSON.stringify(this.params)),t.prototype.callShare.call(this,e,r)},e}(ShareWay),Kaiyuanzhengquan=function(t){function e(){var e=t.call(this)||this;return e.name="开源证券",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/tzt/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a;return __generator(this,(function(s){return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=encodeURIComponent(n),this.params.url=encodeURIComponent(i),this.params.message=encodeURIComponent(o),this.params.img_url=encodeURIComponent(a),location.href="http://action:10055/?"+stringify(this.params),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay);function stringify(t){var e=[];for(var r in t)e.push(r+"="+t[r]);return e.join("&&")}var Didachuxing=function(t){function e(){var e=t.call(this)||this;return e.name="滴答出行",e.params={},e}return __extends(e,t),e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){DIDA_SDK.ready((function(){t(!0)}))}))]}))}))},e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/Dida/i)]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;this.params.title=n,this.params.link=i,this.params.des=o,this.params.thumbnail=a;var s=r.id,l=void 0===s?"dida":s,h=r.channel,u=void 0===h?"wxmsg":h;return this.params.id=l,this.params.channel=u,DIDA_SDK.callHandler("shareOnTheWebviewPage",Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.c)({},this.params)),t.prototype.callShare.call(this,e,r)},e}(ShareWay),Mengniu=function(t){function e(){var e=t.call(this)||this;return e.name="蒙牛",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(r){try{t=!!webkit.messageHandlers.shareAlert.postMessage}catch(t){}try{e=!!android.shareAlert}catch(t){}return[2,t||e]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;return this.params.title=n,this.params.url=i,this.params.content=o,this.params.thumbnail=a,"iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)()?webkit.messageHandlers.shareAlert.postMessage({title:n,content:o,image:a,url:i}):android.shareAlert(n,o,a,i),t.prototype.callShare.call(this,e,r)},e}(ShareWay),QQMusic=function(t){function e(){var e=t.call(this)||this;return e.name="QQ音乐",e.params={type:"html"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/QQMusic/i)]}))}))},e.prototype.updateShare=function(t,e){var r=this,i=e.shareType,n=void 0===i?"icon":i,o=e.shareContent,a=void 0===o?"share":o;M.client.invoke("ui","setActionBtn",{type:n,content:a},(function(){r.callShare(t,e)}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a;return __generator(this,(function(s){return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.link=i,this.params.desc=o,this.params.imgUrl=a,M.client.invoke("other","callShareWeb",this.params),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),GuoshouEStore=function(t){function e(){var e=t.call(this)||this;return e.name="国寿e店",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/ehomechinalife/i)]}))}))},e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return window.eStorePluginPromise?[2,!0]:[2,new Promise((function(t){document.addEventListener("deviceready",(function(){t(!0)}))}))]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var r,i,n,o,a,s,l,h,u,c,p=this;return __generator(this,(function(f){return r=t.url,i=t.title,n=t.content,o=t.thumbnail,this.params.title=i,this.params.url=r,this.params.content=n,this.params.thumb=o,a=e.shareType,s=void 0===a?"url":a,l=e.programid,h=void 0===l?"":l,u=e.path,c=void 0===u?"":u,this.params.share_type=s,this.params.programid=h,this.params.path=c,[2,new Promise((function(t){eStorePluginPromise.pluginTypes("PluginWeChat","Share",p.params).then((function(e){this.sendShareResult(!0,e),t(!0)})).catch((function(e){this.sendShareResult(!1,e),t(!1)}))}))]}))}))},e}(ShareWay),Yikang=function(t){function e(){var e=t.call(this)||this;return e.name="怡康",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/ykdj\/app/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a,s;return __generator(this,(function(l){return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.url=i,this.params.content=o,this.params.image=a,"iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)()?webkit.messageHandlers.doSharePanel.postMessage(this.params):(s=JSON.stringify(this.params),mc.doSharePanel(s)),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),queryParams={},search=window.location.search,appID,projectID;try{search=top.location.search}catch(e){}for(var _i=0,_a=search.replace("?","").split("&");_i<_a.length;_i++){var item=_a[_i],arr=item.split("=");queryParams[arr[0]]=1===arr.length||arr[1]}function windowVisibility(t){var e;void 0!==document.hidden?e="visibilitychange":void 0!==document.msHidden?e="msvisibilitychange":void 0!==document.webkitHidden&&(e="webkitvisibilitychange");document.addEventListener(e,(function(e){t&&t("visible"==document.visibilityState)}),!1)}if(queryParams.appID&&(appID=CFG.appID),queryParams.channelType,queryParams.projectID)projectID=queryParams.projectID;else{var result=window.location.pathname.match(/\/projectx\/(.*?)\/.*?/);result&&(projectID=result[1])}function setFromShare(){}function getNewUser(){if(localStorage){var t="nu_"+appID+"_"+projectID;localStorage.getItem(t)||localStorage.setItem(t,"1")}}function dealPageRemainTime(){var t,e=(new Date).getTime();windowVisibility((function(i){i?e=(new Date).getTime():(t=(new Date).getTime(),r())}));var r=function(){accessLog(156,{remain:t-e})};document.body.onbeforeunload=function(){return t=(new Date).getTime(),r()}}function accessLog(t,e){var r={pageBizId:t};return injectProp(r,e),httpRequest("buriedPoint","get",r)}function injectProp(t,e,r,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=!0),!t||!e)return!1;var o=!1;for(var a in e){var s=e[a];if(!(i&&"function"==typeof s||n&&null==s)){if(r)r(t,a,s);else try{t[a]=s}catch(t){}o=!0}}return o}function obj2query(t){if(!t)return"";var e=[];for(var r in t)e.push(r+(r?"=":"")+t[r]);return e.join("&")}function httpRequest(t,e,r,i,n){void 0===e&&(e="get"),void 0===i&&(i="text");var o=0===t.indexOf("blob")?t:urlJoin(t,"__ts__="+Date.now()),a={};return injectProp(a,r),"jsonp"===i?jsonp(o,a):new Promise((function(r,s){var l={"Content-Type":"application/x-www-form-urlencoded"};injectProp(l,n);var h={url:t,method:e,params:a,type:i,headers:l},u=window.mock;u?u(h,(function(t){t||doRequest(h,r,s)}),r,s):(h.url=o,doRequest(h,r,s))}))}function doProxyRequest(t,e,r){var i=window.proxy_window;window.addEventListener("message",(function t(i){window.removeEventListener("message",t);try{var n=JSON.parse(i.data);switch(i.data,n.action){case"http-request-proxy-resolve":e(n.payload);break;case"http-request-proxy-reject":r(n.payload)}}catch(t){}}),!1),i.postMessage(JSON.stringify({action:"http-request-proxy",payload:t}),"*")}function doXhrRequest(t,e,r){var i,n=t.url,o=t.method,a=t.params,s=t.type,l=t.headers;if(window.XMLHttpRequest?i=new XMLHttpRequest:window.ActiveXObject&&(i=new window.ActiveXObject),null!=i){var h="GET"===o.toUpperCase(),u=obj2query(a),c=n;for(var p in 0==c.indexOf("projectx")&&(c="/"+c),h&&(c=urlJoin(c,u)),i.open(o,c,!0),l)i.setRequestHeader(p,l[p]);i.responseType=s,i.onreadystatechange=function(){4==i.readyState&&200==i.status&&e(i.response)},i.onerror=function(t){r(t)},i.onloadend=function(){404==i.status&&r(n+" 404 (Not Found)")},h?i.send():i.send(u)}}function doRequest(t,e,r){window.proxy_window&&0!==t.url.indexOf("blob")?doProxyRequest(t,(function(t){e(t)}),r):doXhrRequest(t,e,r)}function jsonp(t,e){return new Promise((function(r,i){var n=urlJoin(t,obj2query(e)),o=document.createElement("script");o.src=n,o.onload=function(){r(),document.body.removeChild(o)},o.onerror=function(){i(),document.body.removeChild(o)},document.body.appendChild(o)}))}function urlJoin(t,e){return e?(t+=t.indexOf("?")<0?"?":"",(t+="?"===t[t.length-1]?"":"&")+e):t}window.hasOwnProperty("isFromShare")?window.isFromShare:queryParams.is_from_share,window.setFromShare=setFromShare,getNewUser(),window.isSharePage&&setTimeout((function(){accessLog(506)}),100),window.stop_report_page_remain_time||dealPageRemainTime();var Zhilianzhaopin=function(t){function e(){var e=t.call(this)||this;return e.name="智联招聘",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/Zhaopin/i)||"true"===queryParams.isApp]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a;return __generator(this,(function(s){return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.url=i,this.params.desc=o,this.params.image=a,"iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)()?"function"==typeof customShare?customShare(JSON.stringify(this.params)):webkit.messageHandlers.center.postMessage(JSON.stringify({eventName:"customShare",data:this.params})):commonMessageHandler.postMessage(JSON.stringify({eventName:"customShare",data:this.params})),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),sdk$1,Shanbu=function(t){function e(){var e=t.call(this)||this;return e.name="闪布",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(r){return t=navigator.userAgent,e=!!t.match(/thunbu/i),sdk$1=new tbjssdk,[2,e]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;this.params.title=n,this.params.link=i,this.params.desc=o,this.params.imgUrl=a,this.params.icon=a,this.params.iconTitle=n;var s=r.panelTitle,l=void 0===s?"分享":s,h=r.items,u=void 0===h?[3]:h;return sdk$1.setShareMenu({title:l,type:"10027",content:this.params,items:u}),t.prototype.callShare.call(this,e,r)},e}(ShareWay),ZhongguoRenbao=function(t){function e(){var e=t.call(this)||this;return e.name="中国人保",e.params={shareType:"url"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/piccApp/i)]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;this.params.shareTitle=n,this.params.shareDescription=o,this.params.webURL=i,this.params.url=a;var s=r.channels,l=void 0===s?["WXFriends","WXMoments","QQ","Weibo"]:s;return this.params.channels=l,PJO.shareUrl({params:this.params,callBack:function(t){console.info(t)}}),t.prototype.callShare.call(this,e,r)},e}(ShareWay);window.shareMessageCallback=function(){},window.shareTimelineCallback=function(){},window.shareMessageConfigCallback=function(){},window.shareTimelineConfigCallback=function(){};var TaoboSports=function(t){function e(){var e=t.call(this)||this;return e.name="滔搏运动",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/Tops portsApp/i)]}))}))},e.prototype.callShare=function(e,r){var i=this,n=e.url,o=e.title,a=e.content,s=e.thumbnail;this.params.title=o,this.params.link=n,this.params.desc=a,this.params.imgUrl=s;var l=r.type;return this.params.type=l,this.params.success=function(){i.sendShareResult(!0)},TopsportsApp.postMessage(JSON.stringify({method:"share",data:{message:this.params,timeline:this.params}})),t.prototype.callShare.call(this,e,r)},e.prototype.updateShare=function(t,e){var r=t.url,i=t.title,n=t.content,o=t.thumbnail;this.params.title=i,this.params.link=r,this.params.desc=n,this.params.imgUrl=o;var a=e.type;this.params.type=a,TopsportsApp.postMessage(JSON.stringify({method:"shareMessageConfig",data:this.params})),TopsportsApp.postMessage(JSON.stringify({method:"shareTimelineConfig",data:this.params}))},e}(ShareWay),osName$2=Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)(),_bridge,Henghuibao=function(t){function e(){var e=t.call(this)||this;return e.name="恒惠保",e.params={},e}return __extends(e,t),e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){setupWebViewJavascriptBridge((function(e){_bridge=e,"Android"===osName$2&&e.init((function(t,e){e({"Javascript Responds":"Wee!"})})),t(!0)}))}))]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;this.params.title=n,this.params.description=o,this.params.thumb=a;var s=r.type,l=void 0===s?1:s,h={type:l};switch(l){case 0:h.image=i;break;case 1:h.webpageUrl=i}return this.params.media=h,share(this.params),t.prototype.callShare.call(this,e,r)},e}(ShareWay),sdk;function setupWebViewJavascriptBridge(t){if(window.WebViewJavascriptBridge)t(WebViewJavascriptBridge);else if("Android"===osName$2)document.addEventListener("WebViewJavascriptBridgeReady",(function(){t(WebViewJavascriptBridge)}),!1),sessionStorage.phoneType="android";else if("iOS"===osName$2){if(window.WVJBCallbacks)window.WVJBCallbacks.push(t);else{window.WVJBCallbacks=[t];var e=document.createElement("iframe");e.style.display="none",e.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(e),setTimeout((function(){document.documentElement.removeChild(e)}),0)}sessionStorage.phoneType="ios"}}function share(t,e){var r={userToken:"",request:{cname:"HHBShare",cmethod:"shareBoard",message:t}};_bridge.callHandler("hhb",r,(function(t){e&&e(JSON.parse(t))}))}var NuoanJijin=function(t){function e(){var e=t.call(this)||this;return e.name="诺安基金",sdk=new dlJssdk,e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,sdk.getDeviceInfo().then((function(t){return"0000"==t.code}))]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a,s,l;return __generator(this,(function(h){return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.link=i,this.params.content=o,this.params.icon=a,s=r.sharePic,l=void 0!==s&&s,this.params.ispic=l,sdk.share(this.params).then((function(t){t.code})),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),Shangguanxinwen=function(t){function e(){var e=t.call(this)||this;return e.name="上观新闻",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/Shobserver/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a,s,l;return __generator(this,(function(h){return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.link=i,this.params.desc=o,this.params.imgUrl=a,s=Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)(),l=JSON.stringify(this.params),location.href="http://127.0.0.1?type=doShare&callback=doShareCallback&params="+("Android"===s?encodeURIComponent(l):l),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),QishangBank=function(t){function e(){var r=t.call(this)||this;return r.name="齐商银行",r.params={type:e.type,screenShotArea:e.screenShotArea,channelArray:e.channelArray},r}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(r){return[2,!!(t=navigator.userAgent).match(new RegExp("@"+e.platformId+"#"))||!!t.match(new RegExp("@"+e.unionId+"#"))]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var e,r,i,n,o=this;return __generator(this,(function(a){return e=t.url,r=t.title,i=t.content,n=t.thumbnail,this.params.title=r,this.params.link=e,this.params.desc=i,this.params.imgUrl=n,[2,new Promise((function(t){o.params.success=function(){o.sendShareResult(!0),t(!0)},o.params.fail=function(){o.sendShareResult(!1),t(!1)},sccbaJsApi.share(o.params)}))]}))}))},e.platformId="directbank",e.unionId="sccba801",e.type="text+image",e.screenShotArea={startPosY:0,endPosY:10},e.channelArray=["WXMessage","WXTimeline"],e}(ShareWay),osName$1=Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)(),ZijinBank=function(t){function e(){var e=t.call(this)||this;return e.name="紫金农商银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/ZJMB/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a,s;return __generator(this,(function(l){return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.content=o,this.params.url=i,this.params.images=[{image:a,type:"url"}],"iOS"===osName$1?webkit.messageHandlers.zjrcb.postMessage({type:"showShareForWeb",params:this.params}):(s=JSON.stringify(this.params),android.showShareForWeb(s)),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),ZhongguoBank=function(t){function e(){var e=t.call(this)||this;return e.name="中国银行",e.params={type:"0",channel:"",pageId:"LICAIshare"},e}return __extends(e,t),e.initEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(e){return this.envInited?[2]:[2,new Promise((function(e,r){var i=document.createElement("script");i.src="https://ebsnew.boc.cn/bocphone/BocMerchant/paylib/"+("iOS"==Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)()?"ios.js":"android.js"),i.onload=function(){t.envInited=!0,e(!0)},i.onerror=function(){r("js加载失败:"+i.src)},document.head.appendChild(i)}))]}))}))},e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this.initEnv()];case 1:return t.sent(),[2,!!navigator.userAgent.match(/boc/i)]}}))}))},e.prototype.callShare=function(t,e){var r=this,i=t.url,n=t.title,o=t.content,a=t.thumbnail;return this.params.title=n,this.params.url=i,this.params.description=o,this.params.img=a,new Promise((function(t){c_plugins.merchantBridge.weixinShare((function(){r.sendShareResult(!0),t(!0)}),(function(e){r.sendShareResult(!1),t(!1)}),r.params)}))},e.envInited=!1,e}(ShareWay),YinzhouBank=function(t){function e(){var e=t.call(this)||this;return e.name="鄞州银行",e.params={official:!0,img:"havalIcon"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/DuiBa/i)]}))}))},e.prototype.callShare=function(t,e){var r=this,i=t.url,n=t.title,o=t.content,a=t.thumbnail;return this.params.title=n,this.params.url=i,this.params.content=o,this.params.image=a,new Promise((function(t){dsBridge.call("ThirdShare.startShare",r.params,(function(e){r.sendShareResult(e),t(e)}))}))},e}(ShareWay),PinganBank=function(t){function e(){var r=t.call(this)||this;return r.name="平安银行",r.params={channels:e.channels},r}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/PAEBank/i)]}))}))},e.prototype.callShare=function(t,e){var r=this,i=t.url,n=t.title,o=t.content,a=t.thumbnail;return this.params.title=n,this.params.shareUrl=i,this.params.shareText=o,this.params.imgUrl=a,new Promise((function(t){aladdin.share.msg(r.params,(function(e,i){r.sendShareResult(!!i),t(!!i)}))}))},e.channels=["wechat_session","wechat_timeline"],e}(ShareWay),BeijingBank=function(t){function e(){var e=t.call(this)||this;return e.name="北京银行",e.params={type:"html"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/BOB/i)]}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){window.TMFJSBridge?t(!0):document.addEventListener("TMFJSBridgeReady",(function(){t(!0)}),!1)}))]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var r,i,n,o,a,s,l,h,u,c,p=this;return __generator(this,(function(f){switch(f.label){case 0:r=t.url,i=t.title,n=t.content,o=t.thumbnail,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.b)(o)];case 2:return a=f.sent(),this.params.title=i,this.params.webUrl=r,this.params.text=n,this.params.imgBase64=a,s=e.showSMS,l=void 0===s||s,h=e.type,u=void 0===h?"html":h,this.params.isHavSMS=l?"Y":"N",this.params.type=u,[2,new Promise((function(t){TMFJSBridge.invoke("showShareView",p.params,(function(e){p.sendShareResult("0"==e,e),t("0"==e)}))}))];case 3:return c=f.sent(),console.warn("thumbnail to dataurl failed:",c),[3,4];case 4:return[2]}}))}))},e}(ShareWay),NongyeBank=function(t){function e(){var e=t.call(this)||this;return e.name="农业银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/Bankabc/i)]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;this.params.share_title=n,this.params.share_url=i,this.params.share_text=o,this.params.share_img_url=a;var s={return:this.params},l=encodeURIComponent(JSON.stringify(s));return location.href="http://www.abchina.com/luascript/shareOnClick/"+l,t.prototype.callShare.call(this,e,r)},e}(ShareWay),NingboBank=function(t){function e(){var e=t.call(this)||this;return e.name="宁波银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/nbbankclientver/i)]}))}))},e.prototype.callShare=function(t,e){var r=this,i=t.url,n=t.title,o=t.content,a=t.thumbnail;this.params.title=n,this.params.hrefUrl=i,this.params.content=o,this.params.imgUrl=a;var s=e.shareType,l=void 0===s?"WX,PYQ":s;return this.params.type=l,new Promise((function(t){PLUTO.sharePages(r.params,(function(e){0===e.STATUS?(r.sendShareResult(!1,e.MSG),t(!1)):(r.sendShareResult(!0,e),t(!0))}))}))},e}(ShareWay),QingdaoBank=function(t){function e(){var r=t.call(this)||this;return r.name="青岛银行",r.params={weChatType:e.weChatType},r}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){return[2,!!(t=navigator.userAgent).match(/BQDMobileBank/i)||!!t.match(/AlipayClient/i)]}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){window.AlipayJSBridge?t(!0):document.addEventListener("AlipayJSBridgeReady",(function(){t(!0)}),!1)}))]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var r,i,n,o,a,s,l,h=this;return __generator(this,(function(u){switch(u.label){case 0:return r=t.url,i=t.title,n=t.content,o=t.thumbnail,this.params.title=i,this.params.url=r,this.params.description=n,a=e.shareType,s=void 0===a?"2":a,this.params.shareType=s,"iOS"!==Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)()?[3,2]:[4,Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.b)(o)];case 1:return l=u.sent(),this.params.iconImage=l.replace(/^data:image\/\w+;base64,/,""),[3,3];case 2:this.params.iconUrl=o,u.label=3;case 3:return[2,new Promise((function(t){AlipayJSBridge.call("startShare",h.params,(function(e){h.sendShareResult(e.shareOk),t(e.shareOk)}))}))]}}))}))},e.weChatType="2",e}(ShareWay),HebeiBank=function(t){function e(){var e=t.call(this)||this;return e.name="河北银行",e.params={shareWay:"WECHAT_SHARE_WAY_WEBPAGE"},e}return __extends(e,t),e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a,s;return __generator(this,(function(l){return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.linkUrl=i,this.params.content=o,this.params.image=a,s=encodeURIComponent(JSON.stringify(this.params)),window.location.href="hbb/share_to_wechar.do?"+s,[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),ChengduBank=function(t){function e(){var e=t.call(this)||this;return e.name="成都银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!bocd.wxShare]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a,s,l=this;return __generator(this,(function(h){switch(h.label){case 0:return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.hrefUrl=i,this.params.content=o,[4,Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.b)(a)];case 1:return s=h.sent(),this.params.imgUrl=s.replace(/^data:image\/\w+;base64,/,""),bocd.ready((function(){bocd.wxShare(l.params,(function(){}))})),[2,t.prototype.callShare.call(this,e,r)]}}))}))},e}(ShareWay),Yinhuajijin=function(t){function e(){var e=t.call(this)||this;return e.name="银华基金",e.params={},e}return __extends(e,t),e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a,s,l,h;return __generator(this,(function(u){return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.link=i,this.params.desc=o,this.params.imgUrl=a,s=r.shareType,l=void 0===s?"":s,this.params.shareType=l,h=JSON.stringify(this.params),location.href="shlb://share?"+h,[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),ZhaoshangBank=function(t){function e(){var e=t.call(this)||this;return e.name="招商银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/MPBank/i)]}))}))},e.prototype.callShare=function(t,e){var r=this,i=t.url,n=t.title,o=t.content,a=t.thumbnail;this.params.title=n,this.params.url=i,this.params.text=o,this.params.thumbUrl=a;var s=e.type,l=void 0===s?"url":s,h=e.channelList,u=void 0===h?["weixinsession","weixintimeline"]:h;return new Promise((function(t){cmblapi.shareInfoWithUI({type:l,channelList:u,shareContent:r.params,success:function(e){r.sendShareResult(!0),t(!0)},fail:function(e){r.sendShareResult(!1,e),t(!1)}})}))},e}(ShareWay),isNewVersion=1==queryParams.isnewmobilebank,TailongBank=function(t){function e(){var e=t.call(this)||this;return e.name="泰隆银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,document.cookie.indexOf("transfer=channelType=mobilebank")>=0]}))}))},e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){isNewVersion?window.AlipayJSBridge?t(!0):document.addEventListener("AlipayJSBridgeReady",(function(){t(!0)}),!1):t(!0)}))]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;this.params.title=n,this.params.contentDetail=i,this.params.desc=o,this.params.icon=a;var s=r.type,l=void 0===s?"url":s,h=r.channelType,u=void 0===h?"0":h;if(this.params.type=l,this.params.channelType=u,isNewVersion)AlipayJSBridge.call("ares_shareManager",this.params,(function(t){console.info("TailongBank3.0分享回调:",t)}));else if(window.bridge)bridge.gotoNativeShare(n,o,i,a);else{var c=document.createElement("iframe");c.style.display="none",c.src="bridge:@/gotoNativeShare@/"+n+"@/"+o+"@/"+i+"@/"+a,document.documentElement.appendChild(c),setTimeout((function(){document.documentElement.removeChild(c)}),0)}return t.prototype.callShare.call(this,e,r)},e}(ShareWay),ZhongxinBank=function(t){function e(){var e=t.call(this)||this;return e.name="中信银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/CiticBankMobile/i)]}))}))},e.prototype.init=function(t){return new Promise((function(t){window.bridgeReady?t(!0):document.addEventListener("deviceready",(function(){t(!0)}))}))},e.prototype.callShare=function(t,e){var r=this,i=t.url,n=t.title,o=t.content,a=t.thumbnail;this.params.title=n,this.params.webpageUrl=i,this.params.description=o,this.params.thumbUrl=a;var s=e.platforms,l=void 0===s?["Wechat","WechatMoments"]:s,h=e.shareType,u=void 0===h?"webpage":h;return this.params.platforms=l,this.params.shareType=u,new Promise((function(t){bank.sharePlugin.share(r.params,(function(e){this.sendShareResult(!0,e),t(!0)}),(function(e){this.sendShareResult(!1,e),t(!1)}))}))},e}(ShareWay),MinshengBank=function(t){function e(){var e=t.call(this)||this;return e.name="民生银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/CMBC/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a;return __generator(this,(function(s){return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.linkUrl=i,this.params.content=o,this.params.image=a,window.title=n,window.weixinDec=o,window.weiboDec=o,window.weixinUrl=i,window.weiboUrl=i,window.pictureURL=a,shareweb(),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),HuaxingBank=function(t){function e(){var e=t.call(this)||this;return e.name="华兴银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/ghbMobileBank/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a,s,l;return __generator(this,(function(h){return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.linkUrl=i,this.params.content=o,this.params.image=a,s=r.channelType,l=void 0===s?2:s,this.params.type=l,AlipayJSBridge.call("shareTo",{title:n,desc:o,content:i,type:l,contentType:"url"}),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),JiansheBank=function(t){function e(){var e=t.call(this)||this;return e.name="建设银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/CloudMercWebView/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){return i=r.shareID,this.params.share_id=i,CCBBridge.requestNative(JSON.stringify({action:"share",params:{text:"",title:"",url:"",image:"",type:"",base64Pic:""}}),""),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),ZhujiangzhixiaoBank=function(t){function e(){var e=t.call(this)||this;return e.name="珠江直销银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(r){try{t=!!webkit.messageHandlers.shareByZxbank.postMessage}catch(t){}try{e=!!zxbank.shareByZxbank}catch(t){}return[2,t||e]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;return this.params.title=n,this.params.shareUrl=i,this.params.subTitle=o,this.params.logoUrl=a,this.params.shareType="1","iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)()?webkit.messageHandlers.shareByZxbank.postMessage(this.params):zxbank.shareByZxbank(n,o,a,i,1),t.prototype.callShare.call(this,e,r)},e}(ShareWay),GuangzhouNongshangBank=function(t){function e(){var e=t.call(this)||this;return e.name="广州农商行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/GRC_BANK/i)]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;return this.params.title=n,this.params.pageurl=i,this.params.content=o,this.params.imagePath=a,"iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)()?iphone.SP_share(n,o,a,i):SysClientJs.SP_share(n,o,a,i),t.prototype.callShare.call(this,e,r)},e}(ShareWay),eventCode$1="558",PufaBank=function(t){function e(){var e=t.call(this)||this;return e.name="浦发银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/SpdbMobile/)]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;this.params.title=n,this.params.url=i,this.params.text=o,this.params.thumbUrl=a;var s=r.type,l=r.channelList,h=void 0===l?["weixinsession","weixintimeline","sms"]:l,u=r.isAPP,c=void 0===u?"":u,p=JSON.stringify({isAPP:c,type:s,channelList:h,shareContent:this.params,success:"successEvent",fail:"failEvent"});return window.getJson=function(){return p},"iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)()?WebViewJavascriptBridge.callHandler(eventCode$1,{eventName:"getJson()",eventCode:eventCode$1}):SysClientJs.shareInfoWithUI(p),t.prototype.callShare.call(this,e,r)},e}(ShareWay),eventCode="114",scenes={WXSceneSession:"1",WXSceneTimeline:"2"},PufaBankNew=function(t){function e(){var e=t.call(this)||this;return e.name="浦发银行(新)",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/SpdbMobile/)]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail,s=r.scene,l=void 0===s?"WXSceneSession":s;if("iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)()){this.params.title=n,this.params.shareUrl=i,this.params.description=o,this.params.imageUrl=a,this.params.scene=scenes[l],this.params.type="1";var h=JSON.stringify(this.params);window.getJson=function(){return h},WebViewJavascriptBridge.callHandler(eventCode,{eventName:"getJson()",eventCode:eventCode})}else{this.params.title=n,this.params.link=i,this.params.desc=o,this.params.imgUrl=a,this.params.flag=l;var u=JSON.stringify(this.params);SysClientJs.FinanceWXShare(u)}return t.prototype.callShare.call(this,e,r)},e}(ShareWay),JiangsuBank=function(t){function e(){var e=t.call(this)||this;return e.name="江苏银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){t=!1;try{ThirdApp.getVersion(),t=!0}catch(t){}return[2,t]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;this.params.title=n,this.params.hrefUrl=i,this.params.content=o,this.params.imgUrl=a;var s=r.type,l=void 0===s?"WX,PYQ":s,h=r.shareType,u=void 0===h?"WebPage":h;return ThirdApp.wxShare(n,o,i,a,l,u),t.prototype.callShare.call(this,e,r)},e}(ShareWay),JiangsuBankTiantianlicai=function(t){function e(){var e=t.call(this)||this;return e.name="江苏银行天天理财",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/JSBCHINA/i)]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var r,i,n,o,a,s,l=this;return __generator(this,(function(h){switch(h.label){case 0:return r=t.url,i=t.title,n=t.content,o=t.thumbnail,this.params.title=i,this.params.url=r,this.params.content=n,this.params.iconUrl=o,a=e.platform,s=void 0===a?"2":a,this.params.platform=s,[4,ensureLogin()];case 1:return h.sent(),[2,new Promise((function(t){jsSDK.share(l.params,(function(e){l.sendShareResult(e),t(e)}))}))]}}))}))},e}(ShareWay);function ensureLogin(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t,e){jsSDK.getUserInfo((function(r){r?t():jsSDK.startLogin((function(){jsSDK.getUserInfo((function(r){r?t():e("need login")}))}))}))}))]}))}))}var HuifengHuixuan=function(t){function e(){var e=t.call(this)||this;return e.name="汇丰汇选",e.params={},e}return __extends(e,t),e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){ra.ready({success:function(e){t(!0)},error:function(e){console.info("汇丰惠选初始化失败:",e),t(!1)}})}))]}))}))},e.prototype.callShare=function(e,r){var i=e.url,n=e.title,o=e.content,a=e.thumbnail;return this.params.title=n,this.params.linkUrl=i,this.params.description=o,this.params.thumbImage=a,ra.share({params:this.params,success:function(t){}}),t.prototype.callShare.call(this,e,r)},e}(ShareWay),commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return commonjsRequire(t,null==e?r.path:e)}},r.exports),r.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var dist=createCommonjsModule((function(module,exports){var factory;factory=function(){var execBridge=function(t,e,r){var i,n=function(t,e,r){var i=Math.floor(4e4*Math.random()+1e3),n=window.location.href,o="hsbcb_"+i;window[o]=r,hsbridge.exec(n,t,o,JSON.stringify(e))};return window.LightJSBridge={call:n,callbackFromNative:function(t,e){if(t){var r=window[t];if(!r)return;r(e)}},pageShouldBack:function(){return"true"},setPulldownRefreshBGColor:function(t){try{window.callnativemethod.setPulldownRefreshBGColor(t)}catch(t){}},switchPulldownRefresh:function(t){try{window.callnativemethod.enablePulldownRefresh(t)}catch(t){}},reloadCurrentPage:function(){try{window.callnativemethod.reloadCurrentPage()}catch(t){}}},(i=document.createEvent("Events")).initEvent("deviceready",!1,!1),document.dispatchEvent(i),n(t,e,r)},init=execBridge;function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var web=createCommonjsModule((function(t){if("web"===process.env.RUNTIME){var e=function(t){return{info:{error_code:"0",error_message:"success"},data:t}},r={"native.chooseImage":function(t,r){r&&r(e({result:"0"}))},"qrcode.scan":function(t,r){r&&r(e({result:"快速组织移动H5应用的协作开发、调试、应用发布"}))},"qrcode.gen":function(t,r){var i="https://fs-api.lightyy.com/service/utils/qrcode?url="+encodeURIComponent(t.desc);light.request(i,{},(function(t){var i=t.data;i.indexOf("'")&&(i=i.replace(/'/g,"%27")),r&&r(e({result:i,fullUrl:i}))}))},"native.switchTab":function(t,r){r&&r(e(""))},"native.version":function(t,r){r&&r(e({version:"1.0.1"}))},"native.getSystemInfo":function(t,r){r&&r(e({version:"1.0.1",pixelRatio:2,windowWidth:375,windowHeight:670,model:"iphone6",systemVersion:"10.3.1",platform:"IOS"}))},"native.getContactInfo":function(t,r){r&&r(e([{contactName:"张三",contactTelphone:"123123123123"},{contactName:"李四",contactTelphone:"123123123123"}]))},"native.getClipBoardContent":function(t,r){r&&r(e({type:"text",result:"移动金融，让生活更简单"}))},"native.setClipBoardContent":function(t,r){r&&r(e(""))},"native.fetchURL":function(t,r){r&&r(e({MIMEType:"text/html",result:"<html><title>我是标题</title><body>Hello World!</body></html>"}))},"native.readData":function(t,e){var r={info:{error_code:"0",error_message:"success"}};if(t.multi_param&&t.multi_param.length>0){var i=[];t.multi_param.forEach((function(t){var e=localStorage.getItem(t.key);localStorage.getItem(t.key)?i.push({data:{result:JSON.parse(e)}}):i.push({info:{error_code:"10003",error_message:"没有找到符合条件的数据：[key:"+t.key+"]"}})})),r.data=i}else if(localStorage.getItem(t.key)){var n=localStorage.getItem(t.key);n=JSON.parse(n),r.data={result:n}}else r.info.error_code="10003",r.info.error_message="没有找到符合条件的数据：[key:"+t.key+"]";e&&e(r)},"native.writeData":function(t,r){t.multi_param&&t.multi_param.length>0?t.multi_param.forEach((function(t){localStorage.setItem(t.key,JSON.stringify(t.value))})):localStorage.setItem(t.key,JSON.stringify(t.value)),r&&r(e(""))},"native.deleteData":function(t,r){t.multi_param&&t.multi_param.length>0?t.multi_param.forEach((function(t){localStorage.removeItem(t.key)})):localStorage.removeItem(t.key),r&&r(e(""))},"storage.clearData":function(t,r){localStorage.clear(),r&&r(e(null))},"storage.getDataInfo":function(t,r){for(var i=[],n=0;n<localStorage.length;n++)i.push(localStorage.key(n));r&&r(e({keys:i,currentSize:0}))},"native.imageAction":function(t,r){r&&r(e(""))},"native.back":function(t,e){if("0"!==t.number&&0!==t.number&&" "!=t.number&&(!t.number||/^[0-9]\d*$/.test(Number(t.number)))){var r="";r=t&&t.number?t.number>window.history.length-1?window.history.length-1:t.number:1,window.history.go(-r)}},"native.close":function(){window.history.back()},"native.getNetworkStatus":function(t,r){r&&r(e({result:"WIFI"}))},"native.getUDID":function(t,r){r&&r(e({UDID:"*********************"}))},"native.showDialog":function(t,r){r&&r(e({resultCode:"1"}))},"native.clearWidget":function(t,r){r&&r(e(""))},"native.getPerformanceInfo":function(t,r){r&&r(e({html:[{duration:512,networkType:"cellular",size:2048,gzip:!1,compress:!0,path:"/index.html",requestHeader:{},responseHeader:{}}],javascript:[],css:[],image:[],video:[],other:[]}))},"native.setMaxCacheSize":function(t,r){r&&r(e({result:"success"}))},"native.getLocationStatus":function(t,r){r&&r(e({authorizationStatus:4}))},"native.setScreenOrientation":function(t,r){r&&r(e({result:"success"}))},"native.setSupportScreenOrientation":function(t,r){r&&r(e({result:"success"}))},"native.sendContentBroadcast":function(t,r){r&&r(e(""))},"native.setMutipleLanguages":function(t,r){r&&r(e(""))},"social.share":function(t,r){r&&r(e(""))},"social.login":function(t,r){r&&r(e({result:{openId:"*******",userName:"*******",userHeadPic:"url"}}))},"social.launchMiniProgram":function(t,r){r&&r(e(""))},"head.addButton":function(t,r){r&&r(e(""))},"native.badge":function(t,r){r&&r(e(""))},"head.removeButton":function(t,r){r&&r(e(""))},"head.setBackgroundColor":function(t,r){r&&r(e(""))},"head.setSubtitle":function(t,r){r&&r(e(""))},"head.setTitle":function(t,r){r&&r(e(""))},"head.setSystemStatusBar":function(t,r){r&&r(e(""))},"system.openURL":function(t,r){location.href=t.url,r&&r(e(""))},"validate.preVerifyOpeation":function(t,r){r&&r(e({result:"true",isEnrolled:!0}))},"validate.verifyOpeation":function(t,r){r&&r(e({result:"success",authMode:"facial",errCode:0}))},"validate.preVerifyOperation":function(t,r){r&&r(e({result:"true",isEnrolled:!0}))},"validate.verifyOperation":function(t,r){r&&r(e({result:"success",authMode:"facial",errCode:0}))},"validate.supportedVerifyOperation":function(t,r){r&&r(e({supportMode:["facial"]}))},"system.appPreview":function(t,r){r&&r(e(""))},"lightview.startPerfMonitor":function(t,r){r&&r(e(""))},"lightview.stopPerfMonitor":function(t,r){r&&r(e(""))},"lightview.getPerfMonitorIfo":function(t,r){r&&r(e(""))},"user.logout":function(t,r){r&&r(e(""))},"push.setAlias":function(t,r){r&&r(e(""))},"user.login":function(t,r){r&&r(e(""))},"debug.open":function(t,r){r&&r(e(""))},"debug.close":function(t,r){r&&r(e(""))},"debug.check":function(t,r){r&&r(e(""))},"social.isAppInstalled":function(t,r){r&&r(e({result:"success",status:"true"}))},"quote.wizard":function(t,r){r&&r(e([{prod_code:"600060.SS",prod_name:"海信电器",hq_type_code:"XSHG"},{prod_code:"600570.SS",prod_name:"恒生电子",hq_type_code:"XSHG"},{prod_code:"300141.SZ",prod_name:"和顺电气",hq_type_code:"XSHG"},{prod_code:"300173.SZ",prod_name:"智慧松德",hq_type_code:"XSHG"}]))},"quote.real":function(t,r){r&&r(e(""))},"quote.sort":function(t,r){r&&r(e({sort:{}}))},"head.setSearchView":function(t,r){r&&r(e({status:"click",result:"success"}))},"head.setAlpha":function(t,r){r&&r(e(""))},"native.getSafeArea":function(t,r){r&&r(e(""))},"push.getTags":function(t,r){r&&r(e(""))},"push.deleteTags":function(t,r){r&&r(e(""))},"push.addTags":function(t,r){r&&r(e(""))},"push.getRegistrationID":function(t,r){r&&r(e(""))},"mystock.add":function(t,r){r&&r(e(""))},"mystock.delete":function(t,r){r&&r(e(""))},"mystock.list":function(t,r){r&&r(e(""))},"safekeyboard.show":function(t,r){r&&r(e({index:"2",action:"plus",content:"2"}))},"safekeyboard.hide":function(t,r){r&&r(e(""))},"tradekeyboard.show":function(t,r){r&&r(e({index:"2",action:"plus",content:"2"}))},"tradekeyboard.hide":function(t,r){r&&r(e(""))},"chat.connectRong":function(t,r){r&&r(e(""))},"chat.getConverationRecords":function(t,r){r&&r(e(""))},"chat.disconnectRong":function(t,r){r&&r(e(""))},"chat.startConversition":function(t,r){r&&r(e(""))},"location.getLocation":function(t,r){r&&r(e({result:{longitude:32.34444,latitude:33.3333}}))},"location.stopLocation":function(t,r){r&&r(e(""))},"location.getLocationOnce":function(t,r){r&&r(e({result:{longitude:32.34444,latitude:33.3333}}))},"location.startLocationUpdate":function(t,r){r&&r(e({result:{error_code:0,error_message:"success"}}))},"location.stopLocationUpdate":function(t,r){r&&r(e({result:{error_code:0,error_message:"success"}}))},"location.onLocationChange":function(t,r){r&&r(e({result:{longitude:120.17204025898972,latitude:30.191234613107376}}))},"location.offLocationChange":function(t,r){r&&r(e({result:{error_code:0,error_message:"success"}}))},"user.setInfo":function(t,r){r&&r(e(""))},"media.audio.startRecord":function(t,r){r&&r(e(""))},"media.audio.stopRecord":function(t,r){r&&r(e(""))},"user.getInfo":function(t,r){r&&r(e({result:{uid:"A00****941",tk:"******************",mobile:"13*******32",nickname:"light",photoURL:"url",extraInfo:{key1:"value1",key2:"value2"}}}))},"trade.pay":function(t,r){r&&r(e(""))},"native.imagePreview":function(t,r){r&&r(e(""))},"file.preview":function(t,r){r&&r(e(""))},"file.save":function(t,r){r&&r(e(""))},"file.chooseFile":function(t,r){r&&r(e(""))},"push.addEventListener":function(t,r){r&&r(e(""))},"iap.purchase":function(t,r){r&&r(e(""))},"log.info":function(t,r){r&&r(e(""))},"log.error":function(t,r){r&&r(e(""))},"log.debug":function(t,r){r&&r(e(""))},"log.warn":function(t,r){r&&r(e(""))},"log.verbose":function(t,r){r&&r(e(""))},"native.setTabBarBadge":function(t,r){r&&r(e(""))},"analytics.sendEvent":function(t,r){r&&r(e(""))},"native.getCurrentPages":function(t,r){r&&r(e([{url:"url"},{url:"ad.html"}]))},"image.save":function(t,r){r&&r(e(""))},"native.getStatusBarHeight":function(t,r){r&&r(e({height:44}))},"stream.fetch":function(t,r){r&&r(e({status:200,ok:!0,statusText:"****",data:"****",headers:"****"}))},"calendar.createEvent":function(t,r){r&&r(e({id:"B441B621-4F8D-4257-BA0C-575B4DCC2190:27866329-8AF3-4C7E-B618-24E46937886A"}))},"calendar.deleteEvent":function(t,r){r&&r(e(""))},"calendar.retrieveEvent":function(t,r){r&&r(e([{id:"aabbbaba1",title:"light1",startDate:"2019-6-15 14:35:00",endDate:"2019-6-15 14:40:00",location:"hangzhou",notes:"备注信息",alarmOffset:5},{id:"aabbbaba2",title:"light2",startDate:"2019-6-15 14:35:00",endDate:"2019-6-15 14:40:00",location:"hangzhou",notes:"备注信息2",alarmOffset:5}]))},"calendar.updateEvent":function(t,r){r&&r(e({id:"B441B621-4F8D-4257-BA0C-575B4DCC2190:27866329-8AF3-4C7E-B618-24E469378843"}))},"res.getBase64":function(t,r){r&&r(e({result:"dGhpcyBpcyBhIGV4YW1wbGU="}))},"image.picker":function(t,r){r&&r(e({resourcePaths:["LightResource://d676jdjk36666.image"],sizes:[12345]}))},"image.watermarkText":function(t,r){r&&r(e({resourcePath:"LightResource://d676jdjk36666.image"}))},"image.watermarkLogo":function(t,r){r&&r(e({resourcePath:"LightResource://d676jdjk36666.image"}))},"overlay.show":function(t,r){r&&r(e({data:"overlay click"}))},"screen.setKeepScreenOn":function(t,r){r&&r(e({result:"success"}))},"screen.getCapturedStatus":function(t,r){r&&r(e({isCaptured:!1}))},"head.setNavigationBarStyle":function(t,r){r&&r(e({result:"success"}))},"push.getNotificationStatus":function(t,r){r&&r(e({authorizationStatus:1}))},"crypto.sm2CreateKeyPair":function(t,r){r&&r(e({publicKey:"************",privateKey:"************"}))},"crypto.sm2Encrypt":function(t,r){r&&r(e({cipherText:"************"}))},"crypto.sm2Decrypt":function(t,r){r&&r(e({plainText:"hundsun"}))},"crypto.sm2Sign":function(t,r){r&&r(e({signature:"************"}))},"crypto.sm2Verify":function(t,r){r&&r(e({result:1}))},"crypto.sm3Digest":function(t,r){r&&r(e({digest:"************"}))},"crypto.sm4Encrypt":function(t,r){r&&r(e({cipherText:"************"}))},"crypto.sm4Decrypt":function(t,r){r&&r(e({plainText:"hundsun"}))},"system.addSchemeListener":function(t,r){r&&r(e({url:"wx584617b8b65a1157",extras:{tk:"************",user:"***",psw:"***"}}))},"system.checkPermission":function(t,r){r&&r(e({result:{error_code:0,error_message:"success"}}))},"system.checkThenRequestPermission":function(t,r){r&&r(e({result:{error_code:0,error_message:"success"}}))},"system.settingPermission":function(t,r){r&&r(e(""))},"negativemenu.open":function(t,r){r&&r(e(""))},"negativemenu.close":function(t,r){r&&r(e(""))},"audioplay.createAudioContext":function(t,r){r&&r(e({playerId:"PID2114453524",type:"onCreated",duration:30,buffered:1}))},"audioplay.destory":function(t,r){r&&r(e({playerId:"PID2114453524"}))},"audioplay.getAudioOption":function(t,r){r&&r(e({playerId:"PID2114453524",src:"src",autoplay:!1,loop:!0,volume:1,playbackRate:1.6,startTime:0,duration:30,currentTime:10,buffered:20,paused:!0,ended:!1}))},"audioplay.pause":function(t,r){r&&r(e({playerId:"PID2114453524"}))},"audioplay.play":function(t,r){r&&r(e({playerId:"PID2114453524"}))},"audioplay.resetAudioOption":function(t,r){r&&r(e({playerId:"PID2114453524",duration:30,currentTime:10,buffered:20,paused:!0,ended:!1}))},"audioplay.seek":function(t,r){r&&r(e({playerId:"PID2114453524"}))},"audioplay.stop":function(t,r){r&&r(e({playerId:"PID2114453524"}))},"vibrator.vibrateLong":function(t,r){r&&r(e())},"vibrator.vibrateShort":function(t,r){r&&r(e())},"image.compress":function(t,r){r&&r(e({tempFilePath:"LightResource://xxx.image"}))},"image.getImageInfo":function(t,r){r&&r(e({width:100,height:100,type:"png"}))},"video.choose":function(t,r){r&&r(e({tempFilePath:"LightResource://xxx.mp4",duration:10,size:1e3,height:1080,width:1920}))},"video.compress":function(t,r){r&&r(e({tempFilePath:"LightResource://xxx.mp4",size:600}))},"upload.build":function(t,r){r&&r(e({taskId:"BD2114453524"}))},"upload.abort":function(t,r){r&&r(e())},"upload.uploadFile":function(t,r){r&&r(e({taskId:"BD2114453524",type:"header",result:{Connection:"Keep-Alive","Content-Length":"264","Content-Type":"text/html; charset=UTF-8",Date:"Mon, 08 Jun 2020 06:40:12 GMT","Keep-Alive":"timeout=5, max=100",Server:"Apache/2.4.34 (Unix) PHP/7.1.23","X-Android-Received-Millis":"1591598416243","X-Android-Response-Source":"NETWORK 200","X-Android-Selected-Protocol":"http/1.1","X-Android-Sent-Millis":"1591598413215","X-Powered-By":"PHP/7.1.23"}}))},"file.downloadBuild":function(t,r){r&&r(e({taskId:"BD2114453524"}))},"file.downloadAbort":function(t,r){r&&r(e())},"file.downloadFile":function(t,r){r&&r(e({taskId:"BD2114453524",type:"header",result:{Connection:"Keep-Alive","Content-Length":"264","Content-Type":"text/html; charset=UTF-8",Date:"Mon, 08 Jun 2020 06:40:12 GMT","Keep-Alive":"timeout=5, max=100",Server:"Apache/2.4.34 (Unix) PHP/7.1.23","X-Android-Received-Millis":"1591598416243","X-Android-Response-Source":"NETWORK 200","X-Android-Selected-Protocol":"http/1.1","X-Android-Sent-Millis":"1591598413215","X-Powered-By":"PHP/7.1.23"}}))},"file.saveFile":function(t,r){r&&r(e())},"file.getFileInfo":function(t,r){r&&r(e())},"file.getSavedFileInfo":function(t,r){r&&r(e())},"file.getSavedFileList":function(t,r){r&&r(e())},"file.removeSavedFile":function(t,r){r&&r(e())},callNative:function(t,r,i){i&&i(e(""))},"accelerometer.start":function(t,r){r&&r(e({}))},"accelerometer.stop":function(t,r){r&&r(e({}))},"accelerometer.onChange":function(t,r){r&&r(e({callbackId:"cbId1629941280000",x:1,y:1,z:1}))},"accelerometer.offChange":function(t,r){r&&r(e({}))}};t.exports=function(t,e,i){JSON.stringify(e||{}),r[t]?r[t](e,i):r.callNative(t,e,i)}}})),bridge;if("web"===process.env.RUNTIME)if(navigator.userAgent.toLowerCase().indexOf("lightos")>-1){var execBridgeCall=init;bridge={call:function(t,e,r){window.LightJSBridge&&window.LightJSBridge.call?window.LightJSBridge.call(t,e,r):execBridgeCall(t,e,r)}}}else if(location.search.indexOf("debugMockHost=")>-1){var getParameterByName=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null==e?"":decodeURIComponent(e[1])},host=getParameterByName("debugMockHost"),url="ws://"+host+"/debugMock/channel",callbackFunc=null,socket=new WebSocket(url),p=new Promise((function(t,e){socket.addEventListener("open",(function(e){t(socket)}))}));socket.addEventListener("message",(function(t){"LightDebug.debugMock.callback2"===JSON.parse(t.data).method&&callbackFunc&&callbackFunc(JSON.parse(t.data).message)})),socket.addEventListener("error",(function(t){console.error("连接错误，请开启 debugServer！")})),bridge={call:function(t,e,r){p.then((function(i){var n={message:{func:t,params:e},method:"LightDebug.debugMock.execute"};i.send(JSON.stringify(n)),JSON.stringify(e||{}),callbackFunc=r}))}}}else{var webMockCall=web;bridge={call:function(t,e,r,i){webMockCall(t,e,i||r)}}}else"native"===process.env.RUNTIME?bridge={call:function(t,e,r){weex.requireModule("LightJSBridge").call(t,e,r)}}:"miniapp"===process.env.RUNTIME?bridge={call:function(t,e,r){if(e&&void 0!==e.bindPage){var i=e.bindPage;delete e.bindPage,LightJSBridge.call(t,e,r,i)}else LightJSBridge.call(t,e,r)}}:"globalJSCore"===process.env.RUNTIME&&(bridge={call:function(t,e,r){LightJSBridge.call(t,e,r)}});var getMockResult=function(t){return{info:{error_code:"0",error_message:"success"},data:t}},native_1={chooseImage:function(t,e){bridge.call("native.chooseImage",t,(function(r){r.info&&r.info.error_code&&"0"!=r.info.error_code?r.info={error_code:r.info.error_code,error_message:r.info.error_extinfo}:"CAMERA_MUTIL-ALBUM"==t.imagePickType||"MUTIL-ALBUM"==t.imagePickType?r.data.imageBase64.forEach((function(t,e){r.data.imageBase64[e]=t.replace(/\r\n/g,""),r.data.imageBase64[e]=t.replace(/\s+/g,"")})):(r.data.result=r.data.result.replace(/\r\n/g,""),r.data.result=r.data.result.replace(/\s+/g,"")),e&&e(r)}),e)},scanCode:function(t,e){bridge.call("qrcode.scan",t,e)},genCode:function(t,e){bridge.call("qrcode.gen",t,(function(t){t.data&&t.data.result&&(t.data.fullUrl="data:image/png;base64,"+t.data.result),e(t)}),e)},switchTab:function(t,e){bridge.call("native.switchTab",t,e)},getVersion:function(t,e){bridge.call("native.version",t,e)},getSystemInfo:function(t,e){bridge.call("native.getSystemInfo",t,e)},getContactInfo:function(t,e){bridge.call("native.getContactInfo",t,e)},getClipBoardContent:function(t,e){bridge.call("native.getClipBoardContent",t,e)},setClipBoardContent:function(t,e){bridge.call("native.setClipBoardContent",t,e)},fetchURL:function(t,e){bridge.call("native.fetchURL",t,e)},readData:function(t,e){bridge.call("native.readData",t,(function(t){t.info.error_code&&"0"!=t.info.error_code&&(t.info={error_code:t.info.error_code,error_message:t.info.error_extinfo}),e(t)}),e)},writeData:function(t,e){bridge.call("native.writeData",t,e)},deleteData:function(t,e){bridge.call("native.deleteData",t,e)},clearData:function(t,e){bridge.call("storage.clearData",t,e)},getDataInfo:function(t,e){bridge.call("storage.getDataInfo",t,e)},imageAction:function(t,e){bridge.call("native.imageAction",t,e)},back:function(t,e){var r=t&&(t.number||0===t.number)?{number:t.number+""}:{};bridge.call("native.back",r,e)},close:function(){bridge.call("native.close",{},null)},getNetworkStatus:function(t,e){bridge.call("native.getNetworkStatus",t,e)},getUDID:function(t,e){bridge.call("native.getUDID",t,e)},showDialog:function(t,e){bridge.call("native.showDialog",t)},clearWidget:function(t,e){bridge.call("native.clearWidget",t,e)},getPerformanceInfo:function(t,e){bridge.call("native.getPerformanceInfo",{},e)},setMaxCacheSize:function(t,e){bridge.call("native.setMaxCacheSize",t,e)},getLocationStatus:function(t,e){bridge.call("native.getLocationStatus",t,e)},setScreenOrientation:function(t,e){bridge.call("native.setScreenOrientation",t,e)},setSupportScreenOrientation:function(t,e){bridge.call("native.setSupportScreenOrientation",t,e)},sendContentBroadcast:function(t,e){bridge.call("native.sendContentBroadcast",t,e)},setMutipleLanguages:function(t,e){bridge.call("native.setMutipleLanguages",t,e)},socialShare:function(t,e){bridge.call("social.share",t,e)},socialLogin:function(t,e){bridge.call("social.login",t,e)},launchMiniProgram:function(t,e){bridge.call("social.launchMiniProgram",t,e)},addButton:function(params,cb){if("native"===process.env.RUNTIME){var originAction=params.action;if("function"!=typeof params.action){var event=weex.requireModule("event");params.action=function(){if(/^(http|https|file):\/\//i.test(originAction))event.openNative("web",{startPage:originAction});else if(/^gmu:\/\/(.*)#(.*)/i.exec(originAction)){var regCheck=/^gmu:\/\/(.*)#(.*)/i.exec(originAction);event.openNative(regCheck[1],{pageId:regCheck[2]})}else if(/^gmu:\/\/(.*)\?startPage=(.*)/i.exec(originAction)){var regCheck$1=/^gmu:\/\/(.*)\?startPage=(.*)/i.exec(originAction),options={};if(originAction.indexOf("&")){var gotItems=originAction.split("&");gotItems.forEach((function(t,e){e&&(options[t.split("=")[0]]=t.split("=")[1])}))}event.openNative(regCheck$1[1],Object.assign({startPage:decodeURIComponent(regCheck$1[2].split("&")[0])},options))}else if(/^gmu:\/\/miniapp\?id=/i.test(originAction))event.openNative("miniapp",{id:/^gmu:\/\/miniapp\?id=(.*)/i.exec(originAction)[1]});else if(/^gmu:\/\/(.*)/i.exec(originAction)){var regCheck$2=/^gmu:\/\/(.*)$/i.exec(originAction);event.openNative(regCheck$2[1])}var checkJS=/^javascript:(.*)$/gi.exec(originAction);checkJS&&checkJS[1]&&eval(checkJS[1])}}params.position&&"left"==params.position?(weex.requireModule("head").setLeftItem(params,params.action),cb&&cb(getMockResult())):(weex.requireModule("head").setRightItem(params,params.action),cb&&cb(getMockResult()))}if("web"===process.env.RUNTIME){if("function"==typeof params.action){var _actionFunction="actionFunction_"+Math.floor(1e3*Math.random());window[_actionFunction]=params.action,params.action="javascript:"+_actionFunction+"();"}bridge.call("head.addButton",params,cb)}},showNativeBadge:function(t,e){bridge.call("native.badge",t,e)},removeButton:function(t,e){"native"===process.env.RUNTIME?weex.requireModule("head").removeButton(t,e):bridge.call("head.removeButton",t,e)},setBackgroundColor:function(t,e){bridge.call("head.setBackgroundColor",t,e)},setSubtitle:function(t,e){bridge.call("head.setSubtitle",t,e)},setTitle:function(t,e){bridge.call("head.setTitle",t,e)},setSystemStatusBar:function(t,e){null===t.hidden&&(t.hidden=""),bridge.call("head.setSystemStatusBar",t,e)},openURL:function(t,e){bridge.call("system.openURL",t,e)},preVerifyOpeation:function(t,e){bridge.call("validate.preVerifyOpeation",t,e)},verifyOpeation:function(t,e){bridge.call("validate.verifyOpeation",t,e)},preVerifyOperation:function(t,e){bridge.call("validate.preVerifyOperation",t,e)},verifyOperation:function(t,e){bridge.call("validate.verifyOperation",t,e)},supportedVerifyOperation:function(t,e){bridge.call("validate.supportedVerifyOperation",t,e)},appPreview:function(t,e){bridge.call("system.appPreview",t,e)},startPerfMonitor:function(t,e){bridge.call("lightview.startPerfMonitor",t,e)},stopPerfMonitor:function(t,e){bridge.call("lightview.stopPerfMonitor",t,e)},getPerfMonitorInfo:function(t,e){bridge.call("lightview.getPerfMonitorIfo",t,e)},userlogout:function(t,e){bridge.call("user.logout",{},e)},pushSetAlias:function(t,e){bridge.call("push.setAlias",t,e)},userLogin:function(t,e){bridge.call("user.login",t,e)},debugOpen:function(t,e){bridge.call("debug.open",t,e)},debugClose:function(t,e){bridge.call("debug.close",t,e)},debugCheck:function(t,e){bridge.call("debug.check",t,e)},socialAppInstalled:function(t,e){bridge.call("social.isAppInstalled",t,e)},quoteWizard:function(t,e){bridge.call("quote.wizard",t,e)},quoteReal:function(t,e){bridge.call("quote.real",t,e)},quoteSort:function(t,e){bridge.call("quote.sort",t,e)},headSetSearchView:function(t,e){bridge.call("head.setSearchView",t,(function(r){t&&"input"==t.type||r&&r.data&&"click"==r.data.result&&(r.data.result="success"),e&&e(r)}),e)},headSetAlpha:function(t,e){bridge.call("head.setAlpha",t,e)},getSafeArea:function(t,e){bridge.call("native.getSafeArea",t,e)},pushGetTags:function(t,e){bridge.call("push.getTags",t,e)},pushDeleteTags:function(t,e){bridge.call("push.deleteTags",t,e)},pushAddTags:function(t,e){bridge.call("push.addTags",t,e)},pushGetRegistrationID:function(t,e){bridge.call("push.getRegistrationID",t,e)},mystockAdd:function(t,e){bridge.call("mystock.add",t,e)},mystockDelete:function(t,e){bridge.call("mystock.delete",t,e)},mystockList:function(t,e){bridge.call("mystock.list",t,e)},safekeyboardShow:function(t,e){bridge.call("safekeyboard.show",t,e)},safekeyboardHide:function(t,e){bridge.call("safekeyboard.hide",t,e)},tradekeyboardShow:function(t,e){bridge.call("tradekeyboard.show",t,e)},tradekeyboardHide:function(t,e){bridge.call("tradekeyboard.hide",t,e)},chatConnectRong:function(t,e){bridge.call("chat.connectRong",t,e)},chatGetConverationRecords:function(t,e){bridge.call("chat.getConverationRecords",t,e)},chatDisconnectRong:function(t,e){bridge.call("chat.disconnectRong",t,e)},chatStartConversition:function(t,e){bridge.call("chat.startConversition",t,e)},getLocation:function(t,e){bridge.call("location.getLocation",t,e)},stopLocation:function(t,e){bridge.call("location.stopLocation",t,e)},getLocationOnce:function(t,e){bridge.call("location.getLocationOnce",t,e)},startLocationUpdate:function(t,e){bridge.call("location.startLocationUpdate",t,e)},stopLocationUpdate:function(t,e){bridge.call("location.stopLocationUpdate",t,e)},onLocationChange:function(t,e){bridge.call("location.onLocationChange",t,e)},offLocationChange:function(t,e){bridge.call("location.offLocationChange",t,e)},userSetInfo:function(t,e){bridge.call("user.setInfo",t,e)},startRecord:function(t,e){bridge.call("media.audio.startRecord",t,e)},stopRecord:function(t,e){bridge.call("media.audio.stopRecord",{},null)},userGetInfo:function(t,e){bridge.call("user.getInfo",{},(function(t){t.data?e&&e(t.data.result):e()}),e)},tradePay:function(t,e){bridge.call("trade.pay",t,e)},imagePreview:function(t,e){bridge.call("native.imagePreview",t,e)},filePreview:function(t,e){bridge.call("file.preview",t,e)},fileSave:function(t,e){bridge.call("file.save",t,e)},chooseFile:function(t,e){bridge.call("file.chooseFile",{},e)},pushAddEventListener:function(t,e){bridge.call("push.addEventListener",t,e)},iapPurchase:function(t,e){bridge.call("iap.purchase",t,e)},log:function(t,e){var r={content:t.content};switch(t.level){case"info":bridge.call("log.info",r,e);break;case"error":bridge.call("log.error",r,e);break;case"debug":bridge.call("log.debug",r,e);break;case"warn":bridge.call("log.warn",r,e);break;case"verbose":bridge.call("log.verbose",r,e);break;default:bridge.call("log.info",r,e)}},setTabBarBadge:function(t,e){bridge.call("native.setTabBarBadge",t,e)},analyticsSendEvent:function(t,e){bridge.call("analytics.sendEvent",t,e)},getCurrentPages:function(t,e){bridge.call("native.getCurrentPages",{},e)},saveImage:function(t,e){bridge.call("image.save",t,e)},getStatusBarHeight:function(t,e){bridge.call("native.getStatusBarHeight",{},e)},streamFetch:function(t,e){bridge.call("stream.fetch",t,e)},createCalendar:function(t,e){bridge.call("calendar.createEvent",t,e)},deleteCalendar:function(t,e){bridge.call("calendar.deleteEvent",t,e)},queryCalendar:function(t,e){bridge.call("calendar.retrieveEvent",t,e)},updateCalendar:function(t,e){bridge.call("calendar.updateEvent",t,e)},getBase64:function(t,e){bridge.call("res.getBase64",t,(function(t){t.data&&t.data.result&&(t.data.result=t.data.result.replace(/\r\n/g,""),t.data.result=t.data.result.replace(/\s+/g,"")),e&&e(t)}),e)},imagePicker:function(t,e){bridge.call("image.picker",t,e)},imageWatermarkText:function(t,e){bridge.call("image.watermarkText",t,e)},imageWatermarkLogo:function(t,e){bridge.call("image.watermarkLogo",t,e)},showOverlay:function(t,e){bridge.call("overlay.show",t,e)},keepScreenOn:function(t,e){bridge.call("screen.setKeepScreenOn",t,e)},getScreenCapturedStatus:function(t,e){bridge.call("screen.getCapturedStatus",t,e)},setStatusBarStyle:function(t,e){bridge.call("head.setNavigationBarStyle",t,e)},getNotificationStatus:function(t,e){bridge.call("push.getNotificationStatus",t,e)},createSm2KeyPair:function(t,e){bridge.call("crypto.sm2CreateKeyPair",t,e)},sm2Encrypt:function(t,e){bridge.call("crypto.sm2Encrypt",t,e)},sm2Decrypt:function(t,e){bridge.call("crypto.sm2Decrypt",t,e)},sm2Sign:function(t,e){bridge.call("crypto.sm2Sign",t,e)},sm2Verify:function(t,e){bridge.call("crypto.sm2Verify",t,e)},sm3Digest:function(t,e){bridge.call("crypto.sm3Digest",t,e)},sm4Encrypt:function(t,e){bridge.call("crypto.sm4Encrypt",t,e)},sm4Decrypt:function(t,e){bridge.call("crypto.sm4Decrypt",t,e)},addSchemeListener:function(t,e){bridge.call("system.addSchemeListener",t,e)},checkPermission:function(t,e){bridge.call("system.checkPermission",t,e)},checkThenRequestPermission:function(t,e){bridge.call("system.checkThenRequestPermission",t,e)},openNegativeMenu:function(t,e){bridge.call("negativemenu.open",t,e)},closeNegativeMenu:function(t,e){bridge.call("negativemenu.close",t,e)},settingPermission:function(t,e){bridge.call("system.settingPermission",t,e)},createAudio:function(t,e){bridge.call("audioplay.createAudioContext",t,(function(t){t.audio={play:function(e,r){(e=e||{}).playerId=t.data&&t.data.playerId?t.data.playerId:"",bridge.call("audioplay.play",e,r)},destroy:function(e,r){(e=e||{}).playerId=t.data&&t.data.playerId?t.data.playerId:"",bridge.call("audioplay.destory",e,r)},getAudioOption:function(e,r){(e=e||{}).playerId=t.data&&t.data.playerId?t.data.playerId:"",bridge.call("audioplay.getAudioOption",e,r)},pause:function(e,r){(e=e||{}).playerId=t.data&&t.data.playerId?t.data.playerId:"",bridge.call("audioplay.pause",e,r)},resetAudioOption:function(e,r){(e=e||{}).playerId=t.data&&t.data.playerId?t.data.playerId:"",bridge.call("audioplay.resetAudioOption",e,r)},seek:function(e,r){(e=e||{}).playerId=t.data&&t.data.playerId?t.data.playerId:"",bridge.call("audioplay.seek",e,r)},stop:function(e,r){(e=e||{}).playerId=t.data&&t.data.playerId?t.data.playerId:"",bridge.call("audioplay.stop",e,r)}},e(t)}))},startVibrate:function(t,e){"short"===t.mode?bridge.call("vibrator.vibrateShort",t,e):bridge.call("vibrator.vibrateLong",t,e)},writeGlobalData:function(t,e){console.error("writeGlobalData接口已经过期，请使用LightSDK.native.writeData");var r=Object.keys(t).length;Object.keys(t).forEach((function(i){null!==t[i]?bridge.call("native.writeData",{key:i,value:t[i]||{}},(function(){0==--r&&e&&e()})):bridge.call("native.deleteData",{key:i},(function(){0==--r&&e&&e()}))}))},readGlobalData:function(t,e){console.error("readGlobalData，请使用LightSDK.native.readData"),bridge.call("native.readData",{key:t},(function(t){t&&t.data&&t.data.result?e&&e(t.data.result):e&&e(null)}))},compressImage:function(t,e){bridge.call("image.compress",t,e)},getImageInfo:function(t,e){bridge.call("image.getImageInfo",t,e)},chooseVideo:function(t,e){bridge.call("video.choose",t,e)},compressVideo:function(t,e){bridge.call("video.compress",t,e)},uploadBuild:function(t,e){bridge.call("upload.build",t,e)},uploadAbort:function(t,e){bridge.call("upload.abort",t,e)},uploadFile:function(t,e){bridge.call("upload.uploadFile",t,e)},downloadBuild:function(t,e){bridge.call("file.downloadBuild",t,e)},downloadAbort:function(t,e){bridge.call("file.downloadAbort",t,e)},downloadFile:function(t,e){bridge.call("file.downloadFile",t,e)},saveDownloadFile:function(t,e){bridge.call("file.saveFile",t,e)},getFileInfo:function(t,e){bridge.call("file.getFileInfo",t,e)},getSavedFileInfo:function(t,e){bridge.call("file.getSavedFileInfo",t,e)},getSavedFileList:function(t,e){bridge.call("file.getSavedFileList",t,e)},removeSavedFile:function(t,e){bridge.call("file.removeSavedFile",t,e)},callNative:function(t,e,r){bridge.call(t,e,(function(t){r&&r(t)}))},startAccelerometer:function(t,e){bridge.call("accelerometer.start",t,e)},stopAccelerometer:function(t,e){bridge.call("accelerometer.stop",t,e)},onAccelerometerChange:function(t,e){bridge.call("accelerometer.onChange",t,e)},offAccelerometerChange:function(t,e){bridge.call("accelerometer.offChange",t,e)}};function request(t,e,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&(200===i.status?r(JSON.parse(i.responseText)):console.error(i.status))};var n=t;e&&Object.keys(e).length>0&&(n+="?"+parse2query(e)),i.open("GET",n,!0),i.send(null)}function parse2query(t){var e="";return Object.keys(t).forEach((function(r){e+=r+"="+t[r]+"&"})),e=e.substring(0,e.length-1)}var cid="",iid="",env=__ENV__;env&&env.link_id&&(cid=env.link_id);var light={request:function(t,e,r){request(t,e,r)},register:function(t){console.error("此接口已经过期，将在下个版本移除！！！"),cid=t.cid||"",iid=t.iid||""},config:{get:function(t,e){native_1.readData({key:"__LIGHT_configParams"},(function(r){!(r&&r.data&&r.data.result)||e&&e.disableCache?request("https://fs-api.lightyy.com/flatservice/param/getparams.json",{compId:cid,instanceId:iid},(function(r){t(JSON.stringify(r.data)),r.data&&r.data!={}&&(e&&!0===e.disableCache||native_1.writeData({key:"__LIGHT_configParams",value:JSON.stringify(r.data)}))})):"object"==typeof r.data.result?t(JSON.stringify(r.data.result)):t(r.data.result)}))}},openAPI:{token:function(t){}}},bridge$1;"web"===process.env.RUNTIME?bridge$1=-1!==navigator.userAgent.toLowerCase().indexOf("lightos")?{call:function(t,e,r){window.LightJSBridge&&window.LightJSBridge.call?window.LightJSBridge.call(t,e,r):init(t,e,r)}}:{call:function(t,e,r,i){i&&i()}}:"native"===process.env.RUNTIME&&(bridge$1={call:function(t,e,r){weex.requireModule("LightJSBridge").call(t,e,r)}});var net={callRPC:function(t,e){bridge$1.call("rpc.call",t,e,(function(){e&&e({info:{error_code:"0",error_message:"success"},data:{data:{query:{},body:{compony:"Hundsun"},headers:{host:"",connection:"keep-alive","content-length":"107","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36","cache-control":"no-cache",origin:"chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop",custom:"Light","postman-tk":"************","content-type":"application/json",accept:"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"}},err_no:0}})}))}},openAPI=light.openAPI,config=light.config,register=light.register,md={register:register,native:native_1,net:net,openAPI:openAPI,config:config},loop=function(t){var e=md.native[t];md.native[t]=function(t,r){if("function"==typeof t&&(r=t,t={}),!r&&"undefined"!=typeof Promise)return new Promise((function(r){e(t,(function(t){r(t)}))}));e(t,r)},"callNative"===t&&(md.native.callNative=function(t,r,i){if(!i&&"undefined"!=typeof Promise)return new Promise((function(i){e(t,r,(function(t){i(t)}))}));e(t,r,i)})};for(var func in md.native)loop(func);var lightSdk=md;return lightSdk},module.exports=factory()})),QingyinLicai=function(t){function e(){var e=t.call(this)||this;return e.name="青银理财",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){dist.native.getSystemInfo(null,(function(e){console.info(e),t(!0)}))}))]}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){window.TMFJSBridge?t(!0):document.addEventListener("TMFJSBridgeReady",(function(){t(!0)}),!1)}))]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var i,n,o,a,s,l;return __generator(this,(function(h){return i=e.url,n=e.title,o=e.content,a=e.thumbnail,this.params.title=n,this.params.url=i,this.params.content=o,this.params.image=a,s=r.type,l=r.channel,this.params.type=s,l&&(this.params.channel=l),dist.native.socialShare(this.params,(function(){})),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),osName=Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.a)(),GuangdaYangguang=function(t){function e(){var e=t.call(this)||this;return e.name="光大信用卡-阳光惠生活",e.params={},e}return __extends(e,t),e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){"iOS"===osName?window.WebViewJavascriptBridge?t(!0):document.addEventListener("WebViewJavascriptBridgeReady",(function(){t(!0)}),!1):t(!0)}))]}))}))},e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/yghsh/i)]}))}))},e.prototype.callShare=function(t,e){var r=t.url,i=t.title,n=t.content,o=t.thumbnail;this.params.title=i,this.params.shareURL=r,this.params.content=n,this.params.imageURL=o;var a=e.shareType,s=void 0===a?"webShare":a,l=e.channelID,h=void 0===l?"DUIBA_SIGN_IN":l,u=e.globalId,c=void 0===u?"value":u;return this.params.shareType=s,this.params.channelID=h,this.params.globalId=c,"iOS"===osName?WebViewJavascriptBridge.callHandler("share",this.params,(function(t){console.info("share result:",t)})):JSInterface.share(JSON.stringify(this.params)),new Promise((function(t){setTimeout(t,3e3)}))},e}(ShareWay),e=[],t=[];function n(r,i){if(r&&"undefined"!=typeof document){var n,o=!0===i.prepend?"prepend":"append",a=!0===i.singleTag,s="string"==typeof i.container?document.querySelector(i.container):document.getElementsByTagName("head")[0];if(a){var l=e.indexOf(s);-1===l&&(l=e.push(s)-1,t[l]={}),n=t[l]&&t[l][o]?t[l][o]:t[l][o]=h()}else n=h();65279===r.charCodeAt(0)&&(r=r.substring(1)),n.styleSheet?n.styleSheet.cssText+=r:n.appendChild(document.createTextNode(r))}function h(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),i.attributes)for(var e=Object.keys(i.attributes),r=0;r<e.length;r++)t.setAttribute(e[r],i.attributes[e[r]]);var n="prepend"===o?"afterbegin":"beforeend";return s.insertAdjacentElement(n,t),t}}var css="#share_guide_layer {\n  box-sizing: border-box;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 2000;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n\n#share_guide_layer .bubble {\n  position: absolute;\n  right: 0.1rem;\n  top: 0.1rem;\n}\n\n#share_guide_layer .bubble .bg {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 4.7rem;\n  height: 3.5rem;\n}\n\n#share_guide_layer .bubble .wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 3.5rem;\n  height: 2rem;\n  position: absolute;\n  right: 1.2rem;\n  top: 1.5rem;\n}\n\n#share_guide_layer .bubble .wrapper .label {\n  color: white;\n}",guideLayer,label,autoHideTimer,_didHidden;function ensureElements(){if(!guideLayer){var t=document.createElement("div");t.innerHTML='\n<div id="share_guide_layer">\n\t<div class="bubble">\n\t\t<img class="bg" src="//yun.duiba.com.cn/spark/assets/a0f5d5b5050c33ae50114aa510e737cf1592fd39.png">\n\t\t<div class="wrapper">\n\t\t\t<span class="label">\n\t\t\t</span>\n\t\t</div>\n\t</div>\n</div>';var e=(guideLayer=t.children[0]).children[0].children[1];label=e.children[0],guideLayer.addEventListener("click",onClick)}document.body.appendChild(guideLayer)}function onClick(){hideShareGuide()}function showShareGuide(t,e,r,i){void 0===t&&(t="点击…分享"),void 0===e&&(e=.7),void 0===r&&(r=0),ensureElements(),_didHidden=i,guideLayer.style.backgroundColor="rgba(0,0,0,"+e+")","string"==typeof t?t.indexOf("<")>=0&&t.indexOf(">")>=0?label.innerHTML=t:label.innerText=t:(label.innerHTML="",label.appendChild(t)),r>0&&(clearTimeout(autoHideTimer),autoHideTimer=setTimeout(hideShareGuide,r))}function hideShareGuide(){guideLayer&&guideLayer.parentNode&&(clearTimeout(autoHideTimer),document.body.removeChild(guideLayer),_didHidden&&_didHidden())}n(css,{});var shareParams={},currentShareWay;function start(t,e,r){return void 0===r&&(r={}),__awaiter(this,void 0,void 0,(function(){var i,n,o,a,s,l,h;return __generator(this,(function(u){switch(u.label){case 0:u.trys.push([0,8,,9]),i=0,n=t,u.label=1;case 1:return i<n.length?(o=n[i],(a=1===t.length)?[3,4]:(s=o.testEnv)?[4,o.testEnv()]:[3,3]):[3,7];case 2:s=u.sent(),u.label=3;case 3:a=s,u.label=4;case 4:return a?[4,(l=new o).init(r)]:[3,6];case 5:if(u.sent())return o.isOn=!0,l._onShareResult=e,currentShareWay=l,[3,7];console.info('[分享] 分享途径 "'+l.name+'" 初始化失败'),u.label=6;case 6:return i++,[3,1];case 7:return[3,9];case 8:return h=u.sent(),console.warn(h),[3,9];case 9:return console.info("[分享]",currentShareWay?"命中的途径: "+currentShareWay.name:"未命中途径"),[2,!!currentShareWay]}}))}))}function updateShare(t,e){if(void 0===e&&(e={}),currentShareWay)try{__assign(shareParams,t),currentShareWay.updateShare(shareParams,e)}catch(t){console.info("更新分享参数失败:",t.message)}}function callShare(t,e){return void 0===e&&(e={}),__awaiter(this,void 0,void 0,(function(){return __generator(this,(function(r){if(!currentShareWay)return[2];try{return __assign(shareParams,t),[2,currentShareWay.callShare(shareParams,e)]}catch(t){console.info("调起分享失败:",t.message)}return[2]}))}))}function notWeixin(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,Weixin.testEnv()];case 1:return[2,!t.sent()]}}))}))}}).call(this,__webpack_require__("yLpj"),__webpack_require__("8oxB"))},S6kV:function(t,e,r){var i,n,o;t.exports=(o=r("Ib8C"),r("OLod"),o.mode.OFB=(i=o.lib.BlockCipherMode.extend(),n=i.Encryptor=i.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,n=this._iv,o=this._keystream;n&&(o=this._keystream=n.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var a=0;a<i;a++)t[e+a]^=o[a]}}),i.Decryptor=n,i),o.mode.OFB)},SksO:function(t,e){function r(e,i){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,r(e,i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},TyAF:function(t,e,r){"use strict";r.d(e,"a",(function(){return Q}));var i=r("aFzQ"),n=r("q1tI"),o=r.n(n);if(!n.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!i.m)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var a=r("i8i4");function s(t){t()}function l(t){return Object(i.h)(t)}var h="undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry;function u(t){return{reaction:t,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+c}}var c=1e4;var p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};var f=h?function(t){var e=new Map,r=1,i=new t((function(t){var r=e.get(t);r&&(r.reaction.dispose(),e.delete(t))}));return{addReactionToTrack:function(t,n,o){var a=r++;return i.register(o,a,t),t.current=u(n),t.current.finalizationRegistryCleanupToken=a,e.set(a,t.current),t.current},recordReactionAsCommitted:function(t){i.unregister(t),t.current&&t.current.finalizationRegistryCleanupToken&&e.delete(t.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}(h):function(){var t,e=new Set;function r(){void 0===t&&(t=setTimeout(i,1e4))}function i(){t=void 0;var i=Date.now();e.forEach((function(t){var r=t.current;r&&i>=r.cleanAt&&(r.reaction.dispose(),t.current=null,e.delete(t))})),e.size>0&&r()}return{addReactionToTrack:function(t,i,n){var o;return t.current=u(i),o=t,e.add(o),r(),t.current},recordReactionAsCommitted:function(t){e.delete(t)},forceCleanupTimerToRunNowForTests:function(){t&&(clearTimeout(t),i())},resetCleanupScheduleForTests:function(){var r,i;if(e.size>0){try{for(var n=p(e),o=n.next();!o.done;o=n.next()){var a=o.value,s=a.current;s&&(s.reaction.dispose(),a.current=null)}}catch(t){r={error:t}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}e.clear()}t&&(clearTimeout(t),t=void 0)}}}(),d=f.addReactionToTrack,m=f.recordReactionAsCommitted,v=(f.resetCleanupScheduleForTests,f.forceCleanupTimerToRunNowForTests,!1);function y(){return v}var g=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a};function _(t){return"observer".concat(t)}var b=function(){};function x(){return new b}function w(t,e){if(void 0===e&&(e="observed"),y())return t();var r=g(o.a.useState(x),1)[0],n=g(o.a.useState(),2)[1],a=function(){return n([])},s=o.a.useRef(null);if(!s.current)var h=new i.b(_(e),(function(){u.mounted?a():u.changedBeforeMount=!0})),u=d(s,h,r);var c,p,f=s.current.reaction;if(o.a.useDebugValue(f,l),o.a.useEffect((function(){return m(s),s.current?(s.current.mounted=!0,s.current.changedBeforeMount&&(s.current.changedBeforeMount=!1,a())):(s.current={reaction:new i.b(_(e),(function(){a()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},a()),function(){s.current.reaction.dispose(),s.current=null}}),[]),f.track((function(){try{c=t()}catch(t){p=t}})),p)throw p;return c}var T=function(){return(T=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function E(t,e){if(y())return t;var r,i,o,a=T({forwardRef:!1},e),s=t.displayName||t.name,l=function(e,r){return w((function(){return t(e,r)}),s)};return""!==s&&(l.displayName=s),t.contextTypes&&(l.contextTypes=t.contextTypes),r=a.forwardRef?Object(n.memo)(Object(n.forwardRef)(l)):Object(n.memo)(l),i=t,o=r,Object.keys(i).forEach((function(t){S[t]||Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})),r}var S={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function M(t){var e=t.children,r=t.render,i=e||r;return"function"!=typeof i?null:w(i)}M.displayName="Observer";var A;(A=a.unstable_batchedUpdates)||(A=s),Object(i.f)({reactionScheduler:A});var C=0;var P={};function k(t){return P[t]||(P[t]=function(t){if("function"==typeof Symbol)return Symbol(t);var e="__$mobx-react "+t+" ("+C+")";return C++,e}(t)),P[t]}function O(t,e){if(I(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var n=0;n<r.length;n++)if(!Object.hasOwnProperty.call(e,r[n])||!I(t[r[n]],e[r[n]]))return!1;return!0}function I(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function D(t,e,r){Object.hasOwnProperty.call(t,e)?t[e]=r:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:r})}var R=k("patchMixins"),F=k("patchedDefinition");function L(t,e){for(var r=this,i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];e.locks++;try{var a;return null!=t&&(a=t.apply(this,n)),a}finally{e.locks--,0===e.locks&&e.methods.forEach((function(t){t.apply(r,n)}))}}function B(t,e){return function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];L.call.apply(L,[this,t,e].concat(i))}}function N(t,e,r){var i=function(t,e){var r=t[R]=t[R]||{},i=r[e]=r[e]||{};return i.locks=i.locks||0,i.methods=i.methods||[],i}(t,e);i.methods.indexOf(r)<0&&i.methods.push(r);var n=Object.getOwnPropertyDescriptor(t,e);if(!n||!n[F]){var o=t[e],a=function t(e,r,i,n,o){var a,s=B(o,n);return(a={})[F]=!0,a.get=function(){return s},a.set=function(o){if(this===e)s=B(o,n);else{var a=t(this,r,i,n,o);Object.defineProperty(this,r,a)}},a.configurable=!0,a.enumerable=i,a}(t,e,n?n.enumerable:void 0,i,o);Object.defineProperty(t,e,a)}}var z=i.a||"$mobx",j=k("isMobXReactObserver"),V=k("isUnmounted"),U=k("skipRender"),W=k("isForcingUpdate");function q(t){var e=t.prototype;if(t[j]){var r=H(e);console.warn("The provided component class ("+r+") \n                has already been declared as an observer component.")}else t[j]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==n.PureComponent)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==Y)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=Y;X(e,"props"),X(e,"state");var i=e.render;if("function"!=typeof i){var o=H(e);throw new Error("[mobx-react] class component ("+o+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return e.render=function(){return G.call(this,i)},N(e,"componentWillUnmount",(function(){var t;if(!0!==y()&&(null==(t=this.render[z])||t.dispose(),this[V]=!0,!this.render[z])){var e=H(this);console.warn("The reactive render of an observer class component ("+e+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),t}function H(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function G(t){var e=this;if(!0===y())return t.call(this);D(this,U,!1),D(this,W,!1);var r=H(this),o=t.bind(this),a=!1,s=new i.b(r+".render()",(function(){if(!a&&(a=!0,!0!==e[V])){var t=!0;try{D(e,W,!0),e[U]||n.Component.prototype.forceUpdate.call(e),t=!1}finally{D(e,W,!1),t&&s.dispose()}}}));function l(){a=!1;var t=void 0,e=void 0;if(s.track((function(){try{e=Object(i.c)(!1,o)}catch(e){t=e}})),t)throw t;return e}return s.reactComponent=this,l[z]=s,this.render=l,l.call(this)}function Y(t,e){return y()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==e||!O(this.props,t)}function X(t,e){var r=k("reactProp_"+e+"_valueHolder"),n=k("reactProp_"+e+"_atomHolder");function o(){return this[n]||D(this,n,Object(i.g)("reactive "+e)),this[n]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var t=!1;return i.e&&i.d&&(t=Object(i.e)(!0)),o.call(this).reportObserved(),i.e&&i.d&&Object(i.d)(t),this[r]},set:function(t){this[W]||O(this[r],t)?D(this,r,t):(D(this,r,t),D(this,U,!0),o.call(this).reportChanged(),D(this,U,!1))}})}var K="function"==typeof Symbol&&Symbol.for,Z=K?Symbol.for("react.forward_ref"):"function"==typeof n.forwardRef&&Object(n.forwardRef)((function(t){return null})).$$typeof,J=K?Symbol.for("react.memo"):"function"==typeof n.memo&&Object(n.memo)((function(t){return null})).$$typeof;function Q(t){if(!0===t.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),J&&t.$$typeof===J)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Z&&t.$$typeof===Z){var e=t.render;if("function"!=typeof e)throw new Error("render property of ForwardRef was not a function");return Object(n.forwardRef)((function(){var t=arguments;return Object(n.createElement)(M,null,(function(){return e.apply(void 0,t)}))}))}return"function"!=typeof t||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(n.Component,t)?q(t):E(t)}if(!n.Component)throw new Error("mobx-react requires React to be available");if(!i.n)throw new Error("mobx-react requires mobx to be available")},VEoi:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.safeEval=e.getChildBySlot=e.compileTemplate=void 0;var i=r("q1tI");function n(t,e){void 0===e&&(e={});try{return new Function("scope","with (scope){return "+t+"}")(e)}catch(t){return void t.message}}e.compileTemplate=function(t,e,r){var o=t.props.children;Array.isArray(o)||(o=[o]);for(var a=[],s=function(t){var s,l=o[t],h=t+"_"+r,u=void 0,c=[];for(var p in l.props){var f=l.props[p];switch(p){case"__if":u=f;break;case"onClick":s=f;break;default:if(0===p.indexOf("__bind")){var d={expression:f},m=p.replace("__bind","");m.indexOf("_")<0?d.attr="inner":d.attr=m.split("_")[1],c.push(d)}}}var v=void 0;if(!u||n(u,e)){var y={key:h},g=void 0;if(c.length>0)for(var _=0,b=c;_<b.length;_++){var x=(d=b[_]).attr,w=n(d.expression,e);"inner"===x?g=w:y[x]=w}s&&(y.onClick=function(t){s(t,e,r)}),v=g?(0,i.cloneElement)(l,y,g):(0,i.cloneElement)(l,y),a.push(v)}},l=0;l<o.length;l++)s(l);return(0,i.cloneElement)(t,{},a)},e.getChildBySlot=function(t,e){Array.isArray(t)||(t=[t]);for(var r=0,i=t;r<i.length;r++){var n=i[r];if(n.props.__slot===e)return n}},e.safeEval=n},W8MJ:function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},WYAk:function(t,e,r){var i,n,o,a;t.exports=(i=r("Ib8C"),o=(n=i).lib.Base,a=n.enc.Utf8,void(n.algo.HMAC=o.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=a.parse(e));var r=t.blockSize,i=4*r;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var n=this._oKey=e.clone(),o=this._iKey=e.clone(),s=n.words,l=o.words,h=0;h<r;h++)s[h]^=1549556828,l[h]^=909522486;n.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})))},WbBG:function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},Wgss:function(t,e,r){"use strict";r.d(e,"a",(function(){return p}));var i=r("gK8M"),n=r("zgwS"),o=r("Yb6r");r("DwoO");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function a(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function s(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=location.href.indexOf(".com.cn/projectx")>=0,h=!1,u=!1,c=[];function p(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return l?[2,new Promise((function(t,e){c.push({resolve:t,reject:e}),setTimeout(f,10)}))]:[2,"test_token"]}))}))}function f(){return a(this,void 0,void 0,(function(){var t,e,r;return s(this,(function(i){switch(i.label){case 0:if(u)return[2];if(!(c.length>0))return[3,4];t=c.shift(),i.label=1;case 1:return i.trys.push([1,3,,4]),u=!0,[4,d()];case 2:return e=i.sent(),t.resolve(e),u=!1,setTimeout(f,10),[3,4];case 3:return r=i.sent(),u=!1,t.reject(r),[3,4];case 4:return[2]}}))}))}function d(){return a(this,void 0,void 0,(function(){var t,e,r,i;return s(this,(function(n){switch(n.label){case 0:r=0,n.label=1;case 1:if(!(r<2))return[3,6];n.label=2;case 2:return n.trys.push([2,4,,5]),[4,m()];case 3:return t=n.sent(),[3,6];case 4:return i=n.sent(),e=i,h=!1,[3,5];case 5:return r++,[3,1];case 6:if(t)return[2,t];throw e}}))}))}function m(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return h?[3,2]:[4,v()];case 1:t.sent(),t.label=2;case 2:return[2,y()]}}))}))}function v(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return l?(h=!1,[4,Object(n.d)("getTokenKey?_t="+Date.now())]):(h=!0,[2]);case 1:return t.sent(),h=!0,[2]}}))}))}function y(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(r){switch(r.label){case 0:return[4,Object(n.c)("getToken",void 0,void 0,void 0,!1)];case 1:if((t=r.sent()).success){if(Object(o.b)(t.data),e=window.ohjaiohdf())return[2,e];throw new i.a(i.b.GET_PX_TOKEN_FAILED,"获取token失败，请查明key是否被覆盖")}throw new i.a(t)}}))}))}},WkPL:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i},t.exports.__esModule=!0,t.exports.default=t.exports},Wr5T:function(t,e){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,r=n(e);r;)r=n(e=r.ownerDocument);return e}(),e=[],r=null,i=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return r||(r=function(t,r){i=t&&r?p(t,r):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach((function(t){t._checkForIntersections()}))}),r},a._resetCrossOriginUpdater=function(){r=null,i=null},a.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},a.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,r){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==r[e-1]}))},a.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},a.prototype._monitorIntersections=function(e){var r=e.defaultView;if(r&&-1==this._monitoringDocuments.indexOf(e)){var i=this._checkForIntersections,o=null,a=null;if(this.POLL_INTERVAL?o=r.setInterval(i,this.POLL_INTERVAL):(s(r,"resize",i,!0),s(e,"scroll",i,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in r&&(a=new r.MutationObserver(i)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(o&&t.clearInterval(o),l(t,"resize",i,!0)),l(e,"scroll",i,!0),a&&a.disconnect()})),e!=(this.root&&this.root.ownerDocument||t)){var h=n(e);h&&this._monitorIntersections(h.ownerDocument)}}},a.prototype._unmonitorIntersections=function(e){var r=this._monitoringDocuments.indexOf(e);if(-1!=r){var i=this.root&&this.root.ownerDocument||t;if(!this._observationTargets.some((function(t){var r=t.element.ownerDocument;if(r==e)return!0;for(;r&&r!=i;){var o=n(r);if((r=o&&o.ownerDocument)==e)return!0}return!1}))){var o=this._monitoringUnsubscribes[r];if(this._monitoringDocuments.splice(r,1),this._monitoringUnsubscribes.splice(r,1),o(),e!=i){var a=n(e);a&&this._unmonitorIntersections(a.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},a.prototype._checkForIntersections=function(){if(this.root||!r||i){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var n=i.element,a=u(n),s=this._rootContainsTarget(n),l=i.entry,h=t&&s&&this._computeTargetAndRootIntersection(n,a,e),c=i.entry=new o({time:window.performance&&performance.now&&performance.now(),target:n,boundingClientRect:a,rootBounds:r&&!this.root?null:e,intersectionRect:h});l?t&&s?this._hasCrossedThreshold(l,c)&&this._queuedEntries.push(c):l&&l.isIntersecting&&this._queuedEntries.push(c):this._queuedEntries.push(c)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(e,n,o){if("none"!=window.getComputedStyle(e).display){for(var a=n,s=d(e),l=!1;!l&&s;){var c=null,f=1==s.nodeType?window.getComputedStyle(s):{};if("none"==f.display)return null;if(s==this.root||9==s.nodeType)if(l=!0,s==this.root||s==t)r&&!this.root?!i||0==i.width&&0==i.height?(s=null,c=null,a=null):c=i:c=o;else{var m=d(s),v=m&&u(m),y=m&&this._computeTargetAndRootIntersection(m,v,o);v&&y?(s=m,c=p(v,y)):(s=null,a=null)}else{var g=s.ownerDocument;s!=g.body&&s!=g.documentElement&&"visible"!=f.overflow&&(c=u(s))}if(c&&(a=h(c,a)),!a)break;s=s&&d(s)}return a}},a.prototype._getRootRect=function(){var e;if(this.root)e=u(this.root);else{var r=t.documentElement,i=t.body;e={top:0,left:0,right:r.clientWidth||i.clientWidth,width:r.clientWidth||i.clientWidth,bottom:r.clientHeight||i.clientHeight,height:r.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(e)},a.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,r){return"px"==e.unit?e.value:e.value*(r%2?t.width:t.height)/100})),r={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return r.width=r.right-r.left,r.height=r.bottom-r.top,r},a.prototype._hasCrossedThreshold=function(t,e){var r=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(r!==i)for(var n=0;n<this.thresholds.length;n++){var o=this.thresholds[n];if(o==r||o==i||o<r!=o<i)return!0}},a.prototype._rootIsInDom=function(){return!this.root||f(t,this.root)},a.prototype._rootContainsTarget=function(e){return f(this.root||t,e)&&(!this.root||this.root.ownerDocument==e.ownerDocument)},a.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},a.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=o}function n(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function o(t){this.time=t.time,this.target=t.target,this.rootBounds=c(t.rootBounds),this.boundingClientRect=c(t.boundingClientRect),this.intersectionRect=c(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,r=e.width*e.height,i=this.intersectionRect,n=i.width*i.height;this.intersectionRatio=r?Number((n/r).toFixed(4)):this.isIntersecting?1:0}function a(t,e){var r,i,n,o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(r=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,n=null,function(){n||(n=setTimeout((function(){r(),n=null}),i))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(t,e,r,i){"function"==typeof t.addEventListener?t.addEventListener(e,r,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,r)}function l(t,e,r,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,r,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,r)}function h(t,e){var r=Math.max(t.top,e.top),i=Math.min(t.bottom,e.bottom),n=Math.max(t.left,e.left),o=Math.min(t.right,e.right),a=o-n,s=i-r;return a>=0&&s>=0&&{top:r,bottom:i,left:n,right:o,width:a,height:s}||null}function u(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function p(t,e){var r=e.top-t.top,i=e.left-t.left;return{top:r,left:i,height:e.height,width:e.width,bottom:r+e.height,right:i+e.width}}function f(t,e){for(var r=e;r;){if(r==t)return!0;r=d(r)}return!1}function d(e){var r=e.parentNode;return 9==e.nodeType&&e!=t?n(e):r&&11==r.nodeType&&r.host?r.host:r&&r.assignedSlot?r.assignedSlot.parentNode:r}}()},XZNu:function(t,e,r){"use strict";r.d(e,"a",(function(){return g}));r("cv67"),r("wZgz");var i,n=r("NFKh"),o=r.n(n),a=r("gK8M");r("zFbR"),r("NiLM"),r("zgwS"),r("HlzF"),r("uFGo");void 0!==document.hidden?i="visibilitychange":void 0!==document.msHidden?i="msvisibilitychange":void 0!==document.webkitHidden&&(i="webkitvisibilitychange"),document.addEventListener(i,(function(t){!function(t){for(var e=0,r=s;e<r.length;e++){var i=r[e];i&&i(t)}}("visible"==document.visibilityState)}),!1);var s=[];var l,h;o.a.pad.Pkcs7,o.a.pad.AnsiX923,o.a.pad.Iso10126,o.a.pad.Iso97971,o.a.pad.ZeroPadding,o.a.pad.NoPadding,o.a.mode.CBC,o.a.mode.CFB,o.a.mode.CTR,o.a.mode.CTRGladman,o.a.mode.OFB,o.a.mode.ECB;!function(t){t.CBC="CBC",t.CFB="CFB",t.CTR="CTR",t.CTRGladman="CTRGladman",t.OFB="OFB",t.ECB="ECB"}(l||(l={})),function(t){t.Pkcs7="Pkcs7",t.AnsiX923="AnsiX923",t.Iso10126="Iso10126",t.Iso97971="Iso97971",t.ZeroPadding="ZeroPadding",t.NoPadding="NoPadding"}(h||(h={}));var u=[],c=[];!function(t,e){if(t&&"undefined"!=typeof document){var r,i=!0===e.prepend?"prepend":"append",n=!0===e.singleTag,o="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(n){var a=u.indexOf(o);-1===a&&(a=u.push(o)-1,c[a]={}),r=c[a]&&c[a][i]?c[a][i]:c[a][i]=s()}else r=s();65279===t.charCodeAt(0)&&(t=t.substring(1)),r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(document.createTextNode(t))}function s(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var r=Object.keys(e.attributes),n=0;n<r.length;n++)t.setAttribute(r[n],e.attributes[r[n]]);var a="prepend"===i?"afterbegin":"beforeend";return o.insertAdjacentElement(a,t),t}}("/* 易盾css*/\n\n.sui-captcha {\n  visibility: hidden;\n  position: fixed;\n  z-index: 10000;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  /*.neCaptcha-dialog::after {\n\t\tposition: absolute;\n\t\tcontent: '加载中…';\n\t\twidth: 100%;\n\t\theight: 30px;\n\t\ttop: -40px;\n\t\tleft: 0;\n\t\ttext-align: center;\n\t\tline-height: 30px;\n\t\tfont-size: 16px;\n\t\tcolor: #ffff00;\n\t}*/\n}\n\n.sui-captcha .neCaptcha-dialog {\n  visibility: hidden;\n  background-color: #fff;\n  box-shadow: 0 0 0.08rem 0 rgba(0, 0, 0, 0.35);\n  -webkit-box-shadow: 0 0 0.08rem 0 rgba(0, 0, 0, 0.35);\n  position: absolute;\n  left: 50%;\n  top: 45%;\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%);\n  padding: 0.1rem;\n  min-width: 1rem;\n  border-radius: 0.1rem;\n  width: 80%;\n}",{});!function(){function t(t){this._tsOffset=0,this.updateRemoteTimestamp(t)}t.prototype.updateRemoteTimestamp=function(t){void 0!==t&&(this._tsOffset=this.localTimestamp-t)},Object.defineProperty(t.prototype,"remoteTimestamp",{get:function(){return this.localTimestamp-this._tsOffset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTimestamp",{get:function(){return Date.now()},enumerable:!1,configurable:!0})}();var p;function f(){return p||(p=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?"iOS":/(Android)/i.test(navigator.userAgent)?"Android":"PC"),p}f(),f(),f();r("Zqct");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function d(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function m(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var v={uploadImage:{uri:"/customActivity/duiba/imgUrl",method:"post",headers:{"Content-Type":"application/json"},requestContentType:"json"},uploadImageAndGreend:{uri:"/customActivity/duiba/imgUrlAndGreend",method:"post",headers:{"Content-Type":"application/json"},requestContentType:"json"},getQrcode:"/customActivity/qrcode/getQrcode",wechatSign:{uri:"/wechatShare/getShareInfo/v2",justData:!1},wechatMiniAppSign:{uri:"/wechatMiniApp/ticket/info"},getProjectUserInfo:"/ctool/getProjectUserInfo",getAppInfo:"/aaw/projectx/getAppInfo",creditsCost:{uri:"credits/creditsCost.do",method:"post"},queryStatus:"credits/queryStatus.do",getRule:"projectRule.query"},y=Object(a.c)(v);function g(t,e,r){return void 0===e&&(e=!1),d(this,void 0,void 0,(function(){var i,n,o;return m(this,(function(a){return i=t||location.href,(n=i.indexOf("#"))>=0&&(i=i.substring(0,n)),o=encodeURIComponent(i),e?[2,y.wechatMiniAppSign({apk:r,url:o}).then((function(t){return{wxappid:t.wxAppId,wxtimestamp:t.wxTimestamp,wxnonceStr:t.wxNonceStr,wxsignature:t.wxSignature}}))]:[2,y.wechatSign({url:o})]}))}))}},YQrK:function(t){t.exports=JSON.parse("{}")},Yb6r:function(t,e,r){"use strict";r.d(e,"a",(function(){return g})),r.d(e,"b",(function(){return y})),r.d(e,"c",(function(){return _})),r.d(e,"d",(function(){return d})),r.d(e,"e",(function(){return I})),r.d(e,"f",(function(){return L})),r.d(e,"g",(function(){return k})),r.d(e,"h",(function(){return P})),r.d(e,"i",(function(){return C})),r.d(e,"j",(function(){return O})),r.d(e,"k",(function(){return D}));var i,n=r("cv67"),o=r.n(n),a=(r("wZgz"),r("NFKh")),s=r.n(a),l=r("gK8M"),h=(r("zFbR"),r("NiLM"),r("zgwS"),r("HlzF")),u=(r("ZqNV"),function(){return(u=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)});function c(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function p(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}void 0!==document.hidden?i="visibilitychange":void 0!==document.msHidden?i="msvisibilitychange":void 0!==document.webkitHidden&&(i="webkitvisibilitychange"),document.addEventListener(i,(function(t){!function(t){for(var e=0,r=f;e<r.length;e++){var i=r[e];i&&i(t)}}("visible"==document.visibilityState)}),!1);var f=[];function d(t){return o()(t).toString()}var m,v;s.a.pad.Pkcs7,s.a.pad.AnsiX923,s.a.pad.Iso10126,s.a.pad.Iso97971,s.a.pad.ZeroPadding,s.a.pad.NoPadding,s.a.mode.CBC,s.a.mode.CFB,s.a.mode.CTR,s.a.mode.CTRGladman,s.a.mode.OFB,s.a.mode.ECB;function y(t,e){var r=document.createElement("script");r.innerHTML=t,document.head.appendChild(r),setTimeout((function(){document.head.removeChild(r)}),1)}function g(t,e){return void 0===e&&(e=document.head),new Promise((function(r,i){var n=document.createElement("script");n.src=t,n.onload=function(){document.head.removeChild(n),r(!0)},n.onerror=function(){document.head.removeChild(n),i(new l.a(l.b.NET_ERROR,"网络异常"))},e.appendChild(n)}))}!function(t){t.CBC="CBC",t.CFB="CFB",t.CTR="CTR",t.CTRGladman="CTRGladman",t.OFB="OFB",t.ECB="ECB"}(m||(m={})),function(t){t.Pkcs7="Pkcs7",t.AnsiX923="AnsiX923",t.Iso10126="Iso10126",t.Iso97971="Iso97971",t.ZeroPadding="ZeroPadding",t.NoPadding="NoPadding"}(v||(v={}));function _(t,e){return void 0===e&&(e=!1),new Promise((function(r,i){var n=new Image;e&&(n.crossOrigin="anonymous"),n.onload=function(){r(n)},n.onerror=function(t){i(t)},n.src=t}))}var b=[],x=[];!function(t,e){if(t&&"undefined"!=typeof document){var r,i=!0===e.prepend?"prepend":"append",n=!0===e.singleTag,o="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(n){var a=b.indexOf(o);-1===a&&(a=b.push(o)-1,x[a]={}),r=x[a]&&x[a][i]?x[a][i]:x[a][i]=s()}else r=s();65279===t.charCodeAt(0)&&(t=t.substring(1)),r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(document.createTextNode(t))}function s(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var r=Object.keys(e.attributes),n=0;n<r.length;n++)t.setAttribute(r[n],e.attributes[r[n]]);var a="prepend"===i?"afterbegin":"beforeend";return o.insertAdjacentElement(a,t),t}}("/* 易盾css*/\n\n.sui-captcha {\n  visibility: hidden;\n  position: fixed;\n  z-index: 10000;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  /*.neCaptcha-dialog::after {\n\t\tposition: absolute;\n\t\tcontent: '加载中…';\n\t\twidth: 100%;\n\t\theight: 30px;\n\t\ttop: -40px;\n\t\tleft: 0;\n\t\ttext-align: center;\n\t\tline-height: 30px;\n\t\tfont-size: 16px;\n\t\tcolor: #ffff00;\n\t}*/\n}\n\n.sui-captcha .neCaptcha-dialog {\n  visibility: hidden;\n  background-color: #fff;\n  box-shadow: 0 0 0.08rem 0 rgba(0, 0, 0, 0.35);\n  -webkit-box-shadow: 0 0 0.08rem 0 rgba(0, 0, 0, 0.35);\n  position: absolute;\n  left: 50%;\n  top: 45%;\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%);\n  padding: 0.1rem;\n  min-width: 1rem;\n  border-radius: 0.1rem;\n  width: 80%;\n}",{});var w={},T={};function E(t){return c(this,void 0,void 0,(function(){var e,r,i,n;return p(this,(function(o){switch(o.label){case 0:return(e=w[t])?[3,3]:(r=T[t])?[3,2]:(r=T[t]=[],[4,S(t)]);case 1:for(e=o.sent(),w[t]=e,delete T[t],i=0,n=r;i<n.length;i++)(0,n[i].resolve)(e);return[3,3];case 2:return[2,new Promise((function(t,e){r.push({resolve:t,reject:e})}))];case 3:return[2,e]}}))}))}function S(t){return new Promise((function(e,r){var i=new h.Howl({src:t,onload:function(){e(i)},onloaderror:r})}))}var M={},A={};function C(t){u(M,t)}function P(t,e){var r=[];for(var i in M)r.push(M[i]);return function(t,e,r){return c(this,void 0,void 0,(function(){var i,n,o,a,s,l,h,u,c,f;return p(this,(function(p){switch(p.label){case 0:return i=[],"string"!=typeof t?[3,2]:(o=(n=i).push,[4,E(t).then((function(t){try{e&&e(1,1),r&&r()}catch(t){console.warn(t)}return t}))]);case 1:return o.apply(n,[p.sent()]),[3,6];case 2:a=t.length,s=0,l=0,h=t,p.label=3;case 3:return l<h.length?(u=h[l],f=(c=i).push,[4,E(u).then((function(t){try{s++,e&&e(s,a),s>=a&&r&&r()}catch(t){console.warn(t)}return t}))]):[3,6];case 4:f.apply(c,[p.sent()]),p.label=5;case 5:return l++,[3,3];case 6:return[2,i]}}))}))}(r,t,e)}function k(t,e){return void 0===e&&(e={}),c(this,void 0,void 0,(function(){var r,i,n,o,a,s,l,h,u,c,f;return p(this,(function(p){switch(p.label){case 0:return t?(r=M[t])?(i=A[t])?[3,2]:(n=A,o=t,[4,E(r)]):(console.warn("请先注册id为"+t+"的音频资源"),[2]):(console.warn("id不能为空"),[2]);case 1:i=n[o]=p.sent(),p.label=2;case 2:return a=e.loop,s=e.volume,l=e.fade,h=e.fadeDuration,u=void 0===h?500:h,a&&i.loop(!0),void 0!==s&&i.volume(s),c=void 0!==s?s:1,f=i.play(),l&&i.fade(0,c,u,f),[2,i]}}))}))}function O(t,e){if(void 0===e&&(e={}),t){var r=A[t];if(r){var i=e.fade,n=e.fadeDuration,o=void 0===n?500:n;i?r.fade(r.volume(),0,o):r.stop()}else console.warn("不存在id为"+t+"的音频实例")}else console.warn("id不能为空")}!function(){function t(t){this._tsOffset=0,this.updateRemoteTimestamp(t)}t.prototype.updateRemoteTimestamp=function(t){void 0!==t&&(this._tsOffset=this.localTimestamp-t)},Object.defineProperty(t.prototype,"remoteTimestamp",{get:function(){return this.localTimestamp-this._tsOffset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTimestamp",{get:function(){return Date.now()},enumerable:!1,configurable:!0})}();function I(t){if(!t)return"";var e=[];for(var r in t)e.push(r+(r?"=":"")+t[r]);return e.join("&")}function D(t,e){return e?(t+=t.indexOf("?")<0?"?":"",(t+="?"===t[t.length-1]?"":"&")+e):t}var R;function F(){return R||(R=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?"iOS":/(Android)/i.test(navigator.userAgent)?"Android":"PC"),R}F(),F(),F();function L(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]}},ZhPi:function(t,e,r){var i=r("WkPL");t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},ZqNV:function(t){t.exports=JSON.parse("{}")},Zqct:function(t){t.exports=JSON.parse("{}")},a1gu:function(t,e,r){var i=r("cDf5").default,n=r("PJYZ");t.exports=function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return n(t)},t.exports.__esModule=!0,t.exports.default=t.exports},aFzQ:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return W})),r.d(e,"b",(function(){return de})),r.d(e,"c",(function(){return Lt})),r.d(e,"d",(function(){return ee})),r.d(e,"e",(function(){return te})),r.d(e,"f",(function(){return De})),r.d(e,"g",(function(){return G})),r.d(e,"h",(function(){return Fe})),r.d(e,"i",(function(){return gr})),r.d(e,"j",(function(){return wr})),r.d(e,"k",(function(){return Or})),r.d(e,"l",(function(){return sr})),r.d(e,"m",(function(){return or})),r.d(e,"n",(function(){return St})),r.d(e,"o",(function(){return Me})),r.d(e,"p",(function(){return Xe})),r.d(e,"q",(function(){return Jt}));function i(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];throw new Error("number"==typeof t?"[MobX] minified error nr: "+t+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var n={};function o(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:n}var a=Object.assign,s=Object.getOwnPropertyDescriptor,l=Object.defineProperty,h=Object.prototype,u=[];Object.freeze(u);var c={};Object.freeze(c);var p="undefined"!=typeof Proxy,f=Object.toString();function d(){p||i("Proxy not available")}function m(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var v=function(){};function y(t){return"function"==typeof t}function g(t){switch(typeof t){case"string":case"symbol":case"number":return!0}return!1}function _(t){return null!==t&&"object"==typeof t}function b(t){if(!_(t))return!1;var e=Object.getPrototypeOf(t);if(null==e)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r.toString()===f}function x(t){var e=null==t?void 0:t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName)}function w(t,e,r){l(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function T(t,e,r){l(t,e,{enumerable:!1,writable:!1,configurable:!0,value:r})}function E(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(t){return _(t)&&!0===t[r]}}function S(t){return t instanceof Map}function M(t){return t instanceof Set}var A=void 0!==Object.getOwnPropertySymbols;var C="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:A?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function P(t){return null===t?null:"object"==typeof t?""+t:t}function k(t,e){return h.hasOwnProperty.call(t,e)}var O=Object.getOwnPropertyDescriptors||function(t){var e={};return C(t).forEach((function(r){e[r]=s(t,r)})),e};function I(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function D(t,e,r){return e&&I(t.prototype,e),r&&I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function R(){return(R=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function F(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,L(t,e)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function z(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var j=Symbol("mobx-stored-annotations");function V(t){return Object.assign((function(e,r){U(e,r,t)}),t)}function U(t,e,r){k(t,j)||w(t,j,R({},t[j])),function(t){return"override"===t.annotationType_}(r)||(t[j][e]=r)}var W=Symbol("mobx administration"),q=function(){function t(t){void 0===t&&(t="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=zt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach((function(t){return t()}))},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(t){return t()}))},e.reportObserved=function(){return pe(this)},e.reportChanged=function(){ue(),fe(this),ce()},e.toString=function(){return this.name_},t}(),H=E("Atom",q);function G(t,e,r){void 0===e&&(e=v),void 0===r&&(r=v);var i,n=new q(t);return e!==v&&Ie("onBO",n,e,i),r!==v&&Oe(n,r),n}var Y={identity:function(t,e){return t===e},structural:function(t,e){return Gr(t,e)},default:function(t,e){return Object.is?Object.is(t,e):t===e?0!==t||1/t==1/e:t!=t&&e!=e},shallow:function(t,e){return Gr(t,e,1)}};function X(t,e,r){return He(t)?t:Array.isArray(t)?St.array(t,{name:r}):b(t)?St.object(t,void 0,{name:r}):S(t)?St.map(t,{name:r}):M(t)?St.set(t,{name:r}):"function"!=typeof t||Ae(t)||We(t)?t:x(t)?Ve(t):Se(r,t)}function K(t){return t}function Z(t,e){return{annotationType_:t,options_:e,make_:J,extend_:Q}}function J(t,e,r,i){var n;if(null!=(n=this.options_)&&n.bound)return null===this.extend_(t,e,r,!1)?0:1;if(i===t.target_)return null===this.extend_(t,e,r,!1)?0:2;if(Ae(r.value))return 1;var o=$(t,this,e,r,!1);return l(i,e,o),2}function Q(t,e,r,i){var n=$(t,this,e,r);return t.defineProperty_(e,n,i)}function $(t,e,r,i,n){var o,a,s,l,h,u,c,p;void 0===n&&(n=ae.safeDescriptors),p=i,e.annotationType_,p.value;var f,d=i.value;null!=(o=e.options_)&&o.bound&&(d=d.bind(null!=(f=t.proxy_)?f:t.target_));return{value:Rt(null!=(a=null==(s=e.options_)?void 0:s.name)?a:r.toString(),d,null!=(l=null==(h=e.options_)?void 0:h.autoAction)&&l,null!=(u=e.options_)&&u.bound?null!=(c=t.proxy_)?c:t.target_:void 0),configurable:!n||t.isPlainObject_,enumerable:!1,writable:!n}}function tt(t,e){return{annotationType_:t,options_:e,make_:et,extend_:rt}}function et(t,e,r,i){var n;if(i===t.target_)return null===this.extend_(t,e,r,!1)?0:2;if(null!=(n=this.options_)&&n.bound&&!We(t.target_[e])&&null===this.extend_(t,e,r,!1))return 0;if(We(r.value))return 1;var o=it(t,this,e,r,!1,!1);return l(i,e,o),2}function rt(t,e,r,i){var n,o=it(t,this,e,r,null==(n=this.options_)?void 0:n.bound);return t.defineProperty_(e,o,i)}function it(t,e,r,i,n,o){var a;void 0===o&&(o=ae.safeDescriptors),a=i,e.annotationType_,a.value;var s,l=i.value;n&&(l=l.bind(null!=(s=t.proxy_)?s:t.target_));return{value:Ve(l),configurable:!o||t.isPlainObject_,enumerable:!1,writable:!o}}function nt(t,e){return{annotationType_:t,options_:e,make_:ot,extend_:at}}function ot(t,e,r){return null===this.extend_(t,e,r,!1)?0:1}function at(t,e,r,i){return function(t,e,r,i){e.annotationType_,i.get;0}(0,this,0,r),t.defineComputedProperty_(e,R({},this.options_,{get:r.get,set:r.set}),i)}function st(t,e){return{annotationType_:t,options_:e,make_:lt,extend_:ht}}function lt(t,e,r){return null===this.extend_(t,e,r,!1)?0:1}function ht(t,e,r,i){var n,o;return function(t,e,r,i){e.annotationType_;0}(0,this),t.defineObservableProperty_(e,r.value,null!=(n=null==(o=this.options_)?void 0:o.enhancer)?n:X,i)}var ut=ct();function ct(t){return{annotationType_:"true",options_:t,make_:pt,extend_:ft}}function pt(t,e,r,i){var n,o,a,s;if(r.get)return Ct.make_(t,e,r,i);if(r.set){var h=Rt(e.toString(),r.set);return i===t.target_?null===t.defineProperty_(e,{configurable:!ae.safeDescriptors||t.isPlainObject_,set:h})?0:2:(l(i,e,{configurable:!0,set:h}),2)}if(i!==t.target_&&"function"==typeof r.value)return x(r.value)?(null!=(s=this.options_)&&s.autoBind?Ve.bound:Ve).make_(t,e,r,i):(null!=(a=this.options_)&&a.autoBind?Se.bound:Se).make_(t,e,r,i);var u,c=!1===(null==(n=this.options_)?void 0:n.deep)?St.ref:St;"function"==typeof r.value&&null!=(o=this.options_)&&o.autoBind&&(r.value=r.value.bind(null!=(u=t.proxy_)?u:t.target_));return c.make_(t,e,r,i)}function ft(t,e,r,i){var n,o,a;if(r.get)return Ct.extend_(t,e,r,i);if(r.set)return t.defineProperty_(e,{configurable:!ae.safeDescriptors||t.isPlainObject_,set:Rt(e.toString(),r.set)},i);"function"==typeof r.value&&null!=(n=this.options_)&&n.autoBind&&(r.value=r.value.bind(null!=(a=t.proxy_)?a:t.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?St.ref:St).extend_(t,e,r,i)}var dt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function mt(t){return t||dt}Object.freeze(dt);var vt=st("observable"),yt=st("observable.ref",{enhancer:K}),gt=st("observable.shallow",{enhancer:function(t,e,r){return null==t||Or(t)||gr(t)||wr(t)||Sr(t)?t:Array.isArray(t)?St.array(t,{name:r,deep:!1}):b(t)?St.object(t,void 0,{name:r,deep:!1}):S(t)?St.map(t,{name:r,deep:!1}):M(t)?St.set(t,{name:r,deep:!1}):void 0}}),_t=st("observable.struct",{enhancer:function(t,e){return Gr(t,e)?e:t}}),bt=V(vt);function xt(t){return!0===t.deep?X:!1===t.deep?K:(e=t.defaultDecorator)&&null!=(r=null==(i=e.options_)?void 0:i.enhancer)?r:X;var e,r,i}function wt(t,e,r){if(!g(e))return He(t)?t:b(t)?St.object(t,e,r):Array.isArray(t)?St.array(t,e):S(t)?St.map(t,e):M(t)?St.set(t,e):"object"==typeof t&&null!==t?t:St.box(t,e);U(t,e,vt)}Object.assign(wt,bt);var Tt,Et,St=a(wt,{box:function(t,e){var r=mt(e);return new Vt(t,xt(r),r.name,!0,r.equals)},array:function(t,e){var r=mt(e);return(!1===ae.useProxies||!1===r.proxy?Vr:cr)(t,xt(r),r.name)},map:function(t,e){var r=mt(e);return new xr(t,xt(r),r.name)},set:function(t,e){var r=mt(e);return new Er(t,xt(r),r.name)},object:function(t,e,r){return Re(!1===ae.useProxies||!1===(null==r?void 0:r.proxy)?Cr({},r):function(t,e){var r,i;return d(),t=Cr(t,e),null!=(i=(r=t[W]).proxy_)?i:r.proxy_=new Proxy(t,Qe)}({},r),t,e)},ref:V(yt),shallow:V(gt),deep:bt,struct:V(_t)}),Mt=nt("computed"),At=nt("computed.struct",{equals:Y.structural}),Ct=function(t,e){if(g(e))return U(t,e,Mt);if(b(t))return V(nt("computed",t));var r=b(e)?e:{};return r.get=t,r.name||(r.name=t.name||""),new Wt(r)};Object.assign(Ct,Mt),Ct.struct=V(At);var Pt,kt=0,Ot=1,It=null!=(Tt=null==(Et=s((function(){}),"name"))?void 0:Et.configurable)&&Tt,Dt={value:"action",configurable:!0,writable:!1,enumerable:!1};function Rt(t,e,r,i){function n(){return Ft(t,r,e,i||this,arguments)}return void 0===r&&(r=!1),n.isMobxAction=!0,It&&(Dt.value=t,Object.defineProperty(n,"name",Dt)),n}function Ft(t,e,r,n,o){var a=function(t,e,r,i){0;var n=ae.trackingDerivation,o=!e||!n;ue();var a=ae.allowStateChanges;o&&(Qt(),a=Bt(!0));var s=te(!0),l={runAsAction_:o,prevDerivation_:n,prevAllowStateChanges_:a,prevAllowStateReads_:s,notifySpy_:!1,startTime_:0,actionId_:Ot++,parentActionId_:kt};return kt=l.actionId_,l}(0,e);try{return r.apply(n,o)}catch(t){throw a.error_=t,t}finally{!function(t){kt!==t.actionId_&&i(30);kt=t.parentActionId_,void 0!==t.error_&&(ae.suppressReactionErrors=!0);Nt(t.prevAllowStateChanges_),ee(t.prevAllowStateReads_),ce(),t.runAsAction_&&$t(t.prevDerivation_);0;ae.suppressReactionErrors=!1}(a)}}function Lt(t,e){var r=Bt(t);try{return e()}finally{Nt(r)}}function Bt(t){var e=ae.allowStateChanges;return ae.allowStateChanges=t,e}function Nt(t){ae.allowStateChanges=t}Pt=Symbol.toPrimitive;var zt,jt,Vt=function(t,e){function r(e,r,i,n,o){var a;return void 0===i&&(i="ObservableValue"),void 0===n&&(n=!0),void 0===o&&(o=Y.default),(a=t.call(this,i)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=r,a.name_=i,a.equals=o,a.value_=r(e,void 0,i),a}F(r,t);var i=r.prototype;return i.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},i.set=function(t){this.value_;if((t=this.prepareNewValue_(t))!==ae.UNCHANGED){0,this.setNewValue_(t)}},i.prepareNewValue_=function(t){if(Xt(this),$e(this)){var e=er(this,{object:this,type:lr,newValue:t});if(!e)return ae.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?ae.UNCHANGED:t},i.setNewValue_=function(t){var e=this.value_;this.value_=t,this.reportChanged(),rr(this)&&nr(this,{type:lr,object:this,newValue:t,oldValue:e})},i.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},i.intercept_=function(t){return tr(this,t)},i.observe_=function(t,e){return e&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:lr,newValue:this.value_,oldValue:void 0}),ir(this,t)},i.raw=function(){return this.value_},i.toJSON=function(){return this.get()},i.toString=function(){return this.name_+"["+this.value_+"]"},i.valueOf=function(){return P(this.get())},i[e]=function(){return this.valueOf()},r}(q,Pt),Ut=E("ObservableValue",Vt),Wt=function(t){function e(t){this.dependenciesState_=zt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=zt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Ht(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=jt.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||i(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=Rt("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?Y.structural:Y.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var r=e.prototype;return r.onBecomeStale_=function(){!function(t){if(t.lowestObserverState_!==zt.UP_TO_DATE_)return;t.lowestObserverState_=zt.POSSIBLY_STALE_,t.observers_.forEach((function(t){t.dependenciesState_===zt.UP_TO_DATE_&&(t.dependenciesState_=zt.POSSIBLY_STALE_,t.onBecomeStale_())}))}(this)},r.onBO=function(){this.onBOL&&this.onBOL.forEach((function(t){return t()}))},r.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(t){return t()}))},r.get=function(){if(this.isComputing_&&i(32,this.name_,this.derivation),0!==ae.inBatch||0!==this.observers_.size||this.keepAlive_){if(pe(this),Yt(this)){var t=ae.trackingContext;this.keepAlive_&&!t&&(ae.trackingContext=this),this.trackAndCompute()&&function(t){if(t.lowestObserverState_===zt.STALE_)return;t.lowestObserverState_=zt.STALE_,t.observers_.forEach((function(e){e.dependenciesState_===zt.POSSIBLY_STALE_?e.dependenciesState_=zt.STALE_:e.dependenciesState_===zt.UP_TO_DATE_&&(t.lowestObserverState_=zt.UP_TO_DATE_)}))}(this),ae.trackingContext=t}}else Yt(this)&&(this.warnAboutUntrackedRead_(),ue(),this.value_=this.computeValue_(!1),ce());var e=this.value_;if(Gt(e))throw e.cause;return e},r.set=function(t){if(this.setter_){this.isRunningSetter_&&i(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else i(34,this.name_)},r.trackAndCompute=function(){var t=this.value_,e=this.dependenciesState_===zt.NOT_TRACKING_,r=this.computeValue_(!0),i=e||Gt(t)||Gt(r)||!this.equals_(t,r);return i&&(this.value_=r),i},r.computeValue_=function(t){this.isComputing_=!0;var e,r=Bt(!1);if(t)e=Kt(this,this.derivation,this.scope_);else if(!0===ae.disableErrorBoundaries)e=this.derivation.call(this.scope_);else try{e=this.derivation.call(this.scope_)}catch(t){e=new Ht(t)}return Nt(r),this.isComputing_=!1,e},r.suspend_=function(){this.keepAlive_||(Zt(this),this.value_=void 0)},r.observe_=function(t,e){var r=this,i=!0,n=void 0;return Ce((function(){var o=r.get();if(!i||e){var a=Qt();t({observableKind:"computed",debugObjectName:r.name_,type:lr,object:r,newValue:o,oldValue:n}),$t(a)}i=!1,n=o}))},r.warnAboutUntrackedRead_=function(){},r.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},r.valueOf=function(){return P(this.get())},r[t]=function(){return this.valueOf()},e}(Symbol.toPrimitive),qt=E("ComputedValue",Wt);!function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"}(zt||(zt={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(jt||(jt={}));var Ht=function(t){this.cause=void 0,this.cause=t};function Gt(t){return t instanceof Ht}function Yt(t){switch(t.dependenciesState_){case zt.UP_TO_DATE_:return!1;case zt.NOT_TRACKING_:case zt.STALE_:return!0;case zt.POSSIBLY_STALE_:for(var e=te(!0),r=Qt(),i=t.observing_,n=i.length,o=0;o<n;o++){var a=i[o];if(qt(a)){if(ae.disableErrorBoundaries)a.get();else try{a.get()}catch(t){return $t(r),ee(e),!0}if(t.dependenciesState_===zt.STALE_)return $t(r),ee(e),!0}}return re(t),$t(r),ee(e),!1}}function Xt(t){}function Kt(t,e,r){var i=te(!0);re(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++ae.runId;var n,o=ae.trackingDerivation;if(ae.trackingDerivation=t,ae.inBatch++,!0===ae.disableErrorBoundaries)n=e.call(r);else try{n=e.call(r)}catch(t){n=new Ht(t)}return ae.inBatch--,ae.trackingDerivation=o,function(t){for(var e=t.observing_,r=t.observing_=t.newObserving_,i=zt.UP_TO_DATE_,n=0,o=t.unboundDepsCount_,a=0;a<o;a++){var s=r[a];0===s.diffValue_&&(s.diffValue_=1,n!==a&&(r[n]=s),n++),s.dependenciesState_>i&&(i=s.dependenciesState_)}r.length=n,t.newObserving_=null,o=e.length;for(;o--;){var l=e[o];0===l.diffValue_&&le(l,t),l.diffValue_=0}for(;n--;){var h=r[n];1===h.diffValue_&&(h.diffValue_=0,se(h,t))}i!==zt.UP_TO_DATE_&&(t.dependenciesState_=i,t.onBecomeStale_())}(t),ee(i),n}function Zt(t){var e=t.observing_;t.observing_=[];for(var r=e.length;r--;)le(e[r],t);t.dependenciesState_=zt.NOT_TRACKING_}function Jt(t){var e=Qt();try{return t()}finally{$t(e)}}function Qt(){var t=ae.trackingDerivation;return ae.trackingDerivation=null,t}function $t(t){ae.trackingDerivation=t}function te(t){var e=ae.allowStateReads;return ae.allowStateReads=t,e}function ee(t){ae.allowStateReads=t}function re(t){if(t.dependenciesState_!==zt.UP_TO_DATE_){t.dependenciesState_=zt.UP_TO_DATE_;for(var e=t.observing_,r=e.length;r--;)e[r].lowestObserverState_=zt.UP_TO_DATE_}}var ie=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ne=!0,oe=!1,ae=function(){var t=o();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(ne=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new ie).version&&(ne=!1),ne?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new ie):(setTimeout((function(){oe||i(35)}),1),new ie)}();function se(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function le(t,e){t.observers_.delete(e),0===t.observers_.size&&he(t)}function he(t){!1===t.isPendingUnobservation_&&(t.isPendingUnobservation_=!0,ae.pendingUnobservations.push(t))}function ue(){ae.inBatch++}function ce(){if(0==--ae.inBatch){ve();for(var t=ae.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation_=!1,0===r.observers_.size&&(r.isBeingObserved_&&(r.isBeingObserved_=!1,r.onBUO()),r instanceof Wt&&r.suspend_())}ae.pendingUnobservations=[]}}function pe(t){var e=ae.trackingDerivation;return null!==e?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&ae.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),!0):(0===t.observers_.size&&ae.inBatch>0&&he(t),!1)}function fe(t){t.lowestObserverState_!==zt.STALE_&&(t.lowestObserverState_=zt.STALE_,t.observers_.forEach((function(t){t.dependenciesState_===zt.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=zt.STALE_})))}var de=function(){function t(t,e,r,i){void 0===t&&(t="Reaction"),void 0===i&&(i=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=zt.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=jt.NONE,this.name_=t,this.onInvalidate_=e,this.errorHandler_=r,this.requiresObservable_=i}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,ae.pendingReactions.push(this),ve())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){ue(),this.isScheduled_=!1;var t=ae.trackingContext;if(ae.trackingContext=this,Yt(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(t){this.reportExceptionInDerivation_(t)}}ae.trackingContext=t,ce()}},e.track=function(t){if(!this.isDisposed_){ue();0,this.isRunning_=!0;var e=ae.trackingContext;ae.trackingContext=this;var r=Kt(this,t,void 0);ae.trackingContext=e,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Zt(this),Gt(r)&&this.reportExceptionInDerivation_(r.cause),ce()}},e.reportExceptionInDerivation_=function(t){var e=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(ae.disableErrorBoundaries)throw t;var r="[mobx] uncaught error in '"+this+"'";ae.suppressReactionErrors||console.error(r,t),ae.globalReactionErrorHandlers.forEach((function(r){return r(t,e)}))}},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(ue(),Zt(this),ce()))},e.getDisposer_=function(){var t=this.dispose.bind(this);return t[W]=this,t},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(t){void 0===t&&(t=!1),function(){i("trace() is not available in production builds");for(var t=!1,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];"boolean"==typeof r[r.length-1]&&(t=r.pop());var o=Ke(r);if(!o)return i("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===jt.NONE&&o.name_;o.isTracing_=t?jt.BREAK:jt.LOG}(this,t)},t}();var me=function(t){return t()};function ve(){ae.inBatch>0||ae.isRunningReactions||me(ye)}function ye(){ae.isRunningReactions=!0;for(var t=ae.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var r=t.splice(0),i=0,n=r.length;i<n;i++)r[i].runReaction_()}ae.isRunningReactions=!1}var ge=E("Reaction",de);var _e=Z("action"),be=Z("action.bound",{bound:!0}),xe=Z("autoAction",{autoAction:!0}),we=Z("autoAction.bound",{autoAction:!0,bound:!0});function Te(t){return function(e,r){return y(e)?Rt(e.name||"<unnamed action>",e,t):y(r)?Rt(e,r,t):g(r)?U(e,r,t?xe:_e):g(e)?V(Z(t?"autoAction":"action",{name:e,autoAction:t})):void 0}}var Ee=Te(!1);Object.assign(Ee,_e);var Se=Te(!0);function Me(t){return Ft(t.name,!1,t,this,void 0)}function Ae(t){return y(t)&&!0===t.isMobxAction}function Ce(t,e){var r,i;void 0===e&&(e=c);var n,o=null!=(r=null==(i=e)?void 0:i.name)?r:"Autorun";if(!e.scheduler&&!e.delay)n=new de(o,(function(){this.track(l)}),e.onError,e.requiresObservable);else{var a=ke(e),s=!1;n=new de(o,(function(){s||(s=!0,a((function(){s=!1,n.isDisposed_||n.track(l)})))}),e.onError,e.requiresObservable)}function l(){t(n)}return n.schedule_(),n.getDisposer_()}Object.assign(Se,xe),Ee.bound=V(be),Se.bound=V(we);var Pe=function(t){return t()};function ke(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:Pe}function Oe(t,e,r){return Ie("onBUO",t,e,r)}function Ie(t,e,r,i){var n="function"==typeof i?Ur(e,r):Ur(e),o=y(i)?i:r,a=t+"L";return n[a]?n[a].add(o):n[a]=new Set([o]),function(){var t=n[a];t&&(t.delete(o),0===t.size&&delete n[a])}}function De(t){!0===t.isolateGlobalState&&function(){if((ae.pendingReactions.length||ae.inBatch||ae.isRunningReactions)&&i(36),oe=!0,ne){var t=o();0==--t.__mobxInstanceCount&&(t.__mobxGlobals=void 0),ae=new ie}}();var e,r,n=t.useProxies,a=t.enforceActions;if(void 0!==n&&(ae.useProxies="always"===n||"never"!==n&&"undefined"!=typeof Proxy),"ifavailable"===n&&(ae.verifyProxies=!0),void 0!==a){var s="always"===a?"always":"observed"===a;ae.enforceActions=s,ae.allowStateChanges=!0!==s&&"always"!==s}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(e){e in t&&(ae[e]=!!t[e])})),ae.allowStateReads=!ae.observableRequiresReaction,t.reactionScheduler&&(e=t.reactionScheduler,r=me,me=function(t){return e((function(){return r(t)}))})}function Re(t,e,r,i){var n=O(e),o=Cr(t,i)[W];ue();try{C(n).forEach((function(t){o.extend_(t,n[t],!r||(!(t in r)||r[t]))}))}finally{ce()}return t}function Fe(t,e){return Le(Ur(t,e))}function Le(t){var e,r={name:t.name_};return t.observing_&&t.observing_.length>0&&(r.dependencies=(e=t.observing_,Array.from(new Set(e))).map(Le)),r}var Be=0;function Ne(){this.message="FLOW_CANCELLED"}Ne.prototype=Object.create(Error.prototype);var ze=tt("flow"),je=tt("flow.bound",{bound:!0}),Ve=Object.assign((function(t,e){if(g(e))return U(t,e,ze);var r=t,i=r.name||"<unnamed flow>",n=function(){var t,e=this,n=arguments,o=++Be,a=Ee(i+" - runid: "+o+" - init",r).apply(e,n),s=void 0,l=new Promise((function(e,r){var n=0;function l(t){var e;s=void 0;try{e=Ee(i+" - runid: "+o+" - yield "+n++,a.next).call(a,t)}catch(t){return r(t)}u(e)}function h(t){var e;s=void 0;try{e=Ee(i+" - runid: "+o+" - yield "+n++,a.throw).call(a,t)}catch(t){return r(t)}u(e)}function u(t){if(!y(null==t?void 0:t.then))return t.done?e(t.value):(s=Promise.resolve(t.value)).then(l,h);t.then(u,r)}t=r,l(void 0)}));return l.cancel=Ee(i+" - runid: "+o+" - cancel",(function(){try{s&&Ue(s);var e=a.return(void 0),r=Promise.resolve(e.value);r.then(v,v),Ue(r),t(new Ne)}catch(e){t(e)}})),l};return n.isMobXFlow=!0,n}),ze);function Ue(t){y(t.cancel)&&t.cancel()}function We(t){return!0===(null==t?void 0:t.isMobXFlow)}function qe(t,e){return!!t&&(void 0!==e?!!Or(t)&&t[W].values_.has(e):Or(t)||!!t[W]||H(t)||ge(t)||qt(t))}function He(t){return qe(t)}function Ge(t,e,r){return t.set(e,r),r}function Ye(t,e){if(null==t||"object"!=typeof t||t instanceof Date||!He(t))return t;if(Ut(t)||qt(t))return Ye(t.get(),e);if(e.has(t))return e.get(t);if(gr(t)){var r=Ge(e,t,new Array(t.length));return t.forEach((function(t,i){r[i]=Ye(t,e)})),r}if(Sr(t)){var n=Ge(e,t,new Set);return t.forEach((function(t){n.add(Ye(t,e))})),n}if(wr(t)){var o=Ge(e,t,new Map);return t.forEach((function(t,r){o.set(r,Ye(t,e))})),o}var a=Ge(e,t,{});return function(t){if(Or(t))return t[W].ownKeys_();i(38)}(t).forEach((function(r){h.propertyIsEnumerable.call(t,r)&&(a[r]=Ye(t[r],e))})),a}function Xe(t,e){return Ye(t,new Map)}function Ke(t){switch(t.length){case 0:return ae.trackingDerivation;case 1:return Ur(t[0]);case 2:return Ur(t[0],t[1])}}function Ze(t,e){void 0===e&&(e=void 0),ue();try{return t.apply(e)}finally{ce()}}function Je(t){return t[W]}Ve.bound=V(je);var Qe={has:function(t,e){return Je(t).has_(e)},get:function(t,e){return Je(t).get_(e)},set:function(t,e,r){var i;return!!g(e)&&(null==(i=Je(t).set_(e,r,!0))||i)},deleteProperty:function(t,e){var r;return!!g(e)&&(null==(r=Je(t).delete_(e,!0))||r)},defineProperty:function(t,e,r){var i;return null==(i=Je(t).defineProperty_(e,r))||i},ownKeys:function(t){return Je(t).ownKeys_()},preventExtensions:function(t){i(13)}};function $e(t){return void 0!==t.interceptors_&&t.interceptors_.length>0}function tr(t,e){var r=t.interceptors_||(t.interceptors_=[]);return r.push(e),m((function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}))}function er(t,e){var r=Qt();try{for(var n=[].concat(t.interceptors_||[]),o=0,a=n.length;o<a&&((e=n[o](e))&&!e.type&&i(14),e);o++);return e}finally{$t(r)}}function rr(t){return void 0!==t.changeListeners_&&t.changeListeners_.length>0}function ir(t,e){var r=t.changeListeners_||(t.changeListeners_=[]);return r.push(e),m((function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}))}function nr(t,e){var r=Qt(),i=t.changeListeners_;if(i){for(var n=0,o=(i=i.slice()).length;n<o;n++)i[n](e);$t(r)}}function or(t,e,r){var i=Cr(t,r)[W];ue();try{0,null!=e||(e=function(t){return k(t,j)||w(t,j,R({},t[j])),t[j]}(t)),C(e).forEach((function(t){return i.make_(t,e[t])}))}finally{ce()}return t}var ar=Symbol("mobx-keys");function sr(t,e,r){if(b(t))return Re(t,t,e,r);var i=Cr(t,r)[W];if(!t[ar]){var n=Object.getPrototypeOf(t),o=new Set([].concat(C(t),C(n)));o.delete("constructor"),o.delete(W),w(n,ar,o)}ue();try{t[ar].forEach((function(t){return i.make_(t,!e||(!(t in e)||e[t]))}))}finally{ce()}return t}var lr="update",hr={get:function(t,e){var r=t[W];return e===W?r:"length"===e?r.getArrayLength_():"string"!=typeof e||isNaN(e)?k(pr,e)?pr[e]:t[e]:r.get_(parseInt(e))},set:function(t,e,r){var i=t[W];return"length"===e&&i.setArrayLength_(r),"symbol"==typeof e||isNaN(e)?t[e]=r:i.set_(parseInt(e),r),!0},preventExtensions:function(){i(15)}},ur=function(){function t(t,e,r,i){void 0===t&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=i,this.atom_=new q(t),this.enhancer_=function(t,r){return e(t,r,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.dehanceValues_=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},e.intercept_=function(t){return tr(this,t)},e.observe_=function(t,e){return void 0===e&&(e=!1),e&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),ir(this,t)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(t){("number"!=typeof t||isNaN(t)||t<0)&&i("Out of range: "+t);var e=this.values_.length;if(t!==e)if(t>e){for(var r=new Array(t-e),n=0;n<t-e;n++)r[n]=void 0;this.spliceWithArray_(e,0,r)}else this.spliceWithArray_(t,e-t)},e.updateArrayLength_=function(t,e){t!==this.lastKnownLength_&&i(16),this.lastKnownLength_+=e,this.legacyMode_&&e>0&&jr(t+e+1)},e.spliceWithArray_=function(t,e,r){var i=this;this.atom_;var n=this.values_.length;if(void 0===t?t=0:t>n?t=n:t<0&&(t=Math.max(0,n+t)),e=1===arguments.length?n-t:null==e?0:Math.max(0,Math.min(e,n-t)),void 0===r&&(r=u),$e(this)){var o=er(this,{object:this.proxy_,type:"splice",index:t,removedCount:e,added:r});if(!o)return u;e=o.removedCount,r=o.added}if(r=0===r.length?r:r.map((function(t){return i.enhancer_(t,void 0)})),this.legacyMode_){var a=r.length-e;this.updateArrayLength_(n,a)}var s=this.spliceItemsIntoValues_(t,e,r);return 0===e&&0===r.length||this.notifyArraySplice_(t,r,s),this.dehanceValues_(s)},e.spliceItemsIntoValues_=function(t,e,r){var i;if(r.length<1e4)return(i=this.values_).splice.apply(i,[t,e].concat(r));var n=this.values_.slice(t,t+e),o=this.values_.slice(t+e);this.values_.length+=r.length-e;for(var a=0;a<r.length;a++)this.values_[t+a]=r[a];for(var s=0;s<o.length;s++)this.values_[t+r.length+s]=o[s];return n},e.notifyArrayChildUpdate_=function(t,e,r){var i=!this.owned_&&!1,n=rr(this),o=n||i?{observableKind:"array",object:this.proxy_,type:lr,debugObjectName:this.atom_.name_,index:t,newValue:e,oldValue:r}:null;this.atom_.reportChanged(),n&&nr(this,o)},e.notifyArraySplice_=function(t,e,r){var i=!this.owned_&&!1,n=rr(this),o=n||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:t,removed:r,added:e,removedCount:r.length,addedCount:e.length}:null;this.atom_.reportChanged(),n&&nr(this,o)},e.get_=function(t){if(t<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},e.set_=function(t,e){var r=this.values_;if(t<r.length){this.atom_;var n=r[t];if($e(this)){var o=er(this,{type:lr,object:this.proxy_,index:t,newValue:e});if(!o)return;e=o.newValue}(e=this.enhancer_(e,n))!==n&&(r[t]=e,this.notifyArrayChildUpdate_(t,e,n))}else t===r.length?this.spliceWithArray_(t,0,[e]):i(17,t,r.length)},t}();function cr(t,e,r,i){void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),d();var n=new ur(r,e,i,!1);T(n.values_,W,n);var o=new Proxy(n.values_,hr);if(n.proxy_=o,t&&t.length){var a=Bt(!0);n.spliceWithArray_(0,0,t),Nt(a)}return o}var pr={clear:function(){return this.splice(0)},replace:function(t){var e=this[W];return e.spliceWithArray_(0,e.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,e){for(var r=arguments.length,i=new Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];var o=this[W];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(t);case 2:return o.spliceWithArray_(t,e)}return o.spliceWithArray_(t,e,i)},spliceWithArray:function(t,e,r){return this[W].spliceWithArray_(t,e,r)},push:function(){for(var t=this[W],e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[W].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[W],e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return ae.trackingDerivation&&i(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ae.trackingDerivation&&i(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var e=this[W],r=e.dehanceValues_(e.values_).indexOf(t);return r>-1&&(this.splice(r,1),!0)}};function fr(t,e){"function"==typeof Array.prototype[t]&&(pr[t]=e(t))}function dr(t){return function(){var e=this[W];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_);return r[t].apply(r,arguments)}}function mr(t){return function(e,r){var i=this,n=this[W];return n.atom_.reportObserved(),n.dehanceValues_(n.values_)[t]((function(t,n){return e.call(r,t,n,i)}))}}function vr(t){return function(){var e=this,r=this[W];r.atom_.reportObserved();var i=r.dehanceValues_(r.values_),n=arguments[0];return arguments[0]=function(t,r,i){return n(t,r,i,e)},i[t].apply(i,arguments)}}fr("concat",dr),fr("flat",dr),fr("includes",dr),fr("indexOf",dr),fr("join",dr),fr("lastIndexOf",dr),fr("slice",dr),fr("toString",dr),fr("toLocaleString",dr),fr("every",mr),fr("filter",mr),fr("find",mr),fr("findIndex",mr),fr("flatMap",mr),fr("forEach",mr),fr("map",mr),fr("some",mr),fr("reduce",vr),fr("reduceRight",vr);var yr=E("ObservableArrayAdministration",ur);function gr(t){return _(t)&&yr(t[W])}var _r={},br="add",xr=function(t,e){function r(t,e,r){var n=this;void 0===e&&(e=X),void 0===r&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[W]=_r,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=e,this.name_=r,y(Map)||i(18),this.keysAtom_=G("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,Lt(!0,(function(){n.merge(t)}))}var n=r.prototype;return n.has_=function(t){return this.data_.has(t)},n.has=function(t){var e=this;if(!ae.trackingDerivation)return this.has_(t);var r=this.hasMap_.get(t);if(!r){var i=r=new Vt(this.has_(t),K,"ObservableMap.key?",!1);this.hasMap_.set(t,i),Oe(i,(function(){return e.hasMap_.delete(t)}))}return r.get()},n.set=function(t,e){var r=this.has_(t);if($e(this)){var i=er(this,{type:r?lr:br,object:this,newValue:e,name:t});if(!i)return this;e=i.newValue}return r?this.updateValue_(t,e):this.addValue_(t,e),this},n.delete=function(t){var e=this;if((this.keysAtom_,$e(this))&&!er(this,{type:"delete",object:this,name:t}))return!1;if(this.has_(t)){var r=rr(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:"delete",object:this,oldValue:this.data_.get(t).value_,name:t}:null;return Ze((function(){var r;e.keysAtom_.reportChanged(),null==(r=e.hasMap_.get(t))||r.setNewValue_(!1),e.data_.get(t).setNewValue_(void 0),e.data_.delete(t)})),r&&nr(this,i),!0}return!1},n.updateValue_=function(t,e){var r=this.data_.get(t);if((e=r.prepareNewValue_(e))!==ae.UNCHANGED){var i=rr(this),n=i?{observableKind:"map",debugObjectName:this.name_,type:lr,object:this,oldValue:r.value_,name:t,newValue:e}:null;0,r.setNewValue_(e),i&&nr(this,n)}},n.addValue_=function(t,e){var r=this;this.keysAtom_,Ze((function(){var i,n=new Vt(e,r.enhancer_,"ObservableMap.key",!1);r.data_.set(t,n),e=n.value_,null==(i=r.hasMap_.get(t))||i.setNewValue_(!0),r.keysAtom_.reportChanged()}));var i=rr(this),n=i?{observableKind:"map",debugObjectName:this.name_,type:br,object:this,name:t,newValue:e}:null;i&&nr(this,n)},n.get=function(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},n.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},n.values=function(){var t=this,e=this.keys();return Xr({next:function(){var r=e.next(),i=r.done,n=r.value;return{done:i,value:i?void 0:t.get(n)}}})},n.entries=function(){var t=this,e=this.keys();return Xr({next:function(){var r=e.next(),i=r.done,n=r.value;return{done:i,value:i?void 0:[n,t.get(n)]}}})},n[t]=function(){return this.entries()},n.forEach=function(t,e){for(var r,i=z(this);!(r=i()).done;){var n=r.value,o=n[0],a=n[1];t.call(e,a,o,this)}},n.merge=function(t){var e=this;return wr(t)&&(t=new Map(t)),Ze((function(){b(t)?function(t){var e=Object.keys(t);if(!A)return e;var r=Object.getOwnPropertySymbols(t);return r.length?[].concat(e,r.filter((function(e){return h.propertyIsEnumerable.call(t,e)}))):e}(t).forEach((function(r){return e.set(r,t[r])})):Array.isArray(t)?t.forEach((function(t){var r=t[0],i=t[1];return e.set(r,i)})):S(t)?(t.constructor!==Map&&i(19,t),t.forEach((function(t,r){return e.set(r,t)}))):null!=t&&i(20,t)})),this},n.clear=function(){var t=this;Ze((function(){Jt((function(){for(var e,r=z(t.keys());!(e=r()).done;){var i=e.value;t.delete(i)}}))}))},n.replace=function(t){var e=this;return Ze((function(){for(var r,n=function(t){if(S(t)||wr(t))return t;if(Array.isArray(t))return new Map(t);if(b(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}return i(21,t)}(t),o=new Map,a=!1,s=z(e.data_.keys());!(r=s()).done;){var l=r.value;if(!n.has(l))if(e.delete(l))a=!0;else{var h=e.data_.get(l);o.set(l,h)}}for(var u,c=z(n.entries());!(u=c()).done;){var p=u.value,f=p[0],d=p[1],m=e.data_.has(f);if(e.set(f,d),e.data_.has(f)){var v=e.data_.get(f);o.set(f,v),m||(a=!0)}}if(!a)if(e.data_.size!==o.size)e.keysAtom_.reportChanged();else for(var y=e.data_.keys(),g=o.keys(),_=y.next(),x=g.next();!_.done;){if(_.value!==x.value){e.keysAtom_.reportChanged();break}_=y.next(),x=g.next()}e.data_=o})),this},n.toString=function(){return"[object ObservableMap]"},n.toJSON=function(){return Array.from(this)},n.observe_=function(t,e){return ir(this,t)},n.intercept_=function(t){return tr(this,t)},D(r,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:e,get:function(){return"Map"}}]),r}(Symbol.iterator,Symbol.toStringTag),wr=E("ObservableMap",xr);var Tr={},Er=function(t,e){function r(t,e,r){void 0===e&&(e=X),void 0===r&&(r="ObservableSet"),this.name_=void 0,this[W]=Tr,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,y(Set)||i(22),this.atom_=G(this.name_),this.enhancer_=function(t,i){return e(t,i,r)},t&&this.replace(t)}var n=r.prototype;return n.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.clear=function(){var t=this;Ze((function(){Jt((function(){for(var e,r=z(t.data_.values());!(e=r()).done;){var i=e.value;t.delete(i)}}))}))},n.forEach=function(t,e){for(var r,i=z(this);!(r=i()).done;){var n=r.value;t.call(e,n,n,this)}},n.add=function(t){var e=this;if((this.atom_,$e(this))&&!er(this,{type:br,object:this,newValue:t}))return this;if(!this.has(t)){Ze((function(){e.data_.add(e.enhancer_(t,void 0)),e.atom_.reportChanged()}));var r=rr(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:br,object:this,newValue:t}:null;0,r&&nr(this,i)}return this},n.delete=function(t){var e=this;if($e(this)&&!er(this,{type:"delete",object:this,oldValue:t}))return!1;if(this.has(t)){var r=rr(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:"delete",object:this,oldValue:t}:null;return Ze((function(){e.atom_.reportChanged(),e.data_.delete(t)})),r&&nr(this,i),!0}return!1},n.has=function(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},n.entries=function(){var t=0,e=Array.from(this.keys()),r=Array.from(this.values());return Xr({next:function(){var i=t;return t+=1,i<r.length?{value:[e[i],r[i]],done:!1}:{done:!0}}})},n.keys=function(){return this.values()},n.values=function(){this.atom_.reportObserved();var t=this,e=0,r=Array.from(this.data_.values());return Xr({next:function(){return e<r.length?{value:t.dehanceValue_(r[e++]),done:!1}:{done:!0}}})},n.replace=function(t){var e=this;return Sr(t)&&(t=new Set(t)),Ze((function(){Array.isArray(t)||M(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&i("Cannot initialize set from "+t)})),this},n.observe_=function(t,e){return ir(this,t)},n.intercept_=function(t){return tr(this,t)},n.toJSON=function(){return Array.from(this)},n.toString=function(){return"[object ObservableSet]"},n[t]=function(){return this.values()},D(r,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:e,get:function(){return"Set"}}]),r}(Symbol.iterator,Symbol.toStringTag),Sr=E("ObservableSet",Er),Mr=Object.create(null),Ar=function(){function t(t,e,r,i){void 0===e&&(e=new Map),void 0===i&&(i=ut),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=e,this.name_=r,this.defaultAnnotation_=i,this.keysAtom_=new q("ObservableObject.keys"),this.isPlainObject_=b(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(t){return this.values_.get(t).get()},e.setObservablePropValue_=function(t,e){var r=this.values_.get(t);if(r instanceof Wt)return r.set(e),!0;if($e(this)){var i=er(this,{type:lr,object:this.proxy_||this.target_,name:t,newValue:e});if(!i)return null;e=i.newValue}if((e=r.prepareNewValue_(e))!==ae.UNCHANGED){var n=rr(this),o=n?{type:lr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:r.value_,name:t,newValue:e}:null;0,r.setNewValue_(e),n&&nr(this,o)}return!0},e.get_=function(t){return ae.trackingDerivation&&!k(this.target_,t)&&this.has_(t),this.target_[t]},e.set_=function(t,e,r){return void 0===r&&(r=!1),k(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,e):r?Reflect.set(this.target_,t,e):(this.target_[t]=e,!0):this.extend_(t,{value:e,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,r)},e.has_=function(t){if(!ae.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var e=this.pendingKeys_.get(t);return e||(e=new Vt(t in this.target_,K,"ObservableObject.key?",!1),this.pendingKeys_.set(t,e)),e.get()},e.make_=function(t,e){if(!0===e&&(e=this.defaultAnnotation_),!1!==e){if(Dr(this,e,t),!(t in this.target_)){var r;if(null!=(r=this.target_[j])&&r[t])return;i(1,e.annotationType_,this.name_+"."+t.toString())}for(var n=this.target_;n&&n!==h;){var o=s(n,t);if(o){var a=e.make_(this,t,o,n);if(0===a)return;if(1===a)break}n=Object.getPrototypeOf(n)}Ir(this,e,t)}},e.extend_=function(t,e,r,i){if(void 0===i&&(i=!1),!0===r&&(r=this.defaultAnnotation_),!1===r)return this.defineProperty_(t,e,i);Dr(this,r,t);var n=r.extend_(this,t,e,i);return n&&Ir(this,r,t),n},e.defineProperty_=function(t,e,r){void 0===r&&(r=!1);try{ue();var i=this.delete_(t);if(!i)return i;if($e(this)){var n=er(this,{object:this.proxy_||this.target_,name:t,type:br,newValue:e.value});if(!n)return null;var o=n.newValue;e.value!==o&&(e=R({},e,{value:o}))}if(r){if(!Reflect.defineProperty(this.target_,t,e))return!1}else l(this.target_,t,e);this.notifyPropertyAddition_(t,e.value)}finally{ce()}return!0},e.defineObservableProperty_=function(t,e,r,i){void 0===i&&(i=!1);try{ue();var n=this.delete_(t);if(!n)return n;if($e(this)){var o=er(this,{object:this.proxy_||this.target_,name:t,type:br,newValue:e});if(!o)return null;e=o.newValue}var a=kr(t),s={configurable:!ae.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(i){if(!Reflect.defineProperty(this.target_,t,s))return!1}else l(this.target_,t,s);var h=new Vt(e,r,"ObservableObject.key",!1);this.values_.set(t,h),this.notifyPropertyAddition_(t,h.value_)}finally{ce()}return!0},e.defineComputedProperty_=function(t,e,r){void 0===r&&(r=!1);try{ue();var i=this.delete_(t);if(!i)return i;if($e(this))if(!er(this,{object:this.proxy_||this.target_,name:t,type:br,newValue:void 0}))return null;e.name||(e.name="ObservableObject.key"),e.context=this.proxy_||this.target_;var n=kr(t),o={configurable:!ae.safeDescriptors||this.isPlainObject_,enumerable:!1,get:n.get,set:n.set};if(r){if(!Reflect.defineProperty(this.target_,t,o))return!1}else l(this.target_,t,o);this.values_.set(t,new Wt(e)),this.notifyPropertyAddition_(t,void 0)}finally{ce()}return!0},e.delete_=function(t,e){if(void 0===e&&(e=!1),!k(this.target_,t))return!0;if($e(this)&&!er(this,{object:this.proxy_||this.target_,name:t,type:"remove"}))return null;try{var r,i;ue();var n,o=rr(this),a=this.values_.get(t),l=void 0;if(!a&&o)l=null==(n=s(this.target_,t))?void 0:n.value;if(e){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if(a&&(this.values_.delete(t),a instanceof Vt&&(l=a.value_),fe(a)),this.keysAtom_.reportChanged(),null==(r=this.pendingKeys_)||null==(i=r.get(t))||i.set(t in this.target_),o){var h={type:"remove",observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:l,name:t};0,o&&nr(this,h)}}finally{ce()}return!0},e.observe_=function(t,e){return ir(this,t)},e.intercept_=function(t){return tr(this,t)},e.notifyPropertyAddition_=function(t,e){var r,i,n=rr(this);if(n){var o=n?{type:br,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:e}:null;0,n&&nr(this,o)}null==(r=this.pendingKeys_)||null==(i=r.get(t))||i.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),C(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function Cr(t,e){var r;if(k(t,W))return t;var i=null!=(r=null==e?void 0:e.name)?r:"ObservableObject",n=new Ar(t,new Map,String(i),function(t){var e;return t?null!=(e=t.defaultDecorator)?e:ct(t):void 0}(e));return w(t,W,n),t}var Pr=E("ObservableObjectAdministration",Ar);function kr(t){return Mr[t]||(Mr[t]={get:function(){return this[W].getObservablePropValue_(t)},set:function(e){return this[W].setObservablePropValue_(t,e)}})}function Or(t){return!!_(t)&&Pr(t[W])}function Ir(t,e,r){var i;null==(i=t.target_[j])||delete i[r]}function Dr(t,e,r){}var Rr,Fr,Lr=0,Br=function(){};Rr=Br,Fr=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Rr.prototype,Fr):void 0!==Rr.prototype.__proto__?Rr.prototype.__proto__=Fr:Rr.prototype=Fr;var Nr=function(t,e,r){function i(e,r,i,n){var o;void 0===i&&(i="ObservableArray"),void 0===n&&(n=!1),o=t.call(this)||this;var a=new ur(i,r,n,!0);if(a.proxy_=B(o),T(B(o),W,a),e&&e.length){var s=Bt(!0);o.spliceWithArray(0,0,e),Nt(s)}return o}F(i,t);var n=i.prototype;return n.concat=function(){this[W].atom_.reportObserved();for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Array.prototype.concat.apply(this.slice(),e.map((function(t){return gr(t)?t.slice():t})))},n[r]=function(){var t=this,e=0;return Xr({next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0,value:void 0}}})},D(i,[{key:"length",get:function(){return this[W].getArrayLength_()},set:function(t){this[W].setArrayLength_(t)}},{key:e,get:function(){return"Array"}}]),i}(Br,Symbol.toStringTag,Symbol.iterator);function zr(t){l(Nr.prototype,""+t,function(t){return{enumerable:!1,configurable:!0,get:function(){return this[W].get_(t)},set:function(e){this[W].set_(t,e)}}}(t))}function jr(t){if(t>Lr){for(var e=Lr;e<t+100;e++)zr(e);Lr=t}}function Vr(t,e,r){return new Nr(t,e,r)}function Ur(t,e){if("object"==typeof t&&null!==t){if(gr(t))return void 0!==e&&i(23),t[W].atom_;if(Sr(t))return t[W];if(wr(t)){if(void 0===e)return t.keysAtom_;var r=t.data_.get(e)||t.hasMap_.get(e);return r||i(25,e,qr(t)),r}if(Or(t)){if(!e)return i(26);var n=t[W].values_.get(e);return n||i(27,e,qr(t)),n}if(H(t)||qt(t)||ge(t))return t}else if(y(t)&&ge(t[W]))return t[W];i(28)}function Wr(t,e){return t||i(29),void 0!==e?Wr(Ur(t,e)):H(t)||qt(t)||ge(t)||wr(t)||Sr(t)?t:t[W]?t[W]:void i(24,t)}function qr(t,e){var r;if(void 0!==e)r=Ur(t,e);else{if(Ae(t))return t.name;r=Or(t)||wr(t)||Sr(t)?Wr(t):Ur(t)}return r.name_}Object.entries(pr).forEach((function(t){var e=t[0],r=t[1];"concat"!==e&&w(Nr.prototype,e,r)})),jr(1e3);var Hr=h.toString;function Gr(t,e,r){return void 0===r&&(r=-1),function t(e,r,i,n,o){if(e===r)return 0!==e||1/e==1/r;if(null==e||null==r)return!1;if(e!=e)return r!=r;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof r)return!1;var s=Hr.call(e);if(s!==Hr.call(r))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+r;case"[object Number]":return+e!=+e?+r!=+r:0==+e?1/+e==1/r:+e==+r;case"[object Date]":case"[object Boolean]":return+e==+r;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(r);case"[object Map]":case"[object Set]":i>=0&&i++}e=Yr(e),r=Yr(r);var l="[object Array]"===s;if(!l){if("object"!=typeof e||"object"!=typeof r)return!1;var h=e.constructor,u=r.constructor;if(h!==u&&!(y(h)&&h instanceof h&&y(u)&&u instanceof u)&&"constructor"in e&&"constructor"in r)return!1}if(0===i)return!1;i<0&&(i=-1);o=o||[];var c=(n=n||[]).length;for(;c--;)if(n[c]===e)return o[c]===r;if(n.push(e),o.push(r),l){if((c=e.length)!==r.length)return!1;for(;c--;)if(!t(e[c],r[c],i-1,n,o))return!1}else{var p,f=Object.keys(e);if(c=f.length,Object.keys(r).length!==c)return!1;for(;c--;)if(p=f[c],!k(r,p)||!t(e[p],r[p],i-1,n,o))return!1}return n.pop(),o.pop(),!0}(t,e,r)}function Yr(t){return gr(t)?t.slice():S(t)||wr(t)||M(t)||Sr(t)?Array.from(t.entries()):t}function Xr(t){return t[Symbol.iterator]=Kr,t}function Kr(){return this}["Symbol","Map","Set"].forEach((function(t){void 0===o()[t]&&i("MobX requires global '"+t+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:qr},$mobx:W})}).call(this,r("yLpj"))},bCyt:function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return c}));var i={},n=window.location.search;try{n=top.location.search}catch(t){}for(var o=0,a=n.replace("?","").split("&");o<a.length;o++){var s=a[o].split("=");i[s[0]]=1===s.length||s[1]}var l,h,u,c=!0;if(i.appID?l=i.appID:CFG.appID&&(l=CFG.appID),i.channelType&&i.channelType,i.projectID)h=i.projectID;else{var p=window.location.pathname.match(/\/projectx\/(.*?)\/.*?/);p&&(h=p[1])}function f(t,e){var r={pageBizId:t};return d(r,e),function(t,e,r,i,n){void 0===e&&(e="get");void 0===i&&(i="text");var o=0===t.indexOf("blob")?t:y(t,"__ts__="+Date.now()),a={};return d(a,r),"jsonp"===i?function(t,e){return new Promise((function(r,i){var n=y(t,m(e)),o=document.createElement("script");o.src=n,o.onload=function(){r(),document.body.removeChild(o)},o.onerror=function(){i(),document.body.removeChild(o)},document.body.appendChild(o)}))}(o,a):new Promise((function(r,s){var l={"Content-Type":"application/x-www-form-urlencoded"};d(l,n);var h={url:t,method:e,params:a,type:i,headers:l},u=window.mock;u?u(h,(function(t){t||v(h,r,s)}),r,s):(h.url=o,v(h,r,s))}))}("buriedPoint","get",r)}function d(t,e,r,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=!0),!t||!e)return!1;var o=!1;for(var a in e){var s=e[a];if(!(i&&"function"==typeof s||n&&null==s)){if(r)r(t,a,s);else try{t[a]=s}catch(t){}o=!0}}return o}function m(t){if(!t)return"";var e=[];for(var r in t)e.push(r+(r?"=":"")+t[r]);return e.join("&")}function v(t,e,r){window.proxy_window&&0!==t.url.indexOf("blob")?function(t,e,r){var i=window.proxy_window;window.addEventListener("message",(function t(i){window.removeEventListener("message",t);try{var n=JSON.parse(i.data);switch(i.data,n.action){case"http-request-proxy-resolve":e(n.payload);break;case"http-request-proxy-reject":r(n.payload)}}catch(t){}}),!1),i.postMessage(JSON.stringify({action:"http-request-proxy",payload:t}),"*")}(t,(function(t){e(t)}),r):function(t,e,r){var i,n=t.url,o=t.method,a=t.params,s=t.type,l=t.headers;if(window.XMLHttpRequest?i=new XMLHttpRequest:window.ActiveXObject&&(i=new window.ActiveXObject),null!=i){var h="GET"===o.toUpperCase(),u=m(a),c=n;for(var p in 0==c.indexOf("projectx")&&(c="/"+c),h&&(c=y(c,u)),i.open(o,c,!0),l)i.setRequestHeader(p,l[p]);i.responseType=s,i.onreadystatechange=function(){4==i.readyState&&200==i.status&&e(i.response)},i.onerror=function(t){r(t)},i.onloadend=function(){404==i.status&&r(n+" 404 (Not Found)")},h?i.send():i.send(u)}}(t,e,r)}function y(t,e){return e?(t+=t.indexOf("?")<0?"?":"",(t+="?"===t[t.length-1]?"":"&")+e):t}u=window.hasOwnProperty("isFromShare")?window.isFromShare:!!i.is_from_share,window.setFromShare=function(){u=!0},function(){if(localStorage){var t="nu_"+l+"_"+h;localStorage.getItem(t)?c=!1:localStorage.setItem(t,"1")}}(),window.isSharePage&&setTimeout((function(){f(506)}),100),window.stop_report_page_remain_time||function(){var t,e,r,i=(new Date).getTime();e=function(e){e?i=(new Date).getTime():(t=(new Date).getTime(),n())},void 0!==document.hidden?r="visibilitychange":void 0!==document.msHidden?r="msvisibilitychange":void 0!==document.webkitHidden&&(r="webkitvisibilitychange"),document.addEventListener(r,(function(t){e&&e("visible"==document.visibilityState)}),!1);var n=function(){f(156,{remain:t-i})};document.body.onbeforeunload=function(){return t=(new Date).getTime(),n()}}()},bQjk:function(t,e,r){var i,n,o,a;t.exports=(a=r("Ib8C"),r("OLod"),n=(i=a).lib.CipherParams,o=i.enc.Hex,i.format.Hex={stringify:function(t){return t.ciphertext.toString(o)},parse:function(t){var e=o.parse(t);return n.create({ciphertext:e})}},a.format.Hex)},cDf5:function(t,e){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},cM7G:function(t,e,r){"use strict";r.d(e,"a",(function(){return Ut})),r.d(e,"b",(function(){return Ro}));var i,n=navigator&&navigator.userAgent&&(i=navigator.userAgent.toLocaleLowerCase(),/android/.test(i)?"android":/iphone|ipod|ipad/.test(i)?"ios":"pc")||my.getSystemInfoSync().platform.toLowerCase(),o=Math.PI,a=o>>1,s=o+a;function l(t){switch(t){case a:case-s:return 0;case o:case-o:return-1;case s:case-a:return 0;default:return Math.cos(t)}}function h(t){switch(t){case a:case-s:return 1;case o:case-o:return 0;case s:case-a:return-1;default:return Math.sin(t)}}var u,c,p,f,d,m,v,y,g,_,b,x,w,T,E,S=2*o,M=180/o,A=o/180;!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(u||(u={})),function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(c||(c={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(p||(p={})),function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(f||(f={})),function(t){t.CENTER="center",t.LEFT="left",t.RIGHT="right"}(d||(d={})),function(t){t.MIDDLE="middle",t.UP="up",t.DOWN="down"}(m||(m={})),function(t){t.SINGLE="single",t.MULTI="multi"}(v||(v={})),function(t){t[t.middle=.5]="middle",t[t.outter=1]="outter",t[t.inner=0]="inner"}(y||(y={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(g||(g={})),function(t){t.MITER="miter",t.ROUND="round",t.BEVEL="bevel"}(_||(_={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=21]="SRC_OVER",t[t.SRC_IN=22]="SRC_IN",t[t.SRC_OUT=23]="SRC_OUT",t[t.SRC_ATOP=24]="SRC_ATOP",t[t.DST_OVER=25]="DST_OVER",t[t.DST_IN=26]="DST_IN",t[t.DST_OUT=27]="DST_OUT",t[t.DST_ATOP=28]="DST_ATOP",t[t.ERASE=29]="ERASE",t[t.SUBTRACT=30]="SUBTRACT"}(b||(b={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(x||(x={})),function(t){t[t.LINEAR=0]="LINEAR",t[t.NEAREST=1]="NEAREST"}(w||(w={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(T||(T={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(E||(E={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function P(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function k(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function O(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var I=function(){function t(){this._instanceId=0,this._instanceType="HashObject",this._instanceId=t._object_id++}return Object.defineProperty(t.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instanceType",{get:function(){return this._instanceType},enumerable:!0,configurable:!0}),t._object_id=0,t}(),D=function(t){function e(e){var r=t.call(this)||this;return r.type="",r.target=null,r.data=null,r._pd=!1,r._instanceType="Event",r.type=e,r}return P(e,t),e.prototype.stopPropagation=function(){this._pd=!0},e.prototype.destroy=function(){this.target=null,this.data=null},e.prototype.reset=function(t,e){var r=this;r.target=e,r._pd=!1,r.type=t,r.data=null},e.RESIZE="onResize",e.SCROLL_TO_HEAD="onScrollToHead",e.SCROLL_STOP="onScrollStop",e.SCROLL_START="onScrollStart",e.SCROLL_TO_END="onScrollToEnd",e.INIT_STAGE="onInitStage",e.ADDED_TO_STAGE="onAddedToStage",e.REMOVED_FROM_STAGE="onRemovedFromStage",e.ENTER_FRAME="onEnterFrame",e.END_FRAME="onEndFrame",e.CALL_FRAME="onCallFrame",e.COMPLETE="onComplete",e.PROGRESS="onProgress",e.ERROR="onError",e.ABORT="onAbort",e.START="onStart",e.TIMER="onTimer",e.TIMER_COMPLETE="onTimerComplete",e}(I),R=function(t){function e(){var e=t.call(this)||this;return e.eventTypes={},e.eventTypes1={},e._instanceType="EventDispatcher",e}return P(e,t),e.getMouseEventCount=function(t){void 0===t&&(t="");var r=0;if(""==t)for(var i in e._MECO)0==i.indexOf("onMouse")&&(r+=e._MECO[i]);else e._MECO[t]&&(r=e._MECO[t]);return r},e.prototype.addEventListener=function(t,e,r,i){if(void 0===i&&(i=!0),!t)throw new Error("添加侦听的type值为undefined");if(!e)throw new Error("侦听回调函数不能为null");var n=this,o=n.eventTypes;i||(o=n.eventTypes1),o[t]||(o[t]=[]);for(var a=0,s=o[t].length;a<s;a++){var l=o[t][a];if(l.fn===e&&l.context===r)return n}return o[t].unshift(new F(e,r||n)),0==t.indexOf("onMouse")&&n._changeMouseCount(t,!0),n},e.prototype.once=function(t,e,r,i){if(void 0===i&&(i=!0),!t)throw new Error("添加侦听的type值为undefined");if(!e)throw new Error("侦听回调函数不能为null");var n=this,o=n.eventTypes;return i||(o=n.eventTypes1),o[t]||(o[t]=[]),o[t].unshift(new F(e,r||n,!0)),0==t.indexOf("onMouse")&&n._changeMouseCount(t,!0),n},e.prototype._changeMouseCount=function(t,r){var i=r?1:-1;e._MECO[t]||(e._MECO[t]=0),e._MECO[t]+=i,e._MECO[t]<0&&(e._MECO[t]=0),e._totalMEC+=i},e.prototype.dispatchEvent=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=!0);var i=this;"string"==typeof t&&(i._defaultEvent?i._defaultEvent.reset(t,i):i._defaultEvent=new D(t),t=i._defaultEvent);var n=i.eventTypes[t.type];if(r||(n=i.eventTypes1[t.type]),n){var o=n.length;null==t.target&&(t.target=i),null!=e&&(t.data=e);for(var a=o-1;a>=0;a--)if(!t._pd)if(n[a]){var s=n[a],l=t.type;s.fn.call(s.context,t),s.once&&i.removeEventListener(l,s.fn,s.context,r)}else n.splice(a,1);return!0}return!1},e.prototype.hasEventListener=function(t,e){void 0===e&&(e=!0);var r=this;if(e){if(r.eventTypes[t]&&r.eventTypes[t].length>0)return!0}else if(r.eventTypes1[t]&&r.eventTypes1[t].length>0)return!0;return!1},e.prototype.removeAllEventListenerByType=function(t,e){void 0===e&&(e=!0);var r=this;if(e){if(r.eventTypes[t]&&r.eventTypes[t].length>0){if(0==t.indexOf("onMouse"))for(var i=0;i<r.eventTypes[t].length;i++)r._changeMouseCount(t,!1);r.eventTypes[t]=[]}}else if(r.eventTypes1[t]&&r.eventTypes1[t].length>0){if(0==t.indexOf("onMouse"))for(i=0;i<r.eventTypes1[t].length;i++)r._changeMouseCount(t,!1);r.eventTypes1[t]=[]}return r},e.prototype.removeEventListener=function(t,e,r,i){void 0===i&&(i=!0);var n=this,o=n.eventTypes[t];if(i||(o=n.eventTypes1[t]),o)for(var a=r||n,s=o.length-1;s>=0;s--)o[s].fn===e&&o[s].context===a&&(o.splice(s,1),0==t.indexOf("onMouse")&&n._changeMouseCount(t,!1));return n},e.prototype.removeAllEventListener=function(){var t=this;for(var e in t.eventTypes)if(0==e.indexOf("onMouse"))for(var r=0;r<t.eventTypes[e].length;r++)t._changeMouseCount(e,!1);for(var e in t.eventTypes1)if(0==e.indexOf("onMouse"))for(r=0;r<t.eventTypes1[e].length;r++)t._changeMouseCount(e,!1);t.eventTypes1={},t.eventTypes={}},e.prototype.destroy=function(){var t=this;t.removeAllEventListener(),t.eventTypes=null,t.eventTypes1=null},e._MECO={},e._totalMEC=0,e}(I),F=function(t,e,r){void 0===r&&(r=!1),this.fn=t,this.context=e,this.once=r},L=function(t){function e(e,r){void 0===e&&(e=0),void 0===r&&(r=0);var i=t.call(this)||this;i.x=0,i.y=0;var n=i;return n._instanceType="Point",n.x=e,n.y=r,i}return P(e,t),e.prototype.destroy=function(){},e.distance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;return 4==r?Math.sqrt((t[0]-t[2])*(t[0]-t[2])+(t[1]-t[3])*(t[1]-t[3])):2==r?Math.sqrt((t[0].x-t[1].x)*(t[0].x-t[1].x)+(t[0].y-t[1].y)*(t[0].y-t[1].y)):void 0},e.prototype.set=function(t,e){this.x=t,this.y=e},e}(I),B=function(t){function e(e,r,i,n,o,a){void 0===e&&(e=1),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===o&&(o=0),void 0===a&&(a=0);var s=t.call(this)||this;s.a=1,s.b=0,s.c=0,s.d=1,s.tx=0,s.ty=0,s.array=null,s.prepend=function(t){var e=this,r=t.a,i=t.b,n=t.c,o=t.d,a=t.tx,s=t.ty,l=e.a,h=e.c,u=e.tx;return e.a=r*l+n*e.b,e.b=i*l+o*e.b,e.c=r*h+n*e.d,e.d=i*h+o*e.d,e.tx=r*u+n*e.ty+a,e.ty=i*u+o*e.ty+s,this};var l=s;return l._instanceType="Matrix",l.a=e,l.b=r,l.c=i,l.d=n,l.tx=o,l.ty=a,s}return P(e,t),e.prototype.clone=function(){var t=this;return new e(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.prototype.copy=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},e.prototype.transformPoint=function(t,e,r){void 0===r&&(r=null);var i=this;return r||(r=new L),r.x=t*i.a+e*i.c+i.tx,r.y=t*i.b+e*i.d+i.ty,r},e.prototype.transformPointInverse=function(t,e,r){void 0===r&&(r=null),r||(r=new L);var i=1/(this.a*this.d+this.c*-this.b);return r.x=this.d*i*t+-this.c*i*e+(this.ty*this.c-this.tx*this.d)*i,r.y=this.a*i*e+-this.b*i*t+(-this.ty*this.a+this.tx*this.b)*i,r},e.prototype.setFrom=function(t){var e=this;e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.tx=t.tx,e.ty=t.ty},e.prototype.identity=function(){var t=this;t.a=t.d=1,t.b=t.c=t.tx=t.ty=0},e.prototype.invert=function(){var t=this,e=t.a,r=t.b,i=t.c,n=t.d,o=t.tx,a=t.ty;if(0==r&&0==i)return 0==e||0==n?t.a=t.d=t.tx=t.ty=0:(e=t.a=1/e,n=t.d=1/n,t.tx=-e*o,t.ty=-n*a),t;var s=e*n-r*i;if(0==s)return t.identity(),t;s=1/s;var l=t.a=n*s;return r=t.b=-r*s,i=t.c=-i*s,n=t.d=e*s,t.tx=-(l*o+i*a),t.ty=-(r*o+n*a),t},e.prototype.createBox=function(t,e,r,i,n,o,a,s,u){var c=this;if(0!=n?o=a=n%360:(o%=360,a%=360),0==o&&0==a)c.a=r,c.b=c.c=0,c.d=i;else{a*=A;var p=l(o*=A),f=h(o);o==a?(c.a=p*r,c.b=f*r):(c.a=l(a)*r,c.b=h(a)*r),c.c=-f*i,c.d=p*i}c.tx=t+s-(s*c.a+u*c.c),c.ty=e+u-(s*c.b+u*c.d)},e.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty},e.isEqual=function(t,e){return t.tx==e.tx&&t.ty==e.ty&&t.a==e.a&&t.b==e.b&&t.c==e.c&&t.d==e.d},e.prototype.concat=function(t){var e=this,r=e.a,i=e.b,n=e.c,o=e.d,a=e.tx,s=e.ty,l=t.a,h=t.b,u=t.c,c=t.d,p=t.tx,f=t.ty;e.a=r*l+i*u,e.b=r*h+i*c,e.c=n*l+o*u,e.d=n*h+o*c,e.tx=a*l+s*u+p,e.ty=a*h+s*c+f},e.prototype.rotate=function(t){var e=this,r=Math.sin(t),i=Math.cos(t),n=e.a,o=e.b,a=e.c,s=e.d,l=e.tx,h=e.ty;e.a=n*i-o*r,e.b=n*r+o*i,e.c=a*i-s*r,e.d=a*r+s*i,e.tx=l*i-h*r,e.ty=l*r+h*i},e.prototype.scale=function(t,e){var r=this;r.a*=t,r.d*=e,r.c*=t,r.b*=e,r.tx*=t,r.ty*=e},e.prototype.translate=function(t,e){this.tx+=t,this.ty+=e},e.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},e.prototype.getRotation=function(){return Math.round(Math.atan2(this.b,this.a)*M)},e.prototype.toArray=function(t,e){void 0===t&&(t=!1),this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),a=Math.atan2(r,e),s=Math.abs(o+a);return s<1e-5||Math.abs(S-s)<1e-5?(t.rotation=a,e<0&&n>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){},e}(I),N=function(t){function e(e,r,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var o=t.call(this)||this;return o._instanceType="ObservablePoint",o._x=i,o._y=n,o.cb=e,o.scope=r,o}return P(e,t),e.prototype.set=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t);var r=t||0,i=e||0;this._x===r&&this._y===i||(this._x=r,this._y=i,this.cb.call(this.scope))},e.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){},e}(I),z=function(t){function e(e,r,i,n){void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=0);var o=t.call(this)||this;o.x=0,o.y=0,o.width=0,o.height=0;var a=o;return a._instanceType="Rectangle",a.x=e,a.y=r,a.height=n,a.width=i,o.type=c.RECT,o}return P(e,t),e.prototype.clear=function(){this.x=0,this.y=0,this.width=0,this.height=0},e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),e.prototype.isPointIn=function(t){var e=this;return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},e.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0)},e.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},e.createFromRects=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0==t.length)return null;if(1==t.length)return t[0];for(var r=t[0],i=r.x,n=r.y,o=r.width,a=r.height,s=void 0,l=void 0,h=void 0,u=void 0,c=1;c<t.length;c++)(t[c].width||t[c].height)&&(s=i+o,h=n+a,l=t[c].x+t[c].width,u=t[c].y+t[c].height,(i>t[c].x||0==i&&0==o)&&(i=t[c].x),(n>t[c].y||0==n&&0==a)&&(n=t[c].y),s<l&&(s=l),h<u&&(h=u),r.x=i,r.y=n,r.width=s-i,r.height=h-n);return r},e.createFromPoints=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=e[0].x,n=e[0].y,o=e[0].x,a=e[0].y,s=1;s<e.length;s++)null!=e[s]&&(i>e[s].x&&(i=e[s].x),n>e[s].y&&(n=e[s].y),o<e[s].x&&(o=e[s].x),a<e[s].y&&(a=e[s].y));return t.x=i,t.y=n,t.width=o-i,t.height=a-n,t},e.createFromVertexData=function(t,e,r){var i=new L,n=e[0],o=e[1],a=e[0],s=e[1];r&&(r.transformPoint(n,o,i),n=a=i.x,o=s=i.y);for(var l=2;l<e.length;l+=2)null!=e[l]&&(i.set(e[l],e[l+1]),r&&r.transformPoint(i.x,i.y,i),n>i.x&&(n=i.x),o>i.y&&(o=i.y),a<i.x&&(a=i.x),s<i.y&&(s=i.y));return t.x=n,t.y=o,t.width=a-n,t.height=s-o,t},e.createRectfrom2Point=function(t,e,r){var i=e.x,n=e.y,o=e.x,a=e.y;return i>r.x&&(i=r.x),n>r.y&&(n=r.y),o<r.x&&(o=r.x),a<r.y&&(a=r.y),t.x=i,t.y=n,t.width=o-i,t.height=a-n,t},e.testRectCross=function(t,e){var r,i,n,o;return r=t.x+t.width/2,i=t.y+t.height/2,n=e.x+e.width/2,o=e.y+e.height/2,Math.abs(r-n)<=t.width/2+e.width/2&&Math.abs(i-o)<=t.height/2+e.height/2},e.prototype.destroy=function(){},e}(I),j=function(t){function e(){var e=t.call(this)||this;return e._instanceType="Transform",e.worldMatrix=new B,e.localMatrix=new B,e._worldID=0,e._parentID=0,e.position=new N(e.onChange,e,0,0),e.scale=new N(e.onChange,e,1,1),e.anchor=new N(e.onChange,e,0,0),e.skew=new N(e.updateSkew,e,0,0),e._rotation=0,e._cx=1,e._sx=0,e._cy=0,e._sy=1,e._localID=0,e._currentLocalID=0,e}return P(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=l(this._rotation+this.skew._y),this._sx=h(this._rotation+this.skew._y),this._cy=-h(this._rotation-this.skew._x),this._sy=l(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalMatrix=function(){var t=this.localMatrix;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x+this.anchor._x-(this.anchor._x*t.a+this.anchor._y*t.c),t.ty=this.position._y+this.anchor._y-(this.anchor._x*t.b+this.anchor._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateWorldMatrix=function(t){var e=this.localMatrix;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x+this.anchor._x-(this.anchor._x*e.a+this.anchor._y*e.c),e.ty=this.position._y+this.anchor._y-(this.anchor._x*e.b+this.anchor._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldMatrix,i=this.worldMatrix;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++}},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){t!==this._rotation&&(this._rotation=t,this.updateSkew())},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.worldMatrix=null,this.localMatrix=null,this.position=null,this.skew=null,this.scale=null,this.anchor=null},e}(I),V=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],U=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],W=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],q=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],H=[],G=[];function Y(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];G.push(e);for(var r=0;r<16;r++)for(var i=Y(V[t]*V[r]+W[t]*U[r]),n=Y(U[t]*V[r]+q[t]*U[r]),o=Y(V[t]*W[r]+W[t]*q[r]),a=Y(U[t]*W[r]+q[t]*q[r]),s=0;s<16;s++)if(V[s]===i&&U[s]===n&&W[s]===o&&q[s]===a){e.push(s);break}}for(t=0;t<16;t++){var l=new B;l.set(V[t],U[t],W[t],q[t],0,0),H.push(l)}}();var X={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return V[t]},uY:function(t){return U[t]},vX:function(t){return W[t]},vY:function(t){return q[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return G[t][e]},sub:function(t,e){return G[t][X.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?X.S:X.N:2*Math.abs(e)<=Math.abs(t)?t>0?X.E:X.W:e>0?t>0?X.SE:X.SW:t>0?X.NE:X.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=H[X.inv(e)];n.tx=r,n.ty=i,t.append(n)}},K=function(t){function e(){var e=t.call(this)||this;return e.mouseEnable=!0,e._instanceType="DisplayObject",e.tempDisplayObjectParent=null,e.transform=new j,e._alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e._worldAlpha=1,e.filterArea=null,e._filters=null,e._enabledFilters=null,e._localBoundsSelf=new z,e._bounds=new z,e._boundsID=0,e._lastBoundsID=-1,e._mask=null,e.destroyed=!1,e}return P(e,t),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},enumerable:!0,configurable:!0}),e.prototype.updateTransform=function(){this.transform.updateWorldMatrix(this.parent.transform),this._worldAlpha=this.alpha*this.parent._worldAlpha},e.prototype.hitTestPoint=function(t,r){void 0===r&&(r=!1);var i=this;if(!i.visible)return null;if(r&&!i.mouseEnable)return null;if(r){if(i._localBoundsSelf.isPointIn(i.globalToLocal(t,e._bp)))return i}else if(i._localBoundsSelf.isPointIn(t))return i;return null},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateWorldMatrix(this.parent.transform)):this.transform.updateWorldMatrix(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,r){return void 0===t&&(t=!1),void 0===r&&(r=e.temBounds),t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this.calculateBounds(),r.copy(this._bounds)},e.prototype.getLocalBounds=function(t){void 0===t&&(t=e.temBounds);var r=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var n=this.getBounds(!1,t);return this.parent=i,this.transform=r,this.parent&&this.updateTransform(),n},e.prototype.calculateBounds=function(){this._lastBoundsID!=this._boundsID&&(this._lastBoundsID=this._boundsID)},e.prototype.globalToLocal=function(t,r){return void 0===r&&(r=null),this.worldMatrix.transformPointInverse(t.x,t.y,r||e._bp)},e.prototype.localToGlobal=function(t,r){void 0===r&&(r=null);var i=this.worldMatrix.transformPoint(t.x,t.y,r||e._bp);return this.stage?this.stage.globalToLocal(i,r||e._bp):i},e.prototype._onDispatchBubbledEvent=function(t){var e=this;(t!=D.REMOVED_FROM_STAGE||e.stage)&&(t==D.REMOVED_FROM_STAGE?(e.dispatchEvent(t),e.stage=null):t==D.ADDED_TO_STAGE&&(e.stage=e.parent.stage,e.dispatchEvent(t)))},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setTransform=function(t,e,r,i,n,o,a,s,l){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=a,this.anchor.x=s,this.anchor.y=l,this},e.prototype.destroy=function(){this.removeAllEventListener(),this.parent&&this.parent.removeChild(this),this.transform.destroy(),this.transform=null,this._localBoundsSelf=null,this._bounds=null,this.tempDisplayObjectParent=null,this._mask=null,this.filterArea=null,this._filters=null,this._enabledFilters=null,this.mouseEnable=!1,this.destroyed=!0},Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._alpha!=t&&(this._alpha=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worldMatrix",{get:function(){return this.transform.worldMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localMatrix",{get:function(){return this.transform.localMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.transform.scale.x},set:function(t){this.transform.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.transform.scale.y},set:function(t){this.transform.scale.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this.transform.anchor},set:function(t){this.transform.anchor.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this.transform.anchor.x},set:function(t){this.transform.anchor.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this.transform.anchor.y},set:function(t){this.transform.anchor.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skewX",{get:function(){return this.transform.skew.x*M},set:function(t){this.transform.skew.x=t*A},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skewY",{get:function(){return this.transform.skew.y*M},set:function(t){this.transform.skew.y=t*A},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation*M},set:function(t){this.transform.rotation=t*A},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask!=t&&(this._mask&&(this._mask.renderable=!0,this._mask.isUsedToMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isUsedToMask=!0,this._boundsID++))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!0,configurable:!0}),e.prototype.update=function(){this.hasEventListener(D.ENTER_FRAME)&&this.dispatchEvent(D.ENTER_FRAME)},e._bp=new L,e._p1=new L,e._p2=new L,e._p3=new L,e._p4=new L,e.temBounds=new z,e}(R);K.prototype.displayObjectUpdateTransform=K.prototype.updateTransform,K.prototype.displayObjectHitTestPoint=K.prototype.hitTestPoint;var Z=function(t){function e(){var e=t.call(this)||this;return e.mouseChildren=!0,e._instanceType="Container",e.children=[],e}return P(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(t){return this.addChildAt(t,this.children.length),t},e.prototype.addChildren=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.forEach((function(e){t.addChild(e)})),e},e.prototype.addChildAt=function(t,e){if(t){var r,i=this,n=i==t.parent;if(t.parent)if(n){r=i.children.length;for(var o=0;o<r;o++)if(i.children[o]==t){i.children.splice(o,1);break}}else t.parent.removeChild(t);return t.parent=i,t.transform._parentID=-1,this._boundsID++,e>=(r=i.children.length)?(i.children[i.children.length]=t,e=r):0==e||e<0?(i.children.unshift(t),e=0):i.children.splice(e,0,t),i.stage&&!n&&t._onDispatchBubbledEvent(D.ADDED_TO_STAGE),this.onChildrenChange(e),t}},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this,i=-1,n=-1,o=r.children.length;if((i="number"==typeof t?t:r.getChildIndex(t))==(n="number"==typeof e?e:r.getChildIndex(e))||i<0||i>=o||n<0||n>=o)return!1;var a=r.children[i];return r.children[i]=r.children[n],r.children[n]=a,this.onChildrenChange(i<n?i:n),!0}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);return-1===e?null:e},e.prototype.setChildIndex=function(t,e){this.addChildAt(t,e)},e.prototype.getChildAt=function(t){return t<0||t>=this.children.length?null:this.children[t]},e.prototype.getChildByName=function(t,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!1),!t)return null;var n;n="string"==typeof t?new RegExp("^"+t+"$"):t;var o=[];e._getElementsByName(n,this,r,i,o);var a=o.length;return 0==a?null:1==a?o[0]:o},e.prototype.removeChild=function(t){var e=this.children.indexOf(t);return-1===e?null:(this.removeChildAt(e),t)},e.prototype.removeChildAt=function(t){var e,r=this,i=r.children.length-1;if(!(i<0))return(e=t==i?r.children.pop():0==t?r.children.shift():r.children.splice(t,1)[0])._onDispatchBubbledEvent(D.REMOVED_FROM_STAGE),e.parent=null,e.transform._parentID=-1,this._boundsID++,this.onChildrenChange(t),e},e.prototype.removeChildren=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?(e.forEach((function(e){t.removeChild(e)})),e):this.spliceChildren(0,this.children.length)},e.prototype.removeAllChildren=function(){return this.removeChildren()},e.prototype.removeChildrenAt=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r=t,i="number"==typeof e?e:this.children.length,n=i-r;if(n>0&&n<=i)return this.spliceChildren(r,n);if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: 移除范围有误")},e.prototype.spliceChildren=function(t,e){var r=this.children.splice(t,e);if(!r.length)return[];for(var i=0;i<r.length;++i)r[i].parent=null,r[i].transform&&(r[i].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(i=0;i<r.length;++i)r[i]._onDispatchBubbledEvent(D.REMOVED_FROM_STAGE);return r},e.prototype.updateTransform=function(){t.prototype.updateTransform.call(this);for(var e=0,r=this.children.length;e<r;++e){var i=this.children[e];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){if(this._lastBoundsID!=this._boundsID){this._lastBoundsID=this._boundsID,this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e.mask?(e.mask.calculateBounds(),e._bounds.x<e.mask._bounds.x&&(e._bounds.x=e.mask._bounds.x),e._bounds.y<e.mask._bounds.y&&(e._bounds.y=e.mask._bounds.y),e._bounds.width>e.mask._bounds.width&&(e._bounds.width=e.mask._bounds.width),e._bounds.height>e.mask._bounds.height&&(e._bounds.height=e.mask._bounds.height),z.createFromRects(this._bounds,e._bounds)):e.filterArea||z.createFromRects(this._bounds,e._bounds))}}},e.prototype._calculateBounds=function(){},e.prototype.hitTestPoint=function(t,e){if(void 0===e&&(e=!1),!this.visible)return null;if(e&&!this.mouseChildren)return null;for(var r,i,n=this.children,o=n.length-1;o>=0;o--)if(!(r=n[o]).isUsedToMask&&(!r.mask||r.mask.hitTestPoint(t,e))&&(i=r.hitTestPoint(t,e)))return i;return null},e.prototype.renderWebGL=function(t){if(this.visible&&!(this._worldAlpha<=0)&&this.renderable)if(this.mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.batchManager.flush();var e=this.filters;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}var i=this.mask;i&&t.maskManager.pushMask(this,this.mask),this._renderWebGL(t);r=0;for(var n=this.children.length;r<n;r++)this.children[r].renderWebGL(t);t.batchManager.flush(),i&&t.maskManager.popMask(this,this.mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this._worldAlpha<=0)&&this.renderable){this.mask&&t.maskManager.pushMask(this.mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this.mask&&t.maskManager.popMask(t)}},e.prototype._renderCanvas=function(t){},e.prototype.update=function(){if(this.visible){t.prototype.update.call(this);for(var e=this.children.length-1;e>=0;e--){var r=this.children[e];r.visible&&r.update()}}},e.prototype._onDispatchBubbledEvent=function(e){var r=this,i=r.children.length;if(e!=D.REMOVED_FROM_STAGE||r.stage){t.prototype._onDispatchBubbledEvent.call(this,e);for(var n=0;n<i;n++)r.children[n]._onDispatchBubbledEvent(e)}},e.prototype.destroy=function(){for(var e=this.children.length-1;e>=0;e--)this.children[e].destroy();t.prototype.destroy.call(this),this.mouseChildren=!1},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!0,configurable:!0}),e._getElementsByName=function(t,r,i,n,o){var a=r.children.length;if(a>0)for(var s=void 0,l=void 0,h=0;h<a;h++){if((s=(l=r.children[h]).name)&&""!=s&&t.test(s)&&(o[o.length]=l,i))return;n&&null!=l.children&&e._getElementsByName(t,l,i,n,o)}},e}(K);Z.prototype.containerUpdateTransform=Z.prototype.updateTransform;var J=function(t){function e(){var e=t.call(this)||this;e.htmlElement=null,e._isAdded=!1;var r=e;return r._instanceType="FloatDisplay",r.addEventListener(D.REMOVED_FROM_STAGE,(function(t){r.htmlElement&&(r.htmlElement.style.display="none")})),r.addEventListener(D.ADDED_TO_STAGE,(function(t){if(r.htmlElement){var e=r.htmlElement.style;r._isAdded?r.htmlElement&&r.visible&&(e.display="block"):(r._isAdded=!0,r.stage.rootDiv?r.stage.rootDiv.insertBefore(r.htmlElement,r.stage.rootDiv.childNodes[0]):document.body.appendChild(r.htmlElement))}})),e._transformID=-1,e}return P(e,t),e.prototype.init=function(t){var e,r=this;e="string"==typeof t?document.getElementById(t):"Video"==t._instanceType?t.media:t,r.htmlElement&&r.removeHtmlElement();var i=e.style;i.position="absolute",i.display="none",i.transformOrigin=i.WebkitTransformOrigin="0 0 0";var n=r.getStyle(e,"width"),o=r.getStyle(e,"height"),a=0,s=0;n.indexOf("px")&&(a=parseInt(n)),o.indexOf("px")&&(s=parseInt(o)),r._localBoundsSelf.width=a,r._localBoundsSelf.height=s,r.htmlElement=e,r.stage&&(r._isAdded=!0,r.stage.rootDiv?r.stage.rootDiv.insertBefore(r.htmlElement,r.stage.rootDiv.childNodes[0]):document.body.appendChild(r.htmlElement))},e.prototype.getStyle=function(t,e){if(t.style[e])return t.style[e];if(document.defaultView&&document.defaultView.getComputedStyle){e=(e=e.replace(/([A-Z])/g,"-$1")).toLowerCase();var r=document.defaultView.getComputedStyle(t,"");return r&&r.getPropertyValue(e)}return null},e.prototype.updateStyle=function(){var t=this,e=t.htmlElement;if(e){var r=e.style,i=t.visible;if(t.stage||(i=!1),i)for(var n=t.parent;n;){if(!n.visible){i=!1;break}n=n.parent}var o=i?"block":"none";if(o!=r.display&&(r.display=o),i){if(this._transformID!=this.transform._worldID){this._transformID=this.transform._worldID;var a=t.transform.worldMatrix,s=t.stage._dpi||t.stage.dpi;r.transform=r.webkitTransform="matrix("+(a.a/s).toFixed(4)+","+(a.b/s).toFixed(4)+","+(a.c/s).toFixed(4)+","+(a.d/s).toFixed(4)+","+(a.tx/s).toFixed(4)+","+(a.ty/s).toFixed(4)+")"}r.opacity=t._worldAlpha}}},e.prototype.removeHtmlElement=function(){var t=this,e=t.htmlElement;e&&(e.style.display="none",e.parentNode&&e.parentNode.removeChild(e),t._isAdded=!1,t.htmlElement=null)},e.prototype.renderCanvas=function(){this.updateStyle()},e.prototype.renderWebGL=function(){this.updateStyle()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeHtmlElement()},e}(K);var Q,$="web";function tt(){return $}function et(){return document&&document.createElement("canvas")||my._createOffscreenCanvas()}function rt(){return Q&&Q.createImage()||new Image}window&&(window.my=null);function it(t){return!(t&t-1||!t)}function nt(t){var e,r;return t>>>=e=Number(t>65535)<<4,t>>>=r=Number(t>255)<<3,e|=r,t>>>=r=Number(t>15)<<2,e|=r,(e|=r=Number(t>3)<<1)|(t>>>=r)>>1}function ot(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}var at=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,i=e,n=7;for(r>>>=1;r;r>>>=1)i<<=1,i|=1&r,--n;t[e]=i<<n&255}}(at);var st=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=this.renderer,r=e.context,i=t._worldAlpha,n=t.transform.worldMatrix;r.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),e.setBlendMode(t.blendMode);for(var o=0;o<t.graphicsData.length;o++){var a=t.graphicsData[o],s=a.shape,l=a.fillStyle,h=a.lineStyle,u=l.color,p=h.color;r.lineWidth=h.width;var f=!0;if(a.type===c.POLY){r.beginPath();var d=s.points;r.moveTo(d[0],d[1]);for(var m=1;m<d.length/2;++m)r.lineTo(d[2*m],d[2*m+1]);f=!ht(d)}else if(a.type===c.RECT){if(!a.holes.length){l.visible&&(r.globalAlpha=l.alpha*i,r.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.fillRect(s.x,s.y,s.width,s.height)),h.visible&&(r.globalAlpha=h.alpha*i,r.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),r.strokeRect(s.x,s.y,s.width,s.height));continue}r.beginPath(),r.moveTo(s.x,s.y),r.lineTo(s.x+s.width,s.y),r.lineTo(s.x+s.width,s.y+s.height),r.lineTo(s.x,s.y+s.height),r.lineTo(s.x,s.y)}else if(a.type===c.CIRC)r.beginPath(),r.arc(s.x,s.y,s.radius,0,2*Math.PI,!1);else if(a.type===c.ELIP){var v=2*s.width,y=2*s.height,g=s.x-v/2,_=s.y-y/2;r.beginPath();var b=v/2*.5522848,x=y/2*.5522848,w=g+v,T=_+y,E=g+v/2,S=_+y/2;r.moveTo(g,S),r.bezierCurveTo(g,S-x,E-b,_,E,_),r.bezierCurveTo(E+b,_,w,S-x,w,S),r.bezierCurveTo(w,S+x,E+b,T,E,T),r.bezierCurveTo(E-b,T,g,S+x,g,S)}else if(a.type===c.RREC){var M=s.x,A=s.y,C=s.width,P=s.height,k=s.radius,O=Math.min(C,P)/2|0;k=k>O?O:k,r.beginPath(),r.moveTo(M,A+k),r.quadraticCurveTo(M,A,M+k,A),r.lineTo(M+C-k,A),r.quadraticCurveTo(M+C,A,M+C,A+k),r.lineTo(M+C,A+P-k),r.quadraticCurveTo(M+C,A+P,M+C-k,A+P),r.lineTo(M+k,A+P),r.quadraticCurveTo(M,A+P,M,A+P-k),r.lineTo(M,A+k)}for(var I=0;I<a.holes.length;I++)lt(a.holes[I],r,f);l.visible&&(r.globalAlpha=l.alpha*i,r.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.fill()),h.visible&&(s.closed&&r.closePath(),r.globalAlpha=h.alpha*i,r.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),r.stroke())}},t.prototype.destroy=function(){this.renderer=null},t}();function lt(t,e,r){void 0===r&&(r=!0);var i=t.type,n=t.shape;switch(i){case c.POLY:var o=n.points;if(r==ht(o)){e.moveTo(o[0],o[1]);for(var a=1;a<o.length/2;++a)e.lineTo(o[2*a],o[2*a+1])}else{e.moveTo(o[o.length-2],o[o.length-1]);for(a=o.length/2-2;a>=0;--a)e.lineTo(o[2*a],o[2*a+1])}o[0]===o[o.length-2]&&o[1]===o[o.length-1]||e.closePath();break;case c.RECT:e.moveTo(n.x,n.y),r?(e.lineTo(n.x,n.y+n.height),e.lineTo(n.x+n.width,n.y+n.height),e.lineTo(n.x+n.width,n.y),e.lineTo(n.x,n.y)):(e.lineTo(n.x+n.width,n.y),e.lineTo(n.x+n.width,n.y+n.height),e.lineTo(n.x,n.y+n.height),e.lineTo(n.x,n.y));break;case c.CIRC:e.moveTo(n.x+n.radius,n.y),e.arc(n.x,n.y,n.radius,0,2*Math.PI,r);break;case c.ELIP:var s=2*n.width,l=2*n.height,h=n.x-s/2,u=n.y-l/2,p=s/2*.5522848,f=l/2*.5522848,d=h+s,m=u+l,v=h+s/2,y=u+l/2;e.moveTo(h,y),r?(e.bezierCurveTo(v-p,m,h,y+f,v,m),e.bezierCurveTo(d,y+f,v+p,m,d,y),e.bezierCurveTo(v+p,u,d,y-f,v,u),e.bezierCurveTo(h,y-f,v-p,u,h,y)):(e.bezierCurveTo(h,y-f,v-p,u,v,u),e.bezierCurveTo(v+p,u,d,y-f,d,y),e.bezierCurveTo(d,y+f,v+p,m,v,m),e.bezierCurveTo(v-p,m,h,y+f,h,y));break;case c.RREC:var g=n.x,_=n.y,b=n.width,x=n.height,w=n.radius,T=Math.min(b,x)/2|0;w=w>T?T:w,e.moveTo(g,_+w),r?(e.lineTo(g,_+x-w),e.quadraticCurveTo(g,_+x,g+w,_+x),e.lineTo(g+b-w,_+x),e.quadraticCurveTo(g+b,_+x,g+b,_+x-w),e.lineTo(g+b,_+w),e.quadraticCurveTo(g+b,_,g+b-w,_),e.lineTo(g+w,_),e.quadraticCurveTo(g,_,g,_+w)):(e.quadraticCurveTo(g,_,g+w,_),e.lineTo(g+b-w,_),e.quadraticCurveTo(g+b,_,g+b,_+w),e.lineTo(g+b,_+x-w),e.quadraticCurveTo(g+b,_+x,g+b-w,_+x),e.lineTo(g+w,_+x),e.quadraticCurveTo(g,_+x,g,_+x-w),e.lineTo(g,_+w))}}function ht(t){var e=[];t[0]===t[t.length-2]&&(t[1],t[t.length-1]);for(var r=0;r<t.length-2;r+=2)e.push(t[r+2]-t[r],t[r+3]-t[r+1]);t[0]===t[t.length-2]&&t[1]===t[t.length-1]||e.push(t[0]-t[t.length-2],t[1]-t[t.length-1]);var i=0;for(r=0;r<e.length-2;r+=2)i=i+e[r]*e[r+3]-e[r+1]*e[r+2];return!((i=i+e[e.length-2]*e[1]-e[e.length-1]*e[0])>0)}var ut=function(t){function e(e){var r=t.call(this)||this;return r._instanceType="CanvasMaskManager",r.renderer=e,r}return P(e,t),e.prototype.pushMask=function(t){var e=this.renderer;e.context.save(),e.context.globalAlpha=0;var r=t.transform.worldMatrix;e.context.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),"Shape"==t.instanceType?t._drawShape(e.context):"Graphics"==t.instanceType&&(t.finishPoly(),this.renderGraphicsShape(t)),e.context.clip()},e.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var i=0;i<r;i++){var n=t.graphicsData[i],o=n.shape,a=!0;if(n.type===c.POLY){var s=o.points;e.moveTo(s[0],s[1]);for(var l=1;l<s.length/2;l++)e.lineTo(s[2*l],s[2*l+1]);a=!ht(s),s[0]===s[s.length-2]&&s[1]===s[s.length-1]||e.closePath()}else if(n.type===c.RECT)e.rect(o.x,o.y,o.width,o.height);else if(n.type===c.CIRC)e.arc(o.x,o.y,o.radius,0,2*Math.PI);else if(n.type===c.ELIP){var h=2*o.width,u=2*o.height,p=o.x-h/2,f=o.y-u/2,d=h/2*.5522848,m=u/2*.5522848,v=p+h,y=f+u,g=p+h/2,_=f+u/2;e.moveTo(p,_),e.bezierCurveTo(p,_-m,g-d,f,g,f),e.bezierCurveTo(g+d,f,v,_-m,v,_),e.bezierCurveTo(v,_+m,g+d,y,g,y),e.bezierCurveTo(g-d,y,p,_+m,p,_)}else if(n.type===c.RREC){var b=o.x,x=o.y,w=o.width,T=o.height,E=o.radius,S=Math.min(w,T)/2|0;E=E>S?S:E,e.moveTo(b,x+E),e.quadraticCurveTo(b,x,b+E,x),e.lineTo(b+w-E,x),e.quadraticCurveTo(b+w,x,b+w,x+E),e.lineTo(b+w,x+T-E),e.quadraticCurveTo(b+w,x+T,b+w-E,x+T),e.lineTo(b+E,x+T),e.quadraticCurveTo(b,x+T,b,x+T-E),e.lineTo(b,x+E)}for(l=0;l<n.holes.length;l++)lt(n.holes[i],e,a)}}},e.prototype.popMask=function(t){t.context.restore()},e.prototype.destroy=function(){},e}(I),ct=new B,pt=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,i=e._frame.width,n=e._frame.height,o=t.transform.worldMatrix,a=0,s=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&e.valid){r.setBlendMode(t.blendMode),r.context.globalAlpha=t._worldAlpha,t._anchorTexture?(e.trim?(a=e.trim.width/2+e.trim.x-t._anchorTexture.x*e.orig.width,s=e.trim.height/2+e.trim.y-t._anchorTexture.y*e.orig.height):(a=(.5-t._anchorTexture.x)*e.orig.width,s=(.5-t._anchorTexture.y)*e.orig.height),e.rotate&&(ct.copy(o),o=ct,X.matrixAppendRotationInv(o,e.rotate,a,s),a=0,s=0),a-=i/2,s-=n/2):(a=t.offsetX||0,s=t.offsetY||0),r.context.setTransform(o.a,o.b,o.c,o.d,o.tx,o.ty);var l=r._outerBlend;l&&(r.context.save(),r.context.beginPath(),r.context.rect(a,s,i,n),r.context.clip()),16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=function(t,e){var r="#"+("00000"+(0|(e=function(t){var e=wt(t);return e[0]=Math.min(255,e[0]/8*8),e[1]=Math.min(255,e[1]/8*8),e[2]=Math.min(255,e[2]/8*8),function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}(e)}(e))).toString(16)).substr(-6);t.tintCache=t.tintCache||{};var i,n=t.tintCache[r];if(n){if(n.tintId===t._updateID)return t.tintCache[r];i=t.tintCache[r]}else i=bt||et();return xt(t,e,i),i.tintId=t._updateID,t.tintCache[r]=i,bt=null,i}(t._texture,t.tint)),r.context.drawImage(t.tintedTexture,0,0,i,n,a,s,i,n)):r.context.drawImage(e.baseTexture.source,e._frame.x,e._frame.y,i,n,a,s,i,n),l&&r.context.restore(),r.setBlendMode(b.NORMAL)}},t.prototype.destroy=function(){this.renderer=null},t}(),ft=function(t){function e(){var e=t.call(this)||this;return e.transparent=!0,e._backgroundColor=0,e._backgroundColorRgba=[0,0,0,0],e._backgroundColorString="#000000",e.backgroundColor=e._backgroundColor,e._tempDisplayObjectParent=new Z,e._lastObjectRendered=e._tempDisplayObjectParent,e}return P(e,t),e.prototype.resize=function(t,e){this.width=t,this.height=e},e.prototype.render=function(t,e,r){},e.prototype.destroy=function(){this.type=u.UNKNOWN,this.transparent=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor!==t&&(this._backgroundColor=t,this._backgroundColorString=Ot(t),kt(t,this._backgroundColorRgba))},enumerable:!0,configurable:!0}),e}(R),dt=function(){function t(t,e){this.canvas=et(),this.resize(t,e),this.context=this.canvas.getContext("2d"),this.resize(t,e),this.clear()}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!0,configurable:!0}),t}(),mt=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=this.renderer,r=e.context,i=t.worldMatrix;r.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e.context.globalAlpha=t._worldAlpha,e.setBlendMode(t.blendMode),this._renderTriangles(t)},t.prototype._renderTriangles=function(t){for(var e=t._indices,r=e.length,i=0;i<r;i+=3){var n=2*e[i],o=2*e[i+1],a=2*e[i+2];this._renderDrawTriangle(t,n,o,a)}},t.prototype._renderDrawTriangle=function(t,e,r,i){var n=this.renderer.context,o=t._uvs,a=t._vertices,s=t.texture;if(s.valid){var l=s.baseTexture,h=l.source,u=l.width,c=l.height,p=o[e]*l.width,f=o[r]*l.width,d=o[i]*l.width,m=o[e+1]*l.height,v=o[r+1]*l.height,y=o[i+1]*l.height,g=a[e],_=a[r],b=a[i],x=a[e+1],w=a[r+1],T=a[i+1],E=t.canvasPadding;if(E>0){var S=E/Math.abs(t.worldMatrix.a),M=E/Math.abs(t.worldMatrix.d),A=(g+_+b)/3,C=(x+w+T)/3,P=g-A,k=x-C,O=Math.sqrt(P*P+k*k);g=A+P/O*(O+S),x=C+k/O*(O+M),k=w-C,_=A+(P=_-A)/(O=Math.sqrt(P*P+k*k))*(O+S),w=C+k/O*(O+M),k=T-C,b=A+(P=b-A)/(O=Math.sqrt(P*P+k*k))*(O+S),T=C+k/O*(O+M)}n.save(),n.beginPath(),n.moveTo(g,x),n.lineTo(_,w),n.lineTo(b,T),n.closePath(),n.clip();var I=p*v+m*d+f*y-v*d-m*f-p*y,D=g*v+m*b+_*y-v*b-m*_-g*y,R=p*_+g*d+f*b-_*d-g*f-p*b,F=p*v*b+m*_*d+g*f*y-g*v*d-m*f*b-p*_*y,L=x*v+m*T+w*y-v*T-m*w-x*y,B=p*w+x*d+f*T-w*d-x*f-p*T,N=p*v*T+m*w*d+x*f*y-x*v*d-m*f*T-p*w*y;n.transform(D/I,L/I,R/I,B/I,F/I,N/I),n.drawImage(h,0,0,u,c,0,0,u,c),n.restore()}},t.prototype.destroy=function(){this.renderer=null},t}(),vt=function(t){function e(e,r,i){var n=t.call(this)||this;return n.type=u.CANVAS,n._instanceType="CanvasRenderer",n.rootContext=e,n.maskManager=new ut(n),n.plugins={sprite:null,graphics:null},n.plugins.sprite=new pt(n),n.plugins.graphics=new st(n),n.plugins.mesh=new mt(n),n.blendModes=function(t){void 0===t&&(t=[]);_t()?(t[b.NORMAL]="source-over",t[b.ADD]="lighter",t[b.MULTIPLY]="multiply",t[b.SCREEN]="screen",t[b.OVERLAY]="overlay",t[b.DARKEN]="darken",t[b.LIGHTEN]="lighten",t[b.COLOR_DODGE]="color-dodge",t[b.COLOR_BURN]="color-burn",t[b.HARD_LIGHT]="hard-light",t[b.SOFT_LIGHT]="soft-light",t[b.DIFFERENCE]="difference",t[b.EXCLUSION]="exclusion",t[b.HUE]="hue",t[b.SATURATION]="saturate",t[b.COLOR]="color",t[b.LUMINOSITY]="luminosity"):(t[b.NORMAL]="source-over",t[b.ADD]="lighter",t[b.MULTIPLY]="source-over",t[b.SCREEN]="source-over",t[b.OVERLAY]="source-over",t[b.DARKEN]="source-over",t[b.LIGHTEN]="source-over",t[b.COLOR_DODGE]="source-over",t[b.COLOR_BURN]="source-over",t[b.HARD_LIGHT]="source-over",t[b.SOFT_LIGHT]="source-over",t[b.DIFFERENCE]="source-over",t[b.EXCLUSION]="source-over",t[b.HUE]="source-over",t[b.SATURATION]="source-over",t[b.COLOR]="source-over",t[b.LUMINOSITY]="source-over");return t[b.NORMAL_NPM]=t[b.NORMAL],t[b.ADD_NPM]=t[b.ADD],t[b.SCREEN_NPM]=t[b.SCREEN],t[b.SRC_OVER]="source-over",t[b.SRC_IN]="source-in",t[b.SRC_OUT]="source-out",t[b.SRC_ATOP]="source-atop",t[b.DST_OVER]="destination-over",t[b.DST_IN]="destination-in",t[b.DST_OUT]="destination-out",t[b.DST_ATOP]="destination-atop",t[b.SUBTRACT]="source-over",t}(),n._activeBlendMode=null,n._outerBlend=!1,n.resize(r,i),n}return P(e,t),e.prototype.render=function(t,e,r){this.dispatchEvent("onPreRender");var i=!e;e?((e=e.baseTexture||e)._canvasRenderTarget?(e._canvasRenderTarget.clear(),e._canvasRenderTarget.resize(e.width,e.height)):(e._canvasRenderTarget=new dt(e.width,e.height),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context):this.context=this.rootContext;var n=this.context;e||(this._lastObjectRendered=t),t.update();var o=t.parent,a=this._tempDisplayObjectParent.transform.worldMatrix;r?(a.copy(r),this._tempDisplayObjectParent.transform._worldID++):a.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o,n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=1,this._activeBlendMode=b.NORMAL,this._outerBlend=!1,n.globalCompositeOperation=this.blendModes[b.NORMAL],i&&(this.transparent?n.clearRect(0,0,this.width,this.height):(n.fillStyle=this._backgroundColorString,n.fillRect(0,0,this.width,this.height))),t.renderCanvas(this),n.restore(),this.dispatchEvent("onPostRender")},e.prototype.setBlendMode=function(t,e){void 0===e&&(e=!1);var r=t===b.SRC_IN||t===b.SRC_OUT||t===b.DST_IN||t===b.DST_ATOP;!e&&r&&(t=b.NORMAL),this._activeBlendMode!==t&&(this._activeBlendMode=t,this._outerBlend=r,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(){this.destroyPlugins(),t.prototype.destroy.call(this),this.context=null,this.maskManager.destroy(),this.maskManager=null},e.prototype.destroyPlugins=function(){this.plugins.sprite.destroy(),this.plugins.graphics.destroy()},e}(ft);new B;var yt=null;function gt(t){var e=et();e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}function _t(){if(null!=yt)return yt;if("undefined"==typeof document)return yt=!1;var t=gt("#ff00ff"),e=gt("#ffff00"),r=et();r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var n=i.getImageData(2,0,1,1);if(!n)return yt=!1;var o=n.data;return yt=255===o[0]&&0===o[1]&&0===o[2]}var bt,xt=_t()?function(t,e,r){var i=r.getContext("2d"),n=t._frame.clone();r.width=Math.ceil(n.width),r.height=Math.ceil(n.height),i.save(),i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="multiply",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.restore()}:function(t,e,r){var i=r.getContext("2d"),n=t._frame.clone();r.width=Math.ceil(n.width),r.height=Math.ceil(n.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.restore();for(var o=wt(e),a=o[0],s=o[1],l=o[2],h=i.getImageData(0,0,n.width,n.height),u=h.data,c=0;c<u.length;c+=4)u[c+0]*=a,u[c+1]*=s,u[c+2]*=l;i.putImageData(h,0,0)};function wt(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}var Tt,Et=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[b.NORMAL_NPM]=b.NORMAL,t[b.ADD_NPM]=b.ADD,t[b.SCREEN_NPM]=b.SCREEN,e[b.NORMAL]=b.NORMAL_NPM,e[b.ADD]=b.ADD_NPM,e[b.SCREEN]=b.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}(),St=0;function Mt(){return++St}function At(){if(!Tt){var t=et();t.width=1,t.height=1,Tt=t.getContext("2d")}return Tt}function Ct(t,e){var r,i=At();r=4==t.length?i.createLinearGradient(t[0],t[1],t[2],t[3]):i.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5]);for(var n=0,o=e.length;n<o;n++)r.addColorStop(e[n][0],Rt(e[n][1],e[n][2]));return r}function Pt(t){return At().createPattern(t,"repeat")}function kt(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Ot(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function It(t){return 0==t.indexOf("#")&&(t=t.replace("#","0x")),parseInt(t)}function Dt(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function Rt(t,e){if(0==t.indexOf("0x")&&(t=t.replace("0x","#")),t.length<7&&(t="#000000"),1!=e){var r=parseInt("0x"+t.substr(1,2)),i=parseInt("0x"+t.substr(3,2)),n=parseInt("0x"+t.substr(5,2));t="rgba("+r+","+i+","+n+","+e+")"}return t}function Ft(t){return 0===t?0:t<0?-1:1}var Lt=Object.create(null),Bt=Object.create(null);Object.create(null);var Nt;function zt(t,e,r){return Math.max(e,Math.min(r,t))}function jt(t){for(var e,r,i,n="",o=new Uint8Array(t),a=8*t.byteLength,s=0;s<a;s+=6)r=s%8,i=(o[e=s/8|0]||0)<<r>>2,r>2&&(i|=(o[e+1]||0)>>10-r),n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&i);return n+=4==r?"=":6==r?"==":""}function Vt(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",r=0,i=t.length;r<i;r++)e+=String.fromCharCode(t[r]);return decodeURIComponent(escape(e))}var Ut=new(function(t){function e(){var e=t.call(this)||this;return e.caches={},e._instanceType="Loader",e}return P(e,t),e.prototype.loadSheet=function(t,e){var r=this,i=e.substring(0,e.lastIndexOf("."))+".png";this.loadImage((function(n,o){n?(r.cache(i,o),r.caches[e]&&(t(!0,{json:r.caches[e],img:o}),r.caches[e]=null,r.caches[i]=null)):t(!1)}),i),this.loadJson((function(n,o){n?(r.cache(e,o),r.caches[i]&&(t(!0,{json:o,img:r.caches[i]}),r.caches[e]=null,r.caches[i]=null)):t(!1)}),e)},e.prototype.loadJson=function(t,e){"tb"!=tt()?this.loadRawWeb((function(e,r){t(e,e?JSON.parse(r):r)}),e,"text"):this.tbLoad((function(e,r){t(e,e?JSON.parse(r):r)}),e,"utf8")},e.prototype.loadAB=function(t,e){"tb"==tt()?Ut.tbLoad(t,e,"ArrayBuffer"):Ut.loadRawWeb(t,e,"arraybuffer")},e.prototype.loadRawWeb=function(t,e,r){var i;void 0===r&&(r="json"),window.XMLHttpRequest?i=new XMLHttpRequest:window.ActiveXObject?i=new window.ActiveXObject:alert("请升级至最新版本的浏览器"),null!=i&&(i.open("GET",e,!0),i.responseType=r,i.send(),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&t(!0,i.response)},i.onerror=function(e){t(!1,e)})},e.prototype.loadImage=function(t,e){var r=rt();r.onload=function(){t(!0,r)},r.onerror=function(){t(!1)},0!==(e=encodeURI(e)).indexOf("data:")&&(r.crossOrigin="anonymous"),r.src=e},e.prototype.loadTexture=function(t,e,r){this.caches[e]||this.loadImage((function(i,n){i?(Gt.addToCache(Gt.from(n),r||e),t(!0,Lt[r||e])):t(!1)}),e)},e.prototype.tbLoad=function(t,e,r){var i=this;void 0===r&&(r="ArrayBuffer"),0==e.indexOf("cloud://")?this.getTbTempUrl((function(e){i.downloadReadFile(t,e,r)}),e):this.downloadReadFile(t,e,r)},e.prototype.getTbTempUrl=function(t,e){getApp().cloud.file.getTempFileURL({fileId:[e]}).then((function(e){t(e[0].url.replace("-internal",""))})).catch((function(t){console.error(t)}))},e.prototype.downloadReadFile=function(t,e,r){void 0===r&&(r="ArrayBuffer");var i=my;i.downloadFile({url:e,success:function(e){var n=e.apFilePath;i.getFileSystemManager().readFile({filePath:n,encoding:"ArrayBuffer"===r?"":r,success:function(e){t(!0,e.data)},fail:function(e){t(!1,e)}})},fail:function(e){t(!1,e)}})},e.prototype.cache=function(t,e){this.caches[t],this.caches[t]=e},e.prototype.get=function(t){return this.caches[t]},e}(R)),Wt=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=w.LINEAR);var i=t.call(this)||this;if(i._touchedId=0,i.width=100,i.height=100,i.scaleMode=r,i.hasLoaded=!1,i._isLoading=!1,i.source=null,i.imageType=null,i.premultipliedAlpha=!0,i.imageUrl=null,i.isPowerOfTwo=!1,i.mipmap=!0,i.wrapMode=T.CLAMP,i._glTextures={},i._enabledId=0,i.textureCacheIds=[],e)if(e.data)i._sourceChange(e);else if(e.getContext)i._sourceChange(e);else if(e.complete)i._sourceChange(e),i.dispatchEvent("loaded");else{var n=i;e.onload=function(){n._sourceChange(e),n.dispatchEvent("loaded")}}return i}return P(e,t),e.prototype.update=function(){this.width=this.source.width,this.height=this.source.height,this.hasLoaded=!(!this.width||!this.height),this.isPowerOfTwo=it(this.width)&&it(this.height),this.dispatchEvent("update")},e.prototype._sourceChange=function(t){this.source=t,this.imageUrl=t.src||t.path||null,this.imageType=this.source.type||null,this.hasLoaded=!0,this.update(),this.dispatchEvent("loaded")},e.prototype.destroy=function(){this.imageUrl&&(delete Lt[this.imageUrl],this.imageUrl=null),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null},e.prototype.dispose=function(){this.dispatchEvent("dispose")},e.fromUrl=function(t){if(Bt[t])return Bt[t];var r=new e;return Ut.loadImage((function(i,n){i&&(r._sourceChange(n),0!==t.indexOf("data:")&&e.addToCache(r,t))}),t),r},e.fromData=function(t){return new e(t)},e.fromCanvas=function(t,r){void 0===r&&(r="canvas"),t._canvasId||(t._canvasId=r+"_"+Mt());var i=Bt[t._canvasId];return i||(i=new e(t),e.addToCache(i,t._canvasId)),i},e.fromImage=function(t){var r=t.src,i=Bt[r];return i||(i=new e(t),r&&0!==r.indexOf("data:")&&e.addToCache(i,r)),i},e.from=function(t){return"string"==typeof t?e.fromUrl(t):t.data?e.fromData(t):t.getContext?e.fromCanvas(t):e.fromImage(t)},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Bt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),Bt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Bt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Bt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete Bt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(R),qt=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4),this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var o=t.width/2/i,a=t.height/2/n,s=t.x/i+o,l=t.y/n+a;r=X.add(r,X.NW),this.x0=s+o*X.uX(r),this.y0=l+a*X.uY(r),r=X.add(r,2),this.x1=s+o*X.uX(r),this.y1=l+a*X.uY(r),r=X.add(r,2),this.x2=s+o*X.uX(r),this.y2=l+a*X.uY(r),r=X.add(r,2),this.x3=s+o*X.uX(r),this.y3=l+a*X.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535,this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),Ht=function(t){function e(r,i,n,o,a,s){var l=t.call(this)||this;return l._instanceType="Texture",l.noFrame=!1,i||(l.noFrame=!0,i=new z(0,0,1,1)),r instanceof e&&(r=r.baseTexture),l.baseTexture=r,l._frame=i,l.trim=o||null,l.valid=!1,l._uvs=null,l.orig=n||i,l._rotate=Number(a||0),r.hasLoaded||r.source&&r.source.getContext?(l.noFrame&&(i=new z(0,0,r.width,r.height),r.addEventListener("update",l.onBaseTextureUpdated,l)),l.frame=i):r.once("loaded",l.onBaseTextureLoaded,l),l.defaultAnchor=s?new L(s.x,s.y):new L(0,0),l._updateID=0,l.transform=null,l.textureCacheIds=[],l}return P(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){var e=t.target;this._updateID++,this.noFrame?(this.frame=new z(0,0,e.width,e.height),this.baseTexture.addEventListener("update",this.onBaseTextureUpdated,this)):this.frame=this._frame,this.dispatchEvent("update"),this.dispatchEvent("loaded")},e.prototype.onBaseTextureUpdated=function(t){var e=t.target;this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.orig.width=this._frame.width,this.orig.height=this._frame.height,this.valid=e.hasLoaded,this.dispatchEvent("update")},e.prototype.destroy=function(){this.baseTexture&&(this.baseTexture.removeEventListener("update",this.onBaseTextureUpdated,this),this.baseTexture.removeEventListener("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs||(this._uvs=new qt),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,a=r+n>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",l="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,h="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+s+" "+h)}this.valid=i&&n&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate!=t&&(this._rotate=t,this.valid&&this.updateUvs())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!0,configurable:!0}),e.fromUrl=function(t){var r=Lt[t];return r||(r=new e(Wt.fromUrl(t)),e.addToCache(r,t)),r},e.fromCanvas=function(t,r){return void 0===r&&(r="canvas"),new e(Wt.fromCanvas(t,r))},e.fromData=function(t){return new e(Wt.fromData(t))},e.fromImage=function(t){var r=t.src,i=Lt[r];return i||(i=new e(Wt.fromImage(t)),r&&0!==r.indexOf("data:")&&e.addToCache(i,r)),i},e.from=function(t){return"string"==typeof t?e.fromUrl(t):t.data?e.fromData(t):t.getContext?e.fromCanvas(t):e.fromImage(t)},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Lt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),Lt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Lt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Lt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)Lt[t.textureCacheIds[i]]===t&&delete Lt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(R),Gt=Ht;function Yt(t){t.destroy=function(){},t.addEventListener=function(){},t.once=function(){},t.dispatchEvent=function(){}}Ht.EMPTY=new Ht(new Wt),Yt(Ht.EMPTY),Yt(Ht.EMPTY.baseTexture);var Xt={data:function(){for(var t=[],e=0;e<1024;e++)t.push(255);return new Uint8Array(t)}(),width:16,height:16,type:null,path:null};Ht.WHITE=new Ht(new Wt(Xt)),Yt(Ht.WHITE),Yt(Ht.WHITE.baseTexture);var Kt=new Uint16Array([0,1,2,0,2,3]),Zt=function(t){function e(e){var r=t.call(this)||this;return r._blendMode=b.NORMAL,r._instanceType="Sprite",r._anchorTexture=new N(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r._cachedTint=16777215,r._uvs=null,r.texture=e||Gt.EMPTY,r._vertexData=new Float32Array(8),r._vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r._indices=Kt,r.pluginName="sprite",r}return P(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!0,configurable:!0}),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._texture.valid&&(this._uvs=this._texture._uvs.uvsFloat32),this._width&&(this.scale.x=Ft(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ft(this.scale.y)*this._height/this._texture.orig.height),this.updateLocalBoundsSelf()},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1,this.updateLocalBoundsSelf()},e.prototype.updateLocalBoundsSelf=function(){var t=this._texture.orig.width,e=this._texture.orig.height;this._localBoundsSelf.x=-t*this.anchorTexture.x,this._localBoundsSelf.y=-e*this.anchorTexture.y,this._localBoundsSelf.width=t,this._localBoundsSelf.height=e},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldMatrix,r=e.a,i=e.b,n=e.c,o=e.d,a=e.tx,s=e.ty,l=this._vertexData,h=t.trim,u=t.orig,c=this._anchorTexture,p=0,f=0,d=0,m=0;h?(p=(f=h.x-c._x*u.width)+h.width,d=(m=h.y-c._y*u.height)+h.height):(p=(f=-c._x*u.width)+u.width,d=(m=-c._y*u.height)+u.height),l[0]=r*f+n*m+a,l[1]=o*m+i*f+s,l[2]=r*p+n*m+a,l[3]=o*m+i*p+s,l[4]=r*p+n*d+a,l[5]=o*d+i*p+s,l[6]=r*f+n*d+a,l[7]=o*d+i*f+s}},e.prototype.calculateTrimmedVertices=function(){if(this._vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this._vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this._vertexTrimmedData,r=t.orig,i=this._anchorTexture,n=this.transform.worldMatrix,o=n.a,a=n.b,s=n.c,l=n.d,h=n.tx,u=n.ty,c=-i._x*r.width,p=c+r.width,f=-i._y*r.height,d=f+r.height;e[0]=o*c+s*f+h,e[1]=l*f+a*c+u,e[2]=o*p+s*f+h,e[3]=l*f+a*p+u,e[4]=o*p+s*d+h,e[5]=l*d+a*p+u,e[6]=o*c+s*d+h,e[7]=l*d+a*c+u},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.batchManager.setObjectRenderer(t.plugins.batch),t.plugins.batch.render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),z.createFromVertexData(this._bounds,this._vertexData)):(this.calculateTrimmedVertices(),z.createFromVertexData(this._bounds,this._vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(e||(e=K.temBounds),e.copy(this._localBoundsSelf),e):t.prototype.getLocalBounds.call(this,e)},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(i=t.prototype.hitTestPoint.call(this,e,r))?i:(i=this.displayObjectHitTestPoint(e,r))||null:null;var i},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._texture.removeEventListener("update",this._onTextureUpdate,this),this._anchorTexture=null,this._texture=null,this._indices=null,this._uvs=null,this._vertexData=null,this._vertexTrimmedData=null,this.tintedTexture&&(this.tintedTexture=null)},Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=Ft(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=Ft(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorTexture",{get:function(){return this._anchorTexture},set:function(t){this._anchorTexture.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture===Gt.EMPTY?null:this._texture},set:function(t){this._texture!==t&&(this._texture==Gt.EMPTY||null==this._texture||this._texture.baseTexture.hasLoaded||this._texture.removeEventListener("update",this._onTextureUpdate,this),this._texture=t||Gt.EMPTY,this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,t?t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this):this.updateLocalBoundsSelf())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16))},enumerable:!0,configurable:!0}),e.fromUrl=function(t){return new e(Gt.fromUrl(t))},e.fromFrame=function(t){var r=Lt[t];return r||console.warn("TextureCache中不存在纹理frameId"),new e(r)},e}(Z),Jt=function(t){function e(e){var r=t.call(this,e)||this;return r.clientX=0,r.clientY=0,r.stageX=0,r.stageY=0,r.localX=0,r.localY=0,r.currentTarget=null,r.identifier=0,r._instanceType="MouseEvent",r}return P(e,t),e.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},e.prototype.destroy=function(){this.currentTarget=null,t.prototype.destroy.call(this)},e.MOUSE_DOWN="onMouseDown",e.MOUSE_UP="onMouseUp",e.CLICK="onMouseClick",e.MOUSE_MOVE="onMouseMove",e.MOUSE_OVER="onMouseOver",e.MOUSE_OUT="onMouseOut",e}(D),Qt=function(){this.textures=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=x.TRIANGLES},$t=function(){function t(t){this.renderer=t,this.renderer.addEventListener("onContextChange",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.flush=function(){},t.prototype.render=function(t){},t.prototype.destroy=function(){this.renderer.removeEventListener("onContextChange",this.onContextChange,this),this.renderer=null},t}();var te=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function ee(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var i=et();i.width=1,i.height=1,e=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}(i)}for(var n=e.createShader(e.FRAGMENT_SHADER);;){var o=te.replace(/%forloop%/gi,re(t));if(e.shaderSource(n,o),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))break;t=t/2|0}return r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t}function re(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}var ie=function(){function t(t){this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}(),ne=function(){function t(t,e,r,i,n){this.uploadData=function(t,e,r){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!oe){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");oe=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=i||t.RGBA,this.type=n||t.UNSIGNED_BYTE}return t.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,i=t.videoHeight||t.height;i!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=i},t.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},t.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},t.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},t.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},t.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},t.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},t.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},t.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},t.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},t.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},t.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},t.fromSource=function(e,r,i){var n=new t(e);return n.premultiplyAlpha=i||!1,n.upload(r),n},t.fromData=function(e,r,i,n){var o=new t(e);return o.uploadData(r,i,n),o},t}(),oe=!1,ae=new ArrayBuffer(0),se=function(){function t(t,e,r,i){this.destroy=function(){this.gl.deleteBuffer(this.buffer)},this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=ae,r&&this.upload(r),this._updateID=0}return t.prototype.upload=function(t,e,r){r||this.bind();var i=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?i.bufferSubData(this.type,e,t):i.bufferData(this.type,t,this.drawType),this.data=t},t.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},t.createVertexBuffer=function(e,r,i){return new t(e,e.ARRAY_BUFFER,r,i)},t.createIndexBuffer=function(e,r,i){return new t(e,e.ELEMENT_ARRAY_BUFFER,r,i)},t.create=function(e,r,i,n){return new t(e,r,i,n)},t}();var le=function(){function t(e,r){if(this.nativeVaoExtension=null,t.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=r,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var i=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(i),attribState:new Array(i)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}return t.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},t.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},t.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var i=this.attributes[r];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),i.attribute.pointer(i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return function(t,e,r){var i;if(r){var n=r.tempAttribState,o=r.attribState;for(i=0;i<n.length;i++)n[i]=!1;for(i=0;i<e.length;i++)n[e[i].attribute.location]=!0;for(i=0;i<o.length;i++)o[i]!==n[i]&&(o[i]=n[i],r.attribState[i]?t.enableVertexAttribArray(i):t.disableVertexAttribArray(i))}else for(i=0;i<e.length;i++){var a=e[i];t.enableVertexAttribArray(a.attribute.location)}}(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},t.prototype.addAttribute=function(t,e,r,i,n,o,a){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:i||!1,stride:n||0,start:o||0,name:a}),this.dirty=!0,this},t.prototype.removeAttribute=function(t,e){void 0===e&&(e=!0);for(var r=this.attributes.length-1;r>=0;r--){if(this.attributes[r].name===t&&(this.attributes.splice(r,1),this.dirty=!0,e))break}return this},t.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},t.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},t.prototype.draw=function(t,e,r){var i=this.gl;return this.indexBuffer?i.drawElements(t,e||this.indexBuffer.data.length,i.UNSIGNED_SHORT,2*(r||0)):i.drawArrays(t,r||0,e||this.getSize()),this},t.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},t.prototype.getSize=function(){var t=this.attributes[0];return(t.buffer.data.length||t.buffer.data.byteLength/4)/(t.stride/4||t.attribute.size)},t.FORCE_NATIVE=!1,t}(),he=function(){function t(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100}return t.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new ne(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},t.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},t.prototype.clear=function(t,e,r,i){this.bind();var n=this.gl;n.clearColor(t,e,r,i),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},t.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},t.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},t.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},t.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},t.createRGBA=function(e,r,i,n){var o=ne.fromData(e,n||null,r,i);o.enableNearestScaling(),o.enableWrapClamp();var a=new t(e,r,i);return a.enableTexture(o),a.enableStencil(),a.unbind(),a},t.createFloat32=function(e,r,i,n){var o=ne.fromData(e,n,r,i);o.enableNearestScaling(),o.enableWrapClamp();var a=new t(e,r,i);return a.enableTexture(o),a.unbind(),a},t}();var ue=function(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(t.getShaderInfoLog(i),null)};function ce(t,e){if(!pe){var r=Object.keys(fe);pe={};for(var i=0;i<r.length;++i){var n=r[i];pe[t[n]]=fe[n]}}return pe[e]}var pe=null,fe={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};function de(t){return me[t]}var me={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ve(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return ye(2*e);case"bvec3":return ye(3*e);case"bvec4":return ye(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}var ye=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};function ge(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}function _e(t,e){var r={data:{}};r.gl=t;for(var i=Object.keys(e),n=0;n<i.length;n++){var o=i[n],a=o.split("."),s=a[a.length-1],l=Ee(a,r),h=e[o];l.data[s]=h,l.gl=t,Object.defineProperty(l,s,{get:be(s),set:Te(s,h)})}return r}var be=function(t){return function(){return this.data[t].value}},xe={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},we={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)}};function Te(t,e){return function(r){this.data[t].value=r;var i=this.data[t].location;1===e.size?xe[e.type](this.gl,i,r):we[e.type](this.gl,i,r)}}function Ee(t,e){for(var r=e,i=0;i<t.length-1;i++){var n=r[t[i]]||{data:{}};r[t[i]]=n,r=n}return r}var Se=function(){function t(t,e,r,i,n){this.gl=t,i&&(e=ge(e,i),r=ge(r,i)),this.program=function(t,e,r,i){var n=ue(t,t.VERTEX_SHADER,e),o=ue(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,n),t.attachShader(a,o),i)for(var s in i)t.bindAttribLocation(a,i[s],s);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(n),t.deleteShader(o),a}(t,e,r,n),this.attributes=function(t,e){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=0;n<i;n++){var o=t.getActiveAttrib(e,n),a=ce(t,o.type);r[o.name]={type:a,size:de(a),location:t.getAttribLocation(e,o.name),pointer:function(e,r,i,n){void 0===e&&(e=t.FLOAT),void 0===r&&(r=!1),void 0===i&&(i=0),void 0===n&&(n=0),t.vertexAttribPointer(this.location,this.size,e,r,i,n)}}}return r}(t,this.program),this.uniformData=function(t,e){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=t.getActiveUniform(e,n),a=o.name.replace(/\[.*?\]/,""),s=ce(t,o.type);r[a]={type:s,size:o.size,location:t.getUniformLocation(e,a),value:ve(s,o.size)}}return r}(t,this.program),this.uniforms=_e(t,this.uniformData)}return t.prototype.bind=function(){return this.gl.useProgram(this.program),this},t.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t}(),Me=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n");var Ae=0,Ce=function(t){function e(e){var r=t.call(this,e)||this;r.vertSize=6,r.vertByteSize=4*r.vertSize,r.size=8e3,r.currentSize=0,r.currentIndexSize=0,r.aBuffers={},r.iBuffers={},r.shader=null,r.currentIndex=0,r.groups=[];for(var i=0;i<r.size/4;i++)r.groups[i]=new Qt;return r.elements=[],r.vertexBuffers=[],r.indexBuffers=[],r.vaos=[],r.vaoMax=2,r.vertexCount=0,r.renderer.addEventListener("onPreRender",r.onPreRender,r),r}return P(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),16),this.MAX_TEXTURES=ee(this.MAX_TEXTURES,t),this.shader=function(t,e){var r=Me;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var i=new Se(t,"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;attribute vec4 aColor;attribute float aTextureId;uniform mat3 projectionMatrix;varying vec2 vTextureCoord;varying vec4 vColor;varying float vTextureId;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vTextureId = aTextureId;vColor = aColor;}",r),n=[],o=0;o<e;o++)n[o]=o;return i.bind(),i.uniforms.uSamplers=n,i}(t,this.MAX_TEXTURES),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var i=this.vertexBuffers[r]=se.createVertexBuffer(t,null,t.STREAM_DRAW),n=this.indexBuffers[r]=se.createIndexBuffer(t,null,t.STREAM_DRAW),o=this.renderer.createVao().addIndex(n).addAttribute(i,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(i,e.aTextureCoord,t.FLOAT,!0,this.vertByteSize,8).addAttribute(i,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,16).addAttribute(i,e.aTextureId,t.FLOAT,!1,this.vertByteSize,20);this.vaos[r]=o}},e.prototype.onPreRender=function(){this.vertexCount=0},e.prototype.render=function(t){t._texture&&t._texture.valid&&(this.currentSize+t._vertexData.length/2>this.size&&this.flush(),this.elements[this.currentIndex++]=t,this.currentSize+=t._vertexData.length/2,this.currentIndexSize+=t._indices.length)},e.prototype.getIndexBuffer=function(t){var e=ot(Math.ceil(t/12)),r=nt(e),i=12*e,n=this.iBuffers[r];return n||(this.iBuffers[r]=n=new Uint16Array(i)),n},e.prototype.getAttributeBuffer=function(t){var e=ot(Math.ceil(t/8));nt(e);var r=8*e,i=this.aBuffers[r];return i||(this.aBuffers[r]=i=new ie(r*this.vertByteSize)),i},e.prototype.flush=function(){if(0!==this.currentSize){var t,e,r,i=this.renderer.gl,n=this.MAX_TEXTURES,o=this.getAttributeBuffer(this.currentSize),a=this.getIndexBuffer(this.currentIndexSize),s=this.elements,l=this.groups,h=o.float32View,u=o.uint32View,c=this.renderer.textureGC.count,p=0,f=0,d=1,m=0,v=l[0],y=Et[s[0]._texture.baseTexture.premultipliedAlpha?1:0][s[0]._blendMode];for(v.textureCount=0,v.start=0,Ae++,r=0;r<this.currentIndex;++r){var g=s[r];s[r]=null,t=g._texture.baseTexture;var _=Et[t.premultipliedAlpha?1:0][g._blendMode];y!==_&&(y=_,e=null,m=n,Ae++),e!==t&&(e=t,t._enabledId!==Ae&&(m===n&&(Ae++,m=0,v.size=f-v.start,(v=l[d++]).textureCount=0,v.blend=y,v.start=f),t._touchedId=c,t._enabledId=Ae,t._id=m,v.textures[v.textureCount++]=t,m++)),this.packGeometry(g,h,u,a,p,f),p+=g._vertexData.length/2*this.vertSize,f+=g._indices.length}v.size=f-v.start,this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!0),this.indexBuffers[this.vertexCount].upload(a,0,!0);var b=this.renderer.textureManager;for(r=0;r<d;r++){for(var x=l[r],w=x.textureCount,T=0;T<w;T++)x.textures[T]!=b.boundTextures[T]&&b.bindTexture(x.textures[T],T,!0),x.textures[T]=null;this.renderer.setBlendMode(x.blend),i.drawElements(x.type,x.size,i.UNSIGNED_SHORT,2*x.start)}this.currentIndex=0,this.currentSize=0,this.currentIndexSize=0}},e.prototype.packGeometry=function(t,e,r,i,n,o){for(var a=n/this.vertSize,s=t._uvs,l=t._indices,h=t._vertexData,u=t._texture.baseTexture._id,c=null==t._tintRGB?16777215:t._tintRGB,p=Math.min(t._worldAlpha,1),f=p<1&&t._texture.baseTexture.premultipliedAlpha?function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n=n*e+.5|0)}(c,p):c+(255*p<<24),d=0;d<h.length;d+=2)e[n++]=h[d],e[n++]=h[d+1],e[n++]=s[d],e[n++]=s[d+1],r[n++]=f,e[n++]=u;for(d=0;d<l.length;d++)i[o++]=a+l[d]},e.prototype.start=function(){this.renderer.bindShader(this.shader),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind(),this.indexBuffers[this.vertexCount].bind()},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vaos[e]&&this.vaos[e].destroy();this.renderer.removeEventListener("onPreRender",this.onPreRender,this),this.shader&&(this.shader.destroy(),this.shader=null),this.vaos=null,t.prototype.destroy.call(this)},e}($t),Pe=function(){function t(t,e,r,i,n){void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=w.LINEAR),void 0===n&&(n=!1),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new z(0,0,1,1),this.projectionMatrix=new B,this.transform=null,this.frame=null,this.defaultFrame=new z,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=i,this.root=n,this.root?(this.frameBuffer=new he(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=he.createRGBA(t,100,100),this.scaleMode===w.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(e,r)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width,0|this.destinationFrame.height)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width,0|this.destinationFrame.height)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t,e);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}(),ke=function(){function t(t){this._nextTextureLocation=0,this.renderer=t,this.gl=t.gl,this._managedTextures=[],this.renderer.addEventListener("onContextChange",this.onContextChange,this)}return t.prototype.onContextChange=function(){var t=this.gl,e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=new Array(e),this.emptyTextures=new Array(e);var r=ne.fromData(t,null,1,1),i={_glTextures:{}};i._glTextures[this.renderer.CONTEXT_UID]={};for(var n=0;n<e;n++){var o=new Wt;o._glTextures[this.renderer.CONTEXT_UID]=r,this.boundTextures[n]=i,this.emptyTextures[n]=o,this.bindTexture(null,n)}},t.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t)._touchedId=this.renderer.textureGC.count,r)e=e||0;else{for(var i=0;i<this.boundTextures.length;i++)if(this.boundTextures[i]===t)return i;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var n=this.gl,o=t._glTextures[this.renderer.CONTEXT_UID];return o?(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.boundTextures[e]!==t&&n.bindTexture(n.TEXTURE_2D,o.texture),this.boundTextures[e]=t):this.updateTexture(t,e),e},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){t="Event"===t.instanceType?t.target.baseTexture||t.target:t.baseTexture||t;var r=this.gl,i=!!t._glRenderTargets;if(!t.hasLoaded)return null;var n=this.boundTextures;if(void 0===e){e=0;for(var o=0;o<n.length;++o)if(n[o]===t){e=o;break}}n[e]=t,this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e));var a=t._glTextures[this.renderer.CONTEXT_UID];if(a)i?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):t.source.data?a.uploadData(t.source.data,t.width,t.height):a.upload(t.source);else{if(i){var s=new Pe(this.gl,t.width,t.height,t.scaleMode,!1);s.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=s,a=s.texture}else(a=new ne(this.gl,null,null,null,null)).premultiplyAlpha=!0,t.source.data?a.uploadData(t.source.data,t.width,t.height):a.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=a,t.addEventListener("update",this.updateTexture,this),t.addEventListener("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&a.enableMipmap(),t.wrapMode===T.CLAMP?a.enableWrapClamp():t.wrapMode===T.REPEAT?a.enableWrapRepeat():a.enableWrapMirrorRepeat()):a.enableWrapClamp(),t.scaleMode===w.NEAREST?a.enableNearestScaling():a.enableLinearScaling()}return a},t.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.renderer.CONTEXT_UID].texture))},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer.CONTEXT_UID,i=t._glTextures,n=t._glRenderTargets;if(i[r]&&(this.unbindTexture(t),i[r].destroy(),t.removeEventListener("update",this.updateTexture,this),t.removeEventListener("dispose",this.destroyTexture,this),delete i[r],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&function(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}(this._managedTextures,o,1)}n&&n[r]&&(n[r].destroy(),delete n[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0)}this.renderer.removeEventListener("onContextChange",this.onContextChange,this),this.renderer=null,this._managedTextures=null},t}(),Oe=function(){function t(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=3600,this.checkCountMax=600,this.mode=E.AUTO}return t.prototype.update=function(){this.count++,this.mode!==E.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n._glRenderTargets&&this.count-n._touchedId>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){var o=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[o++]=e[i]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}(),Ie=function(){function t(t){this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=function(t,e){return void 0===e&&(e=[]),e[b.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.ADD]=[t.ONE,t.DST_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.NONE]=[0,0],e[b.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[b.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e[b.SRC_OVER]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[b.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[b.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[b.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[b.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[b.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[b.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[b.ERASE]=[t.ZERO,t.ONE,t.SRC_ALPHA,0],e[b.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(t=1;t<this.maxAttribs;t++)this.gl.disableVertexAttribArray(t)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t.prototype.resetTo3D=function(){this.setDepthTest(1),this.setFrontFace(0),this.setCullFace(1)},t}(),De=function(){function t(t){this.renderer=t,this.emptyRenderer=new $t(t),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t}();function Re(t){for(var e,r=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),i={},n=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<n.length;o++){var a=n[o].trim();if(a.indexOf("uniform")>-1){var s=a.split(" "),l=s[1],h=s[2],u=1;h.indexOf("[")>-1&&(e=h.split(/\[|]/),h=e[0],u*=Number(e[1])),h.match(r)||(i[h]={value:ve(l,u),name:h,type:l})}}return i}var Fe={},Le=function(){function t(e,r,i){for(var n in this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=b.NORMAL,this.uniformData=i||function(t,e){var r=Re(t),i=Re(e);return Object.assign(r,i)}(this.vertexSrc,this.fragmentSrc),this.uniforms={},this.uniformData)this.uniforms[n]=this.uniformData[n].value,this.uniformData[n].type&&(this.uniformData[n].type=this.uniformData[n].type.toLowerCase());this.glShaders={},Fe[this.vertexSrc+this.fragmentSrc]||(Fe[this.vertexSrc+this.fragmentSrc]=Mt()),this.glShaderKey=Fe[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=1,this.enabled=!0,this.autoFit=!0}return Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this._blendMode=t},enumerable:!0,configurable:!0}),t.prototype.apply=function(t,e,r,i){t.applyFilter(this,e,r,i)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")},enumerable:!0,configurable:!0}),t}(),Be=["precision highp float;","varying vec2 v_rgbNW;","varying vec2 v_rgbNE;","varying vec2 v_rgbSW;","varying vec2 v_rgbSE;","varying vec2 v_rgbM;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform vec4 filterArea;","#ifndef FXAA_REDUCE_MIN","#define FXAA_REDUCE_MIN   (1.0/ 128.0)","#endif","#ifndef FXAA_REDUCE_MUL","#define FXAA_REDUCE_MUL   (1.0 / 8.0)","#endif","#ifndef FXAA_SPAN_MAX","#define FXAA_SPAN_MAX     8.0","#endif","vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,","vec2 v_rgbNW, vec2 v_rgbNE,","vec2 v_rgbSW, vec2 v_rgbSE,","vec2 v_rgbM) {","vec4 color;","mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);","vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;","vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;","vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;","vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;","vec4 texColor = texture2D(tex, v_rgbM);","vec3 rgbM  = texColor.xyz;","vec3 luma = vec3(0.299, 0.587, 0.114);","float lumaNW = dot(rgbNW, luma);","float lumaNE = dot(rgbNE, luma);","float lumaSW = dot(rgbSW, luma);","float lumaSE = dot(rgbSE, luma);","float lumaM  = dot(rgbM,  luma);","float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));","float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));","mediump vec2 dir;","dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));","dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));","float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *","(0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);","float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);","dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),","max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),","dir * rcpDirMin)) * inverseVP;","vec3 rgbA = 0.5 * (","texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +","texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);","vec3 rgbB = rgbA * 0.5 + 0.25 * (","texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +","texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);","float lumaB = dot(rgbB, luma);","if ((lumaB < lumaMin) || (lumaB > lumaMax))","color = vec4(rgbA, texColor.a);","else","color = vec4(rgbB, texColor.a);","return color;","}","void main() {","vec2 fragCoord = vTextureCoord * filterArea.xy;","vec4 color;","color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);","gl_FragColor = color;","}"].join("\n"),Ne=(function(t){function e(){return t.call(this,"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;varying vec2 v_rgbNW;varying vec2 v_rgbNE;varying vec2 v_rgbSW;varying vec2 v_rgbSE;varying vec2 v_rgbM;uniform vec4 filterArea;varying vec2 vTextureCoord;vec2 mapCoord( vec2 coord ){coord *= filterArea.xy;coord += filterArea.zw;return coord;}vec2 unmapCoord( vec2 coord ){coord -= filterArea.zw;coord /= filterArea.xy;return coord;}void texcoords(vec2 fragCoord, vec2 resolution,out vec2 v_rgbNW, out vec2 v_rgbNE,out vec2 v_rgbSW, out vec2 v_rgbSE,out vec2 v_rgbM) {vec2 inverseVP = 1.0 / resolution.xy;v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;v_rgbM = vec2(fragCoord * inverseVP);}void main(void) {gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vec2 fragCoord = vTextureCoord * filterArea.xy;texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);}",Be)||this}P(e,t)}(Le),"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;varying vec2 vTextureCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;}"),ze=(function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var i=t.call(this,Ne,"precision mediump float;varying vec2 vTextureCoord;varying vec4 vColor;uniform float uNoise;uniform float uSeed;uniform sampler2D uSampler;float rand(vec2 co){return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);}void main(){vec4 color = texture2D(uSampler, vTextureCoord);float randomValue = rand(gl_FragCoord.xy * uSeed);float diff = (randomValue - 0.5) * uNoise;if (color.a > 0.0) {color.rgb /= color.a;}color.r += diff;color.g += diff;color.b += diff;color.rgb *= color.a;gl_FragColor = color;}")||this;return i.noise=e,i.seed=r,i}P(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!0,configurable:!0})}(Le),function(t){function e(e,r){var i=this,n=new B;return e.renderable=!1,(i=t.call(this,"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;uniform mat3 filterMatrix;varying vec2 vTextureCoord;varying vec2 vFilterCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;vTextureCoord = aTextureCoord;}","precision mediump float;varying vec2 vFilterCoord;varying vec2 vTextureCoord;uniform vec2 scale;uniform sampler2D uSampler;uniform sampler2D mapSampler;uniform vec4 filterArea;uniform vec4 filterClamp;void main(void){vec4 map = texture2D(mapSampler, vFilterCoord);map -= 0.5;map.xy *= scale / filterArea.xy;gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));}")||this).maskSprite=e,i.maskMatrix=n,i.uniforms.mapSampler=e._texture,i.uniforms.filterMatrix=n,i.uniforms.scale={x:1,y:1},null==r&&(r=20),i.scale=new L(r,r),i}P(e,t),e.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!0,configurable:!0})}(Le),["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n"));function je(t,e){var r,i=Math.ceil(t/2),n=ze,o="";r=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var s=r.replace("%index%",a);o+=s=s.replace("%sampleIndex%",a-(i-1)+".0"),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}var Ve={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Ue=["precision mediump float;","varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function We(t){for(var e,r=Ve[t],i=r.length,n=Ue,o="",a=0;a<t;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a+"");e=a,a>=i&&(e=t-a-1),o+=s=s.replace("%value%",r[e]),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}function qe(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}var He=function(t){function e(e,r,i,n){var o=this,a=je(n=n||5,!0),s=We(n);return(o=t.call(this,a,s)||this).resolution=i||1,o._quality=0,o.quality=r||4,o.strength=e||8,o.firstRun=!0,o}return P(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!0,configurable:!0}),e.prototype.apply=function(t,e,r,i){if(this.firstRun){var n=qe(t.renderer.gl);this.vertexSrc=je(n,!0),this.fragmentSrc=We(n),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{for(var o=t.getRenderTarget(!0),a=e,s=o,l=0;l<this.passes-1;l++){t.applyFilter(this,a,s,!0);var h=s;s=a,a=h}t.applyFilter(this,a,r,i),t.returnRenderTarget(o)}},e}(Le),Ge=function(t){function e(e,r,i,n){var o=this,a=je(n=n||5,!1),s=We(n);return(o=t.call(this,a,s)||this).resolution=i||1,o._quality=0,o.quality=r||4,o.strength=e||8,o.firstRun=!0,o}return P(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!0,configurable:!0}),e.prototype.apply=function(t,e,r,i){if(this.firstRun){var n=qe(t.renderer.gl);this.vertexSrc=je(n,!1),this.fragmentSrc=We(n),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{for(var o=t.getRenderTarget(!0),a=e,s=o,l=0;l<this.passes-1;l++){t.applyFilter(this,a,s,!0);var h=s;s=a,a=h}t.applyFilter(this,a,r,i),t.returnRenderTarget(o)}},e}(Le),Ye=(function(t){function e(e,r,i,n){var o=t.call(this)||this;return o.blurXFilter=new He(e,r,i,n),o.blurYFilter=new Ge(e,r,i,n),o.padding=0,o.resolution=i||1,o.quality=r||4,o.blur=e||8,o}P(e,t),e.prototype.apply=function(t,e,r){var i=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,i,!0),this.blurYFilter.apply(t,i,r,!1),t.returnRenderTarget(i)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!0,configurable:!0})}(Le),function(t){function e(e){var r=t.call(this,Ne,"precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform float m[20];uniform float uAlpha;void main(void){vec4 c = texture2D(uSampler, vTextureCoord);if (uAlpha == 0.0) {gl_FragColor = c;return;}if (c.a > 0.0) {c.rgb /= c.a;}vec4 result;result.r = (m[0] * c.r);result.r += (m[1] * c.g);result.r += (m[2] * c.b);result.r += (m[3] * c.a);result.r += m[4];result.g = (m[5] * c.r);result.g += (m[6] * c.g);result.g += (m[7] * c.b);result.g += (m[8] * c.a);result.g += m[9];result.b = (m[10] * c.r);result.b += (m[11] * c.g);result.b += (m[12] * c.b);result.b += (m[13] * c.a);result.b += m[14];result.a = (m[15] * c.r);result.a += (m[16] * c.g);result.a += (m[17] * c.b);result.a += (m[18] * c.a);result.a += m[19];vec3 rgb = mix(c.rgb, result.rgb, uAlpha);rgb *= result.a;gl_FragColor = vec4(rgb, result.a);}")||this;return r.uniforms.m=e||[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return P(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),a=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,a=(r>>8&255)/255,s=(255&r)/255,l=((i=i||3375104)>>16&255)/255,h=(i>>8&255)/255,u=(255&i)/255,c=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,l,h,u,e=e||.15,0,o-l,a-h,s-u,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!0,configurable:!0}),e}(Le));Ye.prototype.grayscale=Ye.prototype.greyscale;!function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,Ne,"precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform float uAlpha;void main(void){gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;}")||this;return r.alpha=e,r.glShaderKey="alpha",r}P(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!0,configurable:!0})}(Le);var Xe=new B,Ke=function(){function t(t,e){void 0===e&&(e=.5),this._texture=t,this.mapCoord=new B,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=e}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1},enumerable:!0,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(Xe.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Xe));var o=e.baseTexture,a=this.uClampFrame,s=this.clampMargin,l=this.clampOffset;return a[0]=(e._frame.x+s+l)/o.width,a[1]=(e._frame.y+s+l)/o.height,a[2]=(e._frame.x+e._frame.width-s+l)/o.width,a[3]=(e._frame.y+e._frame.height-s+l)/o.height,this.uClampOffset[0]=l/o.width,this.uClampOffset[1]=l/o.height,!0},t}(),Ze=function(t){function e(e){var r=this,i=new B;return r=t.call(this,"attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;uniform mat3 otherMatrix;varying vec2 vMaskCoord;varying vec2 vTextureCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;}","precision mediump float;varying vec2 vMaskCoord;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform sampler2D mask;uniform float alpha;uniform vec4 maskClamp;void main(void){float clip = step(3.5,step(maskClamp.x, vMaskCoord.x) +step(maskClamp.y, vMaskCoord.y) +step(vMaskCoord.x, maskClamp.z) +step(vMaskCoord.y, maskClamp.w));vec4 original = texture2D(uSampler, vTextureCoord);vec4 masky = texture2D(mask, vMaskCoord);original *= (masky.a * alpha * clip);gl_FragColor = original;}")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=i,r}return P(e,t),e.prototype.apply=function(t,e,r){var i=this.maskSprite,n=this.maskSprite.texture;n&&n.valid&&(n.transform||(n.transform=new Ke(n,0)),n.transform.update(),this.uniforms.mask=n,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(n.transform.mapCoord),this.uniforms.alpha=i._worldAlpha,this.uniforms.maskClamp=n.transform.uClampFrame,t.applyFilter(this,e,r))},e}(Le),Je=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","const float resolution=1024.0;","uniform float radius;","uniform vec2 dir;","void main() {","vec4 sum = vec4(0.0);","vec2 tc = vTextureCoord;","float blur = radius/resolution;","float hstep = dir.x;","float vstep = dir.y;","sum += texture2D(uSampler, vec2(tc.x - 4.0*blur*hstep, tc.y - 4.0*blur*vstep)) * 0.0162162162;","sum += texture2D(uSampler, vec2(tc.x - 3.0*blur*hstep, tc.y - 3.0*blur*vstep)) * 0.0540540541;","sum += texture2D(uSampler, vec2(tc.x - 2.0*blur*hstep, tc.y - 2.0*blur*vstep)) * 0.1216216216;","sum += texture2D(uSampler, vec2(tc.x - 1.0*blur*hstep, tc.y - 1.0*blur*vstep)) * 0.1945945946;","sum += texture2D(uSampler, vec2(tc.x, tc.y)) * 0.2270270270;","sum += texture2D(uSampler, vec2(tc.x + 1.0*blur*hstep, tc.y + 1.0*blur*vstep)) * 0.1945945946;","sum += texture2D(uSampler, vec2(tc.x + 2.0*blur*hstep, tc.y + 2.0*blur*vstep)) * 0.1216216216;","sum += texture2D(uSampler, vec2(tc.x + 3.0*blur*hstep, tc.y + 3.0*blur*vstep)) * 0.0540540541;","sum += texture2D(uSampler, vec2(tc.x + 4.0*blur*hstep, tc.y + 4.0*blur*vstep)) * 0.0162162162;","vec4 cc= texture2D(uSampler,vTextureCoord );","gl_FragColor =vec4(sum.rgb, cc.a);","}"].join("\n"),Qe=(function(t){function e(e){void 0===e&&(e=.5);var r=t.call(this,Ne,Je)||this;return r.blur=e,r.uniforms.dir=[1,1],r}P(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur!==t&&(t>1&&(t=1),t<0&&(t=0),this._blur=t,this.uniforms.radius=10*t)},enumerable:!0,configurable:!0})}(Le),["precision mediump float;","uniform sampler2D uSampler;","varying vec2 vTextureCoord;","uniform float threshold;","void main() {","vec4 color = texture2D(uSampler, vTextureCoord);","float _max = max(max(color.r, color.g), color.b);","float _min = min(min(color.r, color.g), color.b);","float brightness = (_max + _min) * 0.5;","if(brightness > threshold) {","gl_FragColor = color;","} else {","gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);","}","}"].join("\n")),$e=function(t){function e(e){void 0===e&&(e=.5);var r=t.call(this,Ne,Qe)||this;return r.threshold=e,r}return P(e,t),Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(t){this.uniforms.threshold=t},enumerable:!0,configurable:!0}),e}(Le),tr=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform vec2 uOffset;","uniform vec4 filterClamp;","void main(void)","{","vec4 color = vec4(0.0);","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));","color *= 0.25;","gl_FragColor = color;","}"].join("\n"),er=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform vec2 uOffset;","void main(void)","{","vec4 color = vec4(0.0);","color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));","color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));","color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));","color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));","color *= 0.25;","gl_FragColor = color;","}"].join("\n"),rr=function(t){function e(e,r,i){void 0===e&&(e=4),void 0===r&&(r=3),void 0===i&&(i=!1);var n=t.call(this,Ne,i?tr:er)||this;return n.uniforms.uOffset=new Float32Array(2),n._pixelSize=new L,n.pixelSize=1,n._clamp=i,n._kernels=null,Array.isArray(e)?n.kernels=e:(n._blur=e,n.quality=r),n}return P(e,t),e.prototype.apply=function(t,e,r,i){var n,o=this.pixelSize.x/e.size.width,a=this.pixelSize.y/e.size.height;if(1===this._quality||0===this._blur)n=this._kernels[0]+.5,this.uniforms.uOffset[0]=n*o,this.uniforms.uOffset[1]=n*a,t.applyFilter(this,e,r,i);else{for(var s=t.getRenderTarget(),l=e,h=s,u=void 0,c=this._quality-1,p=0;p<c;p++)n=this._kernels[p]+.5,this.uniforms.uOffset[0]=n*o,this.uniforms.uOffset[1]=n*a,t.applyFilter(this,l,h,!0),u=l,l=h,h=u;n=this._kernels[c]+.5,this.uniforms.uOffset[0]=n*o,this.uniforms.uOffset[1]=n*a,t.applyFilter(this,l,r,i),t.returnRenderTarget(s)}},e.prototype._generateKernels=function(){var t=this._blur,e=this._quality,r=[t];if(t>0)for(var i=t,n=t/e,o=1;o<e;o++)i-=n,r.push(i);this._kernels=r},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(t){Array.isArray(t)&&t.length>0?(this._kernels=t,this._quality=t.length,this._blur=Math.max.apply(Math,t)):(this._kernels=[0],this._quality=1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(t){"number"==typeof t?(this._pixelSize.x=t,this._pixelSize.y=t):Array.isArray(t)?(this._pixelSize.x=t[0],this._pixelSize.y=t[1]):t instanceof L?(this._pixelSize.x=t.x,this._pixelSize.y=t.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=Math.max(1,Math.round(t)),this._generateKernels()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur=t,this._generateKernels()},enumerable:!0,configurable:!0}),e}(Le),ir=["precision mediump float;","uniform sampler2D uSampler;","varying vec2 vTextureCoord;","uniform sampler2D bloomTexture;","uniform float bloomScale;","uniform float brightness;","void main() {","vec4 color = texture2D(uSampler, vTextureCoord);","color.rgb *= brightness;","vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);","bloomColor.rgb *= bloomScale;","gl_FragColor = color + bloomColor;","}"].join("\n"),nr=(function(t){function e(e){var r=t.call(this,Ne,ir)||this;"number"==typeof e&&(e={threshold:e}),e=Object.assign({threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:1},e),r.bloomScale=e.bloomScale,r.brightness=e.brightness;var i=e.kernels,n=e.blur,o=e.quality,a=e.pixelSize,s=e.resolution;return r._extractFilter=new $e(e.threshold),r._extractFilter.resolution=s,r._blurFilter=i?new rr(i):new rr(n,o),r.pixelSize=a,r.resolution=s,r}P(e,t),e.prototype.apply=function(t,e,r,i){var n=t.getRenderTarget();this._extractFilter.apply(t,e,n,!0);var o=t.getRenderTarget();this._blurFilter.apply(t,n,o,!0),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=o,t.applyFilter(this,e,r,i),t.returnRenderTarget(o),t.returnRenderTarget(n)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t,this._extractFilter&&(this._extractFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(t){this._extractFilter.threshold=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(t){this._blurFilter.kernels=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(t){this._blurFilter.blur=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(t){this._blurFilter.quality=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(t){this._blurFilter.pixelSize=t},enumerable:!0,configurable:!0})}(Le),function(){function t(t){this.renderer=t,this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!0,this.alphaMaskPool=[],this.alphaMaskIndex=0}return t.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(e)},t.prototype.popMask=function(t,e){e.texture?this.popSpriteMask():this.popStencilMask()},t.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new Ze(e)]),r[0].resolution=1,r[0].maskSprite=e;var i=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),t.filterArea=i,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(t){this.renderer.batchManager.flush(),this.renderer.stencilManager.pushStencil(t)},t.prototype.popStencilMask=function(){this.renderer.stencilManager.popStencil()},t.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,i=e.getBounds();i.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(i.x,r.root?r.size.height-i.y-i.height:i.y,i.width,i.height),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},t.prototype.destroy=function(){this.renderer=null},t}()),or=function(){function t(t){this.renderer=t,this.stencilMaskStack=null}return t.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},t.prototype.pushStencil=function(t){this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),t.renderable=!0;var i=t._worldAlpha;t._worldAlpha=1,t.renderWebGL(this.renderer),this.renderer.batchManager.flush(),t.renderable=!1,t._worldAlpha=i,this._useCurrent()},t.prototype.popStencil=function(){var t=this.renderer.gl,e=this.stencilMaskStack.pop();if(0===this.stencilMaskStack.length)t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0);else{t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0;var r=e._worldAlpha;e._worldAlpha=1,e.renderWebGL(this.renderer),this.renderer.batchManager.flush(),e.renderable=!1,e._worldAlpha=r,this._useCurrent()}},t.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},t.prototype.destroy=function(){this.renderer=null,this.stencilMaskStack=null},t}();var ar=function(){function t(t,e){this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var r=0;r<4;r++)this.interleaved[4*r]=this.vertices[2*r],this.interleaved[4*r+1]=this.vertices[2*r+1],this.interleaved[4*r+2]=this.uvs[2*r],this.interleaved[4*r+3]=this.uvs[2*r+1];this.indices=function(t){for(var e=6*t,r=new Uint16Array(e),i=0,n=0;i<e;i+=6,n+=4)r[i+0]=n+0,r[i+1]=n+1,r[i+2]=n+2,r[i+3]=n+0,r[i+4]=n+2,r[i+5]=n+3;return r}(1),this.vertexBuffer=se.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=se.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new le(t,e)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer),this.gl=null,this.vertices=null,this.uvs=null,this.interleaved=null,this.indices=null,this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.vao.destroy()},t}();var sr=function(){function t(){this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new z,this.destinationFrame=new z,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),lr=function(){function t(t){this.renderer=t,this.gl=this.renderer.gl,this.quad=new ar(this.gl,t.state.attribState),this.shaderCache={},this.pool={},this.filterData=null,this.managedFilters=[],this.renderer.addEventListener("onPreRender",this.onPreRender,this),this._screenWidth=t.width,this._screenHeight=t.height}return t.prototype.pushFilter=function(t,e){var r=this.renderer,i=this.filterData;if(!i){var n=new sr;n.sourceFrame=n.destinationFrame=this.renderer._activeRenderTarget.size,n.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=i={index:0,stack:[n]},this.filterData=i}var o=i.stack[++i.index],a=i.stack[0].destinationFrame;o||(o=i.stack[i.index]=new sr);var s=e[0].resolution,l=0|e[0].padding,h=t.filterArea||t.getBounds(!0),u=o.sourceFrame,c=o.destinationFrame;u.x=(h.x*s|0)/s,u.y=(h.y*s|0)/s,u.width=(h.width*s|0)/s,u.height=(h.height*s|0)/s,i.stack[0].renderTarget.transform||e[0].autoFit&&u.fit(a),u.pad(l),c.width=u.width,c.height=u.height;var p=this.getPotRenderTarget(r.gl,u.width,u.height,s);o.target=t,o.filters=e,o.resolution=s,o.renderTarget=p,p.setFrame(c,u),r.bindRenderTarget(p),p.clear()},t.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var i=r.filters;if(1===i.length)i[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var n=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var a=0;for(a=0;a<i.length-1;++a){i[a].apply(this,n,o,!0,r);var s=n;n=o,o=s}i[a].apply(this,n,e.renderTarget,!1,r),this.freePotRenderTarget(n),this.freePotRenderTarget(o)}r.clear(),t.index--,0===t.index&&(this.filterData=null)},t.prototype.applyFilter=function(t,e,r,i){var n=this.renderer,o=n.gl,a=t.glShaders[n.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey])||(a=new Se(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[n.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a,this.managedFilters.push(t)):(a=t.glShaders[n.CONTEXT_UID]=new Se(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),n.bindVao(null),this.quad.initVao(a)),n.bindVao(this.quad.vao),n.bindRenderTarget(r),i&&(o.disable(o.SCISSOR_TEST),n.clear(),o.enable(o.SCISSOR_TEST)),r===n.maskManager.scissorRenderTarget&&n.maskManager.pushScissorMask(null,n.maskManager.scissorData),n.bindShader(a);var s=this.renderer.textureManager.emptyTextures[0];this.renderer.textureManager.boundTextures[0]=s,this.syncUniforms(a,t),n.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture),this.renderer.textureManager.currentLocation=-1},t.prototype.syncUniforms=function(t,e){var r,i=e.uniformData,n=e.uniforms,o=1;if(t.uniforms.filterArea){r=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=r.renderTarget.size.width,a[1]=r.renderTarget.size.height,a[2]=r.sourceFrame.x,a[3]=r.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){r=r||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(r.sourceFrame.width-1)/r.renderTarget.size.width,s[3]=(r.sourceFrame.height-1)/r.renderTarget.size.height,t.uniforms.filterClamp=s}for(var l in i){var h=i[l].type;if("sampler2d"===h&&0!==n[l]){if(n[l].baseTexture)t.uniforms[l]=this.renderer.textureManager.bindTexture(n[l].baseTexture,o);else{t.uniforms[l]=o;var u=this.renderer.gl;this.renderer.textureManager.boundTextures[o]=this.renderer.textureManager.emptyTextures[o],u.activeTexture(u.TEXTURE0+o),n[l].texture.bind()}o++}else if("mat3"===h)void 0!==n[l].a?t.uniforms[l]=n[l].toArray(!0):t.uniforms[l]=n[l];else if("vec2"===h)if(void 0!==n[l].x){var c=t.uniforms[l]||new Float32Array(2);c[0]=n[l].x,c[1]=n[l].y,t.uniforms[l]=c}else t.uniforms[l]=n[l];else"float"===h?t.uniforms.data[l].value!==i[l]&&(t.uniforms[l]=n[l]):t.uniforms[l]=n[l]}},t.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],i=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return i.setFrame(r.destinationFrame,r.sourceFrame),i},t.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},t.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return function(t,e,r){var i=t.identity();return i.translate(e.x/r.width,e.y/r.height),i.scale(r.width,r.height),i}(t,e.sourceFrame,e.renderTarget.size)},t.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return function(t,e,r){var i=t.identity();i.translate(e.x/r.width,e.y/r.height);var n=r.width/e.width,o=r.height/e.height;return i.scale(n,o),i}(t,e.sourceFrame,e.renderTarget.size)},t.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return function(t,e,r,i){var n=i._texture.orig,o=t.set(r.width,0,0,r.height,e.x,e.y),a=B.TEMP_MATRIX.copy(i.worldMatrix);return a.invert(),o.prepend(a),o.scale(1/n.width,1/n.height),o.translate(i.anchorTexture.x,i.anchorTexture.y),o}(t,r.sourceFrame,r.renderTarget.size,e)},t.prototype.destroy=function(t){void 0===t&&(t=!1);var e=this.renderer,r=this.managedFilters;e.removeEventListener("onPreRender",this.onPreRender,this),this.renderer=null;for(var i=0;i<r.length;i++)t||r[i].glShaders[e.CONTEXT_UID].destroy(),delete r[i].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},t.prototype.getPotRenderTarget=function(t,e,r,i){var n="screen";r*=i,(e*=i)===this._screenWidth&&r===this._screenHeight||(n=(65535&(e=ot(e)))<<16|65535&(r=ot(r))),this.pool[n]||(this.pool[n]=[]);var o=this.pool[n].pop();if(!o){var a=this.renderer.textureManager.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new Pe(t,e,r,void 0),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture),this.renderer.textureManager.currentLocation=-1}return o.resolution=i,o.defaultFrame.width=o.size.width=e/i,o.defaultFrame.height=o.size.height=r/i,o.filterPoolKey=n,o},t.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},t.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},t.prototype.onPreRender=function(){if(this._screenWidth!==this.renderer.width||this._screenHeight!==this.renderer.height){this._screenWidth=this.renderer.width,this._screenHeight=this.renderer.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},t}(),hr=0,ur=function(t){function e(r,i,n){var o=t.call(this)||this;return o.plugins={},o._instanceType="WebglRenderer",o.type=u.WEBGL,o._backgroundColorRgba[3]=o.transparent?0:1,o.gl=r,o.CONTEXT_UID=hr++,o.maskManager=new nr(o),o.stencilManager=new or(o),o.batchManager=new De(o),o.textureManager=null,o.initPlugins(e.__plugins),o.state=new Ie(o.gl),o.renderingToScreen=!0,o._activeShader=null,o._activeVao=null,o._activeRenderTarget=null,o._initContext(),o.resize(i,n),o}return P(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext(),this._activeShader=null,this._activeVao=null,this.textureManager=new ke(this),this.filterManager=new lr(this),this.textureGC=new Oe(this),this.state.resetToDefault(),this.rootRenderTarget=new Pe(t,1,1,w.LINEAR,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget),this.dispatchEvent("onContextChange")},e.prototype.render=function(t,e,r){if(this.dispatchEvent("onPreRender"),this.renderingToScreen=!e,this.gl&&!this.gl.isContextLost()){e||(this._lastObjectRendered=t),t.update();var i=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=i,this.bindRenderTexture(e,r),this.batchManager.currentRenderer.start(),this._activeRenderTarget.clear(),t.renderWebGL(this),this.batchManager.currentRenderer.flush(),this.dispatchEvent("onPostRender")}},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},e.prototype.bindShader=function(t,e){return void 0===e&&(e=!0),this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.createVao=function(){return new le(this.gl,this.state.attribState)},e.prototype.bindVao=function(t,e){return void 0===e&&(e=!1),this._activeVao===t?(e&&t.bind(),this):(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.batchManager.reset(),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.textureManager.boundTextures.length;t++)this.textureManager.boundTextures[t]=this.textureManager.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.bindRenderTexture=function(t,e){var r;if(t){var i=t.baseTexture;i._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(i,0),this.textureManager.unbindTexture(i),(r=i._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.rootRenderTarget.resize(e,r),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.destroy=function(){this.destroyPlugins(),this.textureManager.destroy(),t.prototype.destroy.call(this),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.handleContextLost=null,this.handleContextRestored=null},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext(),this.resize(this.width,this.height)},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},e.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(ft);ur.registerPlugin("batch",Ce);(function(t){function e(r,i,n,o,a,s,l,h,c){void 0===i&&(i=750),void 0===n&&(n=1624),void 0===s&&(s=u.CANVAS),void 0===l&&(l=!1),void 0===h&&(h=!1);var p=t.call(this)||this;p.renderObj=null,p.viewRect=new z,p.desWidth=0,p.desHeight=0,p.divHeight=0,p.divWidth=0,p._bgColor=0,p._lastDpList={},p.canvasOffsetTb={x:0,y:0},p._ml=[],p._mp=[],p._mouseDownPoint={},p._mouseEventTypes={mousedown:"onMouseDown",mousemove:"onMouseMove",mouseup:"onMouseUp",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp",touchStart:"onMouseDown",touchMove:"onMouseMove",touchEnd:"onMouseUp"},p.canvas=r;var f=p;if(p._instanceType="Stage",e._stageList.canvas=f,f.stage=p,f.name="stageInstance_"+f.instanceId,f.desWidth=i,f.desHeight=n,f.divWidth=o,f.divHeight=a,c){f._dpi=c;var d=o*c,m=a*c;"tb"==tt()&&(d+=c,m+=c),r.width=d,r.height=m}else console.warn("尝试设置分辨率，内部会根据分辨率设置画布的实际尺寸"),f._dpi=r.width/o;if(s!=u.WEBGL||function(){if("tb"==tt())return!0;if(void 0!==Nt)return Nt;var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=et(),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,Nt=i}catch(t){return Nt=!1}}()||(s=u.CANVAS,console.warn("不支持webgl")),s==u.CANVAS){var v=r.getContext("2d");f.renderObj=new vt(v,r.width,r.height)}else{var y={alpha:!0,antialias:!1,premultipliedAlpha:!0,stencil:!0};v=r.getContext("webgl",y)||r.getContext("experimental-webgl",y);f.renderObj=new ur(v,r.width,r.height),"web"==tt()&&(r.addEventListener("webglcontextlost",f.renderObj.handleContextLost.bind(f.renderObj),!1),r.addEventListener("webglcontextrestored",f.renderObj.handleContextRestored.bind(f.renderObj),!1))}return f._stageCenter=l,f._scaleMode=h?"fixedHeight":"fixedWidth",f._setAlign(),setTimeout((function(){f.dispatchEvent(D.INIT_STAGE)}),100),p}P(e,t),e.getStage=function(t){return void 0===t&&(t="cusEngine"),e._stageList[t]},Object.defineProperty(e.prototype,"bgColor",{get:function(){return this._bgColor},set:function(t){this._bgColor!==t&&(this._bgColor=t,this.renderObj.backgroundColor=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stageWidth",{get:function(){return this.viewRect.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stageHeight",{get:function(){return this.viewRect.height},enumerable:!0,configurable:!0}),e.prototype._setAlign=function(){var t=this,e=t.canvas;t._stageCenter&&(t.anchorX=t.desWidth>>1,t.anchorY=t.desHeight>>1,t.x=e.width-t.desWidth>>1,t.y=e.height-t.desHeight>>1);var r="fixedHeight"==t._scaleMode?e.height/t.desHeight:e.width/t.desWidth;t.scaleX=r,t.scaleY=r,t.viewRect=t.viewRect||new z,t.viewRect.x=t.desWidth-e.width/r>>1,t.viewRect.y=t.desHeight-e.height/r>>1,t.viewRect.width=t.desWidth-2*t.viewRect.x,t.viewRect.height=t.desHeight-2*t.viewRect.y,t._stageCenter||(t.viewRect.x=t.viewRect.y=0)},e.prototype.resize=function(t,e){if("web"==tt()&&(t=t||document.body.clientWidth,e=e||document.body.clientHeight),t&&t){var r=this,i=r._dpi,n=r.canvas;t==r.divWidth&&e==r.divHeight||(t!=r.divWidth&&(n.width=t*i),e!=r.divHeight&&(n.height=e*i),r.divWidth=t,r.divHeight=e,r._setAlign(),r.renderObj.resize(n.width,n.height),r.dispatchEvent(D.RESIZE))}else console.error("传入的显示尺寸不能为空")},e.prototype._initMouseEvent=function(t,e,r,i){t._pd=!1,t.clientX=e.x,t.clientY=e.y,t.stageX=r.x,t.stageY=r.y,t.identifier=i},e.prototype.flush=function(){this.renderObj.render(this)},e.prototype.onMouseEvent=function(t){"web"==tt()&&(this.webMouseEventPreventDefault&&t.preventDefault(),this.webMouseEventStopPropagation&&t.stopPropagation());var e=this;if(R._totalMEC>0){var r=void 0,i=e._mouseEventTypes[t.type],o=void 0,a=void 0,s=void 0,l=void 0,h=void 0,u=void 0,c=void 0;"pc"==n?(t.identifier=0,r=[t]):r=[t.changedTouches[0]];var p=e.canvasOffsetTb,f=p.x,d=p.y;if("web"==tt()){var m=document.documentElement,v=e.canvas.getBoundingClientRect();f=v.left+window.pageXOffset-m.clientLeft,d=v.top+window.pageYOffset-m.clientTop}for(var y=0;y<r.length;y++)if(r[y]&&(u=0,o=[],c="m"+r[y].identifier,(h=e._mp.length>0?e._mp.shift():new L).x=((r[y].pageX||r[y].x||r[y].b)-f)*e._dpi,h.y=((r[y].pageY||r[y].y||r[y].c)-d)*e._dpi,s=e.globalToLocal(h,K._bp),R.getMouseEventCount()>0&&(e._ml[u]?(a=e._ml[u]).type=i:(a=new Jt(i),e._ml[u]=a),o[o.length]=a,e._initMouseEvent(a,h,s,c),u++),"onMouseDown"==i?e._mouseDownPoint[c]=h:"onMouseUp"==i&&e._mouseDownPoint[c]&&L.distance(e._mouseDownPoint[c],h)<20&&R.getMouseEventCount("onMouseClick")>0&&(e._ml[u]?(a=e._ml[u]).type="onMouseClick":(a=new Jt("onMouseClick"),e._ml[u]=a),o[o.length]=a,e._initMouseEvent(a,h,s,c),u++),u>0)){var g=e.hitTestPoint(h,!0),_=[];if(g)for(;g;)!1===g.mouseChildren&&(_.length=0),_[_.length]=g,g=g.parent;else _[_.length]=e;for(var b=_.length,x=b-1;x>=0;x--){g=_[x];for(var w=0;w<u;w++)o[w]._pd||g.hasEventListener(o[w].type)&&g.mouseEnable&&(o[w].target=g,o[w].currentTarget=_[0],l=g.globalToLocal(h,K._bp),o[w].localX=l.x,o[w].localY=l.y,g.dispatchEvent(o[w]))}_.reverse();for(x=b-1;x>=0;x--){g=_[x];for(w=0;w<u;w++)o[w]._pd||g.hasEventListener(o[w].type,!1)&&g.mouseEnable&&(o[w].target=g,o[w].currentTarget=_[u-1],l=g.globalToLocal(h,K._bp),o[w].localX=l.x,o[w].localY=l.y,g.dispatchEvent(o[w],null,!1))}if("onMouseDown"!=i){if((R.getMouseEventCount("onMouseOver")>0||R.getMouseEventCount("onMouseOut")>0)&&e._lastDpList[c]){var T=e._lastDpList[c].length,E=_.length;b=T>E?T:E;var S=!1,M=void 0,A=void 0;for(x=1;x<b;x++)S||e._lastDpList[c][x]!=_[x]&&(S=!0,e._ml[u]?(M=e._ml[u]).type="onMouseOver":(M=new Jt("onMouseOver"),e._ml[u]=M),e._initMouseEvent(M,h,s,c),u++,e._ml[u]?(A=e._ml[u]).type="onMouseOut":(A=new Jt("onMouseOut"),e._ml[u]=A),e._initMouseEvent(A,h,s,c)),S&&(e._lastDpList[c][x]&&(A._pd||(g=e._lastDpList[c][x]).hasEventListener("onMouseOut")&&(A.currentTarget=e._lastDpList[c][T-1],A.target=g,l=g.globalToLocal(h,K._bp),A.localX=l.x,A.localY=l.y,g.dispatchEvent(A))),_[x]&&(M._pd||(g=_[x]).hasEventListener("onMouseOver")&&(M.currentTarget=_[E-1],M.target=g,l=g.globalToLocal(h,K._bp),M.localX=l.x,M.localY=l.y,g.dispatchEvent(M))))}e._mp[e._mp.length]=h}"onMouseUp"==i?(delete e._mouseDownPoint[c],delete e._lastDpList[c]):e._lastDpList[c]=_}}},e.prototype.addWebMouseEvent=function(){if("web"===tt()){var t=this.canvas,e=this.onMouseEvent.bind(this);"pc"==n?(t.addEventListener("mousedown",e,!1),t.addEventListener("mousemove",e,!1),t.addEventListener("mouseup",e,!1)):(t.addEventListener("touchstart",e,!1),t.addEventListener("touchmove",e,!1),t.addEventListener("touchend",e,!1))}},e.prototype.getBounds=function(){return this.viewRect},e.prototype.destroy=function(){var e=this;e.renderObj.destroy(),e.renderObj=null,e.viewRect=null,e._lastDpList=null,e._ml=null,t.prototype.destroy.call(this)},e._stageList={}})(Z),new R;var cr=function(t){function e(e,r,i,n){void 0===r&&(r=null),void 0===i&&(i=null),void 0===n&&(n=null);var o=t.call(this)||this;return o._instanceType="GraphicsData",o.shape=e,o.lineStyle=i,o.fillStyle=r,o.matrix=n,o.holes=[],o.type=e.type,o.points=[],o}return P(e,t),e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(I),pr=function(t){function e(e,r,i){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=w.LINEAR);var n=t.call(this,null,i)||this;return n.width=Math.ceil(e),n.height=Math.ceil(r),n.scaleMode=i,n.hasLoaded=!0,n._glRenderTargets={},n._canvasRenderTarget=null,n.valid=!1,n}return P(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.valid&&this.dispatchEvent("update"))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(Wt),fr=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.valid=!0,i.updateUvs(),i}return P(e,t),e.prototype.resize=function(t,e,r){void 0===r&&(r=!1),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this.updateUvs()},e.create=function(t,r,i){return void 0===i&&(i=w.LINEAR),new e(new pr(t,r,i))},e}(Gt),dr=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=c.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.isPointIn=function(t){if(this.radius<=0)return!1;var e=this.radius*this.radius,r=this.x-t.x,i=this.y-t.y;return(r*=r)+(i*=i)<=e},t.prototype.getBounds=function(){return new z(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),mr=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=c.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.isPointIn=function(t){if(this.width<=0||this.height<=0)return!1;var e=(t.x-this.x)/this.width,r=(t.y-this.y)/this.height;return(e*=e)+(r*=r)<=1},t.prototype.getBounds=function(){return new z(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),vr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(Array.isArray(t[0])&&(t=t[0]),t[0]instanceof L){for(var r=[],i=0,n=t.length;i<n;i++)r.push(t[i].x,t[i].y);t=r}this.closed=!0,this.points=t,this.type=c.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.isPointIn=function(t){for(var e=t.x,r=t.y,i=!1,n=this.points.length/2,o=0,a=n-1;o<n;a=o++){var s=this.points[2*o],l=this.points[2*o+1],h=this.points[2*a],u=this.points[2*a+1];l>r!=u>r&&e<(r-l)/(u-l)*(h-s)+s&&(i=!i)}return i},t}(),yr=function(){function t(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i;var o=(r<i?r:i)/2;n=(n=n<0?-n:n)>o?o:n,this.radius=n,this.type=c.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.isPointIn=function(t){var e=t.x,r=t.y;if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){if(r>=this.y+this.radius&&r<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var i=e-(this.x+this.radius),n=r-(this.y+this.radius),o=this.radius*this.radius;if(i*i+n*n<=o)return!0;if((i=e-(this.x+this.width-this.radius))*i+n*n<=o)return!0;if(i*i+(n=r-(this.y+this.height-this.radius))*n<=o)return!0;if((i=e-(this.x+this.radius))*i+n*n<=o)return!0}return!1},t}();function gr(t,e,r){r=r||2;var i,n,o,a,s,l,h,u=e&&e.length,c=u?e[0]*r:t.length,p=_r(t,0,c,r,!0),f=[];if(!p||p.next===p.prev)return f;if(u&&(p=function(t,e,r,i){var n,o,a,s,l,h=[];for(n=0,o=e.length;n<o;n++)a=e[n]*i,s=n<o-1?e[n+1]*i:t.length,(l=_r(t,a,s,i,!1))===l.next&&(l.steiner=!0),h.push(Pr(l));for(h.sort(Mr),n=0;n<h.length;n++)Ar(h[n],r),r=br(r,r.next);return r}(t,e,p,r)),t.length>80*r){i=o=t[0],n=a=t[1];for(var d=r;d<c;d+=r)(s=t[d])<i&&(i=s),(l=t[d+1])<n&&(n=l),s>o&&(o=s),l>a&&(a=l);h=0!==(h=Math.max(o-i,a-n))?1/h:0}return xr(p,f,r,i,n,h),f}function _r(t,e,r,i,n){var o,a;if(n===jr(t,e,r,i)>0)for(o=e;o<r;o+=i)a=Br(o,t[o],t[o+1],a);else for(o=r-i;o>=e;o-=i)a=Br(o,t[o],t[o+1],a);return a&&Dr(a,a.next)&&(Nr(a),a=a.next),a}function br(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!Dr(i,i.next)&&0!==Ir(i.prev,i,i.next))i=i.next;else{if(Nr(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function xr(t,e,r,i,n,o,a){if(t){!a&&o&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=Cr(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,a,s,l,h=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,i=r,s=0,e=0;e<h&&(s++,i=i.nextZ);e++);for(l=h;s>0||l>0&&i;)0!==s&&(0===l||!i||r.z<=i.z)?(n=r,r=r.nextZ,s--):(n=i,i=i.nextZ,l--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,h*=2}while(a>1)}(n)}(t,i,n,o);for(var s,l,h=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?Tr(t,i,n,o):wr(t))e.push(s.i/r),e.push(t.i/r),e.push(l.i/r),Nr(t),t=l.next,h=l.next;else if((t=l)===h){a?1===a?xr(t=Er(t,e,r),e,r,i,n,o,2):2===a&&Sr(t,e,r,i,n,o):xr(br(t),e,r,i,n,o,1);break}}}function wr(t){var e=t.prev,r=t,i=t.next;if(Ir(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(kr(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&Ir(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function Tr(t,e,r,i){var n=t.prev,o=t,a=t.next;if(Ir(n,o,a)>=0)return!1;for(var s=n.x<o.x?n.x<a.x?n.x:a.x:o.x<a.x?o.x:a.x,l=n.y<o.y?n.y<a.y?n.y:a.y:o.y<a.y?o.y:a.y,h=n.x>o.x?n.x>a.x?n.x:a.x:o.x>a.x?o.x:a.x,u=n.y>o.y?n.y>a.y?n.y:a.y:o.y>a.y?o.y:a.y,c=Cr(s,l,e,r,i),p=Cr(h,u,e,r,i),f=t.prevZ,d=t.nextZ;f&&f.z>=c&&d&&d.z<=p;){if(f!==t.prev&&f!==t.next&&kr(n.x,n.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Ir(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,d!==t.prev&&d!==t.next&&kr(n.x,n.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Ir(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&kr(n.x,n.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Ir(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&kr(n.x,n.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Ir(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function Er(t,e,r){var i=t;do{var n=i.prev,o=i.next.next;!Dr(n,o)&&Rr(n,i,i.next,o)&&Fr(n,o)&&Fr(o,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(o.i/r),Nr(i),Nr(i.next),i=t=o),i=i.next}while(i!==t);return i}function Sr(t,e,r,i,n,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Or(a,s)){var l=Lr(a,s);return a=br(a,a.next),l=br(l,l.next),xr(a,e,r,i,n,o),void xr(l,e,r,i,n,o)}s=s.next}a=a.next}while(a!==t)}function Mr(t,e){return t.x-e.x}function Ar(t,e){if(e=function(t,e){var r,i=e,n=t.x,o=t.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=n&&s>a){if(a=s,s===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===a)return r.prev;var l,h=r,u=r.x,c=r.y,p=1/0;i=r.next;for(;i!==h;)n>=i.x&&i.x>=u&&n!==i.x&&kr(o<c?n:a,o,u,c,o<c?a:n,o,i.x,i.y)&&((l=Math.abs(o-i.y)/(n-i.x))<p||l===p&&i.x>r.x)&&Fr(i,t)&&(r=i,p=l),i=i.next;return r}(t,e)){var r=Lr(e,t);br(r,r.next)}}function Cr(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Pr(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function kr(t,e,r,i,n,o,a,s){return(n-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(i-s)-(r-a)*(e-s)>=0&&(r-a)*(o-s)-(n-a)*(i-s)>=0}function Or(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Rr(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&Fr(t,e)&&Fr(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)}function Ir(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Dr(t,e){return t.x===e.x&&t.y===e.y}function Rr(t,e,r,i){return!!(Dr(t,e)&&Dr(r,i)||Dr(t,i)&&Dr(r,e))||Ir(t,e,r)>0!=Ir(t,e,i)>0&&Ir(r,i,t)>0!=Ir(r,i,e)>0}function Fr(t,e){return Ir(t.prev,t,t.next)<0?Ir(t,e,t.next)>=0&&Ir(t,t.prev,e)>=0:Ir(t,e,t.prev)<0||Ir(t,t.next,e)<0}function Lr(t,e){var r=new zr(t.i,t.x,t.y),i=new zr(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function Br(t,e,r,i){var n=new zr(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function Nr(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function zr(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function jr(t,e,r,i){for(var n=0,o=e,a=r-i;o<r;o+=i)n+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return n}gr.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,a=Math.abs(jr(t,0,o,r));if(n)for(var s=0,l=e.length;s<l;s++){var h=e[s]*r,u=s<l-1?e[s+1]*r:t.length;a-=Math.abs(jr(t,h,u,r))}var c=0;for(s=0;s<i.length;s+=3){var p=i[s]*r,f=i[s+1]*r,d=i[s+2]*r;c+=Math.abs((t[p]-t[d])*(t[f+1]-t[p+1])-(t[p]-t[f])*(t[d+1]-t[p+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},gr.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[n][o][a]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r};var Vr={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.verts,o=e.indices;if(r.length>=6){for(var a=[],s=0;s<i.length;s++){var l=i[s];a.push(r.length/2),r=r.concat(l.points)}var h=gr(r,a,2);if(!h)return;var u=n.length/2;for(s=0;s<h.length;s+=3)o.push(h[s]+u),o.push(h[s+1]+u),o.push(h[s+2]+u);for(s=0;s<r.length;s++)n.push(r[s])}}},Ur={build:function(t){var e,r,i=t.shape,n=t.points,o=i.x,a=i.y;if(n.length=0,t.type===c.CIRC?(e=i.radius,r=i.radius):(e=i.width,r=i.height),0!==e&&0!==r){var s=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(i.width+i.height));s/=2.3;for(var l=2*Math.PI/s,h=0;h<s;h++)n.push(o+Math.sin(l*h)*e,a+Math.cos(l*h)*r);n.push(n[0],n[1])}},triangulate:function(t,e){var r=t.points,i=e.verts,n=e.indices,o=i.length/2,a=o;i.push(t.shape.x,t.shape.y);for(var s=0;s<r.length;s+=2)i.push(r[s],r[s+1]),n.push(o++,a,o)}},Wr={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,a=e.height,s=e.radius;r.length=0,r.push(i,n+s),Hr(i,n+a-s,i,n+a,i+s,n+a,r),Hr(i+o-s,n+a,i+o,n+a,i+o,n+a-s,r),Hr(i+o,n+s,i+o,n,i+o-s,n,r),Hr(i+s,n,i,n,i,n+s+1e-10,r)},triangulate:function(t,e){for(var r=t.points,i=e.verts,n=e.indices,o=i.length/2,a=gr(r,null,2),s=0,l=a.length;s<l;s+=3)n.push(a[s]+o),n.push(a[s+1]+o),n.push(a[s+2]+o);for(s=0,l=r.length;s<l;s++)i.push(r[s],r[++s])}};function qr(t,e,r){return t+(e-t)*r}function Hr(t,e,r,i,n,o,a){void 0===a&&(a=[]);for(var s=a,l=0,h=0,u=0,c=0,p=0,f=0,d=0,m=0;d<=20;++d)l=qr(t,r,m=d/20),h=qr(e,i,m),u=qr(r,n,m),c=qr(i,o,m),p=qr(l,u,m),f=qr(h,c,m),s.push(p,f);return s}function Gr(t,e){!function(t,e){var r=t.shape,i=t.points||r.points.slice();if(0===i.length)return;var n=t.lineStyle,o=new L(i[0],i[1]),a=new L(i[i.length-2],i[i.length-1]),s=r.type!==c.POLY,l=o.x===a.x&&o.y===a.y;if(l||s){i=i.slice(),l&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var h=a.x+.5*(o.x-a.x),u=a.y+.5*(o.y-a.y);i.unshift(h,u),i.push(h,u)}var p=e.verts,f=i.length/2,d=i.length,m=p.length/2,v=n.width/2,y=i[0],g=i[1],_=i[2],b=i[3],x=0,w=0,T=-(g-b),E=y-_,S=0,M=0,A=0,C=0,P=Math.sqrt(T*T+E*E);T/=P,E/=P,T*=v,E*=v;var k=n.alignment,O=2*(1-k),I=2*k;p.push(y-T*O,g-E*O),p.push(y+T*I,g+E*I);for(var D=1;D<f-1;++D){y=i[2*(D-1)],g=i[2*(D-1)+1],_=i[2*D],b=i[2*D+1],x=i[2*(D+1)],w=i[2*(D+1)+1],T=-(g-b),E=y-_,P=Math.sqrt(T*T+E*E),T/=P,E/=P,T*=v,E*=v,S=-(b-w),M=_-x,P=Math.sqrt(S*S+M*M),S/=P,M/=P;var R=-E+g-(-E+b),F=-T+_-(-T+y),B=(-T+y)*(-E+b)-(-T+_)*(-E+g),N=-(M*=v)+w-(-M+b),z=-(S*=v)+_-(-S+x),j=(-S+x)*(-M+b)-(-S+_)*(-M+w),V=R*z-N*F;if(Math.abs(V)<.1)V+=10.1,p.push(_-T*O,b-E*O),p.push(_+T*I,b+E*I);else{var U=(F*j-z*B)/V,W=(N*B-R*j)/V;(U-_)*(U-_)+(W-b)*(W-b)>196*v*v?(A=T-S,C=E-M,P=Math.sqrt(A*A+C*C),A/=P,C/=P,A*=v,C*=v,p.push(_-A*O,b-C*O),p.push(_+A*I,b+C*I),p.push(_-A*I*O,b-C*O),d++):(p.push(_+(U-_)*O,b+(W-b)*O),p.push(_-(U-_)*I,b-(W-b)*I))}}y=i[2*(f-2)],g=i[2*(f-2)+1],_=i[2*(f-1)],b=i[2*(f-1)+1],T=-(g-b),E=y-_,P=Math.sqrt(T*T+E*E),T/=P,E/=P,T*=v,E*=v,p.push(_-T*O,b-E*O),p.push(_+T*I,b+E*I);var q=e.indices;for(D=0;D<d-2;++D)q.push(m,m+1,m+2),m++}(t,e)}var Yr=function(){function t(){this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.alphaBlock=this.alphaBlock,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Gt.WHITE,this.matrix=null,this.visible=!1,this.alphaBlock=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Xr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(Yr);var Kr,Zr={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048,segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};var Jr=new B,Qr=new L,$r=new Float32Array(3),ti=[],ei={};ei[c.POLY]=Vr,ei[c.CIRC]=Ur,ei[c.ELIP]=Ur,ei[c.RECT]={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,a=t.points;a.length=0,a.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.verts,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},ei[c.RREC]=Wr;var ri=function(t){function e(){var e=t.call(this)||this;return e._blendMode=b.NORMAL,e.batchTint=-1,e.hitTestByPixel=!0,e.cacheAsBitmap=!0,e._instanceType="Graphics",e._fillStyle=new Yr,e._lineStyle=new Xr,e.tint=16777215,e.batchTint=-1,e._matrix=null,e._holeMode=!1,e._currentPath=null,e.graphicsData=[],e.isUsedToMask=!1,e.boundsPadding=0,e.dirty=0,e.boundsDirty=-1,e.cacheDirty=-1,e.verts=[],e.indices=[],e.batches=[],e.geoBatches=[],e.uvs=[],e.batchDirty=-1,e.shapeIndex=0,e.vertexData=null,e._transformID=-1,e}return P(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return this._matrix},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t._fillStyle=this._fillStyle,t._lineStyle=this._lineStyle,t.isUsedToMask=this.isUsedToMask,t.boundsPadding=this.boundsPadding,t.dirty=0;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t._currentPath=null,t.updateLocalBoundsSelf(),t},e.prototype.lineStyle=function(t,e,r,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=.5),void 0===n&&(n=!1),this.lineTextureStyle(t,Gt.WHITE,e,r,null,i,n),this},e.prototype.lineTextureStyle=function(t,e,r,i,n,o,a){void 0===t&&(t=0),void 0===e&&(e=Gt.WHITE),void 0===r&&(r=16777215),void 0===i&&(i=1),void 0===n&&(n=null),void 0===o&&(o=.5),void 0===a&&(a=!1),this._currentPath&&this.startPoly();var s=t>0&&i>0;return s?(n&&(n=n.clone()).invert(),this._lineStyle.color=r,this._lineStyle.width=t,this._lineStyle.alpha=i,this._lineStyle.matrix=n,this._lineStyle.texture=e,this._lineStyle.alignment=o,this._lineStyle.native=a,this._lineStyle.visible=s):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this._currentPath){var t=this._currentPath.points,e=this._currentPath.points.length;e>2&&(this.drawShape(this._currentPath),this._currentPath=new vr,this._currentPath.closed=!1,this._currentPath.points.push(t[e-2],t[e-1]))}else this._currentPath=new vr,this._currentPath.closed=!1},e.prototype.finishPoly=function(){this._currentPath&&(this._currentPath.points.length>2?(this.drawShape(this._currentPath),this._currentPath=null):this._currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this._currentPath.points[0]=t,this._currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this._currentPath||this.moveTo(0,0);var r=this._currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._currentPath?0===this._currentPath.points.length&&(this._currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this._currentPath.points;0===n.length&&this.moveTo(0,0);for(var o=0,a=0,s=n[n.length-2],l=n[n.length-1],h=Zr.segmentsCount(function(t,e,r,i,n,o){var a=t-(2*r+n),s=e-(2*i+o),l=(r-2)*t*2,h=(i-2)*e*2,u=4*(a*a+s*s),c=4*(a*l+s*h),p=l*l+h*h,f=2*Math.sqrt(u+c+p),d=Math.sqrt(u),m=2*u*d,v=2*Math.sqrt(p),y=c/d;return(m*f+d*c*(f-v)+(4*p*u-c*c)*Math.log((2*d+y+f)/(y+v)))/(4*m)}(s,l,t,e,r,i)),u=1;u<=h;++u){var c=u/h;o=s+(t-s)*c,a=l+(e-l)*c,n.push(o+(t+(r-t)*c-o)*c,a+(e+(i-e)*c-a)*c)}return this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){this._initCurve();var a=this._currentPath.points,s=a[a.length-2],l=a[a.length-1];return a.length-=2,function(t,e,r,i,n,o,a,s,l,h){void 0===h&&(h=[]);var u=0,c=0,p=0,f=0,d=0;h.push(t,e);for(var m=1,v=0;m<=l;++m)p=(c=(u=1-(v=m/l))*u)*u,d=(f=v*v)*v,h.push(p*t+3*c*v*r+3*u*f*n+d*a,p*e+3*c*v*i+3*u*f*o+d*s)}(s,l,t,e,r,i,n,o,Zr.segmentsCount(function(t,e,r,i,n,o,a,s){for(var l=0,h=0,u=0,c=0,p=0,f=0,d=0,m=0,v=0,y=0,g=0,_=t,b=e,x=1;x<=10;++x)y=_-(m=(d=(f=(p=1-(h=x/10))*p)*p)*t+3*f*h*r+3*p*(u=h*h)*n+(c=u*h)*a),g=b-(v=d*e+3*f*h*i+3*p*u*o+c*s),_=m,b=v,l+=Math.sqrt(y*y+g*g);return l}(s,l,t,e,r,i,n,o)),a),this},e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this._currentPath.points,a=o[o.length-2],s=o[o.length-1]-e,l=a-t,h=i-e,u=r-t,c=Math.abs(s*u-l*h);if(c<1e-8||0===n)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var p=s*s+l*l,f=h*h+u*u,d=s*h+l*u,m=n*Math.sqrt(p)/c,v=n*Math.sqrt(f)/c,y=m*d/p,g=v*d/f,_=m*u+v*l,b=m*h+v*s,x=l*(v+y),w=s*(v+y),T=u*(m+g),E=h*(m+g),S=Math.atan2(w-b,x-_),M=Math.atan2(E-b,T-_);this.arc(_+t,b+e,n,S,M,l*h>u*s)}return this},e.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;!o&&n<=i?n+=S:o&&i<=n&&(i+=S);var a=n-i;if(0===a)return this;var s=t+Math.cos(i)*r,l=e+Math.sin(i)*r,h=this._currentPath?this._currentPath.points:null;if(h){var u=Math.abs(h[h.length-2]-s),c=Math.abs(h[h.length-1]-l);u<.001&&c<.001||h.push(s,l)}else this.moveTo(s,l),h=this._currentPath.points;for(var p=Zr.segmentsCount(Math.abs(a)*r,40*Math.ceil(Math.abs(a)/S)),f=a/(2*p),d=2*f,m=Math.cos(f),v=Math.sin(f),y=p-1,g=y%1/y,_=0;_<=y;++_){var b=f+i+d*(_+g*_),x=Math.cos(b),w=-Math.sin(b);h.push((m*x+v*w)*r+t,(m*-w+v*x)*r+e)}return this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),"string"==typeof t&&(t=It(t)),this.beginTextureFill(Gt.WHITE,t,e)},e.prototype.beginTextureFill=function(t,e,r,i){void 0===t&&(t=Gt.WHITE),void 0===e&&(e=16777215),void 0===r&&(r=1),void 0===i&&(i=null),this._currentPath&&this.startPoly();var n=r>0;return n?(this._fillStyle.color=e,this._fillStyle.alpha=r,this._fillStyle.texture=t,this._fillStyle.matrix=i,this._fillStyle.visible=n):(this._fillStyle.reset(),this._fillStyle.alphaBlock=!0),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.endStroke=function(){return this.finishPoly(),this._lineStyle.reset(),this},e.prototype.closePath=function(){var t=this._currentPath;return this._currentPath&&t.close(),this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new z(t,e,r,i))},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new yr(t,e,r,i,n))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new dr(t,e,r))},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new mr(t,e,r,i))},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof vr&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var i=0;i<e.length;++i)e[i]=arguments[i]}var n=new vr(e);return n.closed=r,this.drawShape(n),this},e.prototype.drawStar=function(t,e,r,i,n,o){void 0===o&&(o=0),n=n||i/2;for(var a=-1*Math.PI/2+o,s=2*r,l=S/s,h=[],u=0;u<s;u++){var c=u%2?n:i,p=u*l+a;h.push(t+c*Math.cos(p),e+c*Math.sin(p))}return this.drawPolygon(h)},e.prototype.drawShape=function(t){if(this._holeMode){if(!this.graphicsData.length)return this;e=new cr(t,null,null,this._matrix);this.graphicsData[this.graphicsData.length-1].holes.push(e),this.dirty++}else{var e=new cr(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix);this.graphicsData.push(e),this.dirty++}return this},e.prototype.clear=function(){if(this.graphicsData.length>0){this.boundsDirty=-1,this.dirty++,this.graphicsData.length=0,this.verts.length=0,this.uvs.length=0,this.indices.length=0,this.shapeIndex=0;for(var t=0;t<this.geoBatches.length;t++){var e=this.geoBatches[t];e.start=0,e.attribStart=0,e.style=null,ti.push(e)}this.geoBatches.length=0,this.batches.length=0}return this._currentPath=null,this._matrix=null,this._holeMode=!1,this._currentPath=null,this},e.prototype.isFastRect=function(){return!1},e.prototype._renderWebGL=function(t){if(this.finishPoly(),this.updateBatch(),t.batchManager.setObjectRenderer(t.plugins.batch),this.batches.length){this.calculateVertices(),this.calculateTints();for(var e=0;e<this.batches.length;e++){var r=this.batches[e];r._worldAlpha=this._worldAlpha*r.graAlpha,t.plugins.batch.render(r)}}},e.prototype.updateBatch=function(){if(this.batchDirty!==this.dirty&&0!==this.graphicsData.length){this.batchDirty=this.dirty;var t,e=this.uvs;(t=this.geoBatches.pop())||((t=ti.pop()||new ii).style=t.style||this.graphicsData[0].fillStyle||this.graphicsData[0].lineStyle);var r=t.style.texture.baseTexture,i=t.style.color+t.style.alpha;this.geoBatches.push(t);for(var n=this.shapeIndex;n<this.graphicsData.length;n++){this.shapeIndex++;var o=this.graphicsData[n],a=ei[o.type],s=o.fillStyle,l=o.lineStyle;a.build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var h=0;h<2;h++){var u=0===h?s:l;if(u.visible){var c=u.texture.baseTexture;if(r!==c||u.color+u.alpha!==i){c.wrapMode=T.REPEAT,r=c,i=u.color+u.alpha;var p=this.indices.length,f=this.verts.length/2;t.size=p-t.start,t.attribSize=f-t.attribStart,t.size>0&&(t=ti.pop()||new ii,this.geoBatches.push(t)),t.style=u,t.start=p,t.attribStart=f}var d=this.verts.length/2;0===h?o.holes.length?(this.proccessHoles(o.holes),Vr.triangulate(o,this)):a.triangulate(o,this):Gr(o,this);var m=this.verts.length/2-d;this.addUvs(this.verts,e,u.texture,d,m,u.matrix)}}}var v=this.indices.length,y=this.verts.length/2;t.size=v-t.start,t.attribSize=y-t.attribStart;for(var g=new Uint16Array(this.indices),_=new Float32Array(this.uvs),b=0;b<this.geoBatches.length;b++){var x=this.geoBatches[b];for(h=0;h<x.size;h++){var w=x.start+h;g[w]=g[w]-x.attribStart}}this._transformID=-1,this.batchTint=-1,this.batches=[],this.vertexData=new Float32Array(this.verts);for(var E=this.blendMode,S=0;S<this.geoBatches.length;S++){var M=this.geoBatches[S],A=M.style.color,C=new Float32Array(this.vertexData.buffer,4*M.attribStart*2,2*M.attribSize),P=new Float32Array(_.buffer,4*M.attribStart*2,2*M.attribSize);x={_vertexData:C,_indices:new Uint16Array(g.buffer,2*M.start,M.size),_uvs:P,_tintRGB:A,_texture:M.style.texture,_worldAlpha:1,_blendMode:E,graAlpha:M.style.alpha,_batchRGB:kt(A)};this.batches[S]=x}}},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=kt(this.tint,$r),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldMatrix,e=t.a,r=t.b,i=t.c,n=t.d,o=t.tx,a=t.ty,s=this.verts,l=this.vertexData,h=0,u=0;u<s.length;u+=2){var c=s[u],p=s[u+1];l[h++]=e*c+i*p+o,l[h++]=n*p+r*c+a}}},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},e.prototype._renderCanvas=function(t){if(this.finishPoly(),this.cacheAsBitmap){if(this.cacheDirty!=this.dirty){this.cacheDirty=this.dirty;var e=this.mask;this.mask=null,this.cacheAsBitmap=!1;var r=this.alpha;this.alpha=1;var i=this.children;this.children=[],this.generateCanvasTexture(),this.mask=e,this.alpha=r,this.cacheAsBitmap=!0,this.children=i,this.transform._parentID=-1,this.parent&&this.updateTransform()}t.plugins.sprite.render(this)}else t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.updateLocalBoundsSelf();var t=this._localBoundsSelf,e=this.transform.worldMatrix;e.transformPoint(t.x,t.y,K._p1),e.transformPoint(t.x+t.width,t.y,K._p2),e.transformPoint(t.x+t.width,t.y+t.height,K._p3),e.transformPoint(t.x,t.y+t.height,K._p4),z.createFromPoints(this._bounds,K._p1,K._p2,K._p3,K._p4)},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(i=t.prototype.hitTestPoint.call(this,e,r))?i:r&&!this.mouseEnable?null:(this.updateLocalBoundsSelf(),(i=this.displayObjectHitTestPoint(e,r))?this.hitTestByPixel?this.hitTestPointAccuratly(e,r):i:null):null;var i},e.prototype.hitTestPointAccuratly=function(t,e){e?this.worldMatrix.transformPointInverse(t.x,t.y,Qr):Qr.set(t.x,t.y);for(var r=this.graphicsData,i=0;i<r.length;++i){var n=r[i];if((n.fillStyle.visible||n.fillStyle.alphaBlock)&&(n.shape&&n.shape.isPointIn(Qr))){if(n.holes)for(var o=0;o<n.holes.length;o++){if(n.holes[o].shape.isPointIn(Qr))return null}return this}}return null},e.prototype.updateLocalBoundsSelf=function(){if(this.boundsDirty!=this.dirty){this.boundsDirty=this.dirty;var t=1/0,e=-1/0,r=1/0,i=-1/0;if(this.graphicsData.length)for(var n=void 0,o=0,a=0,s=0,l=0,h=0;h<this.graphicsData.length;h++){var u=this.graphicsData[h],p=u.type,f=u.lineStyle;u.matrix||B.IDENTITY;var d=0;if(f&&f.visible){var m=f.alignment;d=f.width,p===c.POLY?d*=.5+Math.abs(.5-m):d*=Math.max(0,m)}if(n=u.shape,p===c.RECT||p===c.RREC)o=n.x-d/2,a=n.y-d/2,t=o<t?o:t,e=o+(s=n.width+d)>e?o+s:e,r=a<r?a:r,i=a+(l=n.height+d)>i?a+l:i;else if(p===c.CIRC)o=n.x,a=n.y,t=o-(s=n.radius+d/2)<t?o-s:t,e=o+s>e?o+s:e,r=a-(l=n.radius+d/2)<r?a-l:r,i=a+l>i?a+l:i;else if(p===c.ELIP)o=n.x,a=n.y,t=o-(s=n.width+d/2)<t?o-s:t,e=o+s>e?o+s:e,r=a-(l=n.height+d/2)<r?a-l:r,i=a+l>i?a+l:i;else for(var v=n.points,y=0,g=0,_=0,b=0,x=0,w=0,T=0,E=0,S=0;S+2<v.length;S+=2)o=v[S],a=v[S+1],y=v[S+2],g=v[S+3],_=Math.abs(y-o),b=Math.abs(g-a),l=d,(s=Math.sqrt(_*_+b*b))<1e-9||(t=(T=(y+o)/2)-(x=(l/s*b+_)/2)<t?T-x:t,e=T+x>e?T+x:e,r=(E=(g+a)/2)-(w=(l/s*_+b)/2)<r?E-w:r,i=E+w>i?E+w:i)}else t=0,e=0,r=0,i=0;var M=this.boundsPadding;this._localBoundsSelf.x=t-M,this._localBoundsSelf.y=r-M,this._localBoundsSelf.width=e-t+2*M,this._localBoundsSelf.height=i-r+2*M}},e.prototype.generateCanvasTexture=function(t){void 0===t&&(t=w.LINEAR),this.updateLocalBoundsSelf();var e=this._localBoundsSelf;return this._canvasBuffer?this._canvasBuffer.resize(e.width,e.height):this._canvasBuffer=fr.create(e.width,e.height,t),Kr||(Kr=new vt(null,0,0)),this.transform.updateLocalMatrix(),Jr.copy(this.transform.localMatrix),Jr.invert(),Jr.tx-=e.x,Jr.ty-=e.y,Kr.render(this,this._canvasBuffer,Jr),this._texture||(this._texture=Gt.fromCanvas(this._canvasBuffer.baseTexture._canvasRenderTarget.canvas,"graphics")),this._texture.baseTexture.update(),this.offsetX=e.x,this.offsetY=e.y,this._texture},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this._matrix=null,this._currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.vertexData=null,this.geoBatches.length=0,this.geoBatches=null,this.batches.length=0,this.batches=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateLocalBoundsSelf(),Math.abs(this.scale.x)*this._localBoundsSelf.width},set:function(t){this.updateLocalBoundsSelf();var e=this._localBoundsSelf.width;if(0!==e){var r=Ft(this.scale.x)||1;this.scale.x=r*t/e}else this.scale.x=1;this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateLocalBoundsSelf(),Math.abs(this.scale.y)*this._localBoundsSelf.height},set:function(t){this.updateLocalBoundsSelf();var e=this._localBoundsSelf.height;if(0!==e){var r=Ft(this.scale.y)||1;this.scale.y=r*t/e}else this.scale.y=1;this._height=t},enumerable:!0,configurable:!0}),e.prototype.proccessHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];ei[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.addUvs=function(t,e,r,i,n,o){for(var a=0,s=e.length,l=r.frame;a<n;){var h=t[2*(i+a)],u=t[2*(i+a)+1];if(o){var c=o.a*h+o.c*u+o.tx;u=o.b*h+o.d*u+o.ty,h=c}a++;var p=r.frame;e.push(h/p.width,u/p.height)}var f=r.baseTexture;(l.width<f.width||l.height<f.height)&&this.adjustUvs(e,r,s,n)},e.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=1e-6,a=r+2*i,s=e.frame,l=s.width/n.width,h=s.height/n.height,u=s.x/s.width,c=s.y/s.height,p=Math.floor(t[r]+o),f=Math.floor(t[r+1]+o),d=r+2;d<a;d+=2)p=Math.min(p,Math.floor(t[d]+o)),f=Math.min(f,Math.floor(t[d+1]+o));u-=p,c-=f;for(d=r;d<a;d+=2)t[d]=(t[d]+u)*l,t[d+1]=(t[d+1]+c)*h},e}(Z),ii=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},ni=function(t){function e(){var e=t.call(this)||this;e._command=[],e.hitTestByPixel=!0,e._instanceType="Shape";var r=et();return r.width=3,r.height=3,e.texture=Gt.fromCanvas(r,"shapeCanvas"),Gt.addToCache(e.texture,e.texture.baseTexture.textureCacheIds[0]),e.canvas=r,e.context=r.getContext("2d"),e.dirty=!0,e}return P(e,t),e.prototype.drawRoundedRect=function(t,e,r,i,n,o,a,s){void 0===n&&(n=0);var l=(r<i?r:i)/2,h=0,u=0,c=0,p=0;null==o&&(o=n),null==a&&(a=n),null==s&&(s=n),n<0&&(n*=h=-1),n>l&&(n=l),o<0&&(o*=u=-1),o>l&&(o=l),s<0&&(s*=c=-1),s>l&&(s=l),a<0&&(a*=p=-1),a>l&&(a=l);var f=this._command;return f[f.length]=[1,"moveTo",[t+r-o,e]],f[f.length]=[1,"arcTo",[t+r+o*u,e-o*u,t+r,e+o,o]],f[f.length]=[1,"lineTo",[t+r,e+i-s]],f[f.length]=[1,"arcTo",[t+r+s*c,e+i+s*c,t+r-s,e+i,s]],f[f.length]=[1,"lineTo",[t+a,e+i]],f[f.length]=[1,"arcTo",[t-a*p,e+i+a*p,t,e+i-a,a]],f[f.length]=[1,"lineTo",[t,e+n]],f[f.length]=[1,"arcTo",[t-n*h,e-n*h,t+n,e,n]],f[f.length]=[1,"closePath",[]],this},e.prototype.moveTo=function(t,e){return this._command[this._command.length]=[1,"moveTo",[t,e]],this},e.prototype.lineTo=function(t,e){return this._command[this._command.length]=[1,"lineTo",[t,e]],this},e.prototype.arcTo=function(t,e,r,i,n){return this._command[this._command.length]=[1,"arcTo",[t,e,r,i,n]],this},e.prototype.quadraticCurveTo=function(t,e,r,i){return this._command[this._command.length]=[1,"quadraticCurveTo",[t,e,r,i]],this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._command[this._command.length]=[1,"bezierCurveTo",[t,e,r,i,n,o]],this},e.prototype.closePath=function(){return this._command[this._command.length]=[1,"closePath",[]],this},e.prototype.drawRect=function(t,e,r,i){var n=this._command;return n[n.length]=[1,"moveTo",[t,e]],n[n.length]=[1,"lineTo",[t+r,e]],n[n.length]=[1,"lineTo",[t+r,e+i]],n[n.length]=[1,"lineTo",[t,e+i]],n[n.length]=[1,"closePath",[]],this},e.prototype.arc=function(t,e,r,i,n,o){return void 0===o&&(o=!1),this._command[this._command.length]=[1,"arc",[t,e,r,i,n,o]],this},e.prototype.drawCircle=function(t,e,r,i){return void 0===i&&(i=!1),this._command[this._command.length]=[1,"arc",[t,e,r,0,2*Math.PI,i]],this},e.prototype.drawEllipse=function(t,e,r,i){var n=.5522848,o=r/2*n,a=i/2*n,s=t+r,l=e+i,h=t+r/2,u=e+i/2,c=this._command;return c[c.length]=[1,"moveTo",[t,u]],c[c.length]=[1,"bezierCurveTo",[t,u-a,h-o,e,h,e]],c[c.length]=[1,"bezierCurveTo",[h+o,e,s,u-a,s,u]],c[c.length]=[1,"bezierCurveTo",[s,u+a,h+o,l,h,l]],c[c.length]=[1,"bezierCurveTo",[h-o,l,t,u+a,t,u]],this},e.prototype.clear=function(){var t=this;return t._command=[],t.dirty=!0,t},e.prototype.beginFill=function(t,e){void 0===t&&(t=0),void 0===e&&(e=1),"string"==typeof t&&(t=It(t));var r=Rt(Ot(t),e);return this._fill(r),this},e.prototype.beginGradientFill=function(t,e){return this._fill(Ct(t,e)),this},e.prototype.beginBitmapFill=function(t,e){var r=this;return e&&(r._isBitmapFill=e),r._fill(Pt(t)),r},e.prototype._fill=function(t){var e=this._command;e[e.length]=[0,"fillStyle",t],e[e.length]=[1,"beginPath",[]],this.dirty=!0},e.prototype.beginStroke=function(t,e,r,i,n,o){void 0===e&&(e=1),void 0===r&&(r=g.BUTT),void 0===i&&(i=_.MITER),void 0===n&&(n=0),void 0===o&&(o=1);var a=Rt(Ot(t),o);return this._stroke(a,e,r,i,n),this},e.prototype.beginGradientStroke=function(t,e,r,i,n,o){return void 0===r&&(r=1),void 0===i&&(i=g.BUTT),void 0===n&&(n=_.MITER),void 0===o&&(o=10),this._stroke(Ct(t,e),r,i,n,o),this},e.prototype.beginBitmapStroke=function(t,e,r,i,n,o){void 0===r&&(r=1),void 0===i&&(i=g.BUTT),void 0===n&&(n=_.MITER),void 0===o&&(o=10);var a=this;return e&&(a._isBitmapStroke=e),a._stroke(Pt(t),r,i,n,o),a},e.prototype._stroke=function(t,e,r,i,n){var o=this._command;o[o.length]=[0,"lineWidth",e],o[o.length]=[0,"lineCap",r],o[o.length]=[0,"lineJoin",i],o[o.length]=[0,"miterLimit",n],o[o.length]=[0,"strokeStyle",t],o[o.length]=[1,"beginPath",[]],this.dirty=!0},e.prototype.endFill=function(){var t=this,e=t._command,r=t._isBitmapFill;return r&&(e[e.length]=[2,"setTransform",r]),e[e.length]=[1,"fill",[]],r&&(t._isBitmapFill=null),t},e.prototype.endStroke=function(){var t=this,e=t._command,r=t._isBitmapStroke;return r&&(e[e.length]=[2,"setTransform",r]),e[e.length]=[1,"stroke",[]],r&&(t._isBitmapStroke=null),t},e.prototype.updateShape=function(){var t=this;if(t.visible&&t.dirty){t.dirty=!1,t._boundsID++;var e,r,i,n,o,a,s=t._command.length,l=0,h=0,u=0;for(o=0;o<s;o++)if(1==(a=t._command[o])[0]){if("moveTo"==a[1]||"lineTo"==a[1]||"arcTo"==a[1]||"bezierCurveTo"==a[1])null==e&&(e=a[2][0]),null==r&&(r=a[2][1]),null==i&&(i=a[2][0]),null==n&&(n=a[2][1]),"bezierCurveTo"==a[1]?(e=Math.min(e,a[2][0],a[2][2],a[2][4]),r=Math.min(r,a[2][1],a[2][3],a[2][5]),i=Math.max(i,a[2][0],a[2][2],a[2][4]),n=Math.max(n,a[2][1],a[2][3],a[2][5]),l=a[2][4],h=a[2][5]):(e=Math.min(e,a[2][0]),r=Math.min(r,a[2][1]),i=Math.max(i,a[2][0]),n=Math.max(n,a[2][1]),l=a[2][0],h=a[2][1]);else if("quadraticCurveTo"==a[1]){var c=.5*(l+a[2][0]),p=.5*(h+a[2][1]),f=.5*(a[2][0]+a[2][2]),d=.5*(a[2][1]+a[2][3]);null==e&&(e=c),null==r&&(r=p),null==i&&(i=c),null==n&&(n=p),e=Math.min(e,c,f,a[2][2]),r=Math.min(r,p,d,a[2][3]),i=Math.max(i,c,f,a[2][2]),n=Math.max(n,p,d,a[2][3]),l=a[2][2],h=a[2][3]}else if("arc"==a[1]){var m=a[2][0],v=a[2][1],y=a[2][2],g=m-y,_=v-y,b=m+y,x=v+y;null==e&&(e=g),null==r&&(r=_),null==i&&(i=b),null==n&&(n=x),e=Math.min(e,g),r=Math.min(r,_),i=Math.max(i,b),n=Math.max(n,x)}}else"lineWidth"==a[1]&&u<a[2]&&(u=a[2]);if(null!=e||u>0){null==e&&(e=0,r=0);var w=(i+=20+u>>1)-(e-=20+u>>1),T=(n+=20+u>>1)-(r-=20+u>>1);t.offsetX=e,t.offsetY=r,t._localBoundsSelf.x=e+10,t._localBoundsSelf.y=r+10,t._localBoundsSelf.width=w-20,t._localBoundsSelf.height=T-20;var E=t.canvas,S=t.context;E.width=w,E.height=T,S.clearRect(0,0,w,T),S.setTransform(1,0,0,1,-e,-r),t._drawShape(S),t.anchorTexture.set(-e/w,-r/T)}else t.canvas.width=0,t.canvas.height=0,t.offsetX=0,t.offsetY=0,t._localBoundsSelf.clear(),t.anchorTexture.set(0,0);t.texture.update(),t._onTextureUpdate()}},e.prototype._drawShape=function(t){for(var e,r=this,i=r._command,n=i.length,o=r.offsetX,a=r.offsetY,s=0;s<n;s++)if((e=i[s])[0]>0){var l=e[2].length;if(0==l)t[e[1]]();else if(2==l)t[e[1]](e[2][0],e[2][1]);else if(4==l)t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3]);else if(5==l)t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3],e[2][4]);else if(6==l){var h=e[2][4],u=e[2][5];2==e[0]&&(h-=o,u-=a),t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3],h,u)}}else t[e[1]]=e[2]},e.prototype.hitTestPoint=function(e,r){void 0===r&&(r=!1);var i=this;this.updateShape();var n=t.prototype.hitTestPoint.call(this,e,r);if(!n)return null;if(n!=i)return n;if(!i.hitTestByPixel)return i;var o=e;r&&(o=i.globalToLocal(e));var a=i._texture;if(!a||0==a.width||0==a.height)return null;o.x-=i.offsetX,o.y-=i.offsetY;var s=At();s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,1,1),s.setTransform(1,0,0,1,-o.x,-o.y),s.drawImage(i.canvas,0,0);var l=s.getImageData(0,0,1,1);return l&&l.data?l.data[3]>0?i:null:i},e.prototype.changeColor=function(t){for(var e=this,r=e._command.length,i=e._command,n=0;n<r;n++)0==i[n][0]&&("fillStyle"==i[n][1]&&t.fillColor&&i[n][2]!=t.fillColor&&(i[n][2]=t.fillColor,e.dirty=!0),"strokeStyle"==i[n][1]&&t.strokeColor&&i[n][2]!=t.strokeColor&&(i[n][2]=t.strokeColor,e.dirty=!0),"lineWidth"==i[n][1]&&t.lineWidth&&i[n][2]!=t.lineWidth&&(i[n][2]=t.lineWidth,e.dirty=!0))},e.prototype.calculateBounds=function(){this.updateShape(),t.prototype.calculateBounds.call(this)},e.prototype._renderCanvas=function(e){this.updateShape(),t.prototype._renderCanvas.call(this,e)},e.prototype._renderWebGL=function(e){this.updateShape(),t.prototype._renderWebGL.call(this,e)},e.prototype.destroy=function(){var e=this;e._command=null,e._isBitmapStroke=null,e._isBitmapFill=null,t.prototype.destroy.call(this)},e}(Zt),oi=new L,ai=new vr,si=function(t){function e(e,r,i,n){var o=t.call(this)||this;return o._blendMode=b.NORMAL,o._texture=e||Gt.EMPTY,o._uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),o._vertices=r||new Float32Array([0,0,100,0,100,100,0,100]),o._indices=n||new Uint16Array([0,1,3,2]),o._vertexDirty=0,o._vertexId=-1,o._localBoundsSelfId=-1,o.blendMode=b.NORMAL,o.canvasPadding=0,o._tint=null,o._tintRGB=null,o.tint=16777215,o._uvTransform=new Ke(o._texture),o._needRefresh=!0,o}return P(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!0,configurable:!0}),e.prototype._renderWebGL=function(t){this.refresh(),this.calculateVertices(),t.batchManager.setObjectRenderer(t.plugins.batch),t.plugins.batch.render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins.mesh.render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this._needRefresh=!0},e.prototype.multiplyUvs=function(){this._uvTransform.multiplyUvs(this._uvs)},e.prototype.refresh=function(t){void 0===t&&(t=!1),this._texture&&this._texture.valid&&(this._uvTransform.update(t)||this._needRefresh||t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype.calculateVertices=function(){if(!(this._vertexId===this._vertexDirty&&this._transformID===this.transform._worldID||(this._vertexId=this._vertexDirty,this._transformID=this.transform._worldID,this._vertices.length<=2))){this._vertexData||(this._vertexData=new Float32Array(this._vertices.length));for(var t=this.transform.worldMatrix,e=t.a,r=t.b,i=t.c,n=t.d,o=t.tx,a=t.ty,s=this._vertexData,l=0;l<s.length/2;l++){var h=this._vertices[2*l],u=this._vertices[2*l+1];s[2*l]=e*h+i*u+o,s[2*l+1]=r*h+n*u+a}}},e.prototype._calculateBounds=function(){this.updateLocalBoundsSelf();var t=this._localBoundsSelf,e=this.transform.worldMatrix;e.transformPoint(t.x,t.y,K._p1),e.transformPoint(t.x+t.width,t.y,K._p2),e.transformPoint(t.x+t.width,t.y+t.height,K._p3),e.transformPoint(t.x,t.y+t.height,K._p4),z.createFromPoints(this._bounds,K._p1,K._p2,K._p3,K._p4)},e.prototype.updateLocalBoundsSelf=function(){this._localBoundsSelfId!=this._vertexDirty&&(this._localBoundsSelfId=this._vertexDirty,this._vertices.length<=2&&this._localBoundsSelf.clear(),z.createFromVertexData(this._localBoundsSelf,this._vertices))},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(i=t.prototype.hitTestPoint.call(this,e,r))?i:r&&!this.mouseEnable?null:(this.updateLocalBoundsSelf(),(i=this.displayObjectHitTestPoint(e,r))?this.hitTestPointAccuratly(e,r):null):null;var i},e.prototype.hitTestPointAccuratly=function(t,e){e?this.globalToLocal(t,oi):oi.set(t.x,t.y);for(var r=this._vertices,i=ai.points,n=this._indices,o=this._indices.length,a=0;a+2<o;a+=3){var s=2*n[a],l=2*n[a+1],h=2*n[a+2];if(i[0]=r[s],i[1]=r[s+1],i[2]=r[l],i[3]=r[l+1],i[4]=r[h],i[5]=r[h+1],ai.isPointIn(oi))return this}return null},Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._texture.removeEventListener("update",this._onTextureUpdate,this),this._uvs=null,this._vertices=null,this._indices=null,this._vertexData=null},e}(Z);!function(t){function e(e,r,i){void 0===r&&(r=10),void 0===i&&(i=10);var n=t.call(this,e)||this;return n.verticesX=r||10,n.verticesY=i||10,n.refresh(),n}P(e,t),e.prototype._refresh=function(){for(var t=this.texture,e=this.verticesX*this.verticesY,r=[],i=[],n=this.verticesX-1,o=this.verticesY-1,a=t.width/n,s=t.height/o,l=0;l<e;l++){var h=l%this.verticesX,u=l/this.verticesX|0;r.push(h*a,u*s),i.push(h/n,u/o)}this._vertices=new Float32Array(r),this._uvs=new Float32Array(i),this._indices=li(this.verticesX,this.verticesY),this._vertexDirty++,this.multiplyUvs()}}(si);function li(t,e){for(var r=t-1,i=r*(e-1),n=[],o=0;o<i;o++){var a=o%r,s=o/r|0,l=s*t+a,h=s*t+a+1,u=(s+1)*t+a,c=(s+1)*t+a+1;n.push(l,h,u),n.push(h,c,u)}return new Uint16Array(n)}var hi=li(4,4),ui=(function(t){function e(e,r,i,n,o){void 0===r&&(r=10),void 0===i&&(i=10),void 0===n&&(n=10),void 0===o&&(o=10);var a=t.call(this,e)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=r,a._rightWidth=n,a._topHeight=i,a._bottomHeight=o,a._indices=hi,a._vertices=new Float32Array(32),a._uvs=new Float32Array(32),a.refresh(!0),a}P(e,t),e.prototype.updateHorizontalVertices=function(){var t=this._vertices,e=this._topHeight+this._bottomHeight,r=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this._vertices,e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this._worldAlpha,t.setBlendMode(this.blendMode);var r=this.worldMatrix;e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty);var i=this.texture.baseTexture,n=i.source,o=i.width,a=i.height;this.drawSegment(e,n,o,a,0,1,10,11),this.drawSegment(e,n,o,a,2,3,12,13),this.drawSegment(e,n,o,a,4,5,14,15),this.drawSegment(e,n,o,a,8,9,18,19),this.drawSegment(e,n,o,a,10,11,20,21),this.drawSegment(e,n,o,a,12,13,22,23),this.drawSegment(e,n,o,a,16,17,26,27),this.drawSegment(e,n,o,a,18,19,28,29),this.drawSegment(e,n,o,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,i,n,o,a,s){var l=this._uvs,h=this._vertices,u=(l[a]-l[n])*r,c=(l[s]-l[o])*i,p=h[a]-h[n],f=h[s]-h[o];u<1&&(u=1),c<1&&(c=1),p<1&&(p=1),f<1&&(f=1),t.drawImage(e,l[n]*r,l[o]*i,u,c,h[n],h[o],p,f)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),e.prototype._refresh=function(){var t=this._uvs,e=this.texture;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,i=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=i*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this._vertexDirty++,this.multiplyUvs()}}(si),function(t){function e(e,r){var i=t.call(this,e)||this;return i.points=r,i._vertices=new Float32Array(4*r.length),i._uvs=new Float32Array(4*r.length),i._indices=new Uint16Array(6*(r.length-1)),i.textureHeight=e.height,i.refresh(!0),i.refreshVertices(),i}P(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this.texture._uvs){this._vertices.length/4!==t.length&&(this._vertices=new Float32Array(4*t.length),this._uvs=new Float32Array(4*t.length),this._indices=new Uint16Array(6*(t.length-1)));var e=this._uvs,r=this._indices;e[0]=0,e[1]=0,e[2]=0,e[3]=1;for(var i=t.length,n=1;n<i;n++){var o=n/(i-1);e[s=4*n]=o,e[s+1]=0,e[s+2]=o,e[s+3]=1}var a=0;for(n=0;n<i-1;n++){var s=2*n;r[a++]=s,r[a++]=s+1,r[a++]=s+2,r[a++]=s+2,r[a++]=s+1,r[a++]=s+3}this.multiplyUvs()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1)){if(this._vertices.length/4!==t.length)return this._refresh(),void this.refreshVertices();for(var e,r=t[0],i=0,n=0,o=this._vertices,a=t.length,s=0;s<a;s++){var l=t[s],h=4*s;n=-((e=s<t.length-1?t[s+1]:l).x-r.x),i=e.y-r.y;var u=Math.sqrt(i*i+n*n),c=this.textureHeight/2;i/=u,n/=u,i*=c,n*=c,o[h]=l.x+i,o[h+1]=l.y+n,o[h+2]=l.x-i,o[h+3]=l.y-n,r=l}this._vertexDirty++}},e.prototype.update=function(){t.prototype.update.call(this),(this.autoUpdateVertices||this.textureHeight!==this.texture.height)&&(this.textureHeight=this.texture.height,this.refreshVertices())}}(si),function(t){function e(){var e=t.call(this)||this;e._textAlpha=1,e._textAlign=d.LEFT,e._verticalAlign=m.UP,e._textWidth=0,e._textHeight=0,e._lineSpacing=14,e._lineType=v.SINGLE,e._text="",e._font="Arial",e._size=12,e._fillColor="#ffffff",e._strokeColor="#ffffff",e._stroke=0,e._italic=!1,e._bold=!1,e._border=!1,e.realLines=[],e._instanceType="TextField";var r=et();return r.width=r.height=3,e.texture=Gt.fromCanvas(r,"textCanvas"),e.canvas=r,e.context=r.getContext("2d"),Gt.addToCache(e.texture,e.texture.baseTexture.textureCacheIds[0]),e.dirty=!0,e}return P(e,t),Object.defineProperty(e.prototype,"textAlpha",{get:function(){return this._textAlpha},set:function(t){this._textAlpha!=t&&(this._textAlpha=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!=t&&(this._textAlign=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this._textWidth?this._textWidth:(this.updateText(),this.width-20)},set:function(t){this._textWidth!=t&&(this._textWidth=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this._textHeight?this._textHeight:(this.updateText(),this.height-20)},set:function(t){this._textHeight!=t&&(this._textHeight=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){this._lineSpacing!=t&&(this._lineSpacing=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineType",{get:function(){return this._lineType},set:function(t){this._lineType!=t&&(this._lineType=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text!=t&&(this._text=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this._font},set:function(t){this._font!=t&&(this._font=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size!=t&&(this._size=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillColor",{get:function(){return this._fillColor},set:function(t){this._fillColor!=t&&(this._fillColor=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._strokeColor!=t&&(this._strokeColor=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke!=t&&(this._stroke=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"italic",{get:function(){return this._italic},set:function(t){this._italic!=t&&(this._italic=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bold",{get:function(){return this._bold},set:function(t){this._bold!=t&&(this._bold=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"border",{get:function(){return this._border},set:function(t){this._border!=t&&(this._border=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype._prepContext=function(t){var e=this,r=e.size||12;r+="px ",r+=e.font,e._bold&&(r="bold "+r),e._italic&&(r="italic "+r),t.font=r,t.textAlign=e._textAlign||d.LEFT,t.textBaseline="top",t.fillStyle=Rt(e._fillColor,e._textAlpha)},e.prototype.getTextWidth=function(t){void 0===t&&(t=0);var e=this;return e.updateText(),e.context.measureText(e.realLines[t]).width},Object.defineProperty(e.prototype,"lines",{get:function(){return this.realLines.length},enumerable:!0,configurable:!0}),e.prototype._getMeasuredWidth=function(t){if("web"==tt())return this.context.measureText(t).width;for(var e=new RegExp("[一-龥]+"),r=/[\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3008|\u3009|\u3010|\u3011|\u300e|\u300f|\u300c|\u300d|\ufe43|\ufe44|\u3014|\u3015|\u2026|\u2014|\uff5e|\ufe4f|\uffe5]/,i=this.size,n=0,o=0;o<t.length;o++){var a=t[o];e.test(a)||r.test(a)?n+=i:n+=4*i/7}return n},e.prototype.updateText=function(){var t=this;if(t.dirty){if(t.dirty=!1,t._boundsID++,!t._text)return t.canvas.width=0,t.canvas.height=0,t._localBoundsSelf.clear(),t.anchorTexture={x:0,y:0},void t.texture.update();t._text+="";var e=t.canvas,r=t.context,i=t._text.toString().split(/(?:\r\n|\r|\n)/),n=[];t.realLines=n,t._prepContext(r);var o=t._textWidth;if(t._text.indexOf("\n")<0&&t._text.indexOf("\r")<0&&t._text.indexOf("\r\n")<0&&t.lineType==v.SINGLE){n[n.length]=i[0];var a=i[0],s=t._getMeasuredWidth(a);if(s>(o=o||s))for(var l=t._getMeasuredWidth(a[0]),h=a[0],u=0,c=a.length,p=1;p<c;p++){if((l+=u=t._getMeasuredWidth(a[p]))>o){n[0]=h;break}h+=a[p]}}else{if(!o)for(var f=0,y=i.length;f<y;f++){(a=i[f])&&(o=Math.max(t._getMeasuredWidth(a),o))}for(f=0,y=i.length;f<y;f++){if(a=i[f]){for(l=t._getMeasuredWidth(a[0]),h=a[0],u=0,c=a.length,p=1;p<c;p++)(l+=u=t._getMeasuredWidth(a[p]))>o?(n[n.length]=h,h=a[p],l=u):h+=a[p];n[n.length]=h}}}var g=t.size*n.length+t._lineSpacing*(n.length-1),_=t._textHeight||g,b=o,x=0;t._textAlign==d.CENTER?x=.5*b:t._textAlign==d.RIGHT&&(x=b);var w=b+20,T=_+20;e.width=w,e.height=T,r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height),t.border&&(r.beginPath(),r.strokeStyle="#000",r.lineWidth=1,r.strokeRect(10.5,10.5,b,_),r.closePath()),r.setTransform(1,0,0,1,x+10,10),t._prepContext(r);var E=t._lineSpacing+t.size,S=0;t._textHeight&&(t._verticalAlign==m.MIDDLE?S=.5*(t._textHeight-g):t._verticalAlign==m.DOWN&&(S=t._textHeight-g)),"tb"==tt()&&(S-=4);for(f=0;f<n.length;f++){t.stroke&&(r.strokeStyle=t.strokeColor,r.lineWidth=2*t.stroke,r.strokeText(n[f],0,S+f*E)),r.fillText(n[f],0,S+f*E)}t.offsetX=-10,t.offsetY=-10,this.anchorTexture={x:10.5/w,y:10/T},t.texture.update(),t._onTextureUpdate()}},e.prototype.calculateBounds=function(){this.updateText(),t.prototype.calculateBounds.call(this)},e.prototype._renderCanvas=function(e){this.updateText(),t.prototype._renderCanvas.call(this,e)},e.prototype._renderWebGL=function(e){this.updateText(),t.prototype._renderWebGL.call(this,e)},e.prototype.destroy=function(){this.canvas=null,this.context=null,t.prototype.destroy.call(this)},e}(Zt)),ci=(function(t){function e(){var e=t.call(this)||this;e._prompt="",e._promptColor="#eeeeee",e._textColor="#000000",e._instanceType="EditableText";var r=e,i=function(){r.htmlElement&&r.htmlElement.blur(),r.htmlElement.style.display="none",r.htmlElement.value?(r.text=r.htmlElement.value,r.fillColor=r.textColor):(r.text=r.prompt,r.fillColor=r.promptColor),window.scrollTo(0,0)};return e.addEventListener(Jt.CLICK,(function(t){r.initElement(),r.htmlElement.style.font=r.size+"px "+this.font,r.htmlElement.style.color=r.textColor,r.htmlElement.style.textAlign=r.textAlign,r.htmlElement.style.height=r.textHeight+"px",r.htmlElement.style.width=r.textWidth+"px",r.text!==r.prompt&&(r.htmlElement.value=r.text),r.text="",r.htmlElement.style.display="block",r.htmlElement.focus();var e=r.transform.worldMatrix,n=r.stage._dpi||r.stage.dpi;r.htmlElement.style.transform=r.htmlElement.style.webkitTransform="matrix("+(e.a/n).toFixed(4)+","+(e.b/n).toFixed(4)+","+(e.c/n).toFixed(4)+","+(e.d/n).toFixed(4)+","+(e.tx/n).toFixed(4)+","+(e.ty/n).toFixed(4)+")",r.stage.once(Jt.MOUSE_UP,i)})),e}P(e,t),Object.defineProperty(e.prototype,"prompt",{get:function(){return this._prompt},set:function(t){this._prompt!=t&&(this._prompt=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value||(this.text=this._prompt))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"promptColor",{get:function(){return this._promptColor},set:function(t){this._promptColor!=t&&(this._promptColor=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value||(this.fillColor=this._promptColor))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._textColor},set:function(t){this._textColor!=t&&(this._textColor=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value&&(this.fillColor=this._textColor))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputValue",{get:function(){return this.htmlElement&&this.htmlElement.value||(this.text!=this._prompt?this.text:"")},set:function(t){this.htmlElement&&(this.htmlElement.value=t),this.text=t,this.fillColor=this.textColor},enumerable:!0,configurable:!0}),e.prototype.initElement=function(){var t=this;if(!t.htmlElement){t.htmlElement=document.createElement("input");var e=t.htmlElement,r=e.style;e.type="input",r.position="absolute",r.display="none",r.transformOrigin=r.WebkitTransformOrigin=r.webkitTransformOrigin="0 0 0",r.outline="none",r.borderWidth="thin",r.borderColor="#000",e.placeholder="",r.borderStyle="none",r.backgroundColor="transparent";var i=t.stage.canvas.parentNode;i?i.insertBefore(e,i.childNodes[0]):document.body.appendChild(e),e.onblur=function(){"ios"==n&&window.scrollTo({top:0,left:0,behavior:"smooth"})}}}}(ui),function(t){function e(r){void 0===r&&(r=0);var i=t.call(this)||this;i.inputType=0,i.isAutoDownKeyBoard=!0;var o=null,a=i;a._instanceType="InputText",r<2?(o=document.createElement("input")).type=e._inputTypeList[r]:((o=document.createElement("textarea")).style.resize="none",o.style.overflow="hidden"),a.inputType=r;var s=function(){a.isAutoDownKeyBoard&&"pc"!=n&&(a.htmlElement&&a.htmlElement.blur(),window.scrollTo(0,0))}.bind(a);return a.addEventListener(D.REMOVED_FROM_STAGE,(function(t){a.stage.removeEventListener(Jt.MOUSE_UP,s)})),a.addEventListener(D.ADDED_TO_STAGE,(function(t){a.stage.addEventListener(Jt.MOUSE_UP,s)})),a.init(o),i}P(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e);var r=this;r.htmlElement.style.outline="none",r.htmlElement.style.borderWidth="thin",r.htmlElement.style.borderColor="#000"},e.prototype.initInfo=function(t,e,r,i,n,o,a,s,l){void 0===l&&(l=!1);var h=this;h.htmlElement.placeholder=t,h.htmlElement.style.font=i+"px "+(n||"微软雅黑"),h.htmlElement.style.color=e,h.htmlElement.style.textAlign=r,h.border=l,h.textWidth=o,h.textHeight=a,2==h.inputType&&(h.htmlElement.style.lineHeight=s+"px")},Object.defineProperty(e.prototype,"lineSpacing",{get:function(){return parseInt(this.htmlElement.style.lineHeight)},set:function(t){this.htmlElement.style.lineHeight=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bold",{get:function(){return"bold"==this.htmlElement.style.fontWeight},set:function(t){var e=this.htmlElement.style;e.fontWeight=t?"bold":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"italic",{get:function(){return"italic"==this.htmlElement.style.fontStyle},set:function(t){var e=this.htmlElement.style;e.fontStyle=t?"italic":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return parseInt(this.htmlElement.style.height)},set:function(t){this.htmlElement.style.height=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return parseInt(this.htmlElement.style.width)},set:function(t){this.htmlElement.style.width=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.htmlElement.style.color},set:function(t){this.htmlElement.style.color=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"border",{get:function(){return"none"!=this.htmlElement.style.borderStyle},set:function(t){var e=this;t?(e.htmlElement.style.borderStyle="inset",e.htmlElement.style.backgroundColor="#fff"):(e.htmlElement.style.borderStyle="none",e.htmlElement.style.backgroundColor="transparent")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){if(this.htmlElement)return this.htmlElement.value},set:function(t){this.htmlElement&&(this.htmlElement.value=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxCharacters",{get:function(){var t=this.htmlElement.getAttribute("maxlength");return null===t?0:t},set:function(t){this.htmlElement.setAttribute("maxlength",t)},enumerable:!0,configurable:!0}),e.prototype.convertToTextField=function(t){return this.htmlElement&&this.text?((t=t||new ui).fillColor=this.color,t.text=this.text,t.size=parseInt(this.htmlElement.style.font.split("px")[0]),t.textAlign=this.htmlElement.style.textAlign,t.bold=this.bold,t.italic=this.italic,t.textWidth=this.textWidth,t.lineType=2==this.inputType?v.MULTI:v.SINGLE,t.position.copy(this.position),t.scale.copy(this.scale),t.rotation=this.rotation,t):null},e._inputTypeList=["input","password","textarea"]}(J),[]),pi=(function(t){function e(e){var r=t.call(this)||this;return r._textAlign=d.CENTER,r._verticalAlign=m.MIDDLE,r._gap=0,r.textures=e,r}P(e,t),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!==t&&(this._textAlign=t,this.adaptate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!==t&&(this._verticalAlign=t,this.adaptate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap!=t&&(this._gap=t,this.adaptate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){if(t!==this._text){this._text=t;for(var e=t||[],r=0;r<e.length;r++)if(this.children[r])this.children[r].text=e[r];else{var i=ci.shift();i?i.reset(this.textures):i=new pi(this.textures),i.text=e[r],this.addChild(i)}if(this.children.length>e.length)for(r=this.children.length-1;r>=e.length;r--){var n=this.children[r];this.removeChild(n),ci.push(n)}this.adaptate()}},enumerable:!0,configurable:!0}),e.prototype.adaptate=function(){if(this.children.length){for(var t,e=this.children.length,r=0,i=0;i<e;i++)r+=this.children[i].width;r+=(e-1)*this._gap,t=this._textAlign==d.LEFT?0:this._textAlign==d.RIGHT?-r:-r/2;for(var n=0,o=0;o<this.children.length;o++)this.children[o].x=t+n,n+=this.children[o].width+this._gap;var a=0;this._verticalAlign==m.DOWN?a=-1:this._verticalAlign==m.MIDDLE&&(a=-.5),this.children.forEach((function(t){t.y=t.height*a}))}}}(Z),function(t){function e(e){var r=t.call(this)||this;return r.textures=e,r}return P(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this.texture=this.textures[this._text]},enumerable:!0,configurable:!0}),e.prototype.reset=function(t){this.textures=t},e}(Zt)),fi=function(){function t(t,e,r){this._target=null,this._useTicks=!1,this.ignoreGlobalPause=!1,this.loop=!1,this.pluginData=null,this._steps=null,this.paused=!1,this.duration=0,this._prevPos=-1,this.position=null,this._prevPosition=0,this._stepPosition=0,this.passive=!1,this.initialize(t,e,r)}return t.get=function(e,r,i,n){return void 0===i&&(i=null),void 0===n&&(n=!1),n&&t.removeTweens(e),new t(e,r,i)},t.removeTweens=function(e){if(e.tween_count){for(var r=t._tweens,i=r.length-1;i>=0;i--)r[i]._target==e&&(r[i].paused=!0,r.splice(i,1));e.tween_count=0}},t.removeTweenSelf=function(e){if(e&&e._target&&e._target.tween_count){e.paused=!0;var r=t._tweens,i=r.indexOf(e);i>-1&&r.splice(i,1),e._target.tween_count--}},t.pauseTweens=function(e){if(e.tween_count)for(var r=t._tweens,i=r.length-1;i>=0;i--)r[i]._target==e&&(r[i].paused=!0)},t.resumeTweens=function(e){if(e.tween_count)for(var r=t._tweens,i=r.length-1;i>=0;i--)r[i]._target==e&&(r[i].paused=!1)},t.tick=function(e,r){void 0===r&&(r=!1);var i=e-t._lastTime;t._lastTime=e;for(var n=t._tweens.concat(),o=n.length-1;o>=0;o--){var a=n[o];r&&!a.ignoreGlobalPause||a.paused||a.$tick(a._useTicks?1:i)}return!1},t.flush=function(){var e=Date.now(),r=t._lastTime?e-t._lastTime:16.67;t._lastTime=e;for(var i=t._tweens.concat(),n=i.length-1;n>=0;n--){var o=i[n];o.paused||o.$tick(o._useTicks?1:r)}},t._register=function(e,r){var i=e._target,n=t._tweens;if(r)i&&(i.tween_count=i.tween_count>0?i.tween_count+1:1),n.push(e),t._inited||(t._inited=!0);else{i&&i.tween_count--;for(var o=n.length;o--;)if(n[o]==e)return void n.splice(o,1)}},t.removeAllTweens=function(){for(var e=t._tweens,r=0,i=e.length;r<i;r++){var n=e[r];n.paused=!0,n._target.tween_count=0}e.length=0},t.prototype.initialize=function(e,r,i){this._target=e,r&&(this._useTicks=r.useTicks,this.ignoreGlobalPause=r.ignoreGlobalPause,this.loop=r.loop,r.onChange?this.onChange=r.onChange.bind(r.onChangeObj):this.onChange=null,r.override&&t.removeTweens(e)),this.pluginData=i||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],r&&r.paused?this.paused=!0:t._register(this,!0),r&&null!=r.position&&this.setPosition(r.position,t.NONE)},t.prototype.setPosition=function(t,e){void 0===e&&(e=1),t<0&&(t=0);var r=t,i=!1;if(r>=this.duration)if(this.loop){var n=r%this.duration;r=r>0&&0===n?this.duration:n}else r=this.duration,i=!0;if(r==this._prevPos)return i;i&&this.setPaused(!0);var o=this._prevPos;if(this.position=this._prevPos=r,this._prevPosition=t,this._target&&this._steps.length>0){for(var a=this._steps.length,s=-1,l=0;l<a&&!("step"==this._steps[l].type&&(s=l,this._steps[l].t<=r&&this._steps[l].t+this._steps[l].d>=r));l++);for(l=0;l<a;l++)if("action"==this._steps[l].type)0!=e&&(this._useTicks?this._runAction(this._steps[l],r,r):1==e&&r<o?(o!=this.duration&&this._runAction(this._steps[l],o,this.duration),this._runAction(this._steps[l],0,r,!0)):this._runAction(this._steps[l],o,r));else if("step"==this._steps[l].type&&s==l){var h=this._steps[s];this._updateTargetProps(h,Math.min((this._stepPosition=r-h.t)/h.d,1))}}return this.onChange&&this.onChange(),i},t.prototype._runAction=function(t,e,r,i){void 0===i&&(i=!1);var n=e,o=r;e>r&&(n=r,o=e);var a=t.t;(a==o||a>n&&a<o||i&&a==e)&&t.f.apply(t.o,t.p)},t.prototype._updateTargetProps=function(e,r){var i,n,o,a,s,l;if(e||1!=r){if(this.passive=!!e.v,this.passive)return;e.e&&(r=e.e(r,0,1,1)),i=e.p0,n=e.p1}else this.passive=!1,i=n=this._curQueueProps;for(var h in this._initQueueProps){null==(a=i[h])&&(i[h]=a=this._initQueueProps[h]),null==(s=n[h])&&(n[h]=s=a),o=a==s||0==r||1==r||"number"!=typeof a?1==r?s:a:a+(s-a)*r;var u=!1;if(l=t._plugins[h])for(var c=0,p=l.length;c<p;c++){var f=l[c].tween(this,h,o,i,n,r,!!e&&i==n,!e);f==t.IGNORE?u=!0:o=f}u||(this._target[h]=o)}},t.prototype.setPaused=function(e){return this.paused==e||(this.paused=e,t._register(this,!e)),this},t.prototype._cloneProps=function(t){var e={};for(var r in t)e[r]=t[r];return e},t.prototype._addStep=function(t){return t.d>0&&(t.type="step",this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},t.prototype._appendQueueProps=function(e){var r,i,n,o,a;for(var s in e)if(void 0===this._initQueueProps[s]){if(i=this._target[s],r=t._plugins[s])for(n=0,o=r.length;n<o;n++)i=r[n].init(this,s,i);this._initQueueProps[s]=this._curQueueProps[s]=void 0===i?null:i}else i=this._curQueueProps[s];for(var s in e){if(i=this._curQueueProps[s],r=t._plugins[s])for(a=a||{},n=0,o=r.length;n<o;n++)r[n].step&&r[n].step(this,s,i,e[s],a);this._curQueueProps[s]=e[s]}return a&&this._appendQueueProps(a),this._curQueueProps},t.prototype._addAction=function(t){return t.t=this.duration,t.type="action",this._steps.push(t),this},t.prototype._set=function(t,e){for(var r in t)e[r]=t[r]},t.prototype.wait=function(t,e){if(null==t||t<=0)return this;var r=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:r,p1:r,v:e})},t.prototype.to=function(t,e,r){return void 0===r&&(r=void 0),(isNaN(e)||e<0)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:r,p1:this._cloneProps(this._appendQueueProps(t))}),this.set(t)},t.prototype.by=function(t,e,r){for(var i in void 0===e&&(e=0),void 0===r&&(r=void 0),t)t[i]+=this._curQueueProps[i]||this._target[i];return this.to(t,e,r)},t.prototype.call=function(t,e,r){return void 0===e&&(e=void 0),void 0===r&&(r=void 0),this._addAction({f:t,p:r||[],o:e||this._target})},t.prototype.set=function(t,e){return void 0===e&&(e=null),this._appendQueueProps(t),this._addAction({f:this._set,o:this,p:[t,e||this._target]})},t.prototype.play=function(t){return t||(t=this),this.call(t.setPaused,t,[!1])},t.prototype.pause=function(t){return t||(t=this),this.call(t.setPaused,t,[!0])},t.prototype.$tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},t.NONE=0,t.LOOP=1,t.REVERSE=2,t._tweens=[],t.IGNORE={},t._plugins={},t._inited=!1,t._lastTime=0,t}();(function(t){function e(e,r,i){var n=t.call(this,e)||this;return n._clicked=!1,n._instanceType="Button",n.textureUp=e,n.textureDown=r===e?null:r,n.textureDisable=i||e,n.textureUp&&(n.anchorX=n.textureUp.width/2,n.anchorY=n.textureUp.height/2),n.initButton(),n}P(e,t),e.prototype.changeTexture=function(t,e,r){this.textureUp=t,this.textureDown=e===t?null:e,this.textureDisable=r||t,this.textureUp&&(this.anchorX=this.textureUp.width/2,this.anchorY=this.textureUp.height/2),this._clicked&&this.textureDown?this.texture=this.textureDown:this.mouseEnable||this.textureStatusEnable?this.texture=this.textureUp:this.texture=this.textureDisable},e.prototype._mouseEvent=function(t){var e=this;e._clicked||(t.type==Jt.MOUSE_DOWN?e.textureDown?e.texture=e.textureDown:(this.frames=null,fi.removeTweens(this),fi.get(this).to({scaleX:.9,scaleY:.9},50)):e.textureDown?e.texture=e.textureUp:(this.frames=this.framesOri,fi.removeTweens(this),fi.get(this).to({scaleX:1,scaleY:1},50)))},e.prototype.initButton=function(){var t=this;t.mouseChildren=!1,t.addEventListener("onMouseDown",t._mouseEvent,t),t.addEventListener("onMouseUp",t._mouseEvent,t),t.addEventListener("onMouseOut",t._mouseEvent,t),t.texture=t.textureUp},Object.defineProperty(e.prototype,"clicked",{get:function(){return this._clicked},set:function(t){var e=this;t!=e._clicked&&(t&&e._mouseEvent({type:"onMouseDown"}),e._clicked=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textureStatusEnable",{set:function(t){t?this.texture=this.textureUp:this.textureDisable&&(this.texture=this.textureDisable,this.frames=null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{set:function(t){this.mouseEnable=t,this.textureStatusEnable=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.textureUp=null,this.textureDown=null,this.textureDisable=null,fi.removeTweens(this),t.prototype.destroy.call(this)}})(Zt),function(t){function e(e){var r=t.call(this)||this;return r.loop=1,r.count=0,r.showImage=new Zt,r.showImage.anchorTexture.set(.5,.5),r.addChild(r.showImage),r.texturesAll=e,r.currentFrame=0,r.addEventListener(D.ENTER_FRAME,r.onEnterFrame,r),r.frameRate=30,r}P(e,t),Object.defineProperty(e.prototype,"currentFrame",{set:function(t){this.texturesAll[t]?this.showImage.texture=this.texturesAll[t]:this.showImage.texture=null},enumerable:!0,configurable:!0}),e.prototype.getCurrentFrame=function(){return this.texturesAll.indexOf(this.showImage.texture)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.texturesAll.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameRate",{get:function(){return this._frameRate},set:function(t){this._frameRate=t,this.allTime=this.texturesAll.length/this._frameRate*1e3},enumerable:!0,configurable:!0}),e.prototype.onEnterFrame=function(){if(this.isPlay){var t=(Date.now()-this.startTime)/this.allTime;t>=1?(this.loop--,0==this.loop?(this.isPlay=!1,this.callback&&this.callback()):(this.startTime=Date.now(),this.currentFrame=0)):this.currentFrame=t*this.texturesAll.length>>0}},e.prototype.play=function(t,e){void 0===t&&(t=1),this.startTime=Date.now(),this.isPlay=!0,this.currentFrame=0,this.loop=t,this.callback=e},e.prototype.reset=function(t){void 0===t&&(t=0),this.isPlay=!1,this.currentFrame=t},e.prototype.resetTexturesAll=function(t){this.texturesAll=t,this.currentFrame=0,this.frameRate=30}}(Z),function(){function t(){}t.get=function(t){return t<-1&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:t<0?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return e<.5?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){var r=2*Math.PI;return function(i){if(0==i||1==i)return i;var n=e/r*Math.asin(1/t);return-t*Math.pow(2,10*(i-=1))*Math.sin((i-n)*r/e)}},t.getElasticOut=function(t,e){var r=2*Math.PI;return function(i){if(0==i||1==i)return i;var n=e/r*Math.asin(1/t);return t*Math.pow(2,-10*i)*Math.sin((i-n)*r/e)+1}},t.getElasticInOut=function(t,e){var r=2*Math.PI;return function(i){var n=e/r*Math.asin(1/t);return(i*=2)<1?t*Math.pow(2,10*(i-=1))*Math.sin((i-n)*r/e)*-.5:t*Math.pow(2,-10*(i-=1))*Math.sin((i-n)*r/e)*.5+1}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.backIn=t.getBackIn(1.7),t.backOut=t.getBackOut(1.7),t.backInOut=t.getBackInOut(1.7),t.elasticIn=t.getElasticIn(1,.3),t.elasticOut=t.getElasticOut(1,.3),t.elasticInOut=t.getElasticInOut(1,.3*1.5)}(),function(t){function e(e,r,i,n,o,a,s){void 0===a&&(a=!0),void 0===s&&(s=1);var l=t.call(this,n,o,0,a)||this;l._items=null,l._isInit=0,l.data=[],l.downL=null,l._lastFirstId=-1,l._updateId=-1;var h=l;return h._instanceType="ScrollList",h._itemW=r,h._itemH=i,h._items=[],h._itemClass=e,h._itemCount=0,h._cols=s,h._updateViewRect(),h.addEventListener(D.ENTER_FRAME,h.flushData.bind(h)),l}P(e,t),Object.defineProperty(e.prototype,"loadingView",{get:function(){return this.downL},enumerable:!0,configurable:!0}),e.prototype.updateData=function(t,e){void 0===e&&(e=!0);var r=this;if(!r._isInit||e?r.data=t:r.data=r.data.concat(t),r._isInit=1,r._lastFirstId=-1,r._updateId=-1,r.maxDistance=Math.ceil(r.data.length/r._cols)*r._itemRow,r.downL){r.downL[r.paramXY]=Math.max(r.distance,r.maxDistance);var i=r.downL.getWH();r.maxDistance+="x"==r.paramXY?i.width:i.height}},e.prototype.flushData=function(){var t=this;if(t._isInit>0&&t._updateId!=t.view.transform._localID){t._updateId=t.view.transform._localID;var e=t.view[t.paramXY]>0?0:(Math.abs(Math.floor(t.view[t.paramXY]/t._itemRow))-1)*t._cols;if((e=e<0?0:e)!=t._lastFirstId&&(t._lastFirstId=e,e!=t._items[0].id))for(var r=0;r<t._cols;r++)t.speed>0?t._items.unshift(t._items.pop()):t._items.push(t._items.shift());for(var i=0;i<t._itemCount;i++){var n=t._items[i];1==t._isInit&&(n.sli_id=-1),n.sli_id!=e&&(n.initData(t.data[e]?e:-1,t.data[e]),n[t.paramXY]=Math.floor(e/t._cols)*t._itemRow,n[t._disParam]=e%t._cols*t._itemCol,t.data[e]?(n.sli_id=e,n.visible=!0):(n.sli_id=-1,n.visible=!1)),e++}t._isInit=2}},e.prototype.setViewRect=function(e,r,i){t.prototype.setViewRect.call(this,e,r,i);var n=this;n._itemRow&&n._itemCol&&n._updateViewRect()},e.prototype._updateViewRect=function(){var t=this;t.isVertical?(t._disParam="x",t._itemRow=t._itemH,t._itemCol=t._itemW):(t._disParam="y",t._itemRow=t._itemW,t._itemCol=t._itemH);var e=(Math.ceil(t.distance/t._itemRow)+1)*t._cols;if(e!=t._itemCount){if(e>t._itemCount)for(var r=t._itemCount;r<e;r++){var i=new t._itemClass;i.id=-1,i.data=null,t._items.push(i),t.view.addChild(i)}else for(r=0;r<t._itemCount-e;r++)t.view.removeChild(t._items.pop());t._itemCount=e,t._lastFirstId=-1}},e.prototype.setLoading=function(t){var e=this;if(e.downL){e.view.removeChild(e.downL);var r=e.downL.getWH();e.maxDistance-="x"==e.paramXY?r.width:r.height,e.downL=null}if(t){e.downL=t,e.view.addChild(t),e.downL[e.paramXY]=Math.max(e.distance,e.maxDistance);r=e.downL.getWH();e.maxDistance+="x"==e.paramXY?r.width:r.height}else e.isStop=!1},e.prototype.destroy=function(){var e=this;e._items=null,e._itemClass=null,e.data=null,e.downL=null,t.prototype.destroy.call(this)}}(function(t){function e(e,r,i,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1);var a=t.call(this)||this;a.isVertical=!0,a.viewWidth=0,a.viewHeight=0,a._tweenId=0,a.maxDistance=1040,a.distance=0,a.minDis=2,a.maskObj=new ri,a.view=new Z,a.lastValue=0,a.speed=0,a.addSpeed=0,a.isStop=!0,a.maxSpeed=100,a.fSpeed=20,a.paramXY="y",a.stopTimes=-1,a.isMouseDownState=0,a.autoScroll=!1,a.isSpringBack=!0;var s=a;return s._instanceType="ScrollPage",s.addChild(s.maskObj),s.addChild(s.view),o||(s.view.mask=s.maskObj,s.maskObj.isUsedToMask=!1),s.maskObj.alpha=0,s.maxDistance=i,s.setViewRect(e,r,n),s.addEventListener(D.ADDED_TO_STAGE,(function(t){s.stage.addEventListener(Jt.MOUSE_MOVE,s.onMouseEvent,s),s.stage.addEventListener(Jt.MOUSE_UP,s.onMouseEvent,s)})),s.addEventListener(D.REMOVED_FROM_STAGE,(function(t){s.stage.removeEventListener(Jt.MOUSE_MOVE,s.onMouseEvent,s),s.stage.removeEventListener(Jt.MOUSE_UP,s.onMouseEvent,s)})),s.addEventListener(Jt.MOUSE_DOWN,s.onMouseEvent,s,!1),s.addEventListener(D.ENTER_FRAME,(function(){var t=s.view;if(!s.autoScroll){if(!s.isSpringBack){if(t[s.paramXY]>0)return s.addSpeed=0,s.speed=0,s.isStop=!0,void(t[s.paramXY]=0);if(t[s.paramXY]<s.distance-s.maxDistance)return s.addSpeed=0,s.speed=0,s.isStop=!0,t[s.paramXY]=s.distance-s.maxDistance,void(s.distance>s.maxDistance&&(t[s.paramXY]=0))}if(s.isStop)s.stopTimes>=0&&(s.stopTimes++,s.stopTimes>=15&&(s.speed=0,(t[s.paramXY]>0||t[s.paramXY]<s.distance-s.maxDistance)&&(s.isStop=!1,s.stopTimes=-1,s.isMouseDownState=0)));else if(Math.abs(s.speed)>0)t[s.paramXY]+=s.speed,t[s.paramXY]>0||t[s.paramXY]<s.distance-s.maxDistance?s.speed+=s.addSpeed*s.fSpeed:s.speed+=s.addSpeed,s.speed*s.addSpeed>0&&(s.dispatchEvent(D.SCROLL_STOP),s.speed=0);else if(0!=s.addSpeed){if(t[s.paramXY]>0||t[s.paramXY]<s.distance-s.maxDistance){var e=0;t[s.paramXY]<s.distance-s.maxDistance&&s.distance<s.maxDistance&&(e=s.distance-s.maxDistance),t[s.paramXY]+=.4*(e-t[s.paramXY]),Math.abs(e-t[s.paramXY])<.1&&(s.isStop=!0,s.addSpeed>0?s.dispatchEvent(D.SCROLL_TO_END):s.dispatchEvent(D.SCROLL_TO_HEAD))}}else s.isStop=!0}})),a}return P(e,t),e.prototype.setViewRect=function(t,e,r){var i=this;i.maskObj.clear(),i.maskObj.beginFill("#000000"),i.maskObj.drawRect(0,0,t,e),i.viewWidth=t,i.viewHeight=e,i.maskObj.endFill(),i.isVertical=r,r?(i.distance=i.viewHeight,i.paramXY="y"):(i.distance=i.viewWidth,i.paramXY="x"),i.isVertical=r},e.prototype.onMouseEvent=function(t){var e=this,r=e.view;if(t.type==Jt.MOUSE_DOWN)t.stopPropagation(),e.isStop||(e.isStop=!0),e.autoScroll&&(e.autoScroll=!1,fi.removeTweens(e.view)),e.isVertical?e.lastValue=t.stageY:e.lastValue=t.stageX,e.speed=0,e.isMouseDownState=1;else if(t.type==Jt.MOUSE_MOVE){if(0==e.isMouseDownState)return;1==e.isMouseDownState&&e.dispatchEvent(D.SCROLL_START),e.isMouseDownState=2;var i=void 0;if(i=e.isVertical?t.stageY:t.stageX,e.speed=i-e.lastValue,e.speed>e.minDis?(e.addSpeed=-2,e.speed>e.maxSpeed&&(e.speed=e.maxSpeed)):e.speed<-e.minDis?(e.speed<-e.maxSpeed&&(e.speed=-e.maxSpeed),e.addSpeed=2):e.speed=0,0!=e.speed){var n=1;(r[e.paramXY]>0||r[e.paramXY]<e.distance-e.maxDistance)&&(n=.2),r[e.paramXY]+=(i-e.lastValue)*n}e.lastValue=i,e.stopTimes=0}else e.isStop=!1,e.stopTimes=-1,0==e.speed&&2==e.isMouseDownState&&e.dispatchEvent(D.SCROLL_STOP),e.isMouseDownState=0},e.prototype.scrollTo=function(t,e){var r;void 0===e&&(e=0);var i=this,n="x"==i.paramXY?i.viewWidth:i.viewHeight;t<0?t=0:t>i.maxDistance-n&&(t=i.maxDistance-n),Math.abs(i.view[i.paramXY]+t)>2&&(i.autoScroll=!0,i.isStop=!0,i.isMouseDownState=0,fi.get(i.view).to((r={},r[i.paramXY]=-t,r),e).call((function(){i.view[i.paramXY]=-t,i.autoScroll=!1})),0==i.speed&&i.dispatchEvent(D.SCROLL_START))},e.prototype.destroy=function(){fi.removeTweens(this.view);var e=this;e.maskObj.destroy(),e.view.destroy(),e.maskObj=null,e.view=null,t.prototype.destroy.call(this)},e}(Z)),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}P(e,t),e.prototype.playWords=function(t,e,r){var i=this;void 0===e&&(e=100);for(var n=t.split("\n"),o=[],a=0;a<n.length;a++){for(var s=n[a],l="",h=0;h<a;)l+=n[h],l+="\n",h++;for(var u=0;u<s.length;u++){var c=""+l;c+=s.substring(0,u+1),o.push(c)}}for(var p=function(t){var n=o[t];setTimeout((function(){i.text=n,t==o.length-1&&r&&r()}),e*t)},f=0;f<o.length;f++)p(f)}}(ui),function(t){function e(e){var r=t.call(this)||this;r.lockStep=!1,r._curFrame=1,r._isPlaying=!0,r._isFront=!0,r.frameCount=0,r._lastFrame=0,r.commonDeltaTime=1e3/60;var i=r;return i._instanceType="MovieClip",e&&i.init(e),r}P(e,t),Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._curFrame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.rawData&&this.rawData.frames||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoWidth",{get:function(){return this.rawData&&this.rawData.videoSize.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoHeight",{get:function(){return this.rawData&&this.rawData.videoSize.height},enumerable:!0,configurable:!0}),e.prototype.init=function(t){if(t){if(this.removeAllChildren(),this.startAniRangeFun&&this.removeEventListener(D.ENTER_FRAME,this.startAniRangeFun,this),this.rawData=t,this.timeInterval=1e3/t.FPS,this.startTime=Date.now(),this.startFrame=1,this.deltaFrame=60/t.FPS,this.frameCount=this.deltaFrame,this._curFrame=1,t.images&&!t.textures)for(var e in t.textures={},t.images){var r=t.images[e];0!==r.indexOf("iVBO")&&0!==r.indexOf("/9j/2w")||(r="data:image/png;base64,"+r);var i=rt();i.src=r,t.textures[e]=new Gt(new Wt(i))}this.initChildren(t.sprites)}},e.prototype.initChildren=function(t){for(var e=0,r=t.length;e<r;e++){var i=t[e];if(i.imageKey){var n=this.addChild(new Zt(this.rawData.textures?this.rawData.textures[i.imageKey]:Lt[i.imageKey]||Lt[i.imageKey+".png"]||null));n.frames=i.frames,i.frames[0].alpha<.05?n.alpha=0:(n.alpha=i.frames[0].alpha,n.transform.localMatrix.copy(i.frames[0].transform),n.transform._parentID=-1),n.framesOri=i.frames,n.imageKey=i.imageKey}}},e.prototype.setImage=function(t,e){for(var r=[],i=0;i<this.children.length;i++)this.children[i].imageKey==t&&r.push(this.children[i]);if(r.length){var n=r[0].texture,o=n.width,a=n.height,s=rt();s.onload=function(){var t;if(s.width==o&&s.height==a)t=Gt.from(s);else{var e=et();e.width=o,e.height=a;var i=e.getContext("2d"),n=o/a,l=s.width/s.height;n>l?i.drawImage(s,0,0,s.width,s.height,(o-l*a)/2,0,l*a,a):i.drawImage(s,0,0,s.width,s.height,0,(a-o/l)/2,o,o/l),t=Gt.fromCanvas(e)}r.forEach((function(e){e.texture=t}))},s.src=e}},e.prototype.stop=function(){this._isPlaying=!1},e.prototype.nextFrame=function(){var t=this;t._curFrame<t.totalFrames&&t._curFrame++,t._isPlaying=!1},e.prototype.prevFrame=function(){var t=this;t._curFrame>1&&t._curFrame--,t._isPlaying=!1},e.prototype.gotoAndStop=function(t){var e=this;e._isPlaying=!1,t>e.totalFrames&&(t=e.totalFrames),t<1&&(t=1),e._curFrame=t},e.prototype.play=function(t){void 0===t&&(t=!0);var e=this;e.frameCount=e.deltaFrame,e.startTime=Date.now(),e.startFrame=e._curFrame,e._isPlaying=!0,e._isFront=t},Object.defineProperty(e.prototype,"isInTimeFrame",{get:function(){return this.frameCount==this.deltaFrame},enumerable:!0,configurable:!0}),e.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=!0);var r=this;r._isFront=e,r._isPlaying=!0,t>r.totalFrames&&(t=r.totalFrames),t<1&&(t=1),r.frameCount=r.deltaFrame,r.startTime=Date.now(),r._curFrame=t,r.startFrame=r._curFrame},e.prototype.startAniRange=function(t,e,r,i){var n=this;if(void 0===t&&(t=1),void 0===e&&(e=this.totalFrames),void 0===r&&(r=1),t=t||1,e=e||this.totalFrames,r=r||0,r=Math.max(0,r),t<1&&(t=1),t>this.totalFrames&&(t=this.totalFrames),e<1&&(e=1),e>this.totalFrames&&(e=this.totalFrames),t!==e){this._isFront=t<e,this.startAniRangeFun&&this.removeEventListener(D.ENTER_FRAME,this.startAniRangeFun,this),this._curFrame=t,this.frameCount=this.deltaFrame,this.startTime=Date.now(),this.startFrame=this._curFrame,this._isPlaying=!0;var o=r?r+.5>>0:1/0;this.addEventListener(D.ENTER_FRAME,this.startAniRangeFun=function(r){r.target._isFront?(r.target.currentFrame>=e||r.target._endMark)&&(--o<=0?(r.target.gotoAndStop(e),r.target.removeEventListener(D.ENTER_FRAME,n.startAniRangeFun,n),n.startAniRangeFun=null,i&&i()):r.target.gotoAndPlay(t)):(r.target.currentFrame<=t||r.target._endMark)&&(--o<=0?(r.target.gotoAndStop(t),r.target.removeEventListener(D.ENTER_FRAME,n.startAniRangeFun,n),n.startAniRangeFun=null,i&&i()):r.target.gotoAndPlay(e,!1))},this)}else this.gotoAndStop(t)},e.prototype.updateFrame=function(){var t=this;if(0!=t.totalFrames&&1!=t.totalFrames){var e=!1;if(t._lastFrame!=t._curFrame?(e=!0,t._lastFrame=t._curFrame,t.startTime=Date.now(),t.startFrame=t._curFrame,t._endMark=!1):t._isPlaying&&(t.lockStep?e=t.getCurFrameWhenLockStep():0==--t.frameCount&&(t.frameCount=t.deltaFrame,e=!0,t._isFront?(t._curFrame++,t._curFrame>t.totalFrames&&(t._curFrame=1)):(t._curFrame--,t._curFrame<1&&(t._curFrame=t.totalFrames)),t._lastFrame=t._curFrame)),e){for(var r=0,i=t.children.length;r<i;r++){var n=t.children[r];if(n.frames&&n.frames[t._curFrame-1]){var o=n.frames[t._curFrame-1];if(o.alpha<.05)n.alpha=0;else if(n.alpha=o.alpha,B.isEqual(n.transform.localMatrix,o.transform)||(n.transform.localMatrix.copy(o.transform),n.transform._parentID=-1),o.maskPath){n.cusMask||(n.cusMask=new ni),n.mask||(n.mask=n.addChild(n.cusMask));var a=n.mask;this.updateMask(a,o.maskPath)}else n.mask&&(n.removeChild(n.mask),n.mask=null)}}t.lockStep?t._endMark&&t.hasEventListener(D.END_FRAME)&&t.dispatchEvent(D.END_FRAME,{frameIndex:t._curFrame,frameName:"endFrame"}):(1==t._curFrame&&!t._isFront||t._curFrame==t.totalFrames&&t._isFront)&&t.hasEventListener(D.END_FRAME)&&t.dispatchEvent(D.END_FRAME,{frameIndex:t._curFrame,frameName:"endFrame"})}}},e.prototype.getCurFrameWhenLockStep=function(){var t=(Date.now()-this.startTime)/this.timeInterval>>0;return t==this.lastDeltaFrame?(this.frameCount=0,!1):(this._endMark=!1,this.frameCount=this.deltaFrame,this.lastDeltaFrame=t,this._isFront?(this._curFrame=(this.startFrame+t)%this.totalFrames,0==this._curFrame?(this._curFrame=this.totalFrames,this._endMark=!0):this._lastFrame>this._curFrame&&this._lastFrame!=this.totalFrames&&(this._endMark=!0)):(this._curFrame=(this.startFrame-t)%this.totalFrames,0==this._curFrame?this._curFrame=this.totalFrames:this._curFrame<0&&(this._curFrame+=this.totalFrames),(1==this._curFrame||this._lastFrame<this._curFrame&&1!=this._lastFrame)&&(this._endMark=!0)),this._lastFrame=this._curFrame,!0)},e.prototype.update=function(){this.updateFrame(),t.prototype.update.call(this)},e.prototype.destroy=function(){this.rawData=null,t.prototype.destroy.call(this)},e.prototype.updateMask=function(t,e){t.clear(),e._transform;var r={x:0,y:0,x1:0,y1:0,x2:0,y2:0};t.beginFill();e._d.replace(/([a-zA-Z])/g,"|||$1 ").replace(/,/g," ").split("|||").forEach((function(e){if(0!=e.length){var i=e.substr(0,1);if("MLHVCSQRZmlhvcsqrz".indexOf(i)>=0){var n=e.substr(1).trim().split(" ");switch(i){case"M":r.x=Number(n[0]),r.y=Number(n[1]),t.moveTo(r.x,r.y);break;case"m":r.x+=Number(n[0]),r.y+=Number(n[1]),t.moveTo(r.x,r.y);break;case"L":r.x=Number(n[0]),r.y=Number(n[1]),t.lineTo(r.x,r.y);break;case"l":r.x+=Number(n[0]),r.y+=Number(n[1]),t.lineTo(r.x,r.y);break;case"H":r.x=Number(n[0]),t.lineTo(r.x,r.y);break;case"h":r.x+=Number(n[0]),t.lineTo(r.x,r.y);break;case"V":r.y=Number(n[0]),t.lineTo(r.x,r.y);break;case"v":r.y+=Number(n[0]),t.lineTo(r.x,r.y);break;case"C":r.x1=Number(n[0]),r.y1=Number(n[1]),r.x2=Number(n[2]),r.y2=Number(n[3]),r.x=Number(n[4]),r.y=Number(n[5]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y);break;case"c":r.x1=r.x+Number(n[0]),r.y1=r.y+Number(n[1]),r.x2=r.x+Number(n[2]),r.y2=r.y+Number(n[3]),r.x+=Number(n[4]),r.y+=Number(n[5]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y);break;case"S":r.x1&&r.y1&&r.x2&&r.y2?(r.x1=r.x-r.x2+r.x,r.y1=r.y-r.y2+r.y,r.x2=Number(n[0]),r.y2=Number(n[1]),r.x=Number(n[2]),r.y=Number(n[3]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y)):(r.x1=Number(n[0]),r.y1=Number(n[1]),r.x=Number(n[2]),r.y=Number(n[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y));break;case"s":r.x1&&r.y1&&r.x2&&r.y2?(r.x1=r.x-r.x2+r.x,r.y1=r.y-r.y2+r.y,r.x2=r.x+Number(n[0]),r.y2=r.y+Number(n[1]),r.x+=Number(n[2]),r.y+=Number(n[3]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y)):(r.x1=r.x+Number(n[0]),r.y1=r.y+Number(n[1]),r.x+=Number(n[2]),r.y+=Number(n[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y));break;case"Q":r.x1=Number(n[0]),r.y1=Number(n[1]),r.x=Number(n[2]),r.y=Number(n[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y);break;case"q":r.x1=r.x+Number(n[0]),r.y1=r.y+Number(n[1]),r.x+=Number(n[2]),r.y+=Number(n[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y);break;case"A":case"a":break;case"Z":case"z":t.closePath()}}}})),t.endFill()},e.deepCopyFrames=function(t,e,r,i,n,o,a,s){void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=1),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0);var l=[];o*=Math.PI/180;var h={};h.a=Math.cos(o)*i,h.b=Math.sin(o)*i,h.c=-Math.sin(o)*n,h.d=Math.cos(o)*n,h.tx=e+a-(a*h.a+s*h.c),h.ty=r+s-(a*h.b+s*h.d);for(var u=0;u<t.length;u++){var c=t[u],p=c.transform,f={alpha:0,transform:null};f.alpha=c.alpha,f.transform={a:h.a*p.a+h.b*p.c,b:h.a*p.b+h.b*p.d,c:h.c*p.a+h.d*p.c,d:h.c*p.b+h.d*p.d,tx:h.tx*p.a+h.ty*p.c+p.tx,ty:h.tx*p.b+h.ty*p.d+p.ty},l.push(f)}return l}}(Z),function(){var t={};var e="function"==typeof Float32Array;function r(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function n(t){return 3*t}function o(t,e,o){return((r(e,o)*t+i(e,o))*t+n(e))*t}function a(t,e,o){return 3*r(e,o)*t*t+2*i(e,o)*t+n(e)}function s(t){this._p=t,this._mSampleValues=e?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}s.prototype={get:function(t){var e=this._p[0],r=this._p[1],i=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),e===r&&i===n?t:0===t?0:1===t?1:o(this._getTForX(t),r,n)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],i=this._p[3];this._precomputed=!0,t===e&&r===i||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],r=0;r<11;++r)this._mSampleValues[r]=o(.1*r,t,e)},_getTForX:function(t){for(var e=this._p[0],r=this._p[2],i=this._mSampleValues,n=0,s=1;10!==s&&i[s]<=t;++s)n+=.1;var l=n+.1*((t-i[--s])/(i[s+1]-i[s])),h=a(l,e,r);return h>=.001?function(t,e,r,i){for(var n=0;n<4;++n){var s=a(e,r,i);if(0===s)return e;e-=(o(e,r,i)-t)/s}return e}(t,l,e,r):0===h?l:function(t,e,r,i,n){var a,s,l=0;do{(a=o(s=e+(r-e)/2,i,n)-t)>0?r=s:e=s}while(Math.abs(a)>1e-7&&++l<10);return s}(t,n,n+.1,e,r)}}}();!function(t){function e(e){var r=t.call(this)||this;return r.deltaFrame=1,r._instanceType="Lottie",e&&r.init(e),r}P(e,t),Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.rawData&&this.rawData.op-this.rawData.ip||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoWidth",{get:function(){return this.rawData&&this.rawData.w||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoHeight",{get:function(){return this.rawData&&this.rawData.h||0},enumerable:!0,configurable:!0}),e.prototype.init=function(t){t&&(this.rawData=t,this.timeInterval=1e3/t.fr,this.deltaFrame=60/t.fr,this.name=t.nm,t.assets&&!t.textures&&(t.textures={},t.assets.forEach((function(e){var r=rt();r.src=e.p,t.textures[e.id]=new Gt(new Wt(r))}))),this.initChildren())},e.prototype.initChildren=function(){for(var t=this.rawData.layers.slice(),e=t.length-1;e>=0;e--){var r=t[e];this.addChild(new Zt(r.refId?this.rawData.textures?this.rawData.textures[r.refId]:Lt[r.refId]||Lt[r.refId+".png"]:null)).layerData=r}this.initState()},e.prototype.initState=function(t){void 0===t&&(t=this.children);for(var e=0;e<t.length;e++){var r=t[e];if(r.layerData){var i=r.layerData;r.alpha=i.ks.o.k[0]?i.ks.o.k[0].s[0]/100:i.ks.o.k/100,r.rotation=i.ks.r.k[0]?i.ks.r.k[0].s[0]:i.ks.r.k;var n="number"==typeof i.ks.a.k[0]?i.ks.a.k:i.ks.a.k[0].s;r.anchor.set(n[0],n[1]);n="number"==typeof i.ks.p.k[0]?i.ks.p.k:i.ks.p.k[0].s;r.position.set(n[0]-r.anchorX,n[1]-r.anchorY);n="number"==typeof i.ks.s.k[0]?i.ks.s.k:i.ks.s.k[0].s;r.scale.set(n[0]/100,n[1]/100),r.visible=i.ip<=0}r.children.length&&this.initState(r.children)}},e.prototype.play=function(t,e){void 0===t&&(t=0),this.stop(!0),this.loops=t,this.callback=e,this.addTweens()},e.prototype.stop=function(t){void 0===t&&(t=!1),fi.removeTweens(this),this.children.forEach((function(t){fi.removeTweens(t)})),t&&this.initState()},e.prototype.addTweens=function(t){var e=this;void 0===t&&(t=this.children);for(var r,i,n,o=function(){var e=t[s];if(e.layerData){var o=e.layerData;o.ks.o.k.length&&a.addTween(e,"o"),o.ks.r.k.length&&a.addTween(e,"r"),"number"!=typeof o.ks.p.k[0]&&a.addTween(e,"p"),"number"!=typeof o.ks.s.k[0]&&a.addTween(e,"s"),r=fi.get(e,{loop:!0}),(o.ip>0||o.op<a.rawData.op)&&(i=o.ip<0?0:o.ip,n=o.op>a.rawData.op?a.rawData.op:o.op,r.wait(i*a.timeInterval).call((function(){e.visible=!0})).wait((n-i)*a.timeInterval).call((function(){e.visible=!1})).wait((a.rawData.op-n)*a.timeInterval))}e.children.length&&a.addTweens(e.children)},a=this,s=0;s<t.length;s++)o();fi.get(this,{loop:!0}).wait((this.rawData.op-this.rawData.ip)*this.timeInterval).call((function(){0==--e.loops&&(e.stop(),e.callback&&e.callback())}))},e.prototype.addTween=function(t,e){var r=t.layerData.ks[e].k,i=fi.get(t,{loop:!0}),n=0;if(t.layerData.ks[e].x){var o=t.layerData.ks[e].x,a=+o.replace(/[^0-9]/gi,"");if(o.indexOf("loopOut")>=0){for(var s=[],l=0,h=0;h<r.length;h++){if((T=r[h]).t>t.layerData.op)break;var u=(b=T.t-l)*this.timeInterval,c=S(T);0==h&&T.t>0?(i.wait(u),n+=u):0==h&&0==T.t?(i.set(c),s.push({obj:c,deltaT:b,deltaTime:u,isSet:!0})):T.t-l==1||1===T.h?(i.wait(u).set(c),s.push({obj:c,deltaT:b,deltaTime:u,isSet:!0}),n+=u):(i.to(c,u),s.push({obj:c,deltaT:b,deltaTime:u}),n+=u),l=T.t}if(o.indexOf("pingpong")>=0&&r[r.length-1].t<t.layerData.op){var p=Math.round((t.layerData.op-r[r.length-1].t)/(r[r.length-1].t-r[0].t));l+=p*(r[r.length-1].t-r[0].t);for(var f=!1;--p;){if(f)for(var d=0;d<s.length;d++)i.to(s[d].obj,s[d].deltaTime),n+=s[d].deltaTime;else for(d=s.length-1;d>=1;d--)i.to(s[d-1].obj,s[d].deltaTime),n+=s[d].deltaTime;f=!f}}else if(o.indexOf("cycle")>=0&&r[r.length-1].t<t.layerData.op){for(var m=r.length-1,v=Math.floor((t.layerData.op-r[m].t)/(r[m].t-r[m-(a||m)].t)),y=s.slice(-a);v;){v--;for(d=0;d<y.length;d++)y[d].isSet?i.wait(y[d].deltaTime).set(y[d].obj):i.to(y[d].obj,y[d].deltaTime),n+=y[d].deltaTime}var g=(t.layerData.op-r[m].t)%(r[m].t-r[m-(a||m)].t);for(d=0;d<y.length;d++){if(!(y[d].deltaT<=g)){if(g>0){var _=di(0==d?mi(y[d].obj,i._initQueueProps):y[d-1].obj,y[d].obj,g/y[d].deltaT);i.to(_,g*this.timeInterval),n+=g*this.timeInterval}break}y[d].isSet?i.wait(y[d].deltaTime).set(y[d].obj):i.to(y[d].obj,y[d].deltaTime),g-=y[d].deltaT,n+=y[d].deltaTime}}}else if(o.indexOf("loopIn")>=0){for(s=[],l=0,h=0;h<r.length;h++){var b;u=(b=(T=r[h]).t-l)*this.timeInterval,c=S(T);T.t-l==1||1===T.h?s.push({obj:c,deltaT:b,deltaTime:u,isSet:!0,timeOri:T.t}):s.push({obj:c,deltaT:b,deltaTime:u,timeOri:T.t}),l=T.t}if(o.indexOf("pingpong")>=0&&r[0].t>0){s=function(t,e,r){var i=t[0].deltaT;e>=t.length&&(e=0);var n=t.slice(0,e?e+1:t.length),o=t[0].deltaTime/t[0].deltaT,a=[],s=!0,l=0,h=0;for(;i>0;){s?l++:l--,l>n.length-1?(s=!1,l-=2):l<0&&(s=!0,l+=2);var u=Math.abs(n[h].timeOri-n[l].timeOri);a.unshift({obj:n[h].obj,deltaT:u,deltaTime:u*o,timeOri:n[h].timeOri,isSet:n[h].isSet}),h=l,i-=u}a.unshift({obj:n[h].obj,deltaT:0,deltaTime:0,timeOri:n[h].timeOri,isSet:!0});for(var c=1;c<t.length&&!(t[c].timeOri>r);c++)a.push(t[c]);return a}(s,a,t.layerData.op);for(d=0;d<s.length;d++)s[d].isSet?i.wait(s[d].deltaTime).set(s[d].obj):i.to(s[d].obj,s[d].deltaTime),n+=s[d].deltaTime}else if(o.indexOf("cycle")>=0&&r[0].t>0){s=function(t,e,r,i){void 0===i&&(i=0);var n=t[0].deltaT-i;e>=t.length&&(e=0);var o=t.slice(0,e?e+1:t.length),a=[],s=0;for(;n>0;)--s<0&&(s=o.length-1),s?(a.unshift(o[s]),n-=o[s].deltaT):a.unshift({obj:o[0].obj,deltaT:0,deltaTime:0,timeOri:o[0].timeOri,isSet:!0});a.unshift({obj:o[0].obj,deltaT:0,deltaTime:0,timeOri:o[0].timeOri,isSet:!0}),a.push({obj:o[0].obj,deltaT:0,deltaTime:0,isSet:!0});for(var l=1;l<t.length&&!(t[l].timeOri>r);l++)a.push(t[l]);return a}(s,a,t.layerData.op,t.layerData.ip),t.layerData.ip&&(i.wait(t.layerData.ip*this.timeInterval),n+=t.layerData.ip*this.timeInterval);for(d=0;d<s.length;d++)s[d].isSet?i.wait(s[d].deltaTime).set(s[d].obj):i.to(s[d].obj,s[d].deltaTime),n+=s[d].deltaTime}var x=Math.min(t.layerData.op,this.rawData.op);if(n<x*this.timeInterval){var w=x*this.timeInterval-n;i.wait(w),n+=w}}t.layerData.op<this.rawData.op&&(i.wait((this.rawData.op-t.layerData.op)*this.timeInterval),n+=(this.rawData.op-t.layerData.op)*this.timeInterval)}else{for(l=0,h=0;h<r.length;h++){var T;c=S(T=r[h]),u=void 0;if(T.t<0){if(!r[h+1]||r[h+1].t<0)break;c=di(c,S(r[h+1]),-T.t/(r[h+1].t-T.t)),i.set(c),l=0}else if(T.t>this.rawData.op){if(!r[h-1]||r[h-1].t>this.rawData.op)break;var E=this.rawData.op-r[h-1].t;u=E*this.timeInterval,c=di(S(r[h-1]),c,E/(T.t-r[h-1].t)),i.to(c,u),n+=u,l=this.rawData.op}else u=(T.t-l)*this.timeInterval,0==h&&T.t>0?i.wait(u):0==h&&0==T.t?i.set(c):i.to(c,u),n+=u,l=T.t}this.rawData.op>l&&i.wait((this.rawData.op-l)*this.timeInterval)}function S(r){var i;switch(e){case"r":i={rotation:r.s[0]};break;case"o":i={alpha:r.s[0]/100};break;case"s":i={scaleX:r.s[0]/100,scaleY:r.s[1]/100};break;case"p":i={x:r.s[0]-t.anchorX,y:r.s[1]-t.anchorY}}return i}},e.prototype.updateTransform=function(){var t=this;this.displayObjectUpdateTransform(),this.children.forEach((function(e){t._recursivePostUpdateTransformAA(e)})),this.children.forEach((function(t){t.mark=!1}))},e.prototype.findChildByInd=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].layerData&&this.children[e].layerData.ind===t)return this.children[e];return null},e.prototype._recursivePostUpdateTransformAA=function(t){if(t.layerData&&t.layerData.parent){var e=this.findChildByInd(t.layerData.parent);this._recursivePostUpdateTransformAA(e),t.mark||(t.mark=!0,t.transform.updateWorldMatrix(e.transform),t._worldAlpha=t.alpha*t.parent._worldAlpha)}else t.mark||(t.updateTransform(),t.mark=!0)},e.prototype.startAniRange=function(t,e,r,i){void 0===r&&(r=1),this.play(r,i)},e.prototype.destroy=function(){fi.removeTweens(this),this.children.forEach((function(t){fi.removeTweens(t)})),t.prototype.destroy.call(this)}}(Z);function di(t,e,r){var i={};for(var n in t)i[n]=(e[n]-t[n])*r+t[n];return i}function mi(t,e){var r={};if(!t)return r;for(var i in t)r[i]=e[i];return r}var vi,yi=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.z=r}return t.prototype.set=function(t,e,r){return this.x=t,this.y=e,this.z=r,this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this.z+=t,this},t.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},t.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},t.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this.z-=t,this},t.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this},t.prototype.multiplyVectors=function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},t.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},t.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},t.prototype.cross=function(t){return this.crossVectors(this,t)},t.prototype.crossVectors=function(t,e){var r=t.x,i=t.y,n=t.z,o=e.x,a=e.y,s=e.z;return this.x=i*s-n*a,this.y=n*o-r*s,this.z=r*a-i*o,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z},t.prototype.normalize=function(){var t=1/(this.length()||1);return this.x*=t,this.y*=t,this.z*=t,this},t.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},t.prototype.distanceToSquared=function(t){var e=this.x-t.x,r=this.y-t.y,i=this.z-t.z;return e*e+r*r+i*i},t.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},t.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},t.prototype.clamp=function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},t.prototype.clampScalar=function(e,r){return this.clamp(new t(e,e,e),new t(r,r,r))},t.prototype.clampLength=function(t,e){return this.divideScalar(this.length()||1).multiplyScalar(Math.max(t,Math.min(e,length)))},t.prototype.applyMatrix4=function(t){var e=this.x,r=this.y,i=this.z,n=t.elements,o=1/(n[3]*e+n[7]*r+n[11]*i+n[15]);return this.x=(n[0]*e+n[4]*r+n[8]*i+n[12])*o,this.y=(n[1]*e+n[5]*r+n[9]*i+n[13])*o,this.z=(n[2]*e+n[6]*r+n[10]*i+n[14])*o,this},t.prototype.setFromMatrixPosition=function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},t.prototype.setFromMatrixScale=function(t){var e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=i,this},t.prototype.setFromMatrixColumn=function(t,e){return this.fromArray(t.elements,4*e)},t.prototype.transformDirection=function(t){var e=this.x,r=this.y,i=this.z,n=t.elements;return this.x=n[0]*e+n[4]*r+n[8]*i,this.y=n[1]*e+n[5]*r+n[9]*i,this.z=n[2]*e+n[6]*r+n[10]*i,this.normalize()},t.prototype.project=function(t){return this.applyMatrix4(t.worldMatrixInverse).applyMatrix4(t.projectionMatrix)},t.prototype.unproject=function(t){return this.applyMatrix4((new gi).setInverseOf(t.projectionMatrix)).applyMatrix4(t._worldMatrix)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},t}(),gi=function(){function t(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return t.prototype.setIdentity=function(){var t=this.elements;return t[0]=1,t[4]=0,t[8]=0,t[12]=0,t[1]=0,t[5]=1,t[9]=0,t[13]=0,t[2]=0,t[6]=0,t[10]=1,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,this},t.prototype.set=function(t,e,r,i,n,o,a,s,l,h,u,c,p,f,d,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=r,v[12]=i,v[1]=n,v[5]=o,v[9]=a,v[13]=s,v[2]=l,v[6]=h,v[10]=u,v[14]=c,v[3]=p,v[7]=f,v[11]=d,v[15]=m,this},t.prototype.copy=function(t){var e,r,i;for(r=t.elements,i=this.elements,e=0;e<16;++e)i[e]=r[e];return this},t.prototype.clone=function(){return(new t).fromArray(this.elements)},t.prototype.equals=function(t){for(var e=this.elements,r=t.elements,i=0;i<16;i++)if(e[i]!==r[i])return!1;return!0},t.prototype.fromArray=function(t,e){void 0===e&&(e=0);for(var r=0;r<16;r++)this.elements[r]=t[r+e];return this},t.prototype.toArray=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t},t.prototype.concat=function(t){var e,r,i,n,o,a,s,l;if(r=this.elements,i=this.elements,r===(n=t.elements))for(n=new Float32Array(16),e=0;e<16;++e)n[e]=r[e];for(e=0;e<4;e++)o=i[e],a=i[e+4],s=i[e+8],l=i[e+12],r[e]=o*n[0]+a*n[1]+s*n[2]+l*n[3],r[e+4]=o*n[4]+a*n[5]+s*n[6]+l*n[7],r[e+8]=o*n[8]+a*n[9]+s*n[10]+l*n[11],r[e+12]=o*n[12]+a*n[13]+s*n[14]+l*n[15];return this},t.prototype.multiply=function(t){return this.multiplyMatrices(this,t)},t.prototype.premultiply=function(t){return this.multiplyMatrices(t,this)},t.prototype.multiplyMatrices=function(t,e){var r=t.elements,i=e.elements,n=this.elements,o=r[0],a=r[4],s=r[8],l=r[12],h=r[1],u=r[5],c=r[9],p=r[13],f=r[2],d=r[6],m=r[10],v=r[14],y=r[3],g=r[7],_=r[11],b=r[15],x=i[0],w=i[4],T=i[8],E=i[12],S=i[1],M=i[5],A=i[9],C=i[13],P=i[2],k=i[6],O=i[10],I=i[14],D=i[3],R=i[7],F=i[11],L=i[15];return n[0]=o*x+a*S+s*P+l*D,n[4]=o*w+a*M+s*k+l*R,n[8]=o*T+a*A+s*O+l*F,n[12]=o*E+a*C+s*I+l*L,n[1]=h*x+u*S+c*P+p*D,n[5]=h*w+u*M+c*k+p*R,n[9]=h*T+u*A+c*O+p*F,n[13]=h*E+u*C+c*I+p*L,n[2]=f*x+d*S+m*P+v*D,n[6]=f*w+d*M+m*k+v*R,n[10]=f*T+d*A+m*O+v*F,n[14]=f*E+d*C+m*I+v*L,n[3]=y*x+g*S+_*P+b*D,n[7]=y*w+g*M+_*k+b*R,n[11]=y*T+g*A+_*O+b*F,n[15]=y*E+g*C+_*I+b*L,this},t.prototype.multiplyVector3=function(t){var e=this.elements;return(new yi).set(t.x*e[0]+t.y*e[4]+t.z*e[8]+e[12],t.x*e[1]+t.y*e[5]+t.z*e[9]+e[13],t.x*e[2]+t.y*e[6]+t.z*e[10]+e[14])},t.prototype.transpose=function(){var t,e;return e=(t=this.elements)[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},t.prototype.setInverseOf=function(t){var e,r,i,n,o;if(r=t.elements,i=this.elements,(n=new Float32Array(16))[0]=r[5]*r[10]*r[15]-r[5]*r[11]*r[14]-r[9]*r[6]*r[15]+r[9]*r[7]*r[14]+r[13]*r[6]*r[11]-r[13]*r[7]*r[10],n[4]=-r[4]*r[10]*r[15]+r[4]*r[11]*r[14]+r[8]*r[6]*r[15]-r[8]*r[7]*r[14]-r[12]*r[6]*r[11]+r[12]*r[7]*r[10],n[8]=r[4]*r[9]*r[15]-r[4]*r[11]*r[13]-r[8]*r[5]*r[15]+r[8]*r[7]*r[13]+r[12]*r[5]*r[11]-r[12]*r[7]*r[9],n[12]=-r[4]*r[9]*r[14]+r[4]*r[10]*r[13]+r[8]*r[5]*r[14]-r[8]*r[6]*r[13]-r[12]*r[5]*r[10]+r[12]*r[6]*r[9],n[1]=-r[1]*r[10]*r[15]+r[1]*r[11]*r[14]+r[9]*r[2]*r[15]-r[9]*r[3]*r[14]-r[13]*r[2]*r[11]+r[13]*r[3]*r[10],n[5]=r[0]*r[10]*r[15]-r[0]*r[11]*r[14]-r[8]*r[2]*r[15]+r[8]*r[3]*r[14]+r[12]*r[2]*r[11]-r[12]*r[3]*r[10],n[9]=-r[0]*r[9]*r[15]+r[0]*r[11]*r[13]+r[8]*r[1]*r[15]-r[8]*r[3]*r[13]-r[12]*r[1]*r[11]+r[12]*r[3]*r[9],n[13]=r[0]*r[9]*r[14]-r[0]*r[10]*r[13]-r[8]*r[1]*r[14]+r[8]*r[2]*r[13]+r[12]*r[1]*r[10]-r[12]*r[2]*r[9],n[2]=r[1]*r[6]*r[15]-r[1]*r[7]*r[14]-r[5]*r[2]*r[15]+r[5]*r[3]*r[14]+r[13]*r[2]*r[7]-r[13]*r[3]*r[6],n[6]=-r[0]*r[6]*r[15]+r[0]*r[7]*r[14]+r[4]*r[2]*r[15]-r[4]*r[3]*r[14]-r[12]*r[2]*r[7]+r[12]*r[3]*r[6],n[10]=r[0]*r[5]*r[15]-r[0]*r[7]*r[13]-r[4]*r[1]*r[15]+r[4]*r[3]*r[13]+r[12]*r[1]*r[7]-r[12]*r[3]*r[5],n[14]=-r[0]*r[5]*r[14]+r[0]*r[6]*r[13]+r[4]*r[1]*r[14]-r[4]*r[2]*r[13]-r[12]*r[1]*r[6]+r[12]*r[2]*r[5],n[3]=-r[1]*r[6]*r[11]+r[1]*r[7]*r[10]+r[5]*r[2]*r[11]-r[5]*r[3]*r[10]-r[9]*r[2]*r[7]+r[9]*r[3]*r[6],n[7]=r[0]*r[6]*r[11]-r[0]*r[7]*r[10]-r[4]*r[2]*r[11]+r[4]*r[3]*r[10]+r[8]*r[2]*r[7]-r[8]*r[3]*r[6],n[11]=-r[0]*r[5]*r[11]+r[0]*r[7]*r[9]+r[4]*r[1]*r[11]-r[4]*r[3]*r[9]-r[8]*r[1]*r[7]+r[8]*r[3]*r[5],n[15]=r[0]*r[5]*r[10]-r[0]*r[6]*r[9]-r[4]*r[1]*r[10]+r[4]*r[2]*r[9]+r[8]*r[1]*r[6]-r[8]*r[2]*r[5],0===(o=r[0]*n[0]+r[1]*n[4]+r[2]*n[8]+r[3]*n[12]))return this;for(o=1/o,e=0;e<16;e++)i[e]=n[e]*o;return this},t.prototype.invert=function(){return this.setInverseOf(this)},t.prototype.setOrtho=function(t,e,r,i,n,o){var a,s,l,h;if(t===e||i===r||n===o)throw"null frustum";return s=1/(e-t),l=1/(r-i),h=1/(o-n),(a=this.elements)[0]=2*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*l,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=-2*h,a[11]=0,a[12]=-(e+t)*s,a[13]=-(r+i)*l,a[14]=-(o+n)*h,a[15]=1,this},t.prototype.ortho=function(e,r,i,n,o,a){return this.concat((new t).setOrtho(e,r,i,n,o,a))},t.prototype.setFrustum=function(t,e,r,i,n,o){var a,s,l,h;if(t===e||i===r||n===o)throw"null frustum";if(n<=0)throw"near <= 0";if(o<=0)throw"far <= 0";return s=1/(e-t),l=1/(i-r),h=1/(o-n),(a=this.elements)[0]=2*n*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*n*l,a[6]=0,a[7]=0,a[8]=(e+t)*s,a[9]=(i+r)*l,a[10]=-(o+n)*h,a[11]=-1,a[12]=0,a[13]=0,a[14]=-2*n*o*h,a[15]=0,this},t.prototype.frustum=function(e,r,i,n,o,a){return this.concat((new t).setFrustum(e,r,i,n,o,a))},t.prototype.setPerspective=function(t,e,r,i){var n,o,a,s;if(r===i||0===e)throw"null frustum";if(r<=0)throw"near <= 0";if(i<=0)throw"far <= 0";if(t=Math.PI*t/180/2,0===(a=Math.sin(t)))throw"null frustum";return o=1/(i-r),s=Math.cos(t)/a,(n=this.elements)[0]=s/e,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=-(i+r)*o,n[11]=-1,n[12]=0,n[13]=0,n[14]=-2*r*i*o,n[15]=0,this},t.prototype.makePerspective=function(t,e,r,i,n,o){var a=this.elements,s=2*n/(e-t),l=2*n/(r-i),h=(e+t)/(e-t),u=(r+i)/(r-i),c=-(o+n)/(o-n),p=-2*o*n/(o-n);return a[0]=s,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=l,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=c,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},t.prototype.perspective=function(e,r,i,n){return this.concat((new t).setPerspective(e,r,i,n))},t.prototype.setScale=function(t,e,r){var i=this.elements;return i[0]=t,i[4]=0,i[8]=0,i[12]=0,i[1]=0,i[5]=e,i[9]=0,i[13]=0,i[2]=0,i[6]=0,i[10]=r,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1,this},t.prototype.scale=function(t,e,r){var i=this.elements;return i[0]*=t,i[4]*=e,i[8]*=r,i[1]*=t,i[5]*=e,i[9]*=r,i[2]*=t,i[6]*=e,i[10]*=r,i[3]*=t,i[7]*=e,i[11]*=r,this},t.prototype.getMaxScaleOnAxis=function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,i))},t.prototype.setTranslate=function(t,e,r){var i=this.elements;return i[0]=1,i[4]=0,i[8]=0,i[12]=t,i[1]=0,i[5]=1,i[9]=0,i[13]=e,i[2]=0,i[6]=0,i[10]=1,i[14]=r,i[3]=0,i[7]=0,i[11]=0,i[15]=1,this},t.prototype.translate=function(t,e,r){var i=this.elements;return i[12]+=i[0]*t+i[4]*e+i[8]*r,i[13]+=i[1]*t+i[5]*e+i[9]*r,i[14]+=i[2]*t+i[6]*e+i[10]*r,i[15]+=i[3]*t+i[7]*e+i[11]*r,this},t.prototype.setRotate=function(t,e,r,i){var n,o,a,s,l,h,u,c,p,f,d,m;return t=Math.PI*t/180,n=this.elements,o=Math.sin(t),a=Math.cos(t),0!==e&&0===r&&0===i?(e<0&&(o=-o),n[0]=1,n[4]=0,n[8]=0,n[12]=0,n[1]=0,n[5]=a,n[9]=-o,n[13]=0,n[2]=0,n[6]=o,n[10]=a,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1):0===e&&0!==r&&0===i?(r<0&&(o=-o),n[0]=a,n[4]=0,n[8]=o,n[12]=0,n[1]=0,n[5]=1,n[9]=0,n[13]=0,n[2]=-o,n[6]=0,n[10]=a,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1):0===e&&0===r&&0!==i?(i<0&&(o=-o),n[0]=a,n[4]=-o,n[8]=0,n[12]=0,n[1]=o,n[5]=a,n[9]=0,n[13]=0,n[2]=0,n[6]=0,n[10]=1,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1):(1!==(s=Math.sqrt(e*e+r*r+i*i))&&(e*=l=1/s,r*=l,i*=l),h=1-a,u=e*r,c=r*i,p=i*e,f=e*o,d=r*o,m=i*o,n[0]=e*e*h+a,n[1]=u*h+m,n[2]=p*h-d,n[3]=0,n[4]=u*h-m,n[5]=r*r*h+a,n[6]=c*h+f,n[7]=0,n[8]=p*h+d,n[9]=c*h-f,n[10]=i*i*h+a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1),this},t.prototype.rotate=function(e,r,i,n){return this.concat((new t).setRotate(e,r,i,n))},t.prototype.setLookAt=function(t,e,r,i,n,o,a,s,l){var h,u,c,p,f,d,m,v,y,g,_,b;return u=i-t,c=n-e,p=o-r,d=(c*=f=1/Math.sqrt(u*u+c*c+p*p))*l-(p*=f)*s,m=p*a-(u*=f)*l,v=u*s-c*a,g=(m*=y=1/Math.sqrt(d*d+m*m+v*v))*p-(v*=y)*c,_=v*u-(d*=y)*p,b=d*c-m*u,(h=this.elements)[0]=d,h[1]=g,h[2]=-u,h[3]=0,h[4]=m,h[5]=_,h[6]=-c,h[7]=0,h[8]=v,h[9]=b,h[10]=-p,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,this.translate(-t,-e,-r)},t.prototype.lookAt=function(t,e,r){var i=new yi,n=new yi,o=new yi,a=this.elements;return o.subVectors(t,e),0===o.lengthSq()&&(o.z=1),o.normalize(),i.crossVectors(r,o),0===i.lengthSq()&&(1===Math.abs(r.z)?o.x+=1e-4:o.z+=1e-4,o.normalize(),i.crossVectors(r,o)),i.normalize(),n.crossVectors(o,i),a[0]=i.x,a[4]=n.x,a[8]=o.x,a[1]=i.y,a[5]=n.y,a[9]=o.y,a[2]=i.z,a[6]=n.z,a[10]=o.z,this},t.prototype.dropShadow=function(e,r){var i=new t,n=i.elements,o=e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3];return n[0]=o-r[0]*e[0],n[1]=-r[1]*e[0],n[2]=-r[2]*e[0],n[3]=-r[3]*e[0],n[4]=-r[0]*e[1],n[5]=o-r[1]*e[1],n[6]=-r[2]*e[1],n[7]=-r[3]*e[1],n[8]=-r[0]*e[2],n[9]=-r[1]*e[2],n[10]=o-r[2]*e[2],n[11]=-r[3]*e[2],n[12]=-r[0]*e[3],n[13]=-r[1]*e[3],n[14]=-r[2]*e[3],n[15]=o-r[3]*e[3],this.concat(i)},t.prototype.dropShadowDirectionally=function(t,e,r,i,n,o,a,s,l){var h=i*t+n*e+o*r;return this.dropShadow([t,e,r,-h],[a,s,l,0])},t.prototype.makeRotationFromQuaternion=function(t){var e=new yi(0,0,0),r=new yi(1,1,1);return this.compose(e,t,r)},t.prototype.compose=function(t,e,r){var i=this.elements,n=e.x,o=e.y,a=e.z,s=e.w,l=n+n,h=o+o,u=a+a,c=n*l,p=n*h,f=n*u,d=o*h,m=o*u,v=a*u,y=s*l,g=s*h,_=s*u,b=r.x,x=r.y,w=r.z;return i[0]=(1-(d+v))*b,i[1]=(p+_)*b,i[2]=(f-g)*b,i[3]=0,i[4]=(p-_)*x,i[5]=(1-(c+v))*x,i[6]=(m+y)*x,i[7]=0,i[8]=(f+g)*w,i[9]=(m-y)*w,i[10]=(1-(c+d))*w,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this},t.prototype.decompose=function(e,r,i){var n=new yi,o=new t,a=this.elements,s=n.set(a[0],a[1],a[2]).length(),l=n.set(a[4],a[5],a[6]).length(),h=n.set(a[8],a[9],a[10]).length();this.determinant()<0&&(s=-s),e.x=a[12],e.y=a[13],e.z=a[14],o.copy(this);var u=1/s,c=1/l,p=1/h;return o.elements[0]*=u,o.elements[1]*=u,o.elements[2]*=u,o.elements[4]*=c,o.elements[5]*=c,o.elements[6]*=c,o.elements[8]*=p,o.elements[9]*=p,o.elements[10]*=p,r.setFromRotationMatrix(o),i.x=s,i.y=l,i.z=h,this},t.prototype.determinant=function(){var t=this.elements,e=t[0],r=t[4],i=t[8],n=t[12],o=t[1],a=t[5],s=t[9],l=t[13],h=t[2],u=t[6],c=t[10],p=t[14];return t[3]*(+n*s*u-i*l*u-n*a*c+r*l*c+i*a*p-r*s*p)+t[7]*(+e*s*p-e*l*c+n*o*c-i*o*p+i*l*h-n*s*h)+t[11]*(+e*l*u-e*a*p-n*o*u+r*o*p+n*a*h-r*l*h)+t[15]*(-i*a*h-e*s*u+e*a*c+i*o*u-r*o*c+r*s*h)},t.prototype.extractRotation=function(t){var e=new yi,r=this.elements,i=t.elements,n=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return r[0]=i[0]*n,r[1]=i[1]*n,r[2]=i[2]*n,r[3]=0,r[4]=i[4]*o,r[5]=i[5]*o,r[6]=i[6]*o,r[7]=0,r[8]=i[8]*a,r[9]=i[9]*a,r[10]=i[10]*a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},t}(),_i=function(){function t(t,e,r,i){var n,o;this.setFromUnitVectors=(o=new yi,function(t,e){return void 0===o&&(o=new yi),(n=t.dot(e)+1)<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?o.set(-t.y,t.x,0):o.set(0,-t.z,t.y)):o.crossVectors(t,e),this._x=o.x,this._y=o.y,this._z=o.z,this._w=n,this.normalize()}),this._x=t||0,this._y=e||0,this._z=r||0,this._w=void 0!==i?i:1}return t.slerp=function(t,e,r,i){return r.copy(t).slerp(e,i)},t.slerpFlat=function(t,e,r,i,n,o,a){var s=r[i+0],l=r[i+1],h=r[i+2],u=r[i+3],c=n[o+0],p=n[o+1],f=n[o+2],d=n[o+3];if(u!==d||s!==c||l!==p||h!==f){var m=1-a,v=s*c+l*p+h*f+u*d,y=v>=0?1:-1,g=1-v*v;if(g>1e-19){var _=Math.sqrt(g),b=Math.atan2(_,v*y);m=Math.sin(m*b)/_,a=Math.sin(a*b)/_}var x=a*y;if(s=s*m+c*x,l=l*m+p*x,h=h*m+f*x,u=u*m+d*x,m===1-a){var w=1/Math.sqrt(s*s+l*l+h*h+u*u);s*=w,l*=w,h*=w,u*=w}}t[e]=s,t[e+1]=l,t[e+2]=h,t[e+3]=u},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e,r,i){return this._x=t,this._y=e,this._z=r,this._w=i,this.onChangeCallback(),this},t.prototype.clone=function(){return new t(this._x,this._y,this._z,this._w)},t.prototype.copy=function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},t.prototype.setFromEuler=function(t,e){var r=t._x,i=t._y,n=t._z,o=t.order,a=Math.cos,s=Math.sin,l=a(r/2),h=a(i/2),u=a(n/2),c=s(r/2),p=s(i/2),f=s(n/2);return"XYZ"===o?(this._x=c*h*u+l*p*f,this._y=l*p*u-c*h*f,this._z=l*h*f+c*p*u,this._w=l*h*u-c*p*f):"YXZ"===o?(this._x=c*h*u+l*p*f,this._y=l*p*u-c*h*f,this._z=l*h*f-c*p*u,this._w=l*h*u+c*p*f):"ZXY"===o?(this._x=c*h*u-l*p*f,this._y=l*p*u+c*h*f,this._z=l*h*f+c*p*u,this._w=l*h*u-c*p*f):"ZYX"===o?(this._x=c*h*u-l*p*f,this._y=l*p*u+c*h*f,this._z=l*h*f-c*p*u,this._w=l*h*u+c*p*f):"YZX"===o?(this._x=c*h*u+l*p*f,this._y=l*p*u+c*h*f,this._z=l*h*f-c*p*u,this._w=l*h*u-c*p*f):"XZY"===o&&(this._x=c*h*u-l*p*f,this._y=l*p*u-c*h*f,this._z=l*h*f+c*p*u,this._w=l*h*u+c*p*f),!1!==e&&this.onChangeCallback(),this},t.prototype.setFromAxisAngle=function(t,e){var r=e/2,i=Math.sin(r);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(r),this.onChangeCallback(),this},t.prototype.setFromRotationMatrix=function(t){var e,r=t.elements,i=r[0],n=r[4],o=r[8],a=r[1],s=r[5],l=r[9],h=r[2],u=r[6],c=r[10],p=i+s+c;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(u-l)*e,this._y=(o-h)*e,this._z=(a-n)*e):i>s&&i>c?(e=2*Math.sqrt(1+i-s-c),this._w=(u-l)/e,this._x=.25*e,this._y=(n+a)/e,this._z=(o+h)/e):s>c?(e=2*Math.sqrt(1+s-i-c),this._w=(o-h)/e,this._x=(n+a)/e,this._y=.25*e,this._z=(l+u)/e):(e=2*Math.sqrt(1+c-i-s),this._w=(a-n)/e,this._x=(o+h)/e,this._y=(l+u)/e,this._z=.25*e),this.onChangeCallback(),this},t.prototype.angleTo=function(t){return 2*Math.acos(Math.abs(zt(this.dot(t),-1,1)))},t.prototype.rotateTowards=function(t,e){var r=this.angleTo(t);if(0===r)return this;var i=Math.min(1,e/r);return this.slerp(t,i),this},t.prototype.inverse=function(){return this.conjugate()},t.prototype.conjugate=function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},t.prototype.dot=function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},t.prototype.lengthSq=function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},t.prototype.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},t.prototype.normalize=function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},t.prototype.multiply=function(t,e){return void 0!==e?(console.warn(""),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},t.prototype.premultiply=function(t){return this.multiplyQuaternions(t,this)},t.prototype.multiplyQuaternions=function(t,e){var r=t._x,i=t._y,n=t._z,o=t._w,a=e._x,s=e._y,l=e._z,h=e._w;return this._x=r*h+o*a+i*l-n*s,this._y=i*h+o*s+n*a-r*l,this._z=n*h+o*l+r*s-i*a,this._w=o*h-r*a-i*s-n*l,this.onChangeCallback(),this},t.prototype.slerp=function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var r=this._x,i=this._y,n=this._z,o=this._w,a=o*t._w+r*t._x+i*t._y+n*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=r,this._y=i,this._z=n,this;var s=1-a*a;if(s<=1e-13){var l=1-e;return this._w=l*o+e*this._w,this._x=l*r+e*this._x,this._y=l*i+e*this._y,this._z=l*n+e*this._z,this.normalize()}var h=Math.sqrt(s),u=Math.atan2(h,a),c=Math.sin((1-e)*u)/h,p=Math.sin(e*u)/h;return this._w=o*c+this._w*p,this._x=r*c+this._x*p,this._y=i*c+this._y*p,this._z=n*c+this._z*p,this.onChangeCallback(),this},t.prototype.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},t.prototype.onChange=function(t){return this.onChangeCallback=t,this},t.prototype.onChangeCallback=function(){},t}();!function(t){t.XYZ="XYZ",t.YZX="YZX",t.ZXY="ZXY",t.XZY="XZY",t.YXZ="YXZ",t.ZYX="ZYX"}(vi||(vi={}));var bi,xi,wi=function(){function t(t,e,r,i){var n,o;void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=vi.XYZ),this._x=t,this._y=e,this._z=r,this._order=i,this.setFromQuaternion=(n=new gi,function(t,e,r){return n.makeRotationFromQuaternion(t),this.setFromRotationMatrix(n,e,r)}),this.reorder=(o=new _i,function(t){return o.setFromEuler(this),this.setFromQuaternion(o,t)})}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e,r,i){return this._x=t,this._y=e,this._z=r,this._order=i||this._order,this.onChangeCallback(),this},t.prototype.clone=function(){return new t(this._x,this._y,this._z,this._order)},t.prototype.copy=function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},t.prototype.setFromRotationMatrix=function(t,e,r){var i=t.elements,n=i[0],o=i[4],a=i[8],s=i[1],l=i[5],h=i[9],u=i[2],c=i[6],p=i[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(zt(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-h,p),this._z=Math.atan2(-o,n)):(this._x=Math.atan2(c,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-zt(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(a,p),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,n),this._z=0)):"ZXY"===e?(this._x=Math.asin(zt(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,n))):"ZYX"===e?(this._y=Math.asin(-zt(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(c,p),this._z=Math.atan2(s,n)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===e?(this._z=Math.asin(zt(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-u,n)):(this._x=0,this._y=Math.atan2(a,p))):"XZY"===e?(this._z=Math.asin(-zt(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(c,l),this._y=Math.atan2(a,n)):(this._x=Math.atan2(-h,p),this._y=0)):console.warn("Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==r&&this.onChangeCallback(),this},t.prototype.setFromVector3=function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},t.prototype.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},t.prototype.fromArray=function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},t.prototype.toVector3=function(t){return t?t.set(this._x,this._y,this._z):new yi(this._x,this._y,this._z)},t.prototype.onChange=function(t){return this.onChangeCallback=t,this},t.prototype.onChangeCallback=function(){},t}(),Ti=new yi,Ei=function(t){function e(){var r=t.call(this)||this;r.name=null,r.visible=!0,r.mouseEnable=!0,r.mouseChildren=!0,r.castShadow=!1,r.receiveShadow=!1,r.children=[],r.parent=null,r._worldMatrix=new gi,r._localMatrix=new gi,r.up=e.DefaultUp.clone(),r.position=new yi,r.scale=new yi(1,1,1),r._instanceType="Object3D";var i=new wi,n=new _i;return i.onChange((function(){n.setFromEuler(i,!1)})),n.onChange((function(){i.setFromQuaternion(n,void 0,!1)})),r.rotation=i,r.quaternion=n,r}return P(e,t),e.prototype.addChild=function(t){return this.addChildAt(t,this.children.length),t},e.prototype.addChildAt=function(t,e){if(t){var r,i=this,n=i==t.parent;if(t.parent)if(n){r=i.children.length;for(var o=0;o<r;o++)if(i.children[o]==t){i.children.splice(o,1);break}}else t.parent.removeChild(t);return t.parent=i,e>=(r=i.children.length)?(i.children[i.children.length]=t,e=r):0==e||e<0?(i.children.unshift(t),e=0):i.children.splice(e,0,t),i.scene&&!n&&t._onDispatchBubbledEvent("onAddedToScene"),t}},e.prototype.addChildren=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.forEach((function(e){t.addChild(e)})),e},e.prototype.removeChild=function(t){var e=this.children.indexOf(t);return-1!==e&&(t.parent=null,t._onDispatchBubbledEvent("onRemovedFromScene"),this.children.splice(e,1)),t},e.prototype._onDispatchBubbledEvent=function(t){var e=this;if("onRemovedFromScene"!=t||e.scene){"onRemovedFromScene"==t?(e.dispatchEvent(t),e.scene=null):"onAddedToScene"==t&&(e.scene=e.parent.scene,e.dispatchEvent(t));for(var r=e.children.length,i=0;i<r;i++)e.children[i]._onDispatchBubbledEvent(t)}},e.prototype.clone=function(t){return void 0===t&&(t=!0),(new e).copy(this,t)},e.prototype.copy=function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.visible=t.visible,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this._localMatrix.copy(t._localMatrix),this._worldMatrix.copy(t._worldMatrix),this.visible=t.visible,!0===e)for(var r=0;r<t.children.length;r++){var i=t.children[r];this.addChild(i.clone())}return this},e.prototype.lookAt=function(t,e,r){var i=new _i,n=new gi,o=new yi,a=new yi;o.set(t,e,r);var s=this.parent;this.updateWorldMatrix(!0,!1),a.setFromMatrixPosition(this._worldMatrix),"Camera"==this._instanceType||"PerspectiveCamera"==this._instanceType||"OrthographicCamera"==this._instanceType?n.lookAt(a,o,this.up):n.lookAt(o,a,this.up),this.quaternion.setFromRotationMatrix(n),s&&(n.extractRotation(s._worldMatrix),i.setFromRotationMatrix(n),this.quaternion.premultiply(i.inverse()))},e.prototype.applyMatrix=function(t){this._localMatrix.multiplyMatrices(t,this._localMatrix),this._localMatrix.decompose(this.position,this.quaternion,this.scale)},e.prototype.applyQuaternion=function(t){return this.quaternion.premultiply(t),this},e.prototype.localToGlobal=function(t){return t.applyMatrix4(this._worldMatrix)},e.prototype.globalToLocal=function(t){if(t instanceof yi){var e=new gi;return t.applyMatrix4(e.setInverseOf(this._worldMatrix))}return t},Object.defineProperty(e.prototype,"stagePos",{get:function(){if(!this.scene)return null;var t=this.scene;this.localToGlobal(Ti.set(0,0,0)),Ti.project(t.camera);var e=t.viewWidth/2,r=t.viewHeight/2;return{x:Math.round(Ti.x*e+e)+t.viewX,y:Math.round(-Ti.y*r+r)+t.viewY}},enumerable:!0,configurable:!0}),e.prototype.updateLocalMatrix=function(){this._localMatrix.compose(this.position,this.quaternion,this.scale)},e.prototype.updateWorldMatrix=function(t,r){void 0===t&&(t=!1),void 0===r&&(r=!0);var i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix&&i.updateWorldMatrix(!0,!1),this.updateLocalMatrix(),null!==this.parent&&this.parent instanceof e?this._worldMatrix.multiplyMatrices(this.parent._worldMatrix,this._localMatrix):this._worldMatrix.copy(this._localMatrix),!0===r)for(var n=this.children,o=0,a=n.length;o<a;o++)n[o].updateWorldMatrix(!1,!0)},e.prototype.update=function(){if(this.visible){this.hasEventListener(D.ENTER_FRAME)&&this.dispatchEvent(D.ENTER_FRAME);for(var t=this.children.length-1;t>=0;t--){var e=this.children[t];e.visible&&e.update()}}},e.prototype.getChildByName=function(t,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!1),!t)return null;var n;n="string"==typeof t?new RegExp("^"+t+"$"):t;var o=[];e._getElementsByName(n,this,r,i,o);var a=o.length;return 0==a?null:1==a?o[0]:o},e._getElementsByName=function(t,r,i,n,o){var a=r.children.length;if(a>0)for(var s=void 0,l=void 0,h=0;h<a;h++){if((s=(l=r.children[h]).name)&&""!=s&&t.test(s)&&(o[o.length]=l,i))return;n&&null!=l.children&&e._getElementsByName(t,l,i,n,o)}},e.prototype.render=function(t){this._render(t);for(var e=0;e<this.children.length;e++){var r=this.children[e];r.visible&&r.render(t)}},e.prototype._render=function(t){},e.prototype.raycast=function(t,e){},e.prototype.destroy=function(){for(var t=this.children.length-1;t>=0;t--)this.children[t].destroy();this.removeAllEventListener(),this.parent&&this.parent.removeChild(this)},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.position.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.position.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this.position.z},set:function(t){this.position.z=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.scale.x},set:function(t){this.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.scale.y},set:function(t){this.scale.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleZ",{get:function(){return this.scale.z},set:function(t){this.scale.z=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationX",{get:function(){return this.rotation.x*M},set:function(t){this.rotation.x=t*A},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationY",{get:function(){return this.rotation.y*M},set:function(t){this.rotation.y=t*A},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationZ",{get:function(){return this.rotation.z*M},set:function(t){this.rotation.z=t*A},enumerable:!0,configurable:!0}),e.DefaultUp=new yi(0,1,0),e}(R);!function(t){t.ENVMAP_BLENDING_MULTIPLY="ENVMAP_BLENDING_MULTIPLY",t.ENVMAP_BLENDING_MIX="ENVMAP_BLENDING_MIX",t.ENVMAP_BLENDING_ADD="ENVMAP_BLENDING_ADD"}(bi||(bi={})),function(t){t[t.FrontSide=0]="FrontSide",t[t.BackSide=1]="BackSide",t[t.DoubleSide=2]="DoubleSide"}(xi||(xi={}));var Si=function(t){function e(e){var r=t.call(this)||this;if(r._color=16777215,r._colorArr=new Float32Array([1,1,1]),r.alpha=1,r.combine=bi.ENVMAP_BLENDING_MULTIPLY,r.reflectivity=1,r.morphTargets=!1,r.morphNormals=!1,r.skinning=!1,r.useVertexColor=!1,r.wireframe=!1,r.side=xi.FrontSide,r.useFog=!0,r._lightAffect=!1,r._instanceType="BaseMaterial",e)for(var i in e)r[i]=e[i];return r}return P(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){if(this._color!==t){this._color=t;var e=kt(t);this._colorArr[0]=e[0],this._colorArr[1]=e[1],this._colorArr[2]=e[2]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorArr",{get:function(){return this._colorArr},enumerable:!0,configurable:!0}),e.prototype.copy=function(t){return this.color=t.color,this.map=t.map,this.alpha=t.alpha,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.skinning=t.skinning,this.wireframe=t.wireframe,this.side=t.side,this._lightAffect=t._lightAffect,this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.destroy=function(){this._color=null},e}(I),Mi=function(){function t(t,e){void 0===t&&(t=new yi),void 0===e&&(e=new yi),this.origin=t,this.direction=e}return t.prototype.set=function(t,e){return this.origin.copy(t),this.direction.copy(e),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},t.prototype.at=function(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)},t.prototype.lookAt=function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},t.prototype.recast=function(t){var e=new yi;return this.origin.copy(this.at(t,e)),this},t.prototype.closestPointToPoint=function(t,e){void 0===e&&(e=new yi),e.subVectors(t,this.origin);var r=e.dot(this.direction);return r<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(r).add(this.origin)},t.prototype.distanceToPoint=function(t){return Math.sqrt(this.distanceSqToPoint(t))},t.prototype.distanceSqToPoint=function(t){var e=new yi,r=e.subVectors(t,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(r).add(this.origin),e.distanceToSquared(t))},t.prototype.intersectSphere=function(t,e){var r=new yi;r.subVectors(t.center,this.origin);var i=r.dot(this.direction),n=r.dot(r)-i*i,o=t.radius*t.radius;if(n>o)return null;var a=Math.sqrt(o-n),s=i-a,l=i+a;return s<0&&l<0?null:s<0?this.at(l,e):this.at(s,e)},t.prototype.intersectsSphere=function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},t.prototype.intersectBox=function(t,e){var r,i,n,o,a,s,l=1/this.direction.x,h=1/this.direction.y,u=1/this.direction.z,c=this.origin;return l>=0?(r=(t.min.x-c.x)*l,i=(t.max.x-c.x)*l):(r=(t.max.x-c.x)*l,i=(t.min.x-c.x)*l),h>=0?(n=(t.min.y-c.y)*h,o=(t.max.y-c.y)*h):(n=(t.max.y-c.y)*h,o=(t.min.y-c.y)*h),r>o||n>i?null:((n>r||r!=r)&&(r=n),(o<i||i!=i)&&(i=o),u>=0?(a=(t.min.z-c.z)*u,s=(t.max.z-c.z)*u):(a=(t.max.z-c.z)*u,s=(t.min.z-c.z)*u),r>s||a>i?null:((a>r||r!=r)&&(r=a),(s<i||i!=i)&&(i=s),i<0?null:this.at(r>=0?r:i,e)))},t.prototype.intersectsBox=function(t){return null!==this.intersectBox(t,new yi)},t.prototype.intersectTriangle=function(t,e,r,i,n){var o=new yi,a=new yi,s=new yi,l=new yi;a.subVectors(e,t),s.subVectors(r,t),l.crossVectors(a,s);var h,u=this.direction.dot(l);if(u>0){if(i)return null;h=1}else{if(!(u<0))return null;h=-1,u=-u}o.subVectors(this.origin,t);var c=h*this.direction.dot(s.crossVectors(o,s));if(c<0)return null;var p=h*this.direction.dot(a.cross(o));if(p<0)return null;if(c+p>u)return null;var f=-h*o.dot(l);return f<0?null:this.at(f/u,n)},t.prototype.applyMatrix4=function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},t.prototype.equals=function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)},t}(),Ai=function(){function t(t,e){void 0===t&&(t=new yi(1/0,1/0,1/0)),void 0===e&&(e=new yi(-1/0,-1/0,-1/0)),this.min=t,this.max=e}return t.prototype.set=function(t,e){return this.min.copy(t),this.max.copy(e),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this.min.copy(t.min),this.max.copy(t.max),this},t.prototype.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},t.prototype.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},t.prototype.getCenter=function(t){return void 0===t&&(t=new yi),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},t.prototype.getSize=function(t){return void 0===t&&(t=new yi),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},t.prototype.setFromArray=function(t){for(var e=1/0,r=1/0,i=1/0,n=-1/0,o=-1/0,a=-1/0,s=0,l=t.length;s<l;s+=3){var h=t[s],u=t[s+1],c=t[s+2];h<e&&(e=h),u<r&&(r=u),c<i&&(i=c),h>n&&(n=h),u>o&&(o=u),c>a&&(a=c)}return this.min.set(e,r,i),this.max.set(n,o,a),this},t.prototype.setFromCenterAndSize=function(t,e){var r=(new yi).copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this},t.prototype.setFromPoints=function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},t.prototype.setFromObject=function(t){return this.makeEmpty(),this.expandByObject(t)},t.prototype.expandByPoint=function(t){return this.min.min(t),this.max.max(t),this},t.prototype.expandByVector=function(t){return this.min.sub(t),this.max.add(t),this},t.prototype.expandByScalar=function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},t.prototype.expandByObject=function(t){var e=this,r=new yi;return t.updateWorldMatrix(),function t(i){var n=i.geometry;if(void 0!==n&&n._vertices)for(var o=n._vertices,a=0;a<o.length;a+=3)r.set(o[a],o[a+1],o[a+2]).applyMatrix4(i._worldMatrix),e.expandByPoint(r);for(var s=0;s<i.children.length;s++)t(i.children[s])}(t),e},t.prototype.containsPoint=function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},t.prototype.containsBox=function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},t.prototype.intersectsBox=function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},t.prototype.intersectsSphere=function(t){var e=new yi;return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius},t.prototype.clampPoint=function(t,e){return void 0===e&&(e=new yi),e.copy(t).clamp(this.min,this.max)},t.prototype.distanceToPoint=function(t){return(new yi).copy(t).clamp(this.min,this.max).sub(t).length()},t.prototype.getBoundingSphere=function(t){void 0===t&&(t=new Ci);var e=new yi;return this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t},t.prototype.intersect=function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},t.prototype.union=function(t){return this.min.min(t.min),this.max.max(t.max),this},t.prototype.applyMatrix4=function(t){var e=[new yi,new yi,new yi,new yi,new yi,new yi,new yi,new yi];return this.isEmpty()||(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e)),this},t.prototype.translate=function(t){return this.min.add(t),this.max.add(t),this},t.prototype.equals=function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},t}(),Ci=function(){function t(t,e){void 0===t&&(t=new yi),void 0===e&&(e=0),this.center=t,this.radius=e}return t.prototype.set=function(t,e){return this.center.copy(t),this.radius=e,this},t.prototype.setFromPoints=function(t,e){var r=new Ai,i=this.center;void 0!==e?i.copy(e):r.setFromPoints(t).getCenter(i);for(var n=0,o=0,a=t.length;o<a;o++)n=Math.max(n,i.distanceToSquared(t[o]));return this.radius=Math.sqrt(n),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this.center.copy(t.center),this.radius=t.radius,this},t.prototype.empty=function(){return this.radius<=0},t.prototype.containsPoint=function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},t.prototype.distanceToPoint=function(t){return t.distanceTo(this.center)-this.radius},t.prototype.intersectsSphere=function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},t.prototype.intersectsBox=function(t){return t.intersectsSphere(this)},t.prototype.clampPoint=function(t,e){void 0===e&&(e=new yi);var r=this.center.distanceToSquared(t);return e.copy(t),r>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},t.prototype.getBoundingBox=function(t){return void 0===t&&(t=new Ai),t.set(this.center,this.center),t.expandByScalar(this.radius),t},t.prototype.applyMatrix4=function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},t.prototype.translate=function(t){return this.center.add(t),this},t.prototype.equals=function(t){return t.center.equals(this.center)&&t.radius===this.radius},t}(),Pi=new Ci,ki=new gi,Oi=new Mi,Ii=new yi,Di=function(t){function e(e,r){var i=t.call(this)||this;return i.geometry=e,i.material=r,i._instanceType="Mesh3D",i.updateMorphTargets(),i}return P(e,t),Object.defineProperty(e.prototype,"morphTargetInfluences",{get:function(){return this._morphTargetInfluences},enumerable:!0,configurable:!0}),e.prototype._render=function(t){this.visible&&(t.batchManager.setObjectRenderer(t.plugins.d3),t.plugins.d3.render(this))},e.prototype.updateMorphTargets=function(){var t=this.geometry._morphPositions;if(t){this._morphTargetInfluences=[];for(var e=0;e<t.length;e++)this._morphTargetInfluences.push(0)}},e.prototype.raycast=function(t,e){if(this.visible&&this.geometry&&this.material&&!this.material.wireframe){var r=this.geometry,i=this._worldMatrix;if(r.boundingSphere||r.computeBoundingSphere(),Pi.copy(r.boundingSphere),Pi.applyMatrix4(i),!1!==t.ray.intersectsSphere(Pi)&&(ki.setInverseOf(i),Oi.copy(t.ray).applyMatrix4(ki),null===r.boundingBox||!1!==Oi.intersectsBox(r.boundingBox)))if(r.doHitFace){var n,o=new yi,a=new yi,s=new yi,l=r._indices,h=r._vertices;if(l)for(var u=0;u<l.length;u+=3){var c=l[u],p=l[u+1],f=l[u+2];if(o.set(h[3*c],h[3*c+1],h[3*c+2]),a.set(h[3*p],h[3*p+1],h[3*p+2]),s.set(h[3*f],h[3*f+1],h[3*f+2]),n=Fi(this,t,Oi,o,a,s,Ii)){e.push(n);break}}else if(h)for(u=0;u<h.length;u+=9)if(o.set(h[u],h[u+1],h[u+2]),a.set(h[u+3],h[u+4],h[u+5]),s.set(h[u+6],h[u+7],h[u+8]),n=Fi(this,t,Oi,o,a,s,Ii)){e.push(n);break}}else e.push({distance:t.ray.origin.distanceTo(Pi.center)-Pi.radius,object:this})}},e.prototype.copy=function(e,r){return void 0===r&&(r=!0),t.prototype.copy.call(this,e,r),e.morphTargetInfluences&&(this._morphTargetInfluences=e.morphTargetInfluences.slice()),this},e.prototype.clone=function(t){return void 0===t&&(t=!0),new e(this.geometry,this.material).copy(this,t)},e}(Ei),Ri=new yi;function Fi(t,e,r,i,n,o,a){var s=t.material;if(null===(s.side===xi.BackSide?r.intersectTriangle(o,n,i,!0,a):r.intersectTriangle(i,n,o,s.side!==xi.DoubleSide,a)))return null;Ri.copy(a),Ri.applyMatrix4(t._worldMatrix);var l=e.ray.origin.distanceTo(Ri);return l<e.near||l>e.far?null:{distance:l,point:Ri.clone(),object:t}}var Li,Bi=function(t){function e(e,r,i,n,o){var a=t.call(this)||this;return a._vertByteSize=44,a.boundingBox=null,a.boundingSphere=null,a.doHitFace=!1,a._instanceType="Geometry",a._glVaoBuffer={},a._vertices=e,a._normals=i||new Float32Array(e.length),a._colors=n||function(){for(var t=new Float32Array(e.length),r=0;r<e.length;r++)t[r]=1;return t}(),a._uvs=o||new Float32Array(e.length/3*2),a._indices=r?new Uint16Array(r):null,a._attrBuffer=new ie(e.length/3*a._vertByteSize),a}return P(e,t),e.prototype.computeBoundingBox=function(){this.boundingBox||(this.boundingBox=new Ai);var t=this._vertices;t?this.boundingBox.setFromArray(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error("顶点数据有误")},e.prototype.computeBoundingSphere=function(){var t=new Ai,e=new yi;this.boundingSphere||(this.boundingSphere=new Ci);var r=this._vertices;if(r){var i=this.boundingSphere.center;t.setFromArray(r),t.getCenter(i);for(var n=0,o=0,a=r.length;o<a;o+=3)e.x=r[o],e.y=r[o+1],e.z=r[o+2],n=Math.max(n,i.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error("顶点数据有误")}},e.prototype.destroy=function(){},e}(I),Ni=function(t){function e(){var e=t.call(this)||this;return e._instanceType="Camera",e.worldMatrixInverse=new gi,e.projectionMatrix=new gi,e.projectionMatrixInverse=new gi,e}return P(e,t),e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e,r){return t.prototype.copy.call(this,e,r),this.worldMatrixInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},e.prototype.getWorldDirection=function(t){this.updateWorldMatrix();var e=this._worldMatrix.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},e.prototype.updateWorldMatrix=function(){t.prototype.updateWorldMatrix.call(this),this.worldMatrixInverse.setInverseOf(this._worldMatrix)},e}(Ei),zi=function(t){function e(e,r,i,n){void 0===e&&(e=50),void 0===r&&(r=1),void 0===i&&(i=.1),void 0===n&&(n=2e3);var o=t.call(this)||this;return o.fov=e,o.aspect=r,o.near=i,o.far=n,o._instanceType="PerspectiveCamera",o.zoom=1,o.focus=10,o.updateProjectionMatrix(),o}return P(e,t),e.prototype.set=function(t,e,r,i){void 0===t&&(t=50),void 0===e&&(e=1),void 0===r&&(r=.1),void 0===i&&(i=2e3),this.fov=t,this.aspect=e,this.near=r,this.far=i,this.zoom=1,this.focus=10,this.updateProjectionMatrix()},e.prototype.copy=function(e,r){return void 0===r&&(r=!0),t.prototype.copy.call(this,e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.updateProjectionMatrix(),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.updateProjectionMatrix=function(){this.projectionMatrix.setPerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.setInverseOf(this.projectionMatrix)},e}(Ni),ji=function(t){function e(e,r){void 0===r&&(r=1);var i=t.call(this)||this;return i.intensity=r,i._color=16777215,i._colorArr=new Float32Array([1,1,1]),i._colorVec3=new yi(1,1,1),i.color=e,i._instanceType="Light",i}return P(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){if(this._color!==t){this._color=t;var e=kt(t);this._colorArr[0]=this._colorVec3.x=e[0],this._colorArr[1]=this._colorVec3.y=e[1],this._colorArr[2]=this._colorVec3.z=e[2]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorArr",{get:function(){return this._colorArr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorVec3",{get:function(){return this._colorVec3},enumerable:!0,configurable:!0}),e.prototype.copy=function(e){return t.prototype.copy.call(this,e),this.color=e.color,this.intensity=e.intensity,this.shadow=e.shadow.clone(),this},e}(Ei),Vi=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},t.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},t.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this},t.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},t.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},t.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},t.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},t.prototype.applyMatrix3=function(t){var e=this.x,r=this.y,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6],this.y=i[1]*e+i[4]*r+i[7],this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)},t.prototype.normalize=function(){return this.divideScalar(this.length()||1)},t.prototype.angle=function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},t.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},t.prototype.distanceToSquared=function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},t.prototype.manhattanDistanceTo=function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},t.prototype.setLength=function(t){return this.normalize().multiplyScalar(t)},t.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},t.prototype.lerpVectors=function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},t}(),Ui=function(){function t(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=1/0),this.near=r,this.far=i,this.ray=new Mi(t,e)}return t.prototype.set=function(t,e){this.ray.set(t,e)},t.prototype.setFromCamera=function(t,e){this.ray.origin.setFromMatrixPosition(e._worldMatrix),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()},t.prototype.intersectObject=function(t,e){var r=e||[];return function t(e,r,i){if(!1===e.visible)return;e.mouseEnable&&e.raycast(r,i);if(e.mouseChildren)for(var n=e.children,o=0,a=n.length;o<a;o++)t(n[o],r,i)}(t,this,r),r.sort(Wi),r},t}();function Wi(t,e){return t.distance-e.distance}!function(t){t.basic="SHADOWMAP_TYPE_BASIC",t.pcf="SHADOWMAP_TYPE_PCF"}(Li||(Li={}));var qi,Hi=function(t){function e(){var e=t.call(this)||this;return e._viewId=-1,e._viewX=0,e._viewY=0,e._viewWidth=750,e._viewHeight=1624,e.visible=!0,e.raycaster=new Ui,e.shadowType=Li.basic,e._instanceType="Scene3D",e.scene=e,e.transform={_parentId:0},e.camera=new zi,e}return P(e,t),Object.defineProperty(e.prototype,"viewX",{get:function(){return this._viewX},set:function(t){t=t||0,this._viewX!==t&&(this._viewX=t,this._viewId=-1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewY",{get:function(){return this._viewY},set:function(t){t=t||0,this._viewY!==t&&(this._viewY=t,this._viewId=-1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewWidth",{get:function(){return this._viewWidth},set:function(t){t=t||0,this._viewWidth!==t&&(this._viewWidth=t,this._viewId=-1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewHeight",{get:function(){return this._viewHeight},set:function(t){t=t||0,this._viewHeight!==t&&(this._viewHeight=t,this._viewId=-1)},enumerable:!0,configurable:!0}),e.prototype.setViewRect=function(t,e,r,i){this.viewX=t,this.viewY=e,this.viewWidth=r,this.viewHeight=i,this._viewId=-1},e.prototype.setFog=function(t,e,r){void 0===t&&(t=16777215),void 0===e&&(e=0),void 0===r&&(r=100);var i=kt(t);this._fog?(this._fog.color[0]=i[0],this._fog.color[1]=i[1],this._fog.color[2]=i[2],this._fog.near=e,this._fog.far=r):this._fog={color:new Float32Array(i),near:e,far:r}},e.prototype.removeFog=function(){this._fog=null},Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()},enumerable:!0,configurable:!0}),e.prototype.updateTransform=function(){this.visible&&this.updateWorldMatrix()},e.prototype.renderWebGL=function(t){if(this.visible){var e=t.plugins.d3;if(this.camera.updateWorldMatrix(),e.camera=this.camera,e.lightsConfig=this.getLightConfig(),e.fog=this._fog||null,e.shadowType=this.shadowType,t.batchManager.setObjectRenderer(e),this.setViewport(t),e.viewport=this._viewport,this.filters&&this.filters.length){var r=this.filters;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<r.length;i++)r[i].enabled&&this._enabledFilters.push(r[i]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}this.render(t),t.batchManager.flush(),r&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()}else this.render(t)}},e.prototype.setViewport=function(t){if(this._viewId!==this.parent.transform._worldID){this._viewId=this.parent.transform._worldID;var e=this.parent.transform.worldMatrix,r=this.viewX*e.a+this.viewY*e.c+e.tx,i=this.viewX*e.b+this.viewY*e.d+e.ty,n=Math.sqrt(e.a*e.a+e.b*e.b),o=Math.sqrt(e.c*e.c+e.d*e.d);this._viewport={x:r,y:t.height-i-this.viewHeight*o,width:this.viewWidth*n,height:this.viewHeight*o}}this._viewport&&t.gl.viewport(this._viewport.x,this._viewport.y,this._viewport.width,this._viewport.height)},e.prototype.getBounds=function(){var t=this.parent.transform.worldMatrix,e=this.viewX*t.b+this.viewY*t.d+t.ty;return new z(this._viewport.x,e,this._viewport.width,this._viewport.height)},e.prototype.getLightConfig=function(t,e){void 0===t&&(t=this),void 0===e&&(e={pointLights:[],directionalLights:[],ambientLightColor:[0,0,0]});for(var r=this.camera.worldMatrixInverse,i=0;i<t.children.length;i++){var n=t.children[i];if(n instanceof ji){var o=n.colorVec3.clone().multiplyScalar(n.intensity).toArray();if("AmbientLight"==n.instanceType)e.ambientLightColor[0]+=o[0],e.ambientLightColor[1]+=o[1],e.ambientLightColor[2]+=o[2];else if("PointLight"==n.instanceType){var a=(new yi).setFromMatrixPosition(n._worldMatrix);a.applyMatrix4(r),e.pointLights.push({color:o,position:a.toArray(),distance:n.distance,decay:0===n.distance?0:n.decay})}else if("DirectionalLight"==n.instanceType){var s,l=(new yi).setFromMatrixPosition(n._worldMatrix);if(l.sub((new yi).setFromMatrixPosition(n.target._worldMatrix)),l.transformDirection(r),n.castShadow){n.shadow.map;var h=n.shadow.camera,u=n.shadow.matrix,c=n._worldMatrix.elements.slice(12,15),p=n.target._worldMatrix.elements.slice(12,15);h.position.set(c[0],c[1],c[2]),h.lookAt(p[0],p[1],p[2]),h.updateWorldMatrix(),s=u.setIdentity().multiply(h.projectionMatrix).multiply(h.worldMatrixInverse).toArray(),u.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),u.multiply(h.projectionMatrix),u.multiply(h.worldMatrixInverse)}e.directionalLights.push({color:o,direction:l.normalize().toArray(),castShadow:n.castShadow,shadowMatrixDepth:s,shadowMatrix:n.shadow.matrix.toArray(),bias:n.shadow.bias,radius:n.shadow.radius,mapSize:[n.shadow.mapSize.x,n.shadow.mapSize.y]})}}n.children&&n.children.length&&this.getLightConfig(n,e)}return e},e.prototype.hitTestPoint=function(t,e){if(!this.parent||!this.mouseEnable)return null;var r=this.parent.transform.worldMatrix,i=this.viewX*r.a+this.viewY*r.c+r.tx,n=this.viewX*r.b+this.viewY*r.d+r.ty,o=Math.sqrt(r.a*r.a+r.b*r.b),a=Math.sqrt(r.c*r.c+r.d*r.d),s=this.viewWidth*o,l=this.viewHeight*a;if(!(t.x>=i&&t.x<=i+s&&t.y>=n&&t.y<=n+l))return null;if(this.mouseChildren){i=(t.x-i)/s*2-1,n=-(t.y-n)/l*2+1,this.raycaster.setFromCamera(new yi(i,n,.5),this.camera);var h=this.raycaster.intersectObject(this);if(h.length)return h[0].object}return this},e.prototype.setOrbCtrCfg=function(t){var e=this.orbitControlConfig;if(e&&t)for(var r in t)void 0!==e[r]&&(e[r]=t[r])},e.prototype.setOrbitControl=function(t){var e=this;if(!this.orbitControlConfig){this.orbitControlConfig={enabled:!0,enableDamping:!0,dampingFactor:.25,userZoom:!0,userZoomSpeed:1,userRotate:!0,userRotateSpeed:1,autoRotate:!1,autoRotateSpeed:2,minPolarAngle:0,maxPolarAngle:Math.PI,minDistance:0,maxDistance:1/0,enablePitch:!0},this.setOrbCtrCfg(t);var r=this.orbitControlConfig,i=new yi,n=new Vi,o=new Vi,a=new Vi,s=0,l=0,h=1,u=[],c=0;this.addEventListener(Jt.MOUSE_DOWN,(function(t){if(r.enabled){if(u.push({x:t.clientX,y:t.clientY,id:t.identifier}),u.length>=2){var e=u[u.length-1],i=u[u.length-2];c=Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}n.set(t.clientX,t.clientY)}}),this),this.addEventListener(Jt.MOUSE_MOVE,(function(t){var e;if(r.enabled&&u.length)if(1==u.length){if(!r.userRotate)return;if(!n.x&&!n.y)return;o.set(t.clientX,t.clientY),a.subVectors(o,n),m(2*Math.PI*a.x/1800*r.userRotateSpeed),r.enablePitch&&(void 0===(e=2*Math.PI*a.y/1800*r.userRotateSpeed)&&(e=f()),s-=e),n.copy(o)}else{if(!1===r.userZoom)return;var i=u[u.length-1],l=u[u.length-2];if(t.identifier==i.id)i.x=t.clientX,i.y=t.clientY;else{if(t.identifier!=l.id)return;l.x=t.clientX,l.y=t.clientY}var h=Math.sqrt(Math.pow(i.x-l.x,2)+Math.pow(i.y-l.y,2));h-c>0?y(Math.pow(.95,r.userZoomSpeed/3)):v(Math.pow(.95,r.userZoomSpeed/3)),c=h}}),this);var p=function(t){u.length=0};this.addEventListener(Jt.MOUSE_UP,p,this),this.addEventListener(Jt.MOUSE_OUT,p,this),this.addEventListener(Jt.ENTER_FRAME,(function(){!function(){if(!(Math.abs(l)<1e-4&&Math.abs(s)<1e-4&&Math.abs(h-1)<1e-4)||r.autoRotate){var t=e.camera.position,n=t.clone().sub(i),o=Math.atan2(n.x,n.z),a=Math.atan2(Math.sqrt(n.x*n.x+n.z*n.z),n.y);r.autoRotate&&m(),o+=l,a+=s,a=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,a)),a=Math.max(1e-6,Math.min(Math.PI-1e-6,a));var u=n.length()*h;u=Math.max(r.minDistance,Math.min(r.maxDistance,u)),n.x=u*Math.sin(a)*Math.sin(o),n.y=u*Math.cos(a),n.z=u*Math.sin(a)*Math.cos(o),t.copy(i).add(n),e.camera.lookAt(i.x,i.y,i.z),r.enableDamping?(l*=1-r.dampingFactor,s*=1-r.dampingFactor):(l=0,s=0),h=1}}()}),this),document&&document.addEventListener("mousewheel",(function(t){if(r.enabled&&r.userZoom){var e=0;t.wheelDelta?e=t.wheelDelta:t.detail&&(e=-t.detail),e>0?y():v()}}),!1)}function f(){return 2*Math.PI/60/60*r.autoRotateSpeed}function d(){return Math.pow(.95,r.userZoomSpeed)}function m(t){void 0===t&&(t=f()),l-=t}function v(t){void 0===t&&(t=d()),h/=t}function y(t){void 0===t&&(t=d()),h*=t}},e}(Ei),Gi=(function(t){function e(e,r,i,n,o,a,s){void 0===e&&(e=1),void 0===r&&(r=8),void 0===i&&(i=6),void 0===n&&(n=0),void 0===o&&(o=2*Math.PI),void 0===a&&(a=0),void 0===s&&(s=Math.PI);var l=this;r=Math.max(3,Math.floor(r)),i=Math.max(2,Math.floor(i));var h,u,c=a+s,p=0,f=[],d=new yi,m=new yi,v=[],y=[],g=[],_=[];for(u=0;u<=i;u++){var b=[],x=u/i;for(h=0;h<=r;h++){var w=h/r;d.x=-e*Math.cos(n+w*o)*Math.sin(a+x*s),d.y=e*Math.cos(a+x*s),d.z=e*Math.sin(n+w*o)*Math.sin(a+x*s),y.push(d.x,d.y,d.z),m.set(d.x,d.y,d.z).normalize(),g.push(m.x,m.y,m.z),_.push(w,x),b.push(p++)}f.push(b)}for(u=0;u<i;u++)for(h=0;h<r;h++){var T=f[u][h+1],E=f[u][h],S=f[u+1][h],M=f[u+1][h+1];(0!==u||a>0)&&v.push(T,E,M),(u!==i-1||c<Math.PI)&&v.push(E,S,M)}return(l=t.call(this,y,v,g,null,_)||this).boundingSphere=new Ci(new yi,e),l}P(e,t)}(Bi),function(t){function e(e,r,i,n,o,a){void 0===e&&(e=1),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=1),void 0===o&&(o=1),void 0===a&&(a=1);var s=this;n=Math.floor(n)||1,o=Math.floor(o)||1,a=Math.floor(a)||1;var l=[],h=[],u=[],c=[],p=0;function f(t,e,r,i,n,o,a,s,f,d,m){var v,y,g=o/f,_=a/d,b=o/2,x=a/2,w=s/2,T=f+1,E=d+1,S=0,M=new yi;for(y=0;y<E;y++){var A=y*_-x;for(v=0;v<T;v++){var C=v*g-b;M[t]=C*i,M[e]=A*n,M[r]=w,h.push(M.x,M.y,M.z),M[t]=0,M[e]=0,M[r]=s>0?1:-1,u.push(M.x,M.y,M.z),c.push(v/f),c.push(y/d),S+=1}}for(y=0;y<d;y++)for(v=0;v<f;v++){var P=p+v+T*y,k=p+v+T*(y+1),O=p+(v+1)+T*(y+1),I=p+(v+1)+T*y;l.push(P,k,I),l.push(k,O,I)}p+=S}return f("z","y","x",-1,-1,i,r,e,a,o),f("z","y","x",1,-1,i,r,-e,a,o),f("x","z","y",1,1,e,i,r,n,a),f("x","z","y",1,-1,e,i,-r,n,a),f("x","y","z",1,-1,e,r,i,n,o),f("x","y","z",-1,-1,e,r,-i,n,o),(s=t.call(this,h,l,u,null,c)||this).boundingBox=new Ai(new yi(-e/2,-r/2,-i/2),new yi(e/2,r/2,i/2)),s.boundingSphere=new Ci(new yi,Math.sqrt(e*e+r*r+i*i)),s}P(e,t)}(Bi),function(t){function e(e,r,i,n){void 0===e&&(e=1),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=1);var o,a,s=e/2,l=r/2,h=Math.floor(i),u=Math.floor(n),c=h+1,p=u+1,f=e/h,d=r/u,m=[],v=[],y=[],g=[];for(a=0;a<p;a++){var _=a*d-l;for(o=0;o<c;o++){var b=o*f-s;v.push(b,-_,0),y.push(0,0,1),g.push(o/h),g.push(a/u)}}for(a=0;a<u;a++)for(o=0;o<h;o++){var x=o+c*a,w=o+c*(a+1),T=o+1+c*(a+1),E=o+1+c*a;m.push(x,w,E),m.push(w,T,E)}return t.call(this,v,m,y,null,g)||this}P(e,t)}(Bi),function(t){function e(e,r,i,n){void 0===e&&(e=1),void 0===r&&(r=8),void 0===i&&(i=0),void 0===n&&(n=2*Math.PI);r=Math.max(3,r);var o,a,s=[],l=[],h=[],u=[],c=new yi,p=new Vi;for(l.push(0,0,0),h.push(0,0,1),u.push(.5,.5),a=0,o=3;a<=r;a++,o+=3){var f=i+a/r*n;c.x=e*Math.cos(f),c.y=e*Math.sin(f),l.push(c.x,c.y,c.z),h.push(0,0,1),p.x=(l[o]/e+1)/2,p.y=1-(l[o+1]/e+1)/2,u.push(p.x,p.y)}for(o=1;o<=r;o++)s.push(o,o+1,0);return t.call(this,l,s,h,null,u)||this}P(e,t)}(Bi),function(t){function e(e,r,i,n,o,a,s,l){void 0===e&&(e=1),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=8),void 0===o&&(o=1),void 0===a&&(a=!1),void 0===s&&(s=0),void 0===l&&(l=2*Math.PI);n=Math.floor(n)||8,o=Math.floor(o)||1;var h=[],u=[],c=[],p=[],f=0,d=[],m=i/2;function v(t){var i,o,a,d=new Vi,v=new yi,y=!0===t?e:r,g=!0===t?1:-1;for(o=f,i=1;i<=n;i++)u.push(0,m*g,0),c.push(0,g,0),p.push(.5,.5),f++;for(a=f,i=0;i<=n;i++){var _=i/n*l+s,b=Math.cos(_),x=Math.sin(_);v.x=y*x,v.y=m*g,v.z=y*b,u.push(v.x,v.y,v.z),c.push(0,g,0),d.x=.5*b+.5,d.y=.5*x*g+.5,p.push(d.x,d.y),f++}for(i=0;i<n;i++){var w=o+i,T=a+i;!0===t?h.push(T,T+1,w):h.push(T+1,T,w)}}return function(){var t,a,v=new yi,y=new yi,g=(r-e)/i;for(a=0;a<=o;a++){var _=[],b=a/o,x=b*(r-e)+e;for(t=0;t<=n;t++){var w=t/n,T=w*l+s,E=Math.sin(T),S=Math.cos(T);y.x=x*E,y.y=-b*i+m,y.z=x*S,u.push(y.x,y.y,y.z),v.set(E,g,S).normalize(),c.push(v.x,v.y,v.z),p.push(w,b),_.push(f++)}d.push(_)}for(t=0;t<n;t++)for(a=0;a<o;a++){var M=d[a][t],A=d[a+1][t],C=d[a+1][t+1],P=d[a][t+1];h.push(M,A,P),h.push(A,C,P)}}(),a||(e>0&&v(!0),r>0&&v(!1)),t.call(this,u,h,c,null,p)||this}P(e,t)}(Bi),function(t){function e(e,r,i,n,o,a){void 0===e&&(e=.5),void 0===r&&(r=1),void 0===i&&(i=8),void 0===n&&(n=1),void 0===o&&(o=0),void 0===a&&(a=2*Math.PI);i=Math.max(3,i);var s,l,h,u=[],c=[],p=[],f=[],d=e,m=(r-e)/(n=Math.max(1,n)),v=new yi,y=new Vi;for(l=0;l<=n;l++){for(h=0;h<=i;h++)s=o+h/i*a,v.x=d*Math.cos(s),v.y=d*Math.sin(s),c.push(v.x,v.y,v.z),p.push(0,0,1),y.x=(v.x/r+1)/2,y.y=1-(v.y/r+1)/2,f.push(y.x,y.y);d+=m}for(l=0;l<n;l++){var g=l*(i+1);for(h=0;h<i;h++){var _=s=h+g,b=s+i+1,x=s+i+2,w=s+1;u.push(_,b,w),u.push(b,x,w)}}return t.call(this,c,u,p,null,f)||this}P(e,t)}(Bi),function(t){function e(e,r,i,n,o){void 0===e&&(e=1),void 0===r&&(r=.4),void 0===i&&(i=8),void 0===n&&(n=6),void 0===o&&(o=2*Math.PI);i=Math.floor(i),n=Math.floor(n);var a,s,l=[],h=[],u=[],c=[],p=new yi,f=new yi,d=new yi;for(a=0;a<=i;a++)for(s=0;s<=n;s++){var m=s/n*o,v=a/i*Math.PI*2;f.x=(e+r*Math.cos(v))*Math.cos(m),f.y=(e+r*Math.cos(v))*Math.sin(m),f.z=r*Math.sin(v),h.push(f.x,f.y,f.z),p.x=e*Math.cos(m),p.y=e*Math.sin(m),d.subVectors(f,p).normalize(),u.push(d.x,d.y,d.z),c.push(s/n),c.push(1-a/i)}for(a=1;a<=i;a++)for(s=1;s<=n;s++){var y=(n+1)*a+s-1,g=(n+1)*(a-1)+s-1,_=(n+1)*(a-1)+s,b=(n+1)*a+s;l.push(y,g,b),l.push(g,_,b)}return t.call(this,h,l,u,null,c)||this}P(e,t)}(Bi),function(t){function e(e){var r=t.call(this,e)||this;return r._instanceType="LightMaterial",r._lightAffect=!0,r}return P(e,t),e.prototype.clone=function(){return(new e).copy(this)},e}(Si)),Yi="attribute vec3 aPosition;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uModelMatrix;\nvoid main() {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4( aPosition, 1.0 );\n}",Xi=function(t){function e(e,r,i){void 0===e&&(e=Yi),void 0===r&&(r="void main() {\n    gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}"),void 0===i&&(i={});var n=t.call(this)||this;return n.vertexShader=e,n.fragmentShader=r,n.uniforms=i,n.shaders={},n.isShaderMaterial=!0,n.vertexShader=e||Yi,n.fragmentShader=r||"void main() {\n    gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",n._instanceType="ShaderMaterial",n}return P(e,t),e.prototype.getShader=function(t){var e=t.CONTEXT_UID;return this.shaders[e]||(this.shaders[e]=new Se(t.gl,this.vertexShader,this.fragmentShader),this.shaders[e]._glShaderKey="customShaderid"+e+"instanceId"+this.instanceId),this.shaders[e]},e.prototype.destroy=function(){for(var t in this.shaders)this.shaders[t].destroy(),delete this.shaders[t];this.shaders=null,this.vertexShader=null,this.fragmentShader=null},e}(I);!function(t){t.float="f",t.texture="t",t.color="c",t.vector2="v2",t.vector3="v3",t.vector4="v4",t.matrix4="m4"}(qi||(qi={}));(function(t){function e(){var e=t.call(this,"precision mediump float;\nattribute vec3 aPosition;\nattribute vec2 aTextureCoord;\nvarying vec2 vTextureCoord;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uModelMatrix;\n\nuniform vec2 center;\n\nuniform float rotation;\n\nvoid main() {\n    vTextureCoord = aTextureCoord;\n    vec4 mvPosition = uViewMatrix * uModelMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n    vec2 scale;\n\tscale.x = length( vec3( uModelMatrix[ 0 ].x, uModelMatrix[ 0 ].y, uModelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( uModelMatrix[ 1 ].x, uModelMatrix[ 1 ].y, uModelMatrix[ 1 ].z ) );\n    \n    #ifndef USE_SIZEATTENUATION\n        bool isPerspective = ( uProjectionMatrix[ 2 ][ 3 ] == - 1.0 );\n        if ( isPerspective ) scale *= - mvPosition.z;\n    #endif\n\n    vec2 alignedPosition = ( aPosition.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\n\tmvPosition.xy += rotatedPosition;\n\n\tgl_Position = uProjectionMatrix * mvPosition;\n}","precision mediump float;\nuniform vec3 color;\nuniform float alpha;\nuniform sampler2D map;\nvarying vec2 vTextureCoord;\nvoid main() {\n    vec4 mapColor = texture2D( map, vTextureCoord );\n    gl_FragColor = vec4( color, alpha )*mapColor;\n}",{center:{type:qi.vector2,value:new Vi(.5,.5)},rotation:{type:qi.float,value:0},color:{type:qi.color,value:16777215},alpha:{type:qi.float,value:1},map:{type:qi.texture,value:Gt.WHITE}})||this;return e.sizeAttenuation=!0,e._instanceType="Sprite3dMaterial",e}P(e,t),e.prototype.getShader=function(t){var e=""+t.CONTEXT_UID+this.sizeAttenuation;return this.shaders[e]||(this.shaders[e]=new Se(t.gl,(this.sizeAttenuation?"#define USE_SIZEATTENUATION\n":"")+this.vertexShader,this.fragmentShader),this.shaders[e]._glShaderKey="customShaderid"+e+"instanceId"+this.instanceId+"sizeAttenuation"+this.sizeAttenuation),this.shaders[e]},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.uniforms.rotation.value*M},set:function(t){this.uniforms.rotation.value=t*A},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.uniforms.color.value},set:function(t){this.uniforms.color.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha.value},set:function(t){this.uniforms.alpha.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.map.value},set:function(t){this.uniforms.map.value=t},enumerable:!0,configurable:!0})})(Xi),function(t){function e(e,r){var i=t.call(this,e,r)||this;return i._instanceType="AmbientLight",i}P(e,t)}(ji);var Ki=function(t){function e(e,r,i,n,o,a){void 0===e&&(e=-1),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=-1),void 0===o&&(o=.1),void 0===a&&(a=2e3);var s=t.call(this)||this;return s.left=e,s.right=r,s.top=i,s.bottom=n,s.near=o,s.far=a,s._instanceType="OrthographicCamera",s.zoom=1,s.updateProjectionMatrix(),s}return P(e,t),e.prototype.set=function(t,e,r,i,n,o){void 0===n&&(n=.1),void 0===o&&(o=2e3),this.zoom=1,this.left=t,this.right=e,this.top=r,this.bottom=i,this.near=n,this.far=o,this.updateProjectionMatrix()},e.prototype.copy=function(e,r){return void 0===r&&(r=!0),t.prototype.copy.call(this,e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.updateProjectionMatrix(),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.updateProjectionMatrix=function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2,n=r-t,o=r+t,a=i+e,s=i-e;this.projectionMatrix.setOrtho(n,o,a,s,this.near,this.far),this.projectionMatrixInverse.setInverseOf(this.projectionMatrix)},e}(Ni),Zi=function(t){function e(){return t.call(this,new Ki(-5,5,5,-5,.5,500))||this}return P(e,t),e.prototype.clone=function(){return(new e).copy(this)},e}(function(t){function e(e){var r=t.call(this)||this;return r.camera=e,r.bias=0,r.radius=1,r.mapSize=new Vi(512,512),r.matrix=new gi,r._instanceType="LightShadow",r}return P(e,t),e.prototype.copy=function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.destroy=function(){this.mapSize=null,this.camera.destroy(),this.camera=null},e}(I));(function(t){function e(e,r){var i=t.call(this,e,r)||this;return i._instanceType="DirectionalLight",i.position.copy(Ei.DefaultUp),i.updateLocalMatrix(),i.target=new Ei,i.shadow=new Zi,i}P(e,t),e.prototype.copy=function(e){return t.prototype.copy.call(this,e),this.target=e.target.clone(),this}})(ji),function(t){function e(e,r,i,n){void 0===i&&(i=0),void 0===n&&(n=1);var o=t.call(this,e,r)||this;return o.distance=i,o.decay=n,o._instanceType="PointLight",o}P(e,t),Object.defineProperty(e.prototype,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)},enumerable:!0,configurable:!0}),e.prototype.copy=function(e){return t.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this}}(ji),function(t){function e(e){void 0===e&&(e=1);var r=new Bi([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],null,null,[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),i=new Si({wireframe:!0,useVertexColor:!0});return t.call(this,r,i)||this}P(e,t)}(Di),function(t){function e(e,r,i,n){void 0===e&&(e=10),void 0===r&&(r=10),void 0===i&&(i=4473924),void 0===n&&(n=8947848);for(var o=r/2,a=e/r,s=e/2,l=kt(i),h=kt(n),u=[],c=[],p=0,f=-s;p<=r;p++,f+=a){u.push(-s,0,f,s,0,f),u.push(f,0,-s,f,0,s);for(var d=p===o?l:h,m=4;m--;)c.push(d[0],d[1],d[2])}var v=new Bi(u,null,null,c),y=new Si({wireframe:!0,useVertexColor:!0});return t.call(this,v,y)||this}P(e,t)}(Di),function(t){function e(e,r){void 0===r&&(r=16776960);var i=this;return(i=t.call(this,new Bi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],[0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),new Si({wireframe:!0,color:r}))||this).box=e,i.mouseChildren=i.mouseEnable=!1,i}P(e,t),e.prototype.updateWorldMatrix=function(e,r){void 0===e&&(e=!1),void 0===r&&(r=!0);var i=this.box;i.isEmpty()||(i.getCenter(this.position),i.getSize(this.scale),this.scale.multiplyScalar(.5),t.prototype.updateWorldMatrix.call(this,e,r))}}(Di);function Ji(t,e,r,i,n,o,a,s){for(var l,h={glUid:t.CONTEXT_UID,precision:$i(t),pointLightsNum:r.pointLights.length,dirLightsNum:r.directionalLights.length,morphTargets:i.morphTargetInfluences&&e.morphTargets,morphNormals:i.morphTargetInfluences&&e.morphTargets&&e.morphNormals,skinning:e.skinning&&n>0,maxBones:n||0,useVertexTexture:o,lightAffect:e._lightAffect,useMap:!!e.map,useEnvMap:!!e.envMap,combine:e.combine,useVertexColor:!!e.useVertexColor,useFog:a&&e.useFog,useShadow:s&&i.receiveShadow&&e._lightAffect,shadowType:s&&s.shadowType},u=function(t){for(var e=[],r=0;r<nn.length;r++)e.push(t[nn[r]]);return e.join()}(h),c=0;c<rn.length;c++)if(rn[c]._glShaderKey===u){++(l=rn[c]).usedTimes;break}return l||((l=new tn(t.gl,h))._glShaderKey=u,rn.push(l)),l}var Qi={};function $i(t){var e;return Qi[t.CONTEXT_UID]||(Qi[t.CONTEXT_UID]=(e=t.gl).getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0?"highp":e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"),Qi[t.CONTEXT_UID]}var tn=function(t){function e(e,r){var i=this,n=["precision "+r.precision+" float;","precision "+r.precision+" int;",r.lightAffect?"#define USE_LIGHT":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals?"#define USE_MORPHNORMALS":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"","#define MAX_BONES "+r.maxBones,r.useMap?"#define USE_MAP":"",r.useEnvMap?"#define USE_ENVMAP":"",r.useVertexColor?"#define USE_VERTEXCOLOR":"",r.useFog?"#define USE_FOG":"",r.useShadow?"#define USE_SHADOW":""].filter((function(t){return""!==t})).join("\n");n&&(n+="\n");var o=["precision "+r.precision+" float;","precision "+r.precision+" int;",r.lightAffect?"#define USE_LIGHT":"",r.useMap?"#define USE_MAP":"",r.useEnvMap?"#define USE_ENVMAP":"",r.useEnvMap?"#define "+r.combine:"",r.useVertexColor?"#define USE_VERTEXCOLOR":"",r.useFog?"#define USE_FOG":"",r.useShadow?"#define USE_SHADOW":"",r.useShadow?"#define "+r.shadowType:""].filter((function(t){return""!==t})).join("\n");o&&(o+="\n");var a=an.replace(new RegExp(en.POINT_LIGHTS_NUM,"gm"),r.pointLightsNum+"").replace(new RegExp(en.DIR_LIGHTS_NUM,"gm"),r.dirLightsNum+"");return(i=t.call(this,e,n+on,o+a)||this).uniformData=function(t,e){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=t.getActiveUniform(e,n),a=0==o.name.indexOf("morphTargetInfluences")||0==o.name.indexOf("uBoneMatrices")?o.name.replace(/\[.*?\]/,""):o.name,s=ce(t,o.type);r[a]={type:s,size:o.size,location:t.getUniformLocation(e,a),value:ve(s,o.size)}}return r}(e,i.program),i.uniforms=_e(e,i.uniformData),i.usedTimes=0,i}return P(e,t),e}(Se);var en,rn=[],nn=["glUid","precision","pointLightsNum","dirLightsNum","morphTargets","morphNormals","skinning","maxBones","useVertexTexture","lightAffect","useMap","useEnvMap","combine","useVertexColor","useFog","useShadow","shadowType"];!function(t){t.POINT_LIGHTS_NUM="POINT_LIGHTS_NUM",t.DIR_LIGHTS_NUM="DIR_LIGHTS_NUM"}(en||(en={}));var on=["attribute vec3 aPosition;","uniform mat4 uViewMatrix;","uniform mat4 uProjectionMatrix;","uniform mat4 uModelMatrix;","#ifdef USE_VERTEXCOLOR","   attribute vec3 aColor;","   varying vec3 vColor;","#endif","#ifdef USE_MAP","   attribute vec2 aTextureCoord;","   varying vec2 vTextureCoord;","#endif","#if defined( USE_ENVMAP ) || defined( USE_LIGHT )","   attribute vec3 aNormal;","   uniform mat4 uNormalMatrix;","   varying vec3 vNormal;","   varying vec3 vWorldPosition;","   varying vec3 vViewPosition;","#endif","#ifdef USE_ENVMAP","   varying vec3 vReflect;","   uniform vec3 uCameraPosition;","#endif","#ifdef USE_SKINNING","   uniform mat4 uBindMatrix;","   uniform mat4 uBindMatrixInverse;","   #ifdef BONE_TEXTURE","      uniform sampler2D uBoneTexture;","      uniform int uBoneTextureSize;","      mat4 getBoneMatrix( const in float i ) {","         float j = i * 4.0;","         float x = mod( j, float( uBoneTextureSize ) );","         float y = floor( j / float( uBoneTextureSize ) );","         float dx = 1.0 / float( uBoneTextureSize );","         float dy = 1.0 / float( uBoneTextureSize );","         y = dy * ( y + 0.5 );","         vec4 v1 = texture2D( uBoneTexture, vec2( dx * ( x + 0.5 ), y ) );","         vec4 v2 = texture2D( uBoneTexture, vec2( dx * ( x + 1.5 ), y ) );","         vec4 v3 = texture2D( uBoneTexture, vec2( dx * ( x + 2.5 ), y ) );","         vec4 v4 = texture2D( uBoneTexture, vec2( dx * ( x + 3.5 ), y ) );","         mat4 bone = mat4( v1, v2, v3, v4 );","         return bone;","      }","   #else","      uniform mat4 uBoneMatrices[ MAX_BONES ];","      mat4 getBoneMatrix( const in float i ) {","         mat4 bone = uBoneMatrices[ int(i) ];","         return bone;","      }","   #endif","\tattribute vec4 aSkinIndex;","\tattribute vec4 aSkinWeight;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","       uniform float morphTargetInfluences[ 4 ];","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","       uniform float morphTargetInfluences[ 8 ];","\t#endif","#endif","#ifdef USE_FOG","    varying float vFogDepth;","#endif","#ifdef USE_SHADOW","      uniform mat4 uDirectionalShadowMatrix;","      varying vec4 vDirectionalShadowCoord;","#endif","void main() {","   vec3 transformed = vec3( aPosition );","   #ifdef USE_MORPHTARGETS","      transformed += ( morphTarget0 - aPosition ) * morphTargetInfluences[ 0 ];","      transformed += ( morphTarget1 - aPosition ) * morphTargetInfluences[ 1 ];","      transformed += ( morphTarget2 - aPosition ) * morphTargetInfluences[ 2 ];","      transformed += ( morphTarget3 - aPosition ) * morphTargetInfluences[ 3 ];","      #ifndef USE_MORPHNORMALS","         transformed += ( morphTarget4 - aPosition ) * morphTargetInfluences[ 4 ];","         transformed += ( morphTarget5 - aPosition ) * morphTargetInfluences[ 5 ];","         transformed += ( morphTarget6 - aPosition ) * morphTargetInfluences[ 6 ];","         transformed += ( morphTarget7 - aPosition ) * morphTargetInfluences[ 7 ];","      #endif","   #endif","   #ifdef USE_SKINNING","      mat4 boneMatX = getBoneMatrix( aSkinIndex.x );","      mat4 boneMatY = getBoneMatrix( aSkinIndex.y );","      mat4 boneMatZ = getBoneMatrix( aSkinIndex.z );","      mat4 boneMatW = getBoneMatrix( aSkinIndex.w );","      vec4 skinVertex = uBindMatrix * vec4( transformed, 1.0 );","      vec4 skinned = vec4( 0.0 );","      skinned += boneMatX * skinVertex * aSkinWeight.x;","      skinned += boneMatY * skinVertex * aSkinWeight.y;","      skinned += boneMatZ * skinVertex * aSkinWeight.z;","      skinned += boneMatW * skinVertex * aSkinWeight.w;","      transformed = ( uBindMatrixInverse * skinned ).xyz;","   #endif","   vec4 mvPosition = uViewMatrix * uModelMatrix * vec4( transformed, 1.0 );","   gl_Position = uProjectionMatrix * mvPosition;","   #ifdef USE_VERTEXCOLOR","      vColor = aColor;","   #endif","   #ifdef USE_MAP","      vTextureCoord = aTextureCoord;","   #endif","   #if defined( USE_ENVMAP ) || defined( USE_LIGHT )","      vec3 objectNormal = vec3( aNormal );","      #ifdef USE_MORPHNORMALS","         objectNormal += ( morphNormal0 - aNormal ) * morphTargetInfluences[ 0 ];","         objectNormal += ( morphNormal1 - aNormal ) * morphTargetInfluences[ 1 ];","         objectNormal += ( morphNormal2 - aNormal ) * morphTargetInfluences[ 2 ];","         objectNormal += ( morphNormal3 - aNormal ) * morphTargetInfluences[ 3 ];","      #endif","      #ifdef USE_SKINNING","         mat4 skinMatrix = mat4( 0.0 );","         skinMatrix += aSkinWeight.x * boneMatX;","         skinMatrix += aSkinWeight.y * boneMatY;","         skinMatrix += aSkinWeight.z * boneMatZ;","         skinMatrix += aSkinWeight.w * boneMatW;","         skinMatrix  = uBindMatrixInverse * skinMatrix * uBindMatrix;","         objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;","      #endif","      vViewPosition = -mvPosition.xyz;","      vWorldPosition = vec3(uModelMatrix * vec4(transformed,1.0));","      vec3 vTransformedNormal = vec3(uNormalMatrix * vec4(objectNormal,1.0));","      vNormal = normalize(vTransformedNormal);","      #ifdef USE_ENVMAP","         vec3 cameraToVertex = normalize( vWorldPosition.xyz - uCameraPosition );","         vec3 worldNormal = normalize( ( vec4( vTransformedNormal, 0.0 ) * uViewMatrix ).xyz );","         vReflect = reflect(cameraToVertex, worldNormal);","      #endif","   #endif","   #ifdef USE_FOG","      vFogDepth = -mvPosition.z;","   #endif","   #ifdef USE_SHADOW","         vDirectionalShadowCoord = uDirectionalShadowMatrix * (uModelMatrix * vec4(transformed,1.0));","   #endif","}"].join("\n"),an=["uniform vec3 uMatColor;","uniform float uMatAlpha;","#ifdef USE_MAP","   uniform sampler2D uMap;","   varying vec2 vTextureCoord;","#endif","#ifdef USE_VERTEXCOLOR","   varying vec3 vColor;","#endif","#if defined( USE_ENVMAP ) || defined( USE_LIGHT )","   varying vec3 vNormal;","   varying vec3 vWorldPosition;","   varying vec3 vViewPosition;","#endif","#ifdef USE_ENVMAP","   uniform sampler2D uEnvMap;","   uniform float uReflectivity;","   uniform mat4 uViewMatrix;","   varying vec3 vReflect;","#endif","#ifdef USE_LIGHT","   float calcSpecular(vec3 lightDir, vec3 viewDir, vec3 normal) {","      vec3 halfwayDir = normalize(lightDir + viewDir);","      float spec = pow(max(dot(normal, halfwayDir), 0.0), 32.0);","      return spec;","   }","   #if "+en.POINT_LIGHTS_NUM+" > 0","      #define saturate(a) clamp( a, 0.0, 1.0 )","      float calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {","         if ( decayExponent > 0.0 ) {","            return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );","         }","         return 1.0;","      }","      struct PointLight {","         vec3 color;","         vec3 position;","         float distance;","         float decay;","      };","      uniform PointLight pointLights["+en.POINT_LIGHTS_NUM+"];","   #endif","   #if "+en.DIR_LIGHTS_NUM+" > 0","      struct DirectionalLight {","         vec3 direction;","         vec3 color;","         int shadow;","         float shadowBias;","\t      float shadowRadius;","\t      vec2 shadowMapSize;","      };","      uniform DirectionalLight directionalLights["+en.DIR_LIGHTS_NUM+"];","   #endif","   uniform vec3 uAmbientLightColor;","#endif","#ifdef USE_FOG","   uniform vec3 uFogColor;","   varying float vFogDepth;","   uniform float uFogNear;","   uniform float uFogFar;","#endif","#ifdef USE_SHADOW","      uniform sampler2D uDirectionalShadowMap;","      varying vec4 vDirectionalShadowCoord;","      const float UnpackDownscale = 255. / 256.;","      const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );","      const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );","      float unpackRGBAToDepth( const in vec4 v ) {","          return dot( v, UnpackFactors );","      }","   float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {","      return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );","   }","   float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {","      float shadow = 1.0;","      shadowCoord.xyz /= shadowCoord.w;","      shadowCoord.z += shadowBias;","      bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );","      bool inFrustum = all( inFrustumVec );","      bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );","      bool frustumTest = all( frustumTestVec );","      if ( frustumTest ) {","         #if defined( SHADOWMAP_TYPE_PCF )","            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;","            float dx0 = - texelSize.x * shadowRadius;","\t         float dy0 = - texelSize.y * shadowRadius;","\t         float dx1 = + texelSize.x * shadowRadius;","\t         float dy1 = + texelSize.y * shadowRadius;","            shadow =(","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )","            ) * ( 1.0 / 9.0 );","         #elif defined( SHADOWMAP_TYPE_PCF_SOFT )","         #else","            shadow = texture2DCompare(shadowMap, shadowCoord.xy, shadowCoord.z);","         #endif","      }","      return shadow;","   }","#endif","void main() {","   vec4 color = vec4( uMatColor, uMatAlpha );","   color.rgb *= color.a;","   #ifdef USE_MAP","      vec4 mapColor = texture2D( uMap, vTextureCoord );","      color *= mapColor;","   #endif","   #ifdef USE_VERTEXCOLOR","      color *= vec4(vColor,1.0);","   #endif","   vec3 colorRgb = color.rgb;","   #ifdef USE_LIGHT","      vec3 totalDiffuseLight = vec3( 0.0 );","      vec3 totalSpecularLight = vec3( 0.0 );","      vec3 viewDir = normalize(vViewPosition);","      vec3 lightDirection;","      float diffuse;","      float specular;","      #if "+en.POINT_LIGHTS_NUM+" > 0","         float attenuation;","         for ( int i = 0; i < "+en.POINT_LIGHTS_NUM+"; i ++ ) {","            lightDirection = pointLights[i].position + vViewPosition;","            attenuation = calcLightAttenuation( length( lightDirection ), pointLights[ i ].distance, pointLights[ i ].decay );","            lightDirection = normalize(lightDirection);","            diffuse = max( dot( vNormal, lightDirection ), 0.0 );","            totalDiffuseLight += pointLights[i].color * (diffuse * attenuation);","            specular = calcSpecular(lightDirection,viewDir,vNormal);","            totalSpecularLight += pointLights[i].color *(specular * attenuation);","         }","      #endif","      #if "+en.DIR_LIGHTS_NUM+" > 0","         DirectionalLight directionalLight;","         for( int i = 0; i < "+en.DIR_LIGHTS_NUM+"; i++ ) {","            directionalLight = directionalLights[ i ];","            vec3 dColor = directionalLight.color;","            #ifdef USE_SHADOW","               dColor *= all( bvec2( directionalLight.shadow, 1.0 ) ) ? getShadow( uDirectionalShadowMap, directionalLight.shadowMapSize, directionalLight.shadowBias,directionalLight.shadowRadius, vDirectionalShadowCoord ) : 1.0;","            #endif","            lightDirection = directionalLight.direction;","            diffuse = max( dot( vNormal, lightDirection ), 0.0 );","            totalDiffuseLight += dColor * diffuse;","            specular = calcSpecular(lightDirection,viewDir,vNormal);","            totalSpecularLight += dColor * specular;","         }","      #endif","      colorRgb = (totalDiffuseLight + uAmbientLightColor + totalSpecularLight) * colorRgb;","   #endif","   #ifdef USE_ENVMAP","      vec2 envUv;","      vec3 reflectVec = normalize( vReflect );","      envUv.y =0.5 - asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * 0.31830988618;","      envUv.x = atan( reflectVec.z, reflectVec.x ) * 0.15915494 + 0.5;","\t   vec4 envColor = texture2D( uEnvMap, envUv );","      #ifdef ENVMAP_BLENDING_MULTIPLY","         colorRgb = mix(colorRgb, colorRgb * envColor.xyz,  uReflectivity);","      #elif defined( ENVMAP_BLENDING_MIX )","         colorRgb = mix( colorRgb, envColor.xyz,   uReflectivity );","      #elif defined( ENVMAP_BLENDING_ADD )","         colorRgb += envColor.xyz  * uReflectivity;","      #endif","   #endif","   gl_FragColor = vec4( colorRgb, color.a );","#ifdef USE_FOG","   float fogFactor = smoothstep( uFogNear, uFogFar, vFogDepth );","   gl_FragColor.rgb = mix( gl_FragColor.rgb, uFogColor*color.a, fogFactor );","#endif","}"].join("\n"),sn=function(t){function e(e){return t.call(this,e,"attribute vec3 aPosition;\nuniform mat4 uLightSpaceMatrix;\nuniform mat4 uModelMatrix;\nvoid main() {\n    gl_Position = uLightSpaceMatrix * uModelMatrix * vec4( aPosition, 1.0 );\n}","precision mediump float;\n    // uniform float uMatAlpha;\n    const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\n    vec4 packDepthToRGBA( const in float v ) {\n        vec4 r = vec4( fract( v * PackFactors ), v );\n        r.yzw -= r.xyz * (1. / 256.);\n        return r * (256. / 255.);\n    }\n    void main() {\n        // gl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), uMatAlpha );\n        gl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n}")||this}return P(e,t),e}(Se),ln=new yi,hn=new gi,un=function(t){function e(e){var r=t.call(this,e)||this;return r.meshes=[],r}return P(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.maxVertexUniforms=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),t.getExtension("OES_texture_float"),this.floatVertexTextures=!1},e.prototype.start=function(){this.renderer.state.setDepthTest(1)},e.prototype.stop=function(){this.flush(),this.renderer._activeRenderTarget.activate(),this.renderer.state.setState(this.renderer.state.defaultState)},e.prototype.render=function(t){if(t.geometry&&t.material){var e=t.material;t.geometry;for(var r=0;r<this.meshes.length;r++)if(this.meshes[r].material==e)return void this.meshes.splice(r,0,t);this.meshes.push(t)}},e.prototype.flush=function(){var t=function(t,e,r){var i=function(){if(!t||!t.directionalLights||!t.directionalLights.length)return null;for(var e=0,r=t.directionalLights;e<r.length;e++){var i=r[e];if(i.castShadow)return i}return null}();if(!i)return null;var n=[],o=[];if(e&&e.length)for(var a=0,s=e;a<s.length;a++){var l=s[a];l.castShadow&&l.material._lightAffect&&n.push(l),l.receiveShadow&&l.material._lightAffect&&o.push(l)}if(!n.length||!o.length)return null;var h=r.gl;cn=cn||new fr(new pr(i.mapSize[0],i.mapSize[1])),r.bindRenderTexture(cn,null),r.clear([1,1,1,1]),r.state.setBlend(!1);var u=yn[r.CONTEXT_UID]||(yn[r.CONTEXT_UID]=new sn(r.gl));r.bindShader(u,!1);var c=u.uniforms;return c.uLightSpaceMatrix=i.shadowMatrixDepth,r.state.setCullFace(1),r.state.setFrontFace(1),n.forEach((function(t){var e=t.geometry,i=t.material;c.uModelMatrix=t._worldMatrix.toArray();var n=gn(e,r),o=n.vaos[r.CONTEXT_UID],a=u.attributes;o?r.bindVao(o):(o=n.vaos[r.CONTEXT_UID]=r.createVao().addAttribute(n.attrBuffer,a.aPosition,h.FLOAT,!1,e._vertByteSize,0),e._indices&&o.addIndex(n.indexBuffer),r.bindVao(o),n.attrBuffer.upload(e._attrBuffer.vertices,0,!1),e._indices&&n.indexBuffer.upload(e._indices,0,!1)),o.draw(i.wireframe?h.LINES:h.TRIANGLES)})),r.bindRenderTexture(null,null),r.state.setBlend(!0),{texture:cn,lightSpaceMatrix:i.shadowMatrix,shadowType:null}}(this.lightsConfig,this.meshes,this.renderer);t&&(this.renderer.gl.viewport(this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height),t.shadowType=this.shadowType);for(var e=null,r=this.lightsConfig.pointLights.length,i=this.lightsConfig.directionalLights.length,n=this.renderer.gl,o=this.renderer.textureManager,a=0;a<this.meshes.length;a++){var s=this.meshes[a],l=s.material,h=s.geometry;if(l.isShaderMaterial){var u=l.getShader(this.renderer),c=u.uniforms,p=l.uniforms;for(var f in e!==u&&(e=u,this.renderer.bindShader(e,!1),c.uViewMatrix&&(c.uViewMatrix=this.camera.worldMatrixInverse.toArray()),c.uProjectionMatrix&&(c.uProjectionMatrix=this.camera.projectionMatrix.toArray())),c.uModelMatrix&&(c.uModelMatrix=s._worldMatrix.toArray()),p){var d=p[f],m=d.type,v=d.value;switch(m){case qi.texture:c[f]=o.bindTexture(v,void 0,!1);break;case qi.color:c[f]=kt(v);break;case qi.vector2:case qi.vector3:case qi.vector4:case qi.matrix4:c[f]=v.toArray();break;default:c[f]=v}}}else{var y=this.getMaxBones(s),g=Ji(this.renderer,l,this.lightsConfig,s,y,this.floatVertexTextures,this.fog,t);c=g.uniforms;if(e!==g&&(e=g,this.renderer.bindShader(e,!1),c.uViewMatrix=this.camera.worldMatrixInverse.toArray(),c.uProjectionMatrix=this.camera.projectionMatrix.toArray(),l._lightAffect)){for(var _=0;_<r;_++){c[b="pointLights["+_+"]"].color=this.lightsConfig.pointLights[_].color,c[b].position=this.lightsConfig.pointLights[_].position,c[b].distance=this.lightsConfig.pointLights[_].distance,c[b].decay=this.lightsConfig.pointLights[_].decay}for(_=0;_<i;_++){var b="directionalLights["+_+"]",x=this.lightsConfig.directionalLights[_];c[b].color=x.color,c[b].direction=x.direction,c[b].shadow=+x.castShadow,c[b].shadowBias=x.bias,c[b].shadowRadius=x.radius,c[b].shadowMapSize=x.mapSize}c.uAmbientLightColor=this.lightsConfig.ambientLightColor,c.uDirectionalShadowMatrix&&(c.uDirectionalShadowMatrix=t.lightSpaceMatrix,c.uDirectionalShadowMap=o.bindTexture(t.texture,void 0,!1))}if(l.map&&(c.uMap=o.bindTexture(l.map,void 0,!1)),l.envMap&&(c.uEnvMap=o.bindTexture(l.envMap,void 0,!1),c.uReflectivity=l.reflectivity,c.uCameraPosition=ln.setFromMatrixPosition(this.camera._worldMatrix).toArray()),c.uMatColor=l.colorArr,c.uMatAlpha=l.alpha,l.useFog&&this.fog&&(c.uFogColor=this.fog.color,c.uFogNear=this.fog.near,c.uFogFar=this.fog.far),c.uModelMatrix=s._worldMatrix.toArray(),c.uNormalMatrix){var w=hn.multiplyMatrices(this.camera.worldMatrixInverse,s._worldMatrix).invert().transpose();c.uNormalMatrix=w.toArray()}if(l.skinning&&y>0){var T=s;c.uBindMatrix=T.bindMatrix.toArray(),c.uBindMatrixInverse=T.bindMatrixInverse.toArray();var E=T.skeleton;if(E){var S=E.bones;if(this.floatVertexTextures){if(!E.boneTexture){var M=Math.sqrt(4*S.length);M=function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}(M),M=Math.max(M,4);var A=new Float32Array(M*M*4);A.set(E.boneMatrices);var C=new Wt({data:A,width:M,height:M});C.mipmap=!1,E.boneMatrices=A,E.boneTexture=C,E.boneTextureSize=M}var P=o.bindTexture(E.boneTexture,void 0,!1);c.uBoneTexture=P,c.uBoneTextureSize=E.boneTextureSize}else c.uBoneMatrices=T.skeleton.boneMatrices}}}var k,O=gn(h,this.renderer),I=O.vaos[e._glShaderKey],D=e.attributes;if(I)s.morphTargetInfluences&&l.morphTargets&&(k=mn(s.morphTargetInfluences,h,O,I,e,n)),this.renderer.bindVao(I,!!k),k&&k.forEach((function(t){t.buffer.upload(t.data,0,!1)}));else I=O.vaos[e._glShaderKey]=this.renderer.createVao().addAttribute(O.attrBuffer,D.aPosition,n.FLOAT,!1,h._vertByteSize,0),D.aColor&&I.addAttribute(O.attrBuffer,D.aColor,n.FLOAT,!0,h._vertByteSize,12),D.aTextureCoord&&I.addAttribute(O.attrBuffer,D.aTextureCoord,n.FLOAT,!0,h._vertByteSize,24),D.aNormal&&I.addAttribute(O.attrBuffer,D.aNormal,n.FLOAT,!1,h._vertByteSize,32),h._indices&&I.addIndex(O.indexBuffer),D.aSkinWeight&&I.addAttribute(O.skinWeightBuffer,D.aSkinWeight,n.FLOAT,!1,0,0),D.aSkinIndex&&I.addAttribute(O.skinIndexBuffer,D.aSkinIndex,n.UNSIGNED_BYTE,!1,0,0),s.morphTargetInfluences&&l.morphTargets&&(k=mn(s.morphTargetInfluences,h,O,I,e,n)),this.renderer.bindVao(I),O.attrBuffer.upload(h._attrBuffer.vertices,0,!1),h._indices&&O.indexBuffer.upload(h._indices,0,!1),D.aSkinWeight&&O.skinWeightBuffer.upload(new Float32Array(h._skinWeight),0,!1),D.aSkinIndex&&O.skinIndexBuffer.upload(new Uint8Array(h._skinIndex),0,!1),k&&k.forEach((function(t){t.buffer.upload(t.data,0,!1)}));l.side==xi.DoubleSide?this.renderer.state.setCullFace(0):(this.renderer.state.setCullFace(1),this.renderer.state.setFrontFace(l.side)),I.draw(l.wireframe?n.LINES:n.TRIANGLES)}this.meshes.length=0},e.prototype.getMaxBones=function(t){if("SkinnedMesh3D"!==t.instanceType)return 0;if(this.floatVertexTextures)return 1024;var e=t.skeleton.bones,r=Math.floor((this.maxVertexUniforms-20)/4),i=Math.min(r,e.length);return i<e.length?(console.warn("Skeleton has "+e.length+" bones. This GPU supports "+i+"."),0):i},e}($t);var cn,pn={},fn={},dn=new Float32Array(8);function mn(t,e,r,i,n,o){var a=e._morphPositions,s=e._morphNormals,l=t.length,h=[],u=pn[e.instanceId];if(!u){u=[];for(var c=0;c<l;c++)u[c]=[c,0];pn[e.instanceId]=u}var p=fn[e.instanceId];p||((p=[]).length=8,fn[e.instanceId]=p);for(c=0;c<8;c++){(m=u[c])&&0!==m[1]&&(a&&i.removeAttribute("morphTarget"+c),s&&c<4&&i.removeAttribute("morphNormal"+c))}for(c=0;c<l;c++){(m=u[c])[0]=c,m[1]=t[c]}u.sort(vn);var f=n.attributes,d=s?4:8;for(c=0;c<d;c++){var m;if(m=u[c]){var v=m[0],y=m[1];if(y){if(a&&a[v]){var g=r.morphTargetBuffers[v];g||(g=r.morphTargetBuffers[v]=se.createVertexBuffer(o,null,o.STATIC_DRAW)),p[c]!==v&&(p[c]=v,h.push({buffer:g,data:new Float32Array(a[v])})),i.addAttribute(g,f["morphTarget"+c],o.FLOAT,!1,0,0,"morphTarget"+c)}if(s&&s[v]){var _=r.morphNormalBuffers[v];_||(_=r.morphNormalBuffers[v]=se.createVertexBuffer(o,null,o.STATIC_DRAW)),p[c+4]!==v&&(p[c+4]=v,h.push({buffer:_,data:new Float32Array(s[v])})),i.addAttribute(r.morphNormalBuffers[v],f["morphNormal"+c],o.FLOAT,!1,0,0,"morphNormal"+c)}dn[c]=y;continue}}dn[c]=0}return n.uniforms.morphTargetInfluences=dn,h}function vn(t,e){return Math.abs(e[1])-Math.abs(t[1])}ur.registerPlugin("d3",un);var yn={};function gn(t,e){var r=e.gl,i=t._glVaoBuffer[e.CONTEXT_UID];return i||(i=t._glVaoBuffer[e.CONTEXT_UID]={attrBuffer:se.createVertexBuffer(r,null,r.STATIC_DRAW),vaos:{}},t._indices&&(i.indexBuffer=se.createIndexBuffer(r,null,r.STATIC_DRAW)),t._morphPositions&&(i.morphTargetBuffers=[]),t._morphNormals&&(i.morphNormalBuffers=[]),t._skinWeight&&(i.skinWeightBuffer=se.createVertexBuffer(r,null,r.STATIC_DRAW)),t._skinIndex&&(i.skinIndexBuffer=se.createVertexBuffer(r,null,r.STATIC_DRAW)),function(t){for(var e=t._attrBuffer.float32View,r=0,i=0;i<t._vertices.length/3;i++)e[r++]=t._vertices[3*i],e[r++]=t._vertices[3*i+1],e[r++]=t._vertices[3*i+2],e[r++]=t._colors[3*i],e[r++]=t._colors[3*i+1],e[r++]=t._colors[3*i+2],e[r++]=t._uvs[2*i],e[r++]=t._uvs[2*i+1],e[r++]=t._normals[3*i],e[r++]=t._normals[3*i+1],e[r++]=t._normals[3*i+2]}(t)),i}function _n(t,e,r){return i=t,!ArrayBuffer.isView(i)||i instanceof DataView?t.slice(e,r):new t.constructor(t.subarray(e,void 0!==r?r:t.length));var i}var bn;!function(t){t.quaternion="quaternion",t.scale="scale",t.morphTargetInfluences="morphTargetInfluences",t.position="position"}(bn||(bn={}));var xn=function(t){function e(e,r,i,n){var o=t.call(this)||this;switch(o.node=e,o.animationType=r,o.times=i,o.values=n,o._instanceType="AnimationTrack",o.animationType){case bn.position:case bn.scale:case bn.quaternion:var a=o.node[o.animationType].clone().toArray();o.resetValue=function(){o.node[o.animationType].fromArray(a)};break;case bn.morphTargetInfluences:if("Mesh3D"==o.node.instanceType||"SkinnedMesh3D"==o.node.instanceType){var s=o.node.morphTargetInfluences?o.node.morphTargetInfluences.slice():[];o.resetValue=function(){for(var t=o.node.morphTargetInfluences,e=0;e<t.length;e++)t[e]=s[e]||0}}}return o.resetValue||(o.resetValue=function(){}),o}return P(e,t),e.prototype.setValue=function(t){var e=this.getValue(t);switch(this.animationType){case bn.position:case bn.scale:case bn.quaternion:this.node[this.animationType].fromArray(e);break;case bn.morphTargetInfluences:if("Mesh3D"==this.node.instanceType||"SkinnedMesh3D"==this.node.instanceType)for(var r=this.node.morphTargetInfluences,i=0;i<r.length;i++)r[i]=e[i]||0}},e.prototype.getValue=function(t){var e=this.getValueSize();if(t<=0)return this.values.slice(0,e);if(t>=this.times[this.times.length-1])return this.values.slice(-e);var r=this.findPreIndex(t),i=r-1;if(i<0)return this.values.slice(0,e);var n=(t-this.times[i])/(this.times[r]-this.times[i]),o=this.values.slice(i*e,i*e+e),a=this.values.slice(r*e,r*e+e);return this.animationType==bn.quaternion?function(t,e,r){var i=[];return _i.slerpFlat(i,0,e,0,r,0,t),i}(n,o,a):function(t,e,r){for(var i=[],n=0;n!==e.length;++n)i[n]=e[n]*(1-t)+r[n]*t;return i}(n,o,a)},e.prototype.getValueSize=function(){return this.values.length/this.times.length},e.prototype.findPreIndex=function(t){for(var e=0,r=0;r<this.times.length;r++)if(this.times[r]>t){e=r;break}return e},e.prototype.destroy=function(){this.node=null,this.values=null,this.times=null},e}(I);var wn=new gi,Tn=new gi,En=function(t){function e(e,r){void 0===e&&(e=[]);var i=t.call(this)||this;if(i._instanceType="Skeleton3D",i.bones=e.slice(0),i.boneMatrices=new Float32Array(16*i.bones.length),r)if(i.bones.length===r.length)i.boneInverses=r.slice(0);else{console.warn("boneInverses长度有误"),i.boneInverses=[];for(var n=0,o=i.bones.length;n<o;n++)i.boneInverses.push(new gi)}else i.calculateInverses();return i}return P(e,t),e.prototype.calculateInverses=function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var r=new gi;this.bones[t]&&r.setInverseOf(this.bones[t]._worldMatrix),this.boneInverses.push(r)}},e.prototype.pose=function(){var t,e,r;for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&t._worldMatrix.setInverseOf(this.boneInverses[e]);for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&(t.parent&&"Bone3D"==t.parent.instanceType?(t._localMatrix.setInverseOf(t.parent._worldMatrix),t._localMatrix.multiply(t._worldMatrix)):t._localMatrix.copy(t._worldMatrix),t._localMatrix.decompose(t.position,t.quaternion,t.scale))},e.prototype.update=function(){for(var t=this.bones,e=this.boneInverses,r=this.boneMatrices,i=this.boneTexture,n=0,o=t.length;n<o;n++){var a=t[n]?t[n]._worldMatrix:Tn;wn.multiplyMatrices(a,e[n]),wn.toArray(r,16*n)}i&&i.update()},e.prototype.clone=function(){return new e(this.bones,this.boneInverses)},e.prototype.getBoneByName=function(t){for(var e=0,r=this.bones.length;e<r;e++){var i=this.bones[e];if(i.name===t)return i}return null},e.prototype.destroy=function(){},e}(I),Sn=function(t){function e(){var e=t.call(this)||this;return e._instanceType="Bone3D",e}return P(e,t),e}(Ei),Mn=function(t){function e(e,r){var i=t.call(this,e,r)||this;i.bindMode="attached",i.bindMatrix=new gi,i.bindMatrixInverse=new gi,i._instanceType="SkinnedMesh3D";var n=i.initBones(),o=new En(n);return i.bind(o,i._worldMatrix),i.normalizeSkinWeights(),i}return P(e,t),e.prototype.initBones=function(){var t,e,r,i,n=[];if(this.geometry&&void 0!==this.geometry.bones){for(r=0,i=this.geometry.bones.length;r<i;r++)e=this.geometry.bones[r],t=new Sn,n.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(r=0,i=this.geometry.bones.length;r<i;r++)-1!==(e=this.geometry.bones[r]).par&&null!==e.par&&void 0!==n[e.par]?n[e.par].addChild(n[r]):this.addChild(n[r])}return this.updateWorldMatrix(),n},e.prototype.bind=function(t,e){this.skeleton=t,void 0===e&&(this.updateWorldMatrix(),this.skeleton.calculateInverses(),e=this._worldMatrix),this.bindMatrix.copy(e),this.bindMatrixInverse.setInverseOf(e)},e.prototype.pose=function(){this.skeleton.pose()},e.prototype.normalizeSkinWeights=function(){var t,e;if(this.geometry){var r=new An,i=this.geometry._skinWeight,n=i.length/4||0;for(e=0;e<n;e++)r.x=i[4*e],r.y=i[4*e+1],r.z=i[4*e+2],r.w=i[4*e+3],(t=1/r.manhattanLength())!==1/0?r.multiplyScalar(t):r.set(1,0,0,0),i[4*e]=r.x,i[4*e+1]=r.y,i[4*e+2]=r.z,i[4*e+3]=r.w}},e.prototype.updateWorldMatrix=function(){t.prototype.updateWorldMatrix.call(this),"attached"===this.bindMode?this.bindMatrixInverse.setInverseOf(this._worldMatrix):"detached"===this.bindMode&&this.bindMatrixInverse.setInverseOf(this.bindMatrix)},e.prototype.update=function(){this.visible&&(this.skeleton.update(),t.prototype.update.call(this))},e.prototype.clone=function(){return new e(this.geometry,this.material).copy(this)},e}(Di),An=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),this.x=t,this.y=e,this.z=r,this.w=i}return t.prototype.set=function(t,e,r,i){return this.x=t,this.y=e,this.z=r,this.w=i,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},t.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},t}(),Cn=function(t){function e(e,r){var i=t.call(this)||this;return i._isPlaying=!0,i._isFront=!0,i.lastTime=null,i.curTime=0,i._endMark=!1,i._instanceType="AnimationClip",i.tracks=e,i._totalTime=r,i}return P(e,t),Object.defineProperty(e.prototype,"totalTime",{get:function(){return this._totalTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),e.prototype.update=function(t){if(this.tracks&&this.tracks.length)return this.curTime!==this.lastTime?(this.rectify(),void(this._endMark=!1)):void(t<=0||!this._isPlaying||(this._endMark=!1,this._isFront?(this.curTime+=t,this.curTime>this._totalTime&&(this.curTime=0,this._endMark=!0)):(this.curTime-=t,this.curTime<0&&(this.curTime=this._totalTime,this._endMark=!0)),this.curTime!==this.lastTime&&(this.rectify(),this.dispatchEvent(D.ENTER_FRAME),this._endMark&&this.hasEventListener(D.END_FRAME)&&this.dispatchEvent(D.END_FRAME))))},e.prototype.play=function(t){void 0===t&&(t=!0),this._isFront=t,this._isPlaying=!0},e.prototype.stop=function(){this._isPlaying=!1,this.lastTime=this.curTime},e.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=!0);var r=this;r._isFront=e,r._isPlaying=!0,t>r._totalTime&&(t=r._totalTime),t<1&&(t=0),r.curTime=t},e.prototype.gotoAndStop=function(t,e){void 0===e&&(e=!1),this._isPlaying=!1,t>this.totalTime&&(t=this.totalTime),t<0&&(t=0),this.curTime=t,e&&(this.lastTime=null)},e.prototype.startAniRange=function(t,e,r,i){var n=this;if(void 0===t&&(t=0),void 0===e&&(e=this._totalTime),void 0===r&&(r=1),t<0&&(t=0),t>this._totalTime&&(t=this._totalTime),e<0&&(e=0),e>this._totalTime&&(e=this._totalTime),t!==e){if(t<e)this._isFront=!0;else{this._isFront=!1;var o=t;t=e,e=o}this.startAniRangeFun&&this.removeEventListener(D.ENTER_FRAME,this.startAniRangeFun,this),this.curTime=t,this._isPlaying=!0;var a=r?r+.5>>0:1/0;this.addEventListener(D.ENTER_FRAME,this.startAniRangeFun=function(r){var o=r.target;o._isFront?(o.curTime>=e||o._endMark)&&(--a<=0?(o.gotoAndStop(e),o.removeEventListener(D.ENTER_FRAME,n.startAniRangeFun,n),n.startAniRangeFun=null,i&&i(a)):o.gotoAndPlay(t)):(o.curTime<=t||o._endMark)&&(--a<=0?(o.gotoAndStop(t),o.removeEventListener(D.ENTER_FRAME,n.startAniRangeFun,n),n.startAniRangeFun=null,i&&i(a)):o.gotoAndPlay(e,!1))},this)}else this.gotoAndStop(t)},e.prototype.rectify=function(){if(this.tracks&&this.tracks.length){for(var t=0;t<this.tracks.length;t++)this.tracks[t].setValue(this.curTime);this.lastTime=this.curTime}},e.prototype.resetState=function(){this.stop();for(var t=0;t<this.tracks.length;t++)this.tracks[t].resetValue()},e}(R),Pn=function(t){function e(e){var r=t.call(this)||this;return r.animationClips=e,r._instanceType="AnimationManager",r.stop(),r}return P(e,t),e.prototype.getAniClipByName=function(t){for(var e=0;e<this.animationClips.length;e++)if(this.animationClips[e].name==t)return this.animationClips[e];return null},e.prototype.showAni=function(t,e,r){void 0===e&&(e=1);var i=this.getAniClipByName(t);return i?(this.currentClip&&this.currentClip.resetState(),this.currentClip=i,i.startAniRange(0,void 0,e,r),i):null},e.prototype.stop=function(){this.animationClips.forEach((function(t){t.stop()})),this.currentClip=null},e.prototype.reset=function(){this.animationClips.forEach((function(t){t.resetState()})),this.currentClip=null},e.prototype.update=function(t){void 0===t&&(t=.0167);for(var e=0;e<this.animationClips.length;e++)this.animationClips[e].update(t)},e.prototype.destroy=function(){this.animationClips=null,this.currentClip=null},e}(I),kn="KHR_binary_glTF",On="KHR_draco_mesh_compression",In="KHR_lights_punctual",Dn="KHR_materials_pbrSpecularGlossiness",Rn="KHR_materials_unlit",Fn="MSFT_texture_dds",Ln=4,Bn=5,Nn=6,zn={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},jn={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Vn={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences",position:"position"};function Un(t){if(t.isInterleavedBufferAttribute){for(var e=t.count,r=t.itemSize,i=t.array.slice(0,e*r),n=0;n<e;++n)i[n*r]=t.getX(n),r>=2&&(i[n*r+1]=t.getY(n)),r>=3&&(i[n*r+2]=t.getZ(n)),r>=4&&(i[n*r+3]=t.getW(n));return new Xn(i,r,t.normalized)}return t.clone()}function Wn(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(var r=0,i=e.weights.length;r<i;r++)t.morphTargetInfluences[r]=e.weights[r];if(e.extras&&Array.isArray(e.extras.targetNames)){var n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function qn(t,e){return t.indices===e.indices&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(t[r]!==e[r])return!1;return!0}(t.attributes,e.attributes)}function Hn(t,e){for(var r=0,i=t.length;r<i;r++){var n=t[r];if(qn(n.primitive,e))return n.promise}return null}!function(){function t(t,e,r){void 0===t&&(t={}),void 0===e&&(e={}),void 0===r&&(r={}),this.json=t,this.extensions=e,this.options=r,this.cache=new Yn,this.primitiveCache=[],this.multiplePrimitivesCache=[],this.multiPassGeometryCache=[],this.loadScene=function(){function t(e,r,i,n,o){var a=n[e],s=i.nodes[e];if(void 0!==s.skin)for(var l="Object3D"==a.instanceType?a.children:[a],h=0;h<l.length;h++){for(var u=l[h],c=o[s.skin],p=[],f=[],d=0,m=c.joints.length;d<m;d++){var v=c.joints[d],y=n[v];if(y){p.push(y);var g=new gi;void 0!==c.inverseBindMatrices&&g.fromArray(c.inverseBindMatrices.array,16*d),f.push(g)}else console.warn('Joint "%s" could not be found.',v)}u.bind(new En(p,f),u._worldMatrix)}if(r.addChild(a),s.children){var _=s.children;for(h=0;h<_.length;h++){var b=_[h];a&&t(b,a,i,n,o)}}}return function(e){var r=this.json;this.extensions;var i=this.json.scenes[e];return this.getMultiDependencies(["node","skin"]).then((function(e){var n=new Hi;void 0!==i.name&&(n.name=i.name);for(var o=i.nodes||[],a=0,s=o.length;a<s;a++)t(o[a],n,r,e.nodes,e.skins);return n}))}}()}t.prototype.parse=function(t,e){var r=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then((function(e){var i=e.scenes||[],n=i[r.scene||0],o=e.animations||[],a=e.cameras||[];t(n,i,a,o,r)})).catch(e)},t.prototype.markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],r=this.json.meshes||[],i={},n={},o=0,a=e.length;o<a;o++)for(var s=e[o].joints,l=0,h=s.length;l<h;l++)t[s[l]].isBone=!0;for(var u=0,c=t.length;u<c;u++){var p=t[u];void 0!==p.mesh&&(void 0===i[p.mesh]&&(i[p.mesh]=n[p.mesh]=0),i[p.mesh]++,void 0!==p.skin&&(r[p.mesh].isSkinnedMesh=!0))}this.json.meshReferences=i,this.json.meshUses=n},t.prototype.getDependency=function(t,e){var r=t+":"+e,i=this.cache.get(r);if(!i){switch(t){case"scene":i=this.loadScene(e);break;case"node":i=this.loadNode(e);break;case"mesh":i=this.loadMesh(e);break;case"accessor":i=this.loadAccessor(e);break;case"bufferView":i=this.loadBufferView(e);break;case"buffer":i=this.loadBuffer(e);break;case"material":i=this.loadMaterial(e);break;case"texture":i=this.loadTexture(e);break;case"skin":i=this.loadSkin(e);break;case"animation":i=this.loadAnimation(e);break;case"camera":i=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(r,i)}return i},t.prototype.getDependencies=function(t){var e=this.cache.get(t);if(!e){var r=this,i=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(i.map((function(e,i){return r.getDependency(t,i)}))),this.cache.add(t,e)}return e},t.prototype.getMultiDependencies=function(t){for(var e={},r=[],i=0,n=t.length;i<n;i++){var o=t[i],a=this.getDependencies(o);a=a.then(function(t,r){e[t]=r}.bind(this,o+("mesh"===o?"es":"s"))),r.push(a)}return Promise.all(r).then((function(){return e}))},t.prototype.loadBuffer=function(t){var e=this.json.buffers[t];if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");return void 0===e.uri&&0===t?Promise.resolve(this.extensions[kn].body):new Promise((function(t,r){var i=e.uri.match(/^data:(.*?)(;base64)?,(.*)$/);if(i){i[1];var n=!!i[2],o=i[3];o=decodeURIComponent(o),n&&(o=atob(o));for(var a=new Uint8Array(o.length),s=0;s<o.length;s++)a[s]=o.charCodeAt(s);t(a.buffer)}else r("阿三的")}))},t.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){var r=e.byteLength||0,i=e.byteOffset||0;return t.slice(i,i+r)}))},t.prototype.loadAccessor=function(t){var e=this,r=this.json,i=this.json.accessors[t];if(void 0===i.bufferView&&void 0===i.sparse)return null;var n=[];return void 0!==i.bufferView?n.push(this.getDependency("bufferView",i.bufferView)):n.push(null),void 0!==i.sparse&&(n.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),n.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(n).then((function(t){var n,o,a=t[0],s=jn[i.type],l=zn[i.componentType],h=l.BYTES_PER_ELEMENT,u=h*s,c=i.byteOffset||0,p=void 0!==i.bufferView?r.bufferViews[i.bufferView].byteStride:void 0,f=!0===i.normalized;if(p&&p!==u){var d="InterleavedBuffer:"+i.bufferView+":"+i.componentType,m=e.cache.get(d);m||(n=new l(a),m=new Kn(n,p/h),e.cache.add(d,m)),o=Un(new Zn(m,s,c/h,f))}else n=null===a?new l(i.count*s):new l(a,c,i.count*s),o=new Xn(n,s,f);if(void 0!==i.sparse){var v=jn.SCALAR,y=zn[i.sparse.indices.componentType],g=i.sparse.indices.byteOffset||0,_=i.sparse.values.byteOffset||0,b=new y(t[1],g,i.sparse.count*v),x=new l(t[2],_,i.sparse.count*s);null!==a&&o.setArray(o.array.slice());for(var w=0,T=b.length;w<T;w++){var E=b[w];if(o.setX(E,x[w*s]),s>=2&&o.setY(E,x[w*s+1]),s>=3&&o.setZ(E,x[w*s+2]),s>=4&&o.setW(E,x[w*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o}))},t.prototype.loadTexture=function(t){var e=this.json;this.options;var r,i=e.textures[t],n=i.extensions||{},o=(r=n[Fn]?e.images[n[Fn].source]:e.images[i.source]).uri;return void 0!==r.bufferView&&(o=this.getDependency("bufferView",r.bufferView).then((function(t){var e=jt(t);return"data:"+r.mimeType+";base64,"+e}))),Promise.resolve(o).then((function(t){return new Promise((function(e,r){var i,n;Ut.loadImage((function(t,i){t?e(Gt.fromImage(i)):r()}),(n="","string"!=typeof(i=t)||""===i?"":/^(https?:)?\/\//i.test(i)||/^data:.*,.*$/i.test(i)||/^blob:.*$/i.test(i)?i:n+i))}))})).then((function(t){return void 0!==i.name&&(t.name=i.name),t}))},t.prototype.assignTexture=function(t,e,r){return this.getDependency("texture",r).then((function(r){t[e]=r}))},t.prototype.loadMaterial=function(t){var e=this.json;this.extensions;var r,i=e.materials[t],n={},o=i.extensions||{},a=[];if(o[Dn]){r=Gi;var s=i.extensions[Dn];if(n.color=16777215,n.alpha=1,Array.isArray(s.diffuseFactor)){var l=s.diffuseFactor;n.color=Dt(l),n.alpha=l[3]}void 0!==s.diffuseTexture&&a.push(this.assignTexture(n,"map",s.diffuseTexture.index))}else{r=o[Rn]?Si:Gi;var h=i.pbrMetallicRoughness||{};if(n.color=16777215,n.alpha=1,Array.isArray(h.baseColorFactor)){l=h.baseColorFactor;n.color=Dt(l),n.alpha=l[3]}void 0!==h.baseColorTexture&&a.push(this.assignTexture(n,"map",h.baseColorTexture.index))}return!0===i.doubleSided&&(n.side=xi.DoubleSide),Promise.all(a).then((function(){var t;return t=new r(n),void 0!==i.name&&(t.name=i.name),t}))},t.prototype.loadGeometries=function(t){this.extensions;var e=this.primitiveCache;return this.getDependencies("accessor").then((function(r){for(var i=[],n=0,o=t.length;n<o;n++){var a=t[n],s=Hn(e,a);if(s)i.push(s);else if(a.extensions&&a.extensions[On]);else{var l=Gn(a,r),h=Promise.resolve(l);e.push({primitive:a,promise:h}),i.push(h)}}return Promise.all(i).then((function(t){return t}))}))},t.prototype.loadMesh=function(t){var e=this,r=this.json;this.extensions;var i=r.meshes[t];return this.getMultiDependencies(["accessor","material"]).then((function(r){for(var n=i.primitives,o=[],a=0,s=n.length;a<s;a++)o[a]=void 0===n[a].material?new Gi({color:16777215,side:0}):r.materials[n[a].material];return e.loadGeometries(n).then((function(r){for(var a=[],s=0,l=r.length;s<l;s++){var h,u=r[s],c=n[s],p=o[s];if(c.mode!==Ln&&c.mode!==Bn&&c.mode!==Nn&&void 0!==c.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+c.mode);"SkinnedMesh3D"===(h=!0===i.isSkinnedMesh?new Mn(u,p):new Di(u,p)).instanceType&&h.normalizeSkinWeights(),h.geometry._morphPositions&&Wn(h,i),h.name=i.name||"mesh_"+t,r.length>1&&(h.name+="_"+s),a.push(h);p=h.material;var f="SkinnedMesh3D"==h.instanceType,d=!!u._morphPositions,m=d&&!!u._morphNormals;if(f||d){var v="ClonedMaterial:"+p.instanceId+":";f&&(v+="skinning:"),d&&(v+="morph-targets:"),m&&(v+="morph-normals:");var y=e.cache.get(v);y||(y=p.clone(),f&&(y.skinning=!0),d&&(y.morphTargets=!0),m&&(y.morphNormals=!0),e.cache.add(v,y)),p=y}h.material=p}if(1===a.length)return a[0];var g=new Ei;for(s=0;s<a.length;s++)g.addChild(a[s]);return g}))}))},t.prototype.loadCamera=function(t){var e,r=this.json.cameras[t],i=r[r.type];if(i)return"perspective"===r.type&&(e=new zi(M*i.yfov,i.aspectRatio||1,i.znear||1,i.zfar||2e6)),void 0!==r.name&&(e.name=r.name),Promise.resolve(e);console.warn("模型相机参数异常")},t.prototype.loadSkin=function(t){var e=this.json.skins[t],r={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return r.inverseBindMatrices=t,r}))},t.prototype.loadAnimation=function(t){var e=this.json.animations[t];return this.getMultiDependencies(["accessor","node"]).then((function(r){for(var i=[],n=0,o=e.channels.length;n<o;n++){var a=e.channels[n],s=e.samplers[a.sampler];if(s){var l=a.target,h=void 0!==l.node?l.node:l.id,u=void 0!==e.parameters?e.parameters[s.input]:s.input,c=void 0!==e.parameters?e.parameters[s.output]:s.output,p=r.accessors[u],f=r.accessors[c],d=r.nodes[h];if(d){var m;switch(d.updateLocalMatrix(),Vn[l.path]){case Vn.weights:m=bn.morphTargetInfluences;break;case Vn.rotation:m=bn.quaternion;break;case Vn.position:m=bn.position;break;case Vn.scale:m=bn.scale;break;default:m=bn.position}var v=d.name?d.name:d.instanceId;void 0===s.interpolation||s.interpolation;var y=[];Vn[l.path]===Vn.weights?$n(d,(function(t){"Mesh3D"!==t.instanceType&&"SkinnedMesh3D"!==t.instanceType||!t.morphTargetInfluences||y.push(t.name?t.name:t.instanceId)})):y.push(v);for(var g=0,_=y.length;g<_;g++){var b=new xn(d,m,_n(p.array,0),_n(f.array,0));i.push(b)}}}}h=void 0!==e.name?e.name:"animation_"+t;for(var x=0,w=0,T=i.length;w!==T;++w){var E=i[w];x=Math.max(x,E.times[E.times.length-1])}var S=new Cn(i,x);return S.name=h,S}))},t.prototype.loadNode=function(t){var e=this.json,r=this.extensions,i=e.meshReferences,n=e.meshUses,o=e.nodes[t];return this.getMultiDependencies(["mesh","skin","camera","light"]).then((function(t){var e;if(!0===o.isBone)e=new Sn;else if(void 0!==o.mesh){var a=t.meshes[o.mesh];if(i[o.mesh]>1){var s=n[o.mesh]++;(e=a.clone()).name+="_instance_"+s;for(var l=0,h=e.children.length;l<h;l++)e.children[l].name+="_instance_"+s}else e=a}else if(void 0!==o.camera)e=t.cameras[o.camera];else if(o.extensions&&o.extensions[In]&&void 0!==o.extensions[In].light){e=r[In].lights[o.extensions[In].light]}else e=new Ei;if(void 0!==o.name&&(e.name=o.name.replace(/\s/g,"_").replace(Qn,"")),void 0!==o.matrix){var u=new gi;u.fromArray(o.matrix),e.applyMatrix(u)}else void 0!==o.translation&&e.position.fromArray(o.translation),void 0!==o.rotation&&e.quaternion.fromArray(o.rotation),void 0!==o.scale&&e.scale.fromArray(o.scale);return e}))}}();function Gn(t,e){var r=t.attributes,i=e[r.POSITION],n=e[r.NORMAL],o=e[r.TEXCOORD_0]||e[r.TEXCOORD0],a=new Bi(Jn(i),Jn(e[t.indices]),n?Jn(n):null,null,o?Jn(o):null),s=e[r.WEIGHTS_0]||e[r.WEIGHTS];s&&(a._skinWeight=Jn(s));var l=e[r.JOINTS_0]||e[r.JOINT];return l&&(a._skinIndex=Jn(l)),void 0!==t.targets&&function(t,e,r){for(var i=!1,n=!1,o=0,a=e.length;o<a;o++){if(void 0!==(h=e[o]).POSITION&&(i=!0),void 0!==h.NORMAL&&(n=!0),i&&n)break}if(i||n){var s=[],l=[];for(o=0,a=e.length;o<a;o++){var h=e[o],u="morphTarget"+o;if(i){var c=void 0;if(void 0!==h.POSITION){c=[];var p=Un(r[h.POSITION]);p.name=u;for(var f=t._vertices,d=0,m=p.count;d<m;d++)c.push(p.getX(d)+f[3*d],p.getY(d)+f[3*d+1],p.getZ(d)+f[3*d+2])}else c=t._vertices;s.push(c)}if(n){var v=void 0;if(void 0!==h.NORMAL){v=[];var y=Un(r[h.NORMAL]);y.name=u;var g=t._normals;for(d=0,m=y.count;d<m;d++)v.push(y.getX(d)+g[3*d],y.getY(d)+g[3*d+1],y.getZ(d)+g[3*d+2])}else v=t._normals;l.push(v)}}i&&(t._morphPositions=s),n&&(t._morphNormals=l)}}(a,t.targets,e),a}var Yn=function(){function t(){this.objects={}}return t.prototype.get=function(t){return this.objects[t]},t.prototype.add=function(t,e){this.objects[t]=e},t.prototype.remove=function(t){delete this.objects[t]},t.prototype.removeAll=function(){this.objects={}},t}(),Xn=function(){function t(t,e,r){if(void 0===r&&(r=!1),this.array=t,this.itemSize=e,this.normalized=r,Array.isArray(t))throw new TypeError("array必须士类型化数组");this.count=void 0!==t?t.length/e:0}return t.prototype.set=function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},t.prototype.setArray=function(t){if(Array.isArray(t))throw new TypeError("array必须士类型化数组");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},t.prototype.getX=function(t){return this.array[t*this.itemSize]},t.prototype.setX=function(t,e){return this.array[t*this.itemSize]=e,this},t.prototype.getY=function(t){return this.array[t*this.itemSize+1]},t.prototype.setY=function(t,e){return this.array[t*this.itemSize+1]=e,this},t.prototype.getZ=function(t){return this.array[t*this.itemSize+2]},t.prototype.setZ=function(t,e){return this.array[t*this.itemSize+2]=e,this},t.prototype.getW=function(t){return this.array[t*this.itemSize+3]},t.prototype.setW=function(t,e){return this.array[t*this.itemSize+3]=e,this},t.prototype.setXY=function(t,e,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this},t.prototype.setXYZ=function(t,e,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=i,this},t.prototype.setXYZW=function(t,e,r,i,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=i,this.array[t+3]=n,this},t.prototype.copy=function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this},t.prototype.clone=function(){return new t(this.array,this.itemSize).copy(this)},t}(),Kn=function(){function t(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0}return t.prototype.setArray=function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},t.prototype.copy=function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this},t.prototype.set=function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},t.prototype.clone=function(){return(new t).copy(this)},t}(),Zn=function(){function t(t,e,r,i){void 0===i&&(i=!1),this.itemSize=e,this.offset=r,this.normalized=i,this.isInterleavedBufferAttribute=!0,this.data=t}return Object.defineProperty(t.prototype,"count",{get:function(){return this.data.count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"array",{get:function(){return this.data.array},enumerable:!0,configurable:!0}),t.prototype.setX=function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},t.prototype.setY=function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},t.prototype.setZ=function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},t.prototype.setW=function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},t.prototype.getX=function(t){return this.data.array[t*this.data.stride+this.offset]},t.prototype.getY=function(t){return this.data.array[t*this.data.stride+this.offset+1]},t.prototype.getZ=function(t){return this.data.array[t*this.data.stride+this.offset+2]},t.prototype.getW=function(t){return this.data.array[t*this.data.stride+this.offset+3]},t.prototype.setXY=function(t,e,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this},t.prototype.setXYZ=function(t,e,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=i,this},t.prototype.setXYZW=function(t,e,r,i,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=i,this.data.array[t+3]=n,this},t}();function Jn(t){for(var e=[],r=0;r<t.count;r++)e.push(t.getX(r)),t.itemSize>=2&&e.push(t.getY(r)),t.itemSize>=3&&e.push(t.getZ(r)),t.itemSize>=4&&e.push(t.getW(r));return e}var Qn=new RegExp("[\\[\\]\\.:\\/]","g");function $n(t,e){e(t);for(var r=t.children,i=0,n=r.length;i<n;i++){$n(r[i],e)}}!function(t){function e(e){return t.call(this,new Bi([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],[0,1,2,0,2,3],null,null,[0,1,1,1,1,0,0,0]),e)||this}P(e,t)}(Di);var to,eo=function(t){function e(e,r){var i=t.call(this)||this;return i.data=e,i.root=r,i.ax=0,i.ay=0,i.arotation=0,i.ascaleX=0,i.ascaleY=0,i.ashearX=0,i.ashearY=0,i.appliedValid=!1,i.sorted=!1,i.shearX=0,i.shearY=0,i._instanceType="Bone",i.name=e.name,i.data.x=i.data.x||0,i.data.y=i.data.y||0,i.data.scaleX=i.data.scaleX||1,i.data.scaleY=i.data.scaleY||1,i.data.rotation=i.data.rotation||0,i.data.shearX=i.data.shearX||0,i.data.shearY=i.data.shearY||0,i.setToSetupPose(),r&&(i.debugBone=i.addChild(new ri).beginFill(16711680).drawRect(0,0,e.length||10,10).endFill()),i}return P(e,t),Object.defineProperty(e.prototype,"matrix",{get:function(){return this.worldMatrix},enumerable:!0,configurable:!0}),e.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY,this.skewX=-t.shearY,this.skewY=t.shearX},e.prototype.updateTransform=function(){this.appliedSelf();var t=e.yDown?-1:1;if(this.parent){var r=this.parent;if("Bone"==this.parent.instanceType){this.transform._worldID++;var i=r.transform.worldMatrix,n=this.localMatrix,o=this.worldMatrix,a=i.a,s=i.c,l=i.b,h=i.d;switch(o.tx=a*this.x+s*this.y+i.tx,o.ty=l*this.x+h*this.y+i.ty,this.data.transform){case to.onlyTranslation:this.transform.updateLocalMatrix(),o.a=n.a,o.c=n.c,o.b=n.b,o.d=n.d;break;case to.noRotationOrReflection:var u=0;(y=a*a+l*l)>1e-4?(s=l*(y=Math.abs(a*h-s*l)/y),h=a*y,u=Math.atan2(l,a)*M):(a=0,l=0,u=90-Math.atan2(h,s)*M);var c=this.rotation+this.shearX-u,p=this.rotation+this.shearY-u+90,f=Math.cos(c*A)*this.scaleX,d=Math.cos(p*A)*this.scaleY*t,m=Math.sin(c*A)*this.scaleX,v=Math.sin(p*A)*this.scaleY*t;o.a=a*f-s*m,o.c=a*d-s*v,o.b=l*f+h*m,o.d=l*d+h*v;break;case to.noScale:case to.noScaleOrReflection:var y,g=Math.cos(this.rotation*A),_=Math.sin(this.rotation*A),b=(a*g+s*_)/1,x=(l*g+h*_)/1;(y=Math.sqrt(b*b+x*x))>1e-5&&(y=1/y),b*=y,x*=y,y=Math.sqrt(b*b+x*x),this.data.transform==to.noScale&&a*h-s*l<0!=!e.yDown&&(y=-y);var w=Math.PI/2+Math.atan2(x,b),T=Math.cos(w)*y,E=Math.sin(w)*y;f=Math.cos(this.shearX*A)*this.scaleX,d=Math.cos((90+this.shearY)*A)*this.scaleY,m=Math.sin(this.shearX*A)*this.scaleX,v=Math.sin((90+this.shearY)*A)*this.scaleY;o.a=b*f+T*m,o.c=b*d+T*v,o.b=x*f+E*m,o.d=x*d+E*v;break;case to.normal:default:this.displayObjectUpdateTransform()}}else{var S=this.parent;this.parent=this._tempDisplayObjectParent,this.transform.updateWorldMatrix(this.parent.transform),this.parent=S}}for(var C=0,P=this.children.length;C<P;++C){var k=this.children[C];k.updateTransform(),k==this.debugBone&&k.worldMatrix.prepend(this.root.worldMatrix)}},e.prototype.updateWorldTransformWith=function(t,e,r,i,n,o,a){this.ax=this.x=t,this.ay=this.y=e,this.arotation=this.rotation=r,this.ascaleX=this.scaleX=i,this.ascaleY=this.scaleY=n,this.ashearX=o,this.ashearY=a,this.appliedValid=!0,this.skewX=-a,this.skewY=o,this.updateTransform()},e.prototype.appliedSelf=function(){this.ax=this.x,this.ay=this.y,this.arotation=this.rotation,this.ascaleX=this.scaleX,this.ascaleY=this.scaleY,this.ashearX=this.shearX,this.ashearY=this.shearY,this.appliedValid=!0},e.yDown=!0,e}(Z);!function(t){t.normal="normal",t.onlyTranslation="onlyTranslation",t.noRotationOrReflection="noRotationOrReflection",t.noScale="noScale",t.noScaleOrReflection="noScaleOrReflection"}(to||(to={}));var ro,io,no=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.r=t,this.g=e,this.b=r,this.a=i}return t.prototype.set=function(t,e,r,i){return this.r=t,this.g=e,this.b=r,this.a=i,this.clamp(),this},t.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},t.prototype.add=function(t,e,r,i){return this.r+=t,this.g+=e,this.b+=r,this.a+=i,this.clamp(),this},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.fromString=function(e){return(new t).setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),oo=function(t){function e(e,r,i){var n=t.call(this)||this;return n.bone=e,n.data=r,n.spine=i,n.deform=new Array,n.name=n.data.name,n.color=new no(1,1,1,1),n.data.color&&n.color.setFromString(n.data.color),n.data.sColor=(new no).setFromColor(n.color),n}return P(e,t),e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.deform.length=0)},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.sColor),null==this.data.attachment?this.attachment=null:(this.attachment=null,this.setAttachment(this.spine.getAttachment(this.spine.findSlotIndex(this.name),this.data.attachment)))},e}(Z),ao=function(){function t(t){this.name=t,this.attachments=new Array}return t.prototype.addAttachment=function(t,e,r){var i=this.attachments;t>=i.length&&(i.length=t+1),i[t]||(i[t]={}),i[t][e]=r},t.prototype.getAttachment=function(t,e){var r=this.attachments[t];return r?r[e]:null},t.prototype.attachAll=function(t,e){for(var r=0,i=0;i<t.length;i++){var n=t[i],o=n.getAttachment();if(o&&r<e.attachments.length){var a=e.attachments[r];for(var s in a){if(o==a[s]){var l=this.getAttachment(r,s);null!=l&&n.setAttachment(l);break}}}r++}},t}(),so=function(t){this.name=t},lo=function(t){function e(r){var i=t.call(this,r)||this;return i.id=(65535&e.nextID++)<<11,i.worldVerticesLength=0,i.deformAttachment=i,i}return P(e,t),e.prototype.applyDeform=function(t){return this==t},e.prototype.computeWorldVerticesOld=function(t,e,r){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2,r)},e.prototype.computeWorldVertices=function(t,e,r,i,n,o,a){r=n+(r>>1)*o;var s=t.deform,l=this.vertices,h=this.bones;if(null!=h){for(var u=0,c=0,p=0;p<e;p+=2){u+=(m=h[u])+1,c+=m}if(0==s.length)for(A=n,T=3*c;A<r;A+=o){var f=0,d=0,m=h[u++];for(m+=u;u<m;u++,T+=3){_=a[h[u]].matrix,C=l[T],P=l[T+1];var v=l[T+2];f+=(C*_.a+P*_.c+_.tx)*v,d+=(C*_.b+P*_.d+_.ty)*v}i[A]=f,i[A+1]=d}else for(var y=s,g=(A=n,T=3*c,c<<1);A<r;A+=o){f=0,d=0,m=h[u++];for(m+=u;u<m;u++,T+=3,g+=2){_=a[h[u]].matrix,C=l[T]+y[g],P=l[T+1]+y[g+1],v=l[T+2];f+=(C*_.a+P*_.c+_.tx)*v,d+=(C*_.b+P*_.d+_.ty)*v}i[A]=f,i[A+1]=d}}else{s.length>0&&(l=s);for(var _,b=(_=t.bone.matrix).tx,x=_.ty,w=_.a,T=_.c,E=_.b,S=_.d,M=e,A=n;A<r;M+=2,A+=o){var C=l[M],P=l[M+1];i[A]=C*w+P*T+b,i[A+1]=C*E+P*S+x}}},e.nextID=0,e}(so),ho=function(t){function e(e,r,i,n,o,a,s,l,h){void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===o&&(o=1),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0);var u=t.call(this,e)||this;return u.x=r,u.y=i,u.scaleX=n,u.scaleY=o,u.rotation=a,u.width=s,u.height=l,u.texture=h,u.color=new no(1,1,1,1),u}return P(e,t),e}(so),uo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.color=new no(1,1,1,1),e}return P(e,t),e}(lo),co=function(){function t(e){this.curves=new Float32Array((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var i=this.curves[r];return i==t.LINEAR?t.LINEAR:i==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,i,n,o){var a=.03*(2*-r+n),s=.03*(2*-i+o),l=.006*(3*(r-n)+1),h=.006*(3*(i-o)+1),u=2*a+l,c=2*s+h,p=.3*r+a+.16666667*l,f=.3*i+s+.16666667*h,d=e*t.BEZIER_SIZE,m=this.curves;m[d++]=t.BEZIER;for(var v=p,y=f,g=d+t.BEZIER_SIZE-1;d<g;d+=2)m[d]=v,m[d+1]=y,p+=u,f+=c,u+=l,c+=h,v+=p,y+=f},t.prototype.getCurvePercent=function(e,r){r=zt(r,0,1);var i=this.curves,n=e*t.BEZIER_SIZE,o=i[n];if(o==t.LINEAR)return r;if(o==t.STEPPED)return 0;for(var a=0,s=++n,l=n+t.BEZIER_SIZE-1;n<l;n+=2)if((a=i[n])>=r){var h=void 0,u=void 0;return n==s?(h=0,u=0):(h=i[n-2],u=i[n-1]),u+(i[n+1]-u)*(r-h)/(a-h)}var c=i[n-1];return c+(1-c)*(r-a)/(1-a)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=19,t}();function po(t,e,r){if(t.hasOwnProperty("curve"))if("stepped"===t.curve)e.setStepped(r);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var i=t.curve;e.setCurve(r,i[0],i[1],i[2],i[3])}else e.setCurve(r,t.curve,t.c2||0,t.c3||1,t.c4||1)}function fo(t,e,r){void 0===r&&(r=1);var i=0,n=t.length/r-2;if(0==n)return r;for(var o=n>>>1;;){if(t[(o+1)*r]<=e?i=o+1:n=o,i==n)return(i+1)*r;o=i+n>>>1}}function mo(t,e,r,i,n){for(var o=e,a=i;o<e+n;o++,a++)r[a]=t[o]}function vo(t,e,r){void 0===r&&(r=0);var i=t.length;if(i==e)return t;if(t.length=e,i<e)for(var n=i;n<e;n++)t[n]=r;return t}function yo(t,e){for(var r=new Array(t),i=0;i<t;i++)r[i]=e;return r}!function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(ro||(ro={})),function(t){t[t.in=0]="in",t[t.out=1]="out"}(io||(io={}));var go,_o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.setValue=function(t,e,r,i){},e.prototype.resetValue=function(){},e.prototype.destroy=function(){},e}(I);!function(t){t.rotate="rotate",t.translate="translate",t.scale="scale",t.shear="shear"}(go||(go={}));var bo=function(t){function e(e,r,i){var n=t.call(this)||this;n.bone=e,n.animationType=r,n.times=i,n._instanceType="SpineBoneAniTrack",i.forEach((function(t){switch(t.time=t.time||0,r){case go.rotate:t.angle=t.angle||0;break;case go.scale:t.x=void 0===t.x?1:t.x,t.y=void 0===t.y?1:t.y;break;case go.translate:case go.shear:t.x=t.x||0,t.y=t.y||0}})),n.curve=new co(i.length);for(var o=0,a=0;a<i.length;a++){po(i[a],n.curve,o),o++}return n}return P(e,t),e.prototype.resetValue=function(){this.bone.setToSetupPose()},e.prototype.setValue=function(t,e,r,i){switch(void 0===e&&(e=1),void 0===r&&(r=ro.replace),void 0===i&&(i=io.in),this.animationType){case go.translate:this.setPosition(t,e,r);break;case go.scale:this.setScale(t,e,r,i);break;case go.shear:this.setShear(t,e,r);break;case go.rotate:this.setRotation(t,e,r)}},e.prototype.setRotation=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=ro.replace);var i=this.times,n=this.bone;if(t<i[0].time)switch(r){case ro.setup:return void(n.rotation=n.data.rotation);case ro.first:var o=n.data.rotation-n.rotation;n.rotation+=(o-xo(o))*e}else if(t>=i[i.length-1].time){var a=i[i.length-1].angle;switch(r){case ro.setup:n.rotation=n.data.rotation+a*e;break;case ro.first:case ro.replace:a+=n.data.rotation-n.rotation,a-=xo(a);case ro.add:n.rotation+=a*e}}else{var s=this.findPreIndex(t),l=i[s-1].angle,h=i[s].time,u=this.curve.getCurvePercent(s-1,1-(t-h)/(i[s-1].time-h)),c=i[s].angle-l;switch(c=l+(c-xo(c))*u,r){case ro.setup:n.rotation=n.data.rotation+(c-xo(c))*e;break;case ro.first:case ro.replace:c+=n.data.rotation-n.rotation;case ro.add:n.rotation+=(c-xo(c))*e}}},e.prototype.setPosition=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=ro.replace);var i=this.times,n=this.bone;if(t<i[0].time)switch(r){case ro.setup:return n.x=n.data.x,void(n.y=n.data.y);case ro.first:n.x+=(n.data.x-n.x)*e,n.y+=(n.data.y-n.y)*e}else{var o=0,a=0;if(t>=i[i.length-1].time)o=i[i.length-1].x,a=i[i.length-1].y;else{var s=this.findPreIndex(t);o=i[s-1].x,a=i[s-1].y;var l=i[s].time,h=this.curve.getCurvePercent(s-1,1-(t-l)/(i[s-1].time-l));o+=(i[s].x-o)*h,a+=(i[s].y-a)*h}switch(r){case ro.setup:n.x=n.data.x+o*e,n.y=n.data.y+a*e;break;case ro.first:case ro.replace:n.x+=(n.data.x+o-n.x)*e,n.y+=(n.data.y+a-n.y)*e;break;case ro.add:n.x+=o*e,n.y+=a*e}}},e.prototype.setScale=function(t,e,r,i){void 0===e&&(e=1),void 0===r&&(r=ro.replace),void 0===i&&(i=io.in);var n=this.times,o=this.bone;if(t<n[0].time)switch(r){case ro.setup:return o.scaleX=o.data.scaleX,void(o.scaleY=o.data.scaleY);case ro.first:o.scaleX+=(o.data.scaleX-o.scaleX)*e,o.scaleY+=(o.data.scaleY-o.scaleY)*e}else{var a=0,s=0;if(t>=n[n.length-1].time)a=n[n.length-1].x*o.data.scaleX,s=n[n.length-1].y*o.data.scaleY;else{var l=this.findPreIndex(t);a=n[l-1].x,s=n[l-1].y;var h=n[l].time,u=this.curve.getCurvePercent(l-1,1-(t-h)/(n[l-1].time-h));a=(a+(n[l].x-a)*u)*o.data.scaleX,s=(s+(n[l].y-s)*u)*o.data.scaleY}if(1==e)r==ro.add?(o.scaleX+=a-o.data.scaleX,o.scaleY+=s-o.data.scaleY):(o.scaleX=a,o.scaleY=s);else{var c=0,p=0;if(i==io.out)switch(r){case ro.setup:c=o.data.scaleX,p=o.data.scaleY,o.scaleX=c+(Math.abs(a)*Ft(c)-c)*e,o.scaleY=p+(Math.abs(s)*Ft(p)-p)*e;break;case ro.first:case ro.replace:c=o.scaleX,p=o.scaleY,o.scaleX=c+(Math.abs(a)*Ft(c)-c)*e,o.scaleY=p+(Math.abs(s)*Ft(p)-p)*e;break;case ro.add:c=o.scaleX,p=o.scaleY,o.scaleX=c+(Math.abs(a)*Ft(c)-o.data.scaleX)*e,o.scaleY=p+(Math.abs(s)*Ft(p)-o.data.scaleY)*e}else switch(r){case ro.setup:c=Math.abs(o.data.scaleX)*Ft(a),p=Math.abs(o.data.scaleY)*Ft(s),o.scaleX=c+(a-c)*e,o.scaleY=p+(s-p)*e;break;case ro.first:case ro.replace:c=Math.abs(o.scaleX)*Ft(a),p=Math.abs(o.scaleY)*Ft(s),o.scaleX=c+(a-c)*e,o.scaleY=p+(s-p)*e;break;case ro.add:c=Ft(a),p=Ft(s),o.scaleX=Math.abs(o.scaleX)*c+(a-Math.abs(o.data.scaleX)*c)*e,o.scaleY=Math.abs(o.scaleY)*p+(s-Math.abs(o.data.scaleY)*p)*e}}}},e.prototype.setShear=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=ro.replace);var i=this.times,n=this.bone;if(t<i[0].time)switch(r){case ro.setup:return n.shearX=n.data.shearX,n.shearY=n.data.shearY,n.skewX=-n.shearY,void(n.skewY=n.shearX);case ro.first:n.shearX+=(n.data.shearX-n.shearX)*e,n.shearY+=(n.data.shearY-n.shearY)*e,n.skewX=-n.shearY,n.skewY=n.shearX}else{var o=0,a=0;if(t>=i[i.length-1].time)o=i[i.length-1].x,a=i[i.length-1].y;else{var s=this.findPreIndex(t);o=i[s-1].x,a=i[s-1].y;var l=i[s].time,h=this.curve.getCurvePercent(s-1,1-(t-l)/(i[s-1].time-l));o+=(i[s].x-o)*h,a+=(i[s].y-a)*h}switch(r){case ro.setup:n.shearX=n.data.shearX+o*e,n.shearY=n.data.shearY+a*e;break;case ro.first:case ro.replace:n.shearX+=(n.data.shearX+o-n.shearX)*e,n.shearY+=(n.data.shearY+a-n.shearY)*e;break;case ro.add:n.shearX+=o*e,n.shearY+=a*e}n.skewX=-n.shearY,n.skewY=n.shearX}},e.prototype.findPreIndex=function(t){for(var e=0,r=0;r<this.times.length;r++)if(this.times[r].time>t){e=r;break}return e},e.prototype.destroy=function(){this.bone=null,this.times=null},e}(_o);function xo(t){return 360*(16384-(16384.499999999996-t/360|0))}var wo=function(t){function e(r,i){var n=t.call(this)||this;n.slot=r,n._instanceType="SpineColorAniTrack";var o=i.length;n.frames=new Float32Array(o*e.ENTRIES),n.curve=new co(o);for(var a=0,s=0;s<o;s++){var l=i[s],h=(new no).setFromString(l.color||"ffffffff"),u=a*e.ENTRIES;n.frames[u]=l.time||0,n.frames[u+e.R]=h.r,n.frames[u+e.G]=h.g,n.frames[u+e.B]=h.b,n.frames[u+e.A]=h.a,po(l,n.curve,a),a++}return n}return P(e,t),e.prototype.resetValue=function(){this.slot.setToSetupPose()},e.prototype.setValue=function(t,r,i){void 0===r&&(r=1),void 0===i&&(i=ro.replace);var n=this.slot,o=this.frames;if(t<o[0])switch(i){case ro.setup:return void n.color.setFromColor(n.data.sColor);case ro.first:case ro.replace:var a=n.color,s=n.data.sColor;a.add((s.r-a.r)*r,(s.g-a.g)*r,(s.b-a.b)*r,(s.a-a.a)*r)}else{var l=0,h=0,u=0,c=0;if(t>=o[o.length-e.ENTRIES]){var p=o.length;l=o[p+e.PREV_R],h=o[p+e.PREV_G],u=o[p+e.PREV_B],c=o[p+e.PREV_A]}else{var f=fo(o,t,e.ENTRIES);l=o[f+e.PREV_R],h=o[f+e.PREV_G],u=o[f+e.PREV_B],c=o[f+e.PREV_A];var d=o[f],m=this.curve.getCurvePercent(f/e.ENTRIES-1,1-(t-d)/(o[f+e.PREV_TIME]-d));l+=(o[f+e.R]-l)*m,h+=(o[f+e.G]-h)*m,u+=(o[f+e.B]-u)*m,c+=(o[f+e.A]-c)*m}if(1==r)n.color.set(l,h,u,c);else{a=n.color;i==ro.setup&&a.setFromColor(n.data.sColor),a.add((l-a.r)*r,(h-a.g)*r,(u-a.b)*r,(c-a.a)*r)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(_o),To=function(t){function e(e,r,i){var n=t.call(this)||this;n.slot=e,n.attachment=r,n.times=i,n._instanceType="SpineDeformAniTrack";var o=null!=r.bones,a=r.vertices,s=o?a.length/3*2:a.length;n.frameTimes=new Float32Array(i.length),n.frameVertices=new Array(i.length),n.curve=new co(i.length);for(var l=0,h=0;h<i.length;h++){var u=i[h],c=void 0,p=u.vertices||null;if(null==p)c=o?new Float32Array(s):a;else if(mo(p,0,c=new Float32Array(s),u.offset||0,p.length),!o)for(var f=0;f<s;f++)c[f]+=a[f];n.frameTimes[l]=u.time||0,n.frameVertices[l]=c,po(u,n.curve,l),l++}return n}return P(e,t),e.prototype.setValue=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=ro.replace);var i=this.slot.getAttachment();if(i instanceof lo&&i.applyDeform(this.attachment)){var n=this.slot.deform;0==n.length&&(r=ro.setup);var o=this.frameVertices,a=o[0].length,s=this.frameTimes;if(t<s[0]){var l=i;switch(r){case ro.setup:return void(n.length=0);case ro.first:if(1==e){n.length=0;break}var h=vo(n,a);if(null==l.bones)for(var u=l.vertices,c=0;c<a;c++)h[c]+=(u[c]-h[c])*e;else{e=1-e;for(c=0;c<a;c++)h[c]*=e}}}else{var p=vo(n,a);if(t>=s[s.length-1]){var f=o[s.length-1];if(1==e)if(r==ro.add)if(null==(l=i).bones)for(u=l.vertices,c=0;c<a;c++)p[c]+=f[c]-u[c];else for(c=0;c<a;c++)p[c]+=f[c];else mo(f,0,p,0,a);else switch(r){case ro.setup:var d=i;if(null==d.bones)for(u=d.vertices,c=0;c<a;c++){var m=u[c];p[c]=m+(f[c]-m)*e}else for(c=0;c<a;c++)p[c]=f[c]*e;break;case ro.first:case ro.replace:for(c=0;c<a;c++)p[c]+=(f[c]-p[c])*e;case ro.add:if(null==(l=i).bones)for(u=l.vertices,c=0;c<a;c++)p[c]+=(f[c]-u[c])*e;else for(c=0;c<a;c++)p[c]+=f[c]*e}}else{var v=fo(s,t),y=o[v-1],g=o[v],_=s[v],b=this.curve.getCurvePercent(v-1,1-(t-_)/(s[v-1]-_));if(1==e)if(r==ro.add)if(null==(l=i).bones)for(u=l.vertices,c=0;c<a;c++){var x=y[c];p[c]+=x+(g[c]-x)*b-u[c]}else for(c=0;c<a;c++){x=y[c];p[c]+=x+(g[c]-x)*b}else for(c=0;c<a;c++){x=y[c];p[c]=x+(g[c]-x)*b}else switch(r){case ro.setup:var w=i;if(null==w.bones)for(u=w.vertices,c=0;c<a;c++){x=y[c],m=u[c];p[c]=m+(x+(g[c]-x)*b-m)*e}else for(c=0;c<a;c++){x=y[c];p[c]=(x+(g[c]-x)*b)*e}break;case ro.first:case ro.replace:for(c=0;c<a;c++){x=y[c];p[c]+=(x+(g[c]-x)*b-p[c])*e}break;case ro.add:if(null==(l=i).bones)for(u=l.vertices,c=0;c<a;c++){x=y[c];p[c]+=(x+(g[c]-x)*b-u[c])*e}else for(c=0;c<a;c++){x=y[c];p[c]+=(x+(g[c]-x)*b)*e}}}}}},e}(_o),Eo=function(t){function e(e,r,i){var n=t.call(this)||this;return n.slot=e,n.times=r,n.spine=i,n._instanceType="AttachmentAniTrack",r.forEach((function(t){t.time=t.time||0})),n}return P(e,t),e.prototype.resetValue=function(){this.slot.setToSetupPose()},e.prototype.setValue=function(t,e,r,i){void 0===r&&(r=ro.replace),void 0===i&&(i=io.in);var n=this.slot;if(i!=io.out||r!=ro.setup){var o=this.times;if(t<o[0].time){if(r==ro.setup||r==ro.first||r==ro.replace){s=n.data.attachment;n.setAttachment(s?this.spine.getAttachment(this.spine.slots.indexOf(n),s):null)}}else{var a=o[t>=o[o.length-1].time?o.length-1:function(t,e){var r=0,i=t.length-2;if(0==i)return 1;var n=i>>>1;for(;;){if(t[n+1].time<=e?r=n+1:i=n,r==i)return r+1;n=r+i>>>1}}(o,t)-1].name;n.setAttachment(null==a?null:this.spine.getAttachment(this.spine.slots.indexOf(n),a))}}else{var s=n.data.attachment;n.setAttachment(s?this.spine.getAttachment(this.spine.slots.indexOf(n),s):null)}},e}(_o);var So=function(t){function e(e,r,i){var n=t.call(this)||this;return n.slots=e,n.drawOrder=r,n.times=i,n._instanceType="DrawOrderAniTrack",n}return P(e,t),e.prototype.setValue=function(t,e,r,i){void 0===r&&(r=ro.replace),void 0===i&&(i=io.in);var n=this.drawOrder,o=this.slots;if(i!=io.out||r!=ro.setup){var a=this.times;if(t<a[0].time)r!=ro.setup&&r!=ro.first||mo(o,0,n,0,o.length);else{var s=a[t>=a[a.length-1].time?a.length-1:function(t,e){var r=0,i=t.length-2;if(0==i)return 1;var n=i>>>1;for(;;){if(t[n+1].time<=e?r=n+1:i=n,r==i)return r+1;n=r+i>>>1}}(a,t)-1].drawOrder;if(s)for(var l=0,h=s.length;l<h;l++)n[l]=o[s[l]];else mo(o,0,n,0,o.length)}}else mo(o,0,n,0,o.length)},e}(_o);var Mo,Ao=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alpha=1,e.blend=ro.replace,e.direction=io.in,e}return P(e,t),e.prototype.rectify=function(){if(this.tracks&&this.tracks.length){for(var t=0;t<this.tracks.length;t++)this.tracks[t].setValue(this.curTime,this.alpha,this.blend,this.direction);this.lastTime=this.curTime}},e}(Cn),Co=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.showAni=function(e,r,i,n){if(void 0===r&&(r=1),void 0===n&&(n=0),!n||!this.currentClip)return t.prototype.showAni.call(this,e,r,i);var o=this.currentClip,a=this.getAniClipByName(e);return a?o==a?t.prototype.showAni.call(this,e,r,i):(o.fromClip&&(this.resetFrom(o.fromClip),o.fromClip=null),a.mixTime=0,a.mixDuration=n,a.fromClip=o,(this.currentClip=a).startAniRange(0,void 0,r,i),this.currentClip):null},e.prototype.update=function(e){void 0===e&&(e=.0167),this.applyMixingFrom(this.currentClip,e,ro.first),t.prototype.update.call(this,e)},e.prototype.applyMixingFrom=function(t,e,r){if(t){var i=t.fromClip;if(i){t.mixTime+=e;var n=0;0==t.mixDuration?(n=1,r==ro.first&&(r=ro.setup)):((n=t.mixTime/t.mixDuration)>1&&(n=1),r!=ro.first&&(r=i.blend)),t.alpha=n,i.alpha=1-n,i.blend=r,0==i.alpha&&(this.resetFrom(i),t.fromClip.tracks.forEach((function(t){"AttachmentAniTrack"==t.instanceType&&t.resetValue()})),t.fromClip=null)}}},e.prototype.resetFrom=function(t){t._isPlaying=!1,t.alpha=1,t.blend=ro.replace},e}(Pn),Po=function(t){function e(e,r){var i=t.call(this)||this;return i.bendDirection=1,i.compress=!1,i.stretch=!1,i.uniform=!1,i.mix=1,i.softness=0,i.active=!1,i._instanceType="IkConstraint",i.target=e,i.bones=r,i}return P(e,t),e.prototype.destroy=function(){},e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones,r=t.worldMatrix.tx,i=t.worldMatrix.ty;switch(e.length){case 1:this.apply1(e[0],r,i,this.compress,this.stretch,this.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],r,i,this.bendDirection,this.stretch,this.softness,this.mix)}},e.prototype.apply1=function(t,e,r,i,n,o,a){var s=t.parent.worldMatrix,l=s.a,h=s.c,u=s.b,c=s.d,p=-t.ashearX-t.arotation,f=0,d=0;switch(t.data.transform){case to.onlyTranslation:f=e-t.worldMatrix.tx,d=r-t.worldMatrix.ty;break;case to.noRotationOrReflection:p+=Math.atan2(u,l)*M;var m=Math.abs(l*c-h*u)/(l*l+u*u);h=-u*m,c=l*m;default:var v=e-s.tx,y=r-s.ty,g=l*c-h*u;f=(v*c-y*h)/g-t.ax,d=(y*l-v*u)/g-t.ay}p+=Math.atan2(d,f)*M,t.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var _=t.ascaleX,b=t.ascaleY;if(i||n){switch(t.data.transform){case to.noScale:case to.noScaleOrReflection:f=e-t.worldMatrix.tx,d=r-t.worldMatrix.ty}var x=t.data.length*_,w=Math.sqrt(f*f+d*d);if(i&&w<x||n&&w>x&&x>1e-4){var T=(w/x-1)*a+1;_*=T,o&&(b*=T)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+p*a,_,b,t.ashearX,t.ashearY)},e.prototype.apply2=function(t,e,r,i,n,o,a,s){if(0!=s){var l=t.ax,h=t.ay,u=t.ascaleX,c=u,p=t.ascaleY,f=e.ascaleX,d=t.matrix,m=0,v=0,y=0;u<0?(u=-u,m=180,y=-1):(m=0,y=1),p<0&&(p=-p,y=-y),f<0?(f=-f,v=180):v=0;var g=e.ax,_=0,b=0,x=0,w=d.a,T=d.c,E=d.b,S=d.d,A=Math.abs(u-p)<=1e-4;A?(b=w*g+T*(_=e.ay)+d.tx,x=E*g+S*_+d.ty):(_=0,b=w*g+d.tx,x=E*g+d.ty);var C=t.parent.worldMatrix;w=C.a,T=C.c,E=C.b;var P,k,O=1/(w*(S=C.d)-T*E),I=b-C.tx,D=x-C.ty,R=(I*S-D*T)*O-l,F=(D*w-I*E)*O-h,L=Math.sqrt(R*R+F*F),B=e.data.length*f;if(L<1e-4)return this.apply1(t,r,i,!1,o,!1,s),void e.updateWorldTransformWith(g,_,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var N=((I=r-C.tx)*S-(D=i-C.ty)*T)*O-l,z=(D*w-I*E)*O-h,j=N*N+z*z;if(0!=a){a*=u*(f+1)/2;var V=Math.sqrt(j),U=V-L-B*u+a;if(U>0){var W=Math.min(1,U/(2*a))-1;j=(N-=(W=(U-a*(1-W*W))/V)*N)*N+(z-=W*z)*z}}t:if(A){var q=(j-L*L-(B*=u)*B)/(2*L*B);q<-1?q=-1:q>1&&(q=1,o&&(c*=(Math.sqrt(j)/(L+B)-1)*s+1)),k=Math.acos(q)*n,w=L+B*q,T=B*Math.sin(k),P=Math.atan2(z*w-N*T,N*w+z*T)}else{var H=(w=u*B)*w,G=(T=p*B)*T,Y=Math.atan2(z,N),X=-2*G*L,K=G-H;if((S=X*X-4*K*(E=G*L*L+H*j-H*G))>=0){var Z=Math.sqrt(S);X<0&&(Z=-Z);var J=(Z=-(X+Z)/2)/K,Q=E/Z,$=Math.abs(J)<Math.abs(Q)?J:Q;if($*$<=j){D=Math.sqrt(j-$*$)*n,P=Y-Math.atan2(D,$),k=Math.atan2(D/p,($-L)/u);break t}}var tt=Math.PI,et=L-w,rt=et*et,it=0,nt=0,ot=L+w,at=ot*ot,st=0;(E=-w*L/(H-G))>=-1&&E<=1&&(E=Math.acos(E),(S=(I=w*Math.cos(E)+L)*I+(D=T*Math.sin(E))*D)<rt&&(tt=E,rt=S,et=I,it=D),S>at&&(nt=E,at=S,ot=I,st=D)),j<=(rt+at)/2?(P=Y-Math.atan2(it*n,et),k=tt*n):(P=Y-Math.atan2(st*n,ot),k=nt*n)}var lt=Math.atan2(_,g)*y,ht=t.arotation;(P=(P-lt)*M+m-ht)>180?P-=360:P<-180&&(P+=360),t.updateWorldTransformWith(l,h,ht+P*s,c,t.ascaleY,0,0),ht=e.arotation,(k=((k+lt)*M-e.ashearX)*y+v-ht)>180?k-=360:k<-180&&(k+=360),e.updateWorldTransformWith(g,_,ht+k*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}},e}(I);!function(t){t.region="region",t.mesh="mesh",t.clipping="clipping",t.linkedmesh="linkedmesh",t.path="path",t.point="point"}(Mo||(Mo={}));var ko=[0,0,0],Oo=function(t){function e(e,r){void 0===r&&(r=!1);var i=t.call(this)||this;i._instanceType="Spine";var n=i.spineData=e;if(e.textures||(r=!0),i.scaleY=-1,n.bones){i.boneContainer=i.addChild(new Z),i.bones=[];for(var o=0;o<n.bones.length;o++){var a=new eo(n.bones[o],r?i.boneContainer:null);if(i.bones.push(a),a.data.parent){var s=i.findBone(a.data.parent);s&&s.addChild(a)}else i.boneContainer.addChild(a)}}if(n.ik&&(i.ikConstraints=[],n.ik.forEach((function(t){var e=new Po(i.findBone(t.target),t.bones.map((function(t){return i.findBone(t)})));e.mix=void 0===t.mix?1:t.mix,e.softness=void 0===t.softness?0:t.softness,e.bendDirection=void 0===t.bendDirection||t.bendDirection?1:-1,e.compress=void 0!==t.compress&&t.compress,e.stretch=void 0!==t.stretch&&t.stretch,e.uniform=void 0!==t.uniform&&t.uniform,i.ikConstraints.push(e)}))),n.slots){i.slotContainer=i.addChildAt(new Z,0),i.slots=[];for(var l=0;l<n.slots.length;l++){var h=n.slots[l];a=i.findBone(h.bone);i.slots.push(i.slotContainer.addChild(new oo(a,h,i)))}i.drawOrder=i.slots.slice()}if(n.skins){i.skins=[];var u=n.skins;for(var c in"[object Array]"===Object.prototype.toString.call(n.skins)&&(u={},n.skins.forEach((function(t){u[t.name]=t.attachments}))),u){var p=u[c],f=new ao(c);for(var d in p){var m=i.findSlotIndex(d);if(-1==m)throw new Error("Slot not found: "+d);var v=p[d];for(var y in v){var g=i.readAttachment(v[y],f,m,y,null);null!=g&&f.addAttachment(m,y,g)}}i.skins.push(f),"default"==f.name&&(i.defaultSkin=f)}}if(n.animations){var _=[];for(var b in n.animations){var x=[],w=0,T=n.animations[b];if(T.bones)for(var E in T.bones){var S=T.bones[E];a=i.findBone(E);for(var M in S){var A=new bo(a,M,S[M]);x.push(A),w=Math.max(w,A.times[A.times.length-1].time)}}if(T.slots)for(var C in T.slots){var P=T.slots[C],k=i.findSlotIndex(C),O=i.slots[k];for(var I in P){var D=P[I],R=D[D.length-1].time;"attachment"==I?(x.push(new Eo(O,D,i)),w=Math.max(w,R||0)):"color"==I&&(x.push(new wo(O,D)),w=Math.max(w,R||0))}}if(T.deform)for(var F in T.deform){var L=T.deform[F],B=i.findSkin(F);for(var d in L){var N=L[d],z=i.findSlotIndex(d);O=i.slots[z];for(var j in N){var V=N[j],U=B.getAttachment(z,j),W=new To(O,U,V);x.push(W),w=Math.max(w,W.frameTimes[W.frameTimes.length-1])}}}var q=T.drawOrder;if(q){var H=new So(i.slots,i.drawOrder,q.map((function(t){return{time:t.time||0,drawOrder:function(){var e=t.offsets;if(!e)return null;for(var r=i.slots.length,n=yo(r,-1),o=yo(r-e.length,0),a=0,s=0,l=0;l<e.length;l++){for(var h=e[l],u=i.findSlotIndex(h.slot);a!=u;)o[s++]=a++;n[a+h.offset]=a++}for(;a<r;)o[s++]=a++;for(l=r-1;l>=0;l--)-1==n[l]&&(n[l]=o[--s]);return n}()}})));x.push(H),w=Math.max(w,H.times[H.times.length-1].time)}var G=new Ao(x,w);G.name=b,_.push(G)}i.animationManager=new Co(_)}if(n.slots)for(var Y=0;Y<i.slots.length;Y++){if((O=i.slots[Y]).data.attachment){var X=i.defaultSkin.getAttachment(Y,O.data.attachment);if(O.setAttachment(X),X instanceof ho){var K=X.name,J=i.createSprite(O,X,K);O.currentSprite=J,O.currentSpriteName=K,O.addChild(J)}else if(X instanceof uo){var Q=i.createMesh(O,X);O.currentMesh=Q,O.currentMeshName=X.name,O.addChild(Q)}}}return i}return P(e,t),e.prototype.findBone=function(t){for(var e=this.bones,r=0,i=e.length;r<i;r++){var n=e[r];if(n.name==t)return n}return null},e.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;e&&this.sortBone(e),t.sorted=!0,this.orderCalculations.push(t)}},e.prototype.findSlot=function(t){for(var e=this.slots,r=0;r<e.length;r++)if(e[r].name==t)return e[r];return null},e.prototype.findSlotIndex=function(t){for(var e=this.slots,r=0;r<e.length;r++)if(e[r].name==t)return r;return-1},e.prototype.findSkin=function(t){for(var e=this.skins,r=0,i=e.length;r<i;r++){var n=e[r];if(n.name==t)return n}return null},e.prototype.getAttachment=function(t,e){var r;if(this.skin&&(r=this.skin.getAttachment(t,e)))return r;if(this.defaultSkin&&(r=this.defaultSkin.getAttachment(t,e)))return r;return null},e.prototype.update=function(){var e=Date.now(),r=this.lastTime?.001*(e-this.lastTime):.01667;this.lastTime=e,this.animationManager.update(r),t.prototype.update.call(this)},e.prototype.updateTransform=function(){this.transform.updateWorldMatrix(this.parent.transform),this._worldAlpha=this.alpha*this.parent._worldAlpha,this.boneContainer&&this.boneContainer.updateTransform(),this.ikConstraints&&this.ikConstraints.forEach((function(t){t.update()})),this.updateSlots(),this.updateDrawOrder(),this.slotContainer.updateTransform()},e.prototype.updateSlots=function(){for(var t=0,e=this.slots.length;t<e;t++){var r=this.slots[t],i=r.attachment;if(i){var n=i.color;if(i instanceof ho){if(r.currentMesh&&(r.currentMesh.visible=!1,r.currentMesh=null,r.currentMeshName=void 0),!r.currentSpriteName||r.currentSpriteName!==i.name){var o=i.name;if(r.currentSprite&&(r.currentSprite.visible=!1),r.sprites=r.sprites||{},void 0!==r.sprites[o])r.sprites[o].visible=!0;else{var a=this.createSprite(r,i,o);r.addChild(a)}r.currentSprite=r.sprites[o],r.currentSpriteName=o}var s=r.transform;r.bone.matrix.decompose(s),s._localID++,ko[0]=r.color.r*n.r,ko[1]=r.color.g*n.g,ko[2]=r.color.b*n.b,r.currentSprite.tint=Dt(ko)}else{if(!(i instanceof uo)){r.visible=!1;continue}r.currentSprite&&(r.currentSprite.visible=!1,r.currentSprite=null,r.currentSpriteName=void 0,(s=new j)._parentID=-1,s._worldID=r.transform._worldID,r.transform=s);if(!r.currentMeshName||r.currentMeshName!==i.name){var l=i.name;if(r.currentMesh&&(r.currentMesh.visible=!1),r.meshes=r.meshes||{},void 0!==r.meshes[l])r.meshes[l].visible=!0;else{var h=this.createMesh(r,i);r.addChild(h)}r.currentMesh=r.meshes[l],r.currentMeshName=l}i.computeWorldVerticesOld(r,r.currentMesh._vertices,this.bones),r.currentMesh._vertexDirty++,ko[0]=r.color.r*n.r,ko[1]=r.color.g*n.g,ko[2]=r.color.b*n.b,r.currentMesh.tint=Dt(ko)}r.visible=!0,r.alpha=r.color.a}else r.visible=!1}},e.prototype.updateDrawOrder=function(){for(var t=this.drawOrder,e=0,r=t.length;e<r;e++){var i=this.slots.indexOf(t[e]),n=this.slots[i];this.slotContainer.children[e]=n}},e.prototype.readAttachment=function(t,e,r,i,n){var o=this.spineData.textures;switch(i=t.name||i,t.type||Mo.region){case Mo.region:var a=new ho(i,t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.width,t.height,o&&o[t.path||i]);return t.color&&a.color.setFromString(t.color),a;case"mesh":var s=new uo(i);s.texture=o&&o[t.path||i];var l=t.uvs;return this.readVertices(t,s,l.length),s.triangles=t.triangles,s.regionUVs=new Float32Array(l),s.hullLength=2*t.hull||0,s}return null},e.prototype.readVertices=function(t,e,r){e.worldVerticesLength=r;var i=t.vertices;if(r!=i.length){for(var n=new Array,o=new Array,a=0,s=i.length;a<s;){var l=i[a++];o.push(l);for(var h=a+4*l;a<h;a+=4)o.push(i[a]),n.push(i[a+1]),n.push(i[a+2]),n.push(i[a+3])}e.bones=o,e.vertices=new Float32Array(n)}else{var u=new Float32Array(i);e.vertices=u}},e.prototype.createSprite=function(t,e,r){var i=new Zt(e.texture);return i.rotation=e.rotation||0,i.anchorTexture.set(.5,.5),i.position.x=e.x,i.position.y=e.y,i.alpha=e.color.a,e.texture&&(i.scaleX=e.scaleX*e.width/e.texture.width,i.scaleY=-e.scaleY*e.height/e.texture.height),t.sprites=t.sprites||{},t.sprites[r]=i,i},e.prototype.createMesh=function(t,e){var r=new si(e.texture,new Float32Array(e.regionUVs.length),e.regionUVs,new Uint16Array(e.triangles));return r.canvasPadding&&(r.canvasPadding=1.5),r.refresh(!0),r.multiplyUvs(),t.meshes=t.meshes||{},t.meshes[e.name]=r,r},e.prototype.clone=function(){return new e(this.spineData)},e.prototype.setSkin=function(t){var e=this.findSkin(t);e&&this.skin!=e&&(this.addSkin(e)||(e==this.defaultSkin?this.resetSkin():(this.resetSkin(),this.addSkin(e))))},e.prototype.resetSkin=function(){this.skin=this.defaultSkin,this.slots.forEach((function(t){t.setToSetupPose()}))},e.prototype.addSkin=function(t){if(this.skin&&this.skin!=this.defaultSkin)return!1;for(var e=this.slots,r=0,i=e.length;r<i;r++){var n=e[r],o=n.data.attachment;if(o){var a=t.getAttachment(r,o);a&&n.setAttachment(a)}}return this.skin=t,!0},Object.defineProperty(e.prototype,"skinNames",{get:function(){return this.skins&&this.skins.length?this.skins.map((function(t){return t.name})):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aniNames",{get:function(){var t=this.animationManager;return t&&t.animationClips&&t.animationClips.length?t.animationClips.map((function(t){return t.name})):[]},enumerable:!0,configurable:!0}),e}(Z);function Io(t,e){for(var r={},i=new Do(e),n=new Array(4),o=null;;){var a=i.readLine();if(null==a)break;if(0==(a=a.trim()).length);else if(o){var s="true"==i.readValue()?6:0;i.readTuple(n);var l=parseInt(n[0]),h=parseInt(n[1]);i.readTuple(n);var u=parseInt(n[0]),c=parseInt(n[1]);4==i.readTuple(n)&&4==i.readTuple(n)&&i.readTuple(n);var p=parseInt(n[0]),f=parseInt(n[1]);i.readTuple(n);var d=parseInt(n[0]),m=parseInt(n[1]),v=null,y=null,g=new z(0,0,Math.floor(p),Math.floor(f));v=s?new z(Math.floor(l),Math.floor(h),Math.floor(c),Math.floor(u)):new z(Math.floor(l),Math.floor(h),Math.floor(u),Math.floor(c)),(d||m||u!=p||c!=f)&&(y=new z(d,f-c-m,u,c)),r[a]=new Gt(t,v,g,y,s),i.readValue()}else o={},2==i.readTuple(n)&&i.readTuple(n),i.readTuple(n),i.readValue()}return r}var Do=function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},t.prototype.readTuple=function(t){var e=this.readLine(),r=e.indexOf(":");if(-1==r)throw new Error("Invalid line: "+e);for(var i=0,n=r+1;i<3;i++){var o=e.indexOf(",",n);if(-1==o)break;t[i]=e.substr(n,o-n).trim(),n=o+1}return t[i]=e.substring(n).trim(),i+1},t}();function Ro(t,e,r){var i=this;Ut.loadAB((function(t,n){return k(i,void 0,void 0,(function(){var i,o,a,s,l,h,u;return O(this,(function(c){if(!t)return r&&r(n),[2];try{i=new DataView(n,0,12),o=i.getUint32(0,!0),a=i.getUint32(4,!0),s=i.getUint32(8,!0),l="data:image/png;base64,"+jt(n.slice(12,o+12)),h=Vt(new Uint8Array(n,12+o,a)),u=JSON.parse(Vt(new Uint8Array(n,12+o+a,s))),Ut.loadImage((function(t,r){u.textures=Io(Wt.fromImage(r),h),Object.defineProperty(u,"spine",{get:function(){return console.warn("loadSpine方法不再返回spine对象，请使用new Spine(spineData)生成实例"),new Oo(u)}}),e&&e(u)}),l)}catch(t){r&&r(t)}return[2]}))}))}),t)}},cj9Y:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return p})),r.d(e,"b",(function(){return z})),r.d(e,"c",(function(){return F})),r.d(e,"d",(function(){return R}));var i=r("q1tI"),n=r.n(i),o=r("EtqE"),a=r("Yb6r"),s=r("VEoi"),l=r("17x9"),h=(r("+I9a"),[]),u=[];function c(t,e){if(t&&"undefined"!=typeof document){var r,i=!0===e.prepend?"prepend":"append",n=!0===e.singleTag,o="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(n){var a=h.indexOf(o);-1===a&&(a=h.push(o)-1,u[a]={}),r=u[a]&&u[a][i]?u[a][i]:u[a][i]=s()}else r=s();65279===t.charCodeAt(0)&&(t=t.substring(1)),r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(document.createTextNode(t))}function s(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var r=Object.keys(e.attributes),n=0;n<r.length;n++)t.setAttribute(r[n],e.attributes[r[n]]);var a="prepend"===i?"afterbegin":"beforeend";return o.insertAdjacentElement(a,t),t}}c(".sui-badge {\n  display: inline-block;\n  min-width: 0.3rem;\n  height: 0.3rem;\n  background-color: #ff667d;\n  border-radius: 0.25rem;\n  color: #fff;\n  line-height: 0.3rem;\n  text-align: center;\n  padding: 0.05rem;\n  font-size: 0.3rem;\n  font-family: Arial, serif;\n}",{});c(".sui-cut-down-btn {\n  display: inline-block;\n  width: 1.8rem;\n  height: 0.5rem;\n  font-size: 0.3rem;\n  background-color: #ff6600;\n  color: #fff;\n  border-radius: 0.25rem;\n  text-align: center;\n  line-height: 0.5rem;\n}\n\n.sui-cut-down-btn-time {\n  font-size: 0.3rem;\n}",{});c(".sui-input-number {\n  border: 0;\n}",{});c(".sui-marquee-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n}\n\n.sui-marquee-container .marquee-list {\n  position: relative;\n  transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transition-duration: 0.3s;\n  -webkit-transition-duration: 0.3s;\n  transition-property: all;\n  -webkit-transition-property: all;\n  transition-timing-function: ease;\n  -webkit-transition-timing-function: ease;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n.sui-marquee-container .marquee-list .marquee-item {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  text-align: center;\n  top: 0;\n  overflow: hidden;\n}",{});var p=function(t){var e=t.direction,r=t.time,o=t.baseData,a=t.renderItem,s=Object(i.useRef)(null),l=Object(i.useState)(0),h=l[0],u=l[1],c=Object(i.useState)(0),p=c[0],f=c[1],d=Object(i.useState)(0),m=d[0],v=d[1],y="top"===e;Object(i.useEffect)((function(){if(s.current){var t=s.current.clientWidth;t!==p&&f(t);var e=s.current.clientHeight;e!==h&&u(e)}}),[o]),Object(i.useEffect)((function(){return y?g():_(),function(){s.current&&s.current.removeEventListener("transitionend",b,!1)}}),[m,h,p,s.current,o]),Object(i.useEffect)((function(){if(y){var t=setTimeout((function(){var t=m+1>=o.length;if(s.current){var e=s.current.style;e.transitionProperty=e.webkitTransitionProperty=t?"none":"all"}v(t?0:m+1)}),r);return function(){clearTimeout(t)}}}),[m,o,r]);var g=function(){var t=-m*h;if(s.current){var e=s.current.style;e.transform=e.webkitTransform="translate3d(0, "+t+"px, 0)"}},_=function(){var t=-o.length*p;if(s.current){var e=s.current.style;s.current.addEventListener("transitionend",b,!1),e.transitionProperty=e.webkitTransitionProperty="all",e.transitionTimingFunction=e.webkitTransitionTimingFunction="linear",e.transitionDuration=e.webkitTransitionDuration=o.length*(r||1500)+"ms",e.transform=e.webkitTransform="translate3d("+t+"px, 0, 0)"}},b=function(){if(s.current){var t=s.current.style;t.transitionProperty=t.webkitTransitionProperty="none",t.transform=t.webkitTransform="translate3d(0px, 0, 0)",s.current.removeEventListener("transitionend",b,!1),setTimeout((function(){_()}),0)}};return n.a.createElement("div",{className:"sui-marquee-container"},n.a.createElement("ul",{className:"marquee-list",ref:s},o.map((function(t,e){var r=y?{top:e*h,lineHeight:h+"px"}:{left:e*p,lineHeight:h+"px"};return n.a.createElement("li",{className:"marquee-item",key:"spark-marquee-item-"+e,style:r},a(t))}))))};p.defaultProps={direction:"top",time:1500,renderItem:function(t){return t}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var f=function(){return(f=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;function d(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return m(null==e&&r.path)}},r.exports),r.exports}function m(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var v=d((function(t){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){var e={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var n=arguments[i];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)&&n.length){var a=r.apply(null,n);a&&t.push(a)}else if("object"===o)for(var s in n)e.call(n,s)&&n[s]&&t.push(s)}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r}()}));c(".sui-picker-mask {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 2000;\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.sui-picker-mask .picker-container {\n  background-color: #fff;\n}\n\n.sui-picker-mask .picker-container .picker-header {\n  height: 0.4rem;\n  line-height: 0.4rem;\n  text-align: center;\n  position: relative;\n}\n\n.sui-picker-mask .picker-container .picker-header .picker-close {\n  position: absolute;\n  left: 0;\n  padding: 0 0.1rem;\n}\n\n.sui-picker-mask .picker-container .picker-header .picker-ok {\n  position: absolute;\n  right: 0;\n  color: #0d6efd;\n  padding: 0 0.1rem;\n}\n\n.sui-picker-mask .picker-container .picker-result {\n  padding: 0 0.2rem;\n  color: #0d6efd;\n  line-height: 0.4rem;\n}\n\n.sui-picker-mask .picker-container .picker-result span {\n  padding-right: 0.2rem;\n  white-space: nowrap;\n}\n\n.sui-picker-mask .picker-container .picker-list {\n  border-top: 0.01rem solid #0d6efd;\n  height: 50vh;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n}\n\n.sui-picker-mask .picker-container .picker-list li {\n  line-height: 0.4rem;\n  height: 0.4rem;\n  padding: 0 0.2rem;\n  border-left: 0.02rem solid transparent;\n}\n\n.sui-picker-mask .picker-container .picker-list li.active {\n  border-left: 0.02rem solid #0d6efd;\n}",{});var y=d((function(t){
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(e,r,i,n){var o,a=["","webkit","Moz","MS","ms","o"],s=r.createElement("div"),l=Math.round,h=Math.abs,u=Date.now;function c(t,e,r){return setTimeout(g(t,r),e)}function p(t,e,r){return!!Array.isArray(t)&&(f(t,r[e],r),!0)}function f(t,e,r){var i;if(t)if(t.forEach)t.forEach(e,r);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(r,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(r,t[i],i,t)}function d(t,r,i){var n="DEPRECATED METHOD: "+r+"\n"+i+" AT \n";return function(){var r=new Error("get-stack-trace"),i=r&&r.stack?r.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=e.console&&(e.console.warn||e.console.log);return o&&o.call(e.console,n,i),t.apply(this,arguments)}}o="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}return e}:Object.assign;var m=d((function(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;)(!r||r&&void 0===t[i[n]])&&(t[i[n]]=e[i[n]]),n++;return t}),"extend","Use `assign`."),v=d((function(t,e){return m(t,e,!0)}),"merge","Use `assign`.");function y(t,e,r){var i,n=e.prototype;(i=t.prototype=Object.create(n)).constructor=t,i._super=n,r&&o(i,r)}function g(t,e){return function(){return t.apply(e,arguments)}}function _(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function b(t,e){return void 0===t?e:t}function x(t,e,r){f(S(e),(function(e){t.addEventListener(e,r,!1)}))}function w(t,e,r){f(S(e),(function(e){t.removeEventListener(e,r,!1)}))}function T(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function E(t,e){return t.indexOf(e)>-1}function S(t){return t.trim().split(/\s+/g)}function M(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var i=0;i<t.length;){if(r&&t[i][r]==e||!r&&t[i]===e)return i;i++}return-1}function A(t){return Array.prototype.slice.call(t,0)}function C(t,e,r){for(var i=[],n=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];M(n,a)<0&&i.push(t[o]),n[o]=a,o++}return r&&(i=e?i.sort((function(t,r){return t[e]>r[e]})):i.sort()),i}function P(t,e){for(var r,i,n=e[0].toUpperCase()+e.slice(1),o=0;o<a.length;){if((i=(r=a[o])?r+n:e)in t)return i;o++}}var k=1;function O(t){var r=t.ownerDocument||t;return r.defaultView||r.parentWindow||e}var I="ontouchstart"in e,D=void 0!==P(e,"PointerEvent"),R=I&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=["x","y"],L=["clientX","clientY"];function B(t,e){var r=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){_(t.options.enable,[t])&&r.handler(e)},this.init()}function N(t,e,r){var i=r.pointers.length,n=r.changedPointers.length,o=1&e&&i-n==0,a=12&e&&i-n==0;r.isFirst=!!o,r.isFinal=!!a,o&&(t.session={}),r.eventType=e,function(t,e){var r=t.session,i=e.pointers,n=i.length;r.firstInput||(r.firstInput=z(e));n>1&&!r.firstMultiple?r.firstMultiple=z(e):1===n&&(r.firstMultiple=!1);var o=r.firstInput,a=r.firstMultiple,s=a?a.center:o.center,l=e.center=j(i);e.timeStamp=u(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=q(s,l),e.distance=W(s,l),function(t,e){var r=e.center,i=t.offsetDelta||{},n=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(n=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:r.x,y:r.y});e.deltaX=n.x+(r.x-i.x),e.deltaY=n.y+(r.y-i.y)}(r,e),e.offsetDirection=U(e.deltaX,e.deltaY);var c=V(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=h(c.x)>h(c.y)?c.x:c.y,e.scale=a?(p=a.pointers,f=i,W(f[0],f[1],L)/W(p[0],p[1],L)):1,e.rotation=a?function(t,e){return q(e[1],e[0],L)+q(t[1],t[0],L)}(a.pointers,i):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,function(t,e){var r,i,n,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var l=e.deltaX-a.deltaX,u=e.deltaY-a.deltaY,c=V(s,l,u);i=c.x,n=c.y,r=h(c.x)>h(c.y)?c.x:c.y,o=U(l,u),t.lastInterval=e}else r=a.velocity,i=a.velocityX,n=a.velocityY,o=a.direction;e.velocity=r,e.velocityX=i,e.velocityY=n,e.direction=o}(r,e);var p,f;var d=t.element;T(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function z(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:l(t.pointers[r].clientX),clientY:l(t.pointers[r].clientY)},r++;return{timeStamp:u(),pointers:e,center:j(e),deltaX:t.deltaX,deltaY:t.deltaY}}function j(t){var e=t.length;if(1===e)return{x:l(t[0].clientX),y:l(t[0].clientY)};for(var r=0,i=0,n=0;n<e;)r+=t[n].clientX,i+=t[n].clientY,n++;return{x:l(r/e),y:l(i/e)}}function V(t,e,r){return{x:e/t||0,y:r/t||0}}function U(t,e){return t===e?1:h(t)>=h(e)?t<0?2:4:e<0?8:16}function W(t,e,r){r||(r=F);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.sqrt(i*i+n*n)}function q(t,e,r){r||(r=F);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return 180*Math.atan2(n,i)/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(O(this.element),this.evWin,this.domHandler)}};var H={mousedown:1,mousemove:2,mouseup:4};function G(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,B.apply(this,arguments)}y(G,B,{handler:function(t){var e=H[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Y={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},X={2:"touch",3:"pen",4:"mouse",5:"kinect"},K="pointerdown",Z="pointermove pointerup pointercancel";function J(){this.evEl=K,this.evWin=Z,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}e.MSPointerEvent&&!e.PointerEvent&&(K="MSPointerDown",Z="MSPointerMove MSPointerUp MSPointerCancel"),y(J,B,{handler:function(t){var e=this.store,r=!1,i=t.type.toLowerCase().replace("ms",""),n=Y[i],o=X[t.pointerType]||t.pointerType,a="touch"==o,s=M(e,t.pointerId,"pointerId");1&n&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&n&&(r=!0),s<0||(e[s]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),r&&e.splice(s,1))}});var Q={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function $(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function tt(t,e){var r=A(t.touches),i=A(t.changedTouches);return 12&e&&(r=C(r.concat(i),"identifier",!0)),[r,i]}y($,B,{handler:function(t){var e=Q[t.type];if(1===e&&(this.started=!0),this.started){var r=tt.call(this,t,e);12&e&&r[0].length-r[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:"touch",srcEvent:t})}}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function rt(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},B.apply(this,arguments)}function it(t,e){var r=A(t.touches),i=this.targetIds;if(3&e&&1===r.length)return i[r[0].identifier]=!0,[r,r];var n,o,a=A(t.changedTouches),s=[],l=this.target;if(o=r.filter((function(t){return T(t.target,l)})),1===e)for(n=0;n<o.length;)i[o[n].identifier]=!0,n++;for(n=0;n<a.length;)i[a[n].identifier]&&s.push(a[n]),12&e&&delete i[a[n].identifier],n++;return s.length?[C(o.concat(s),"identifier",!0),s]:void 0}y(rt,B,{handler:function(t){var e=et[t.type],r=it.call(this,t,e);r&&this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:"touch",srcEvent:t})}});function nt(){B.apply(this,arguments);var t=g(this.handler,this);this.touch=new rt(this.manager,t),this.mouse=new G(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ot(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,at.call(this,e)):12&t&&at.call(this,e)}function at(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var r={x:e.clientX,y:e.clientY};this.lastTouches.push(r);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(r);t>-1&&i.splice(t,1)}),2500)}}function st(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],o=Math.abs(e-n.x),a=Math.abs(r-n.y);if(o<=25&&a<=25)return!0}return!1}y(nt,B,{handler:function(t,e,r){var i="touch"==r.pointerType,n="mouse"==r.pointerType;if(!(n&&r.sourceCapabilities&&r.sourceCapabilities.firesTouchEvents)){if(i)ot.call(this,e,r);else if(n&&st.call(this,r))return;this.callback(t,e,r)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var lt=P(s.style,"touchAction"),ht=void 0!==lt,ut=function(){if(!ht)return!1;var t={},r=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){t[i]=!r||e.CSS.supports("touch-action",i)})),t}();function ct(t,e){this.manager=t,this.set(e)}ct.prototype={set:function(t){"compute"==t&&(t=this.compute()),ht&&this.manager.element.style&&ut[t]&&(this.manager.element.style[lt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return f(this.manager.recognizers,(function(e){_(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(E(t,"none"))return"none";var e=E(t,"pan-x"),r=E(t,"pan-y");if(e&&r)return"none";if(e||r)return e?"pan-x":"pan-y";if(E(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,r=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,n=E(i,"none")&&!ut.none,o=E(i,"pan-y")&&!ut["pan-y"],a=E(i,"pan-x")&&!ut["pan-x"];if(n){var s=1===t.pointers.length,l=t.distance<2,h=t.deltaTime<250;if(s&&l&&h)return}if(!a||!o)return n||o&&6&r||a&&24&r?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function pt(t){this.options=o({},this.defaults,t||{}),this.id=k++,this.manager=null,this.options.enable=b(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ft(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function dt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function mt(t,e){var r=e.manager;return r?r.get(t):t}function vt(){pt.apply(this,arguments)}function yt(){vt.apply(this,arguments),this.pX=null,this.pY=null}function gt(){vt.apply(this,arguments)}function _t(){pt.apply(this,arguments),this._timer=null,this._input=null}function bt(){vt.apply(this,arguments)}function xt(){vt.apply(this,arguments)}function wt(){pt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Tt(t,e){return(e=e||{}).recognizers=b(e.recognizers,Tt.defaults.preset),new Et(t,e)}pt.prototype={defaults:{},set:function(t){return o(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(p(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=mt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return p(t,"dropRecognizeWith",this)||(t=mt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(p(t,"requireFailure",this))return this;var e=this.requireFail;return-1===M(e,t=mt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(p(t,"dropRequireFailure",this))return this;t=mt(t,this);var e=M(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,r=this.state;function i(r){e.manager.emit(r,t)}r<8&&i(e.options.event+ft(r)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),r>=8&&i(e.options.event+ft(r))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=o({},t);if(!_(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},y(vt,pt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,r=t.eventType,i=6&e,n=this.attrTest(t);return i&&(8&r||!n)?16|e:i||n?4&r?8|e:2&e?4|e:2:32}}),y(yt,vt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,r=!0,i=t.distance,n=t.direction,o=t.deltaX,a=t.deltaY;return n&e.direction||(6&e.direction?(n=0===o?1:o<0?2:4,r=o!=this.pX,i=Math.abs(t.deltaX)):(n=0===a?1:a<0?8:16,r=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=n,r&&i>e.threshold&&n&e.direction},attrTest:function(t){return vt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=dt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),y(gt,vt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),y(_t,pt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,r=t.pointers.length===e.pointers,i=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!i||!r||12&t.eventType&&!n)this.reset();else if(1&t.eventType)this.reset(),this._timer=c((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}}),y(bt,vt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),y(xt,vt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return yt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,r=this.options.direction;return 30&r?e=t.overallVelocity:6&r?e=t.overallVelocityX:24&r&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&r&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=dt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),y(wt,pt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,r=t.pointers.length===e.pointers,i=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&n&&r){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||W(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=c((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=c((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Tt.VERSION="2.0.7",Tt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[bt,{enable:!1}],[gt,{enable:!1},["rotate"]],[xt,{direction:6}],[yt,{direction:6},["swipe"]],[wt],[wt,{event:"doubletap",taps:2},["tap"]],[_t]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Et(t,e){var r;this.options=o({},Tt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((r=this).options.inputClass||(D?J:R?rt:I?nt:G))(r,N),this.touchAction=new ct(this,this.options.touchAction),St(this,!0),f(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function St(t,e){var r,i=t.element;i.style&&(f(t.options.cssProps,(function(n,o){r=P(i.style,o),e?(t.oldCssProps[r]=i.style[r],i.style[r]=n):i.style[r]=t.oldCssProps[r]||""})),e||(t.oldCssProps={}))}Et.prototype={set:function(t){return o(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var r;this.touchAction.preventDefaults(t);var i=this.recognizers,n=e.curRecognizer;(!n||n&&8&n.state)&&(n=e.curRecognizer=null);for(var o=0;o<i.length;)r=i[o],2===e.stopped||n&&r!=n&&!r.canRecognizeWith(n)?r.reset():r.recognize(t),!n&&14&r.state&&(n=e.curRecognizer=r),o++}},get:function(t){if(t instanceof pt)return t;for(var e=this.recognizers,r=0;r<e.length;r++)if(e[r].options.event==t)return e[r];return null},add:function(t){if(p(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(p(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,r=M(e,t);-1!==r&&(e.splice(r,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var r=this.handlers;return f(S(t),(function(t){r[t]=r[t]||[],r[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var r=this.handlers;return f(S(t),(function(t){e?r[t]&&r[t].splice(M(r[t],e),1):delete r[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=r.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&St(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},o(Tt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Et,Input:B,TouchAction:ct,TouchInput:rt,MouseInput:G,PointerEventInput:J,TouchMouseInput:nt,SingleTouchInput:$,Recognizer:pt,AttrRecognizer:vt,Tap:wt,Pan:yt,Swipe:xt,Pinch:gt,Rotate:bt,Press:_t,on:x,off:w,each:f,merge:v,extend:m,assign:o,inherit:y,bindFn:g,prefixed:P}),(void 0!==e?e:"undefined"!=typeof self?self:{}).Hammer=Tt,t.exports?t.exports=Tt:e.Hammer=Tt}(window,document)}));c(".sui-carousel-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n}\n\n.sui-carousel-container .carousel-ctr-btn {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n.sui-carousel-container .carousel-ctr-btn .spark-iconfont {\n  font-size: 0.25rem;\n  color: rgba(0, 0, 0, 0.6);\n}\n\n.sui-carousel-container .carousel-ctr-btn.left {\n  left: 6%;\n}\n\n.sui-carousel-container .carousel-ctr-btn.right {\n  right: 6%;\n}\n\n.sui-carousel-container .carousel-list {\n  position: relative;\n  transform: translate3d(0, 0, 0);\n  transition-duration: 0.3s;\n  transition-property: all;\n  transition-timing-function: ease;\n  height: 100%;\n}\n\n.sui-carousel-container .carousel-list .carousel-item {\n  display: block;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n}\n\n.sui-carousel-container .carousel-dot {\n  position: absolute;\n  bottom: 0.2rem;\n  left: 0;\n  right: 0;\n  text-align: center;\n}\n\n.sui-carousel-container .carousel-dot-item {\n  display: inline-block;\n  width: 0.07rem;\n  height: 0.07rem;\n  margin: 0 0.03rem;\n  background-color: rgba(0, 0, 0, 0.3);\n  border-radius: 50%;\n  font-size: 0;\n}\n\n.sui-carousel-container .carousel-dot-item.is-active {\n  background-color: #0d6efd;\n}",{});var g=function(t){var e=t.children,r=t.defaultIndex,o=Object(i.useState)(0),a=o[0],s=o[1],l=Object(i.useState)(0),h=l[0],u=l[1],c=Object(i.useRef)(null),p=Object(i.useState)(r||0),f=p[0],d=p[1],m=Object(i.useState)(1),g=m[0],_=m[1];Object(i.useEffect)((function(){s(n.a.Children.count(e)),E()}),[e]),Object(i.useEffect)((function(){if(c.current){var t=c.current.clientWidth;t!==h&&u(t)}}),[]),Object(i.useEffect)((function(){x()}),[f,h]),Object(i.useEffect)((function(){var t=new y(c.current);return t.add(new y.Pan),t.on("panend panmove",(function(t){var e=t.direction===y.DIRECTION_NONE,r=t.direction===y.DIRECTION_LEFT,i=t.direction===y.DIRECTION_RIGHT,n=Math.abs(t.deltaX)>h/3;2===g||r&&f+1===a||i&&0===f||e||(t.eventType===y.INPUT_MOVE?x(t.deltaX):t.eventType===y.INPUT_END&&(r&&n?T():i&&n?w():x()))})),function(){t.off("panmove panend")}}),[g,f,h,a]);var b=function(){c.current&&(_(1),c.current.removeEventListener("transitionend",b,!1))},x=function(t){void 0===t&&(t=0);var e=-f*h;c.current&&(c.current.addEventListener("transitionend",b,!1),c.current.style.transform="translate3d("+(e+t)+"px, 0, 0)")},w=function(){2!==g&&(d(0===f?0:f-1),_(2))},T=function(){2!==g&&(_(2),d(f+1===a?f:f+1))},E=function(){return Array(a).fill("1").map((function(t,e){return n.a.createElement("li",{className:v("carousel-dot-item",{"is-active":e===f}),key:"spark-dot-item-"+e})}))};return n.a.createElement("div",{className:"sui-carousel-container"},n.a.createElement("ul",{className:"carousel-list",ref:c},n.a.Children.map(e,(function(t,e){var r=t;return"carousel-item"!==r.type.displayName&&console.error("Warning: Carousel组件 第 "+e+" 子组件：使用了非 Carousel.Item 组件"),n.a.createElement("li",{className:"carousel-item",key:"spark-carousel-item-"+e,style:{left:e*h}},r)}))),n.a.createElement(n.a.Fragment,null,0!==f&&n.a.createElement("div",{className:"carousel-ctr-btn left",onClick:w},n.a.createElement("i",{className:"spark-iconfont"},"")),f+1!==a&&n.a.createElement("div",{className:"carousel-ctr-btn right",onClick:T},n.a.createElement("i",{className:"spark-iconfont"},""))),n.a.createElement("ul",{className:"carousel-dot"},E()))};g.defaultProps={defaultIndex:0};var _=function(t){var e=t.children;return n.a.createElement("div",null,e)};_.displayName="carousel-item",g.Item=_;var b=function(t){var e=t.defaultIndex,r=t.className,o=t.onSelect,a=t.children,s=Object(i.useState)(e),l=s[0],h=s[1];return n.a.createElement("div",{className:"sui-spark-tabs "+r},n.a.createElement("ul",{className:"spark-tabs-nav"},n.a.Children.map(a,(function(t,e){var r=t,i=r.props,a=i.disabled,s=i.label;"tab-item"!==r.type.displayName&&console.error("Warning: Tabs组件 第 "+e+" 子组件：使用了非 Tabs.Item 组件");var u=v("spark-tabs-nav-item",{"is-active":l===e,disabled:a});return n.a.createElement("li",{className:u,key:"spark-nav-item-"+e,onClick:function(t){!function(t,e,r){t.preventDefault(),r||(h(e),o&&o(e))}(t,e,a)}},s)}))),n.a.createElement("div",{className:"spark-tabs-content"},n.a.Children.map(a,(function(t,e){if(e===l)return t}))))};b.defaultProps={defaultIndex:0};var x=function(t){var e=t.children;return n.a.createElement("div",{className:"spark-tab-panel"},e)};x.displayName="tab-item",b.Item=x;var w=function(){function t(){this._stack=[],this._listeners=[],this._lid=0}return Object.defineProperty(t.prototype,"stack",{get:function(){return this._stack},enumerable:!1,configurable:!0}),t.prototype.push=function(t,e){this._stack.push(t),this._invokeListeners("push",t,e)},t.prototype.pop=function(t,e){void 0===e&&(e=1);for(var r=this._stack,i=r.length,n=i>0?r[i-1]:null,o=e>0?e:i,a=0;a<o&&i>0;a++)r.pop();this._invokeListeners("pop",n,void 0,t)},t.prototype.splice=function(t){var e=this._stack,r=e.lastIndexOf(t);return r>=0&&(e.splice(r,1),this._invokeListeners("splice")),r>=0},t.prototype.popAll=function(){this._stack.splice(0),this._invokeListeners("pop")},t.prototype.listen=function(t){var e=this._listeners,r=this._lid++;return e.push(t),r},t.prototype.unListen=function(t){this._listeners[t]=null},t.prototype._invokeListeners=function(t,e,r,i){for(var n=0,o=this._listeners;n<o.length;n++){var a=o[n];a&&a(t,e,this._stack,r,i)}},t}();c("/**\n * Created by rockyl on 2020/10/1.\n *\n * APP包装器样式\n */\n\n.sui-modal-wrapper {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 1;\n}\n\n.sui-modal-wrapper .modal-layer-wrapper {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n  pointer-events: none;\n}\n\n.sui-modal-wrapper .modal-layer-wrapper * {\n  pointer-events: auto;\n}\n\n.sui-modal-wrapper .modal-shield {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}",{});new w;Object(i.forwardRef)((function(t,e){var r=t.widgetFactory,a=t.widgetConfig,s=t.onReady,l=t.onAssetsProcess,h=t.onAssetsComplete,u=t.onEvent,c=t.className,p=t.style,f=t.renderMode,d=void 0===f?"canvas":f,m=Object(i.useState)(null),v=m[0],y=m[1],g=Object(i.useRef)();function _(t,e){u&&u(t,e)}return Object(i.useImperativeHandle)(e,(function(){return{emitEvent:function(t,e){v&&v.widget.$emitEvent(t,e)}}})),Object(i.useEffect)((function(){var t="canvas"===d?2:1,e=Object(o.a)(r,{platform:"h5",container:g.current,onAssetsProcess:l,onAssetsComplete:h,renderType:t},a,_);return s&&s(),y(e),function(){e&&e.widget&&e.destroy()}}),[]),n.a.createElement("div",{ref:g,className:c,style:p})}));c("#loading_layer {\n  position: absolute;\n  left: 0;\n  top: 0;\n  background-color: black;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  justify-content: center;\n  -webkit-justify-content: center;\n  align-items: center;\n  -webkit-align-items: center;\n  opacity: 0;\n  transition: opacity 0.3s;\n  -webkit-transition: opacity 0.3s;\n}\n\n#loading_layer .label {\n  margin-top: 0.1rem;\n  color: white;\n  font-size: 0.3rem;\n}",{});var T;c("#overlay_layer {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 2001;\n  pointer-events: none;\n}",{});var E=["loading","toast"],S=[];function M(t){if(!T){(T=document.createElement("div")).id="overlay_layer";for(var e=0,r=E;e<r.length;e++){var i=r[e],n=document.createElement("div");n.id=i+"_layer",T.appendChild(n),S[i]=n}document.body.appendChild(T)}return S[t]}c(".sui-default-icon {\n  margin-bottom: 0.7rem;\n  padding-right: 0.12rem;\n}\n\n@keyframes part-body {\n  0%, 40% {\n    transform: scale(1);\n  }\n\n  20% {\n    transform: scale(1.5);\n  }\n}\n\n@-webkit-keyframes part-body {\n  0%, 40% {\n    -webkit-transform: scale(1);\n  }\n\n  20% {\n    -webkit-transform: scale(1.5);\n  }\n}\n\n.sui-default-icon .part {\n  transform-origin: 0.06rem 0.36rem;\n  -webkit-transform-origin: 0.06rem 0.36rem;\n  position: absolute;\n}\n\n.sui-default-icon .part-body {\n  background-color: white;\n  width: 0.12rem;\n  height: 0.18rem;\n  border-radius: 0.06rem;\n  transform-origin: 0.06rem 0.18rem;\n  -webkit-transform-origin: 0.06rem 0.18rem;\n  animation: part-body 1500ms linear infinite;\n  -webkit-animation: part-body 1500ms linear infinite;\n}",{});c(".sui-rainbow-icon .loader-inner {\n  bottom: 0;\n  height: 0.6rem;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: -1.7rem;\n  width: 1rem;\n}\n\n.sui-rainbow-icon .loader-line-wrap {\n  animation: spin 2000ms cubic-bezier(0.175, 0.885, 0.32, 1.275) infinite;\n  -webkit-animation: spin 2000ms cubic-bezier(0.175, 0.885, 0.32, 1.275) infinite;\n  box-sizing: border-box;\n  height: 0.5rem;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  transform-origin: 50% 100%;\n  -webkit-transform-origin: 50% 100%;\n  width: 1rem;\n}\n\n.sui-rainbow-icon .loader-line {\n  border: 0.04rem solid transparent;\n  border-radius: 100%;\n  box-sizing: border-box;\n  height: 1rem;\n  left: 0;\n  margin: 0 auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 1rem;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(1) {\n  animation-delay: -50ms;\n  -webkit-animation-delay: -50ms;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(2) {\n  animation-delay: -100ms;\n  -webkit-animation-delay: -100ms;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(3) {\n  animation-delay: -150ms;\n  -webkit-animation-delay: -150ms;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(4) {\n  animation-delay: -200ms;\n  -webkit-animation-delay: -200ms;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(5) {\n  animation-delay: -250ms;\n  -webkit-animation-delay: -250ms;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(1) .loader-line {\n  border-color: hsl(0, 80%, 60%);\n  height: 0.9rem;\n  width: 0.9rem;\n  top: 0.07rem;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(2) .loader-line {\n  border-color: hsl(60, 80%, 60%);\n  height: 0.76rem;\n  width: 0.76rem;\n  top: 0.14rem;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(3) .loader-line {\n  border-color: hsl(120, 80%, 60%);\n  height: 0.62rem;\n  width: 0.62rem;\n  top: 0.21rem;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(4) .loader-line {\n  border-color: hsl(180, 80%, 60%);\n  height: 0.48rem;\n  width: 0.48rem;\n  top: 0.28rem;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(5) .loader-line {\n  border-color: hsl(240, 80%, 60%);\n  height: 0.34rem;\n  width: 0.34rem;\n  top: 0.35rem;\n}\n\n@keyframes spin {\n  0%, 15% {\n    transform: rotate(0);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@-webkit-keyframes spin {\n  0%, 15% {\n    transform: rotate(0);\n    -webkit-transform: rotate(0);\n  }\n\n  100% {\n    transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n  }\n}",{});c(".sui-slack-icon .loader {\n  position: relative;\n  width: 2.5em;\n  height: 2.5em;\n  transform: rotate(165deg);\n  -webkit-transform: rotate(165deg);\n}\n\n.sui-slack-icon .loader:before,\n.sui-slack-icon .loader:after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  display: block;\n  width: 0.5em;\n  height: 0.5em;\n  border-radius: 0.25em;\n  transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%);\n}\n\n.sui-slack-icon .loader:before {\n  animation: before 2s infinite;\n  -webkit-animation: before 2s infinite;\n}\n\n.sui-slack-icon .loader:after {\n  animation: after 2s infinite;\n  -webkit-animation: after 2s infinite;\n}\n\n@keyframes before {\n  0% {\n    width: 0.5em;\n    box-shadow: 1em -0.5em hsla(337, 84%, 48%, 0.75), -1em 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n\n  35% {\n    width: 2.5em;\n    box-shadow: 0 -0.5em hsla(337, 84%, 48%, 0.75), 0 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n\n  70% {\n    width: 0.5em;\n    box-shadow: -1em -0.5em hsla(337, 84%, 48%, 0.75), 1em 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n\n  100% {\n    box-shadow: 1em -0.5em hsla(337, 84%, 48%, 0.75), -1em 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n}\n\n@keyframes after {\n  0% {\n    height: 0.5em;\n    box-shadow: 0.5em 1em hsla(160, 50%, 48%, 0.75), -0.5em -1em hsla(41, 82%, 52%, 0.75);\n  }\n\n  35% {\n    height: 2.5em;\n    box-shadow: 0.5em 0 hsla(160, 50%, 48%, 0.75), -0.5em 0 hsla(41, 82%, 52%, 0.75);\n  }\n\n  70% {\n    height: 0.5em;\n    box-shadow: 0.5em -1em hsla(160, 50%, 48%, 0.75), -0.5em 1em hsla(41, 82%, 52%, 0.75);\n  }\n\n  100% {\n    box-shadow: 0.5em 1em hsla(160, 50%, 48%, 0.75), -0.5em -1em hsla(41, 82%, 52%, 0.75);\n  }\n}\n\n@-webkit-keyframes before {\n  0% {\n    width: 0.5em;\n    box-shadow: 1em -0.5em hsla(337, 84%, 48%, 0.75), -1em 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n\n  35% {\n    width: 2.5em;\n    box-shadow: 0 -0.5em hsla(337, 84%, 48%, 0.75), 0 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n\n  70% {\n    width: 0.5em;\n    box-shadow: -1em -0.5em hsla(337, 84%, 48%, 0.75), 1em 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n\n  100% {\n    box-shadow: 1em -0.5em hsla(337, 84%, 48%, 0.75), -1em 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n}\n\n@-webkit-keyframes after {\n  0% {\n    height: 0.5em;\n    box-shadow: 0.5em 1em hsla(160, 50%, 48%, 0.75), -0.5em -1em hsla(41, 82%, 52%, 0.75);\n  }\n\n  35% {\n    height: 2.5em;\n    box-shadow: 0.5em 0 hsla(160, 50%, 48%, 0.75), -0.5em 0 hsla(41, 82%, 52%, 0.75);\n  }\n\n  70% {\n    height: 0.5em;\n    box-shadow: 0.5em -1em hsla(160, 50%, 48%, 0.75), -0.5em 1em hsla(41, 82%, 52%, 0.75);\n  }\n\n  100% {\n    box-shadow: 0.5em 1em hsla(160, 50%, 48%, 0.75), -0.5em -1em hsla(41, 82%, 52%, 0.75);\n  }\n}",{});c(".sui-wave-icon {\n  margin-bottom: 0.1rem;\n}\n\n.sui-wave-icon .loading {\n  width: 0.8rem;\n  height: 0.4rem;\n  margin: 1rem auto 0;\n}\n\n.sui-wave-icon .loading span {\n  display: inline-block;\n  width: 0.08rem;\n  height: 100%;\n  border-radius: 0.04rem;\n  background: lightgreen;\n  animation: load 1s ease infinite;\n  -webkit-animation: load 1s ease infinite;\n}\n\n@-webkit-keyframes load {\n  0%, 100% {\n    height: 0.4rem;\n    background: lightgreen;\n  }\n\n  50% {\n    height: 0.7rem;\n    margin: -0.15rem 0;\n    background: lightblue;\n  }\n}\n\n.sui-wave-icon .loading span:nth-child(2) {\n  animation-delay: 0.2s;\n  -webkit-animation-delay: 0.2s;\n}\n\n.sui-wave-icon .loading span:nth-child(3) {\n  animation-delay: 0.4s;\n  -webkit-animation-delay: 0.4s;\n}\n\n.sui-wave-icon .loading span:nth-child(4) {\n  animation-delay: 0.6s;\n  -webkit-animation-delay: 0.6s;\n}\n\n.sui-wave-icon .loading span:nth-child(5) {\n  animation-delay: 0.8s;\n  -webkit-animation-delay: 0.8s;\n}",{});var A,C,P,k,O=function(){var t=document.createElement("div");t.className="sui-default-icon";for(var e=0;e<8;e++){var r=Object(a.f)('<div class="part" style="transform:rotate('+45*e+'deg); ">\n<div class="part-body" style="animation-delay:'+187.5*-(8-e)+'ms;"></div>\n</div>');t.appendChild(r)}return t},I=!1;function D(){A||(A=document.createElement("div"),C=O(),A.appendChild(C),(P=document.createElement("div")).className="label",A.appendChild(P))}function R(t,e){I=!0,clearTimeout(k),D();var r=M("loading");r.style.pointerEvents="auto",r.appendChild(A),t&&(P.innerHTML=t,r.appendChild(P));var i=(null==e?void 0:e.bgOpacity)||.7;r.style.opacity=i.toString()}function F(){if(I){I=!1,D();var t=M("loading");t.style.opacity="0",k=setTimeout((function(){t.removeChild(A),t.style.pointerEvents="none"}),300)}}d((function(t,e){t.exports=function(){var e,r;function i(){return e.apply(null,arguments)}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(a(t,e))return!1;return!0}function l(t){return void 0===t}function h(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var r,i=[];for(r=0;r<t.length;++r)i.push(e(t[r],r));return i}function p(t,e){for(var r in e)a(e,r)&&(t[r]=e[r]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,r,i){return Se(t,e,r,i,!0).utc()}function d(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function v(t){if(null==t._isValid){var e=d(t),i=r.call(e.parsedDateParts,(function(t){return null!=t})),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function y(t){var e=f(NaN);return null!=t?p(d(e),t):d(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){var e,r=Object(this),i=r.length>>>0;for(e=0;e<i;e++)if(e in r&&t.call(this,r[e],e,r))return!0;return!1};var g=i.momentProperties=[],_=!1;function b(t,e){var r,i,n;if(l(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),l(e._i)||(t._i=e._i),l(e._f)||(t._f=e._f),l(e._l)||(t._l=e._l),l(e._strict)||(t._strict=e._strict),l(e._tzm)||(t._tzm=e._tzm),l(e._isUTC)||(t._isUTC=e._isUTC),l(e._offset)||(t._offset=e._offset),l(e._pf)||(t._pf=d(e)),l(e._locale)||(t._locale=e._locale),g.length>0)for(r=0;r<g.length;r++)l(n=e[i=g[r]])||(t[i]=n);return t}function x(t){b(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,i.updateOffset(this),_=!1)}function w(t){return t instanceof x||null!=t&&null!=t._isAMomentObject}function T(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function E(t,e){var r=!0;return p((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),r){var n,o,s,l=[];for(o=0;o<arguments.length;o++){if(n="","object"==typeof arguments[o]){for(s in n+="\n["+o+"] ",arguments[0])a(arguments[0],s)&&(n+=s+": "+arguments[0][s]+", ");n=n.slice(0,-2)}else n=arguments[o];l.push(n)}T(t+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),r=!1}return e.apply(this,arguments)}),e)}var S,M={};function A(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),M[t]||(T(e),M[t]=!0)}function C(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t,e){var r,i=p({},t);for(r in e)a(e,r)&&(o(t[r])&&o(e[r])?(i[r]={},p(i[r],t[r]),p(i[r],e[r])):null!=e[r]?i[r]=e[r]:delete i[r]);for(r in t)a(t,r)&&!a(e,r)&&o(t[r])&&(i[r]=p({},i[r]));return i}function k(t){null!=t&&this.set(t)}function O(t,e,r){var i=""+Math.abs(t),n=e-i.length;return(t>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+i}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,r=[];for(e in t)a(t,e)&&r.push(e);return r};var I=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,D=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},F={};function L(t,e,r,i){var n=i;"string"==typeof i&&(n=function(){return this[i]()}),t&&(F[t]=n),e&&(F[e[0]]=function(){return O(n.apply(this,arguments),e[1],e[2])}),r&&(F[r]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function B(t,e){return t.isValid()?(e=N(e,t.localeData()),R[e]=R[e]||function(t){var e,r,i,n=t.match(I);for(e=0,r=n.length;e<r;e++)F[n[e]]?n[e]=F[n[e]]:n[e]=(i=n[e]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(e){var i,o="";for(i=0;i<r;i++)o+=C(n[i])?n[i].call(e,t):n[i];return o}}(e),R[e](t)):t.localeData().invalidDate()}function N(t,e){var r=5;function i(t){return e.longDateFormat(t)||t}for(D.lastIndex=0;r>=0&&D.test(t);)t=t.replace(D,i),D.lastIndex=0,r-=1;return t}var z={};function j(t,e){var r=t.toLowerCase();z[r]=z[r+"s"]=z[e]=t}function V(t){return"string"==typeof t?z[t]||z[t.toLowerCase()]:void 0}function U(t){var e,r,i={};for(r in t)a(t,r)&&(e=V(r))&&(i[e]=t[r]);return i}var W={};function q(t,e){W[t]=e}function H(t){return t%4==0&&t%100!=0||t%400==0}function G(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Y(t){var e=+t,r=0;return 0!==e&&isFinite(e)&&(r=G(e)),r}function X(t,e){return function(r){return null!=r?(Z(this,t,r),i.updateOffset(this,e),this):K(this,t)}}function K(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Z(t,e,r){t.isValid()&&!isNaN(r)&&("FullYear"===e&&H(t.year())&&1===t.month()&&29===t.date()?(r=Y(r),t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),wt(r,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](r))}var J,Q=/\d/,$=/\d\d/,tt=/\d{3}/,et=/\d{4}/,rt=/[+-]?\d{6}/,it=/\d\d?/,nt=/\d\d\d\d?/,ot=/\d\d\d\d\d\d?/,at=/\d{1,3}/,st=/\d{1,4}/,lt=/[+-]?\d{1,6}/,ht=/\d+/,ut=/[+-]?\d+/,ct=/Z|[+-]\d\d:?\d\d/gi,pt=/Z|[+-]\d\d(?::?\d\d)?/gi,ft=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function dt(t,e,r){J[t]=C(e)?e:function(t,i){return t&&r?r:e}}function mt(t,e){return a(J,t)?J[t](e._strict,e._locale):new RegExp(vt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,r,i,n){return e||r||i||n}))))}function vt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}J={};var yt,gt={};function _t(t,e){var r,i=e;for("string"==typeof t&&(t=[t]),h(e)&&(i=function(t,r){r[e]=Y(t)}),r=0;r<t.length;r++)gt[t[r]]=i}function bt(t,e){_t(t,(function(t,r,i,n){i._w=i._w||{},e(t,i._w,i,n)}))}function xt(t,e,r){null!=e&&a(gt,t)&&gt[t](e,r._a,r,t)}function wt(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=function(t,e){return(t%e+e)%e}(e,12);return t+=(e-r)/12,1===r?H(t)?29:28:31-r%7%2}yt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},L("M",["MM",2],"Mo",(function(){return this.month()+1})),L("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),L("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),j("month","M"),q("month",8),dt("M",it),dt("MM",it,$),dt("MMM",(function(t,e){return e.monthsShortRegex(t)})),dt("MMMM",(function(t,e){return e.monthsRegex(t)})),_t(["M","MM"],(function(t,e){e[1]=Y(t)-1})),_t(["MMM","MMMM"],(function(t,e,r,i){var n=r._locale.monthsParse(t,i,r._strict);null!=n?e[1]=n:d(r).invalidMonth=t}));var Tt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Et="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),St=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Mt=ft,At=ft;function Ct(t,e,r){var i,n,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return r?"MMM"===e?-1!==(n=yt.call(this._shortMonthsParse,a))?n:null:-1!==(n=yt.call(this._longMonthsParse,a))?n:null:"MMM"===e?-1!==(n=yt.call(this._shortMonthsParse,a))||-1!==(n=yt.call(this._longMonthsParse,a))?n:null:-1!==(n=yt.call(this._longMonthsParse,a))||-1!==(n=yt.call(this._shortMonthsParse,a))?n:null}function Pt(t,e){var r;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=Y(e);else if(!h(e=t.localeData().monthsParse(e)))return t;return r=Math.min(t.date(),wt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function kt(t){return null!=t?(Pt(this,t),i.updateOffset(this,!0),this):K(this,"Month")}function Ot(){function t(t,e){return e.length-t.length}var e,r,i=[],n=[],o=[];for(e=0;e<12;e++)r=f([2e3,e]),i.push(this.monthsShort(r,"")),n.push(this.months(r,"")),o.push(this.months(r,"")),o.push(this.monthsShort(r,""));for(i.sort(t),n.sort(t),o.sort(t),e=0;e<12;e++)i[e]=vt(i[e]),n[e]=vt(n[e]);for(e=0;e<24;e++)o[e]=vt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function It(t){return H(t)?366:365}L("Y",0,0,(function(){var t=this.year();return t<=9999?O(t,4):"+"+t})),L(0,["YY",2],0,(function(){return this.year()%100})),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),j("year","y"),q("year",1),dt("Y",ut),dt("YY",it,$),dt("YYYY",st,et),dt("YYYYY",lt,rt),dt("YYYYYY",lt,rt),_t(["YYYYY","YYYYYY"],0),_t("YYYY",(function(t,e){e[0]=2===t.length?i.parseTwoDigitYear(t):Y(t)})),_t("YY",(function(t,e){e[0]=i.parseTwoDigitYear(t)})),_t("Y",(function(t,e){e[0]=parseInt(t,10)})),i.parseTwoDigitYear=function(t){return Y(t)+(Y(t)>68?1900:2e3)};var Dt=X("FullYear",!0);function Rt(t,e,r,i,n,o,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,r,i,n,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,r,i,n,o,a),s}function Ft(t){var e,r;return t<100&&t>=0?((r=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Lt(t,e,r){var i=7+e-r;return-(7+Ft(t,0,i).getUTCDay()-e)%7+i-1}function Bt(t,e,r,i,n){var o,a,s=1+7*(e-1)+(7+r-i)%7+Lt(t,i,n);return s<=0?a=It(o=t-1)+s:s>It(t)?(o=t+1,a=s-It(t)):(o=t,a=s),{year:o,dayOfYear:a}}function Nt(t,e,r){var i,n,o=Lt(t.year(),e,r),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?i=a+zt(n=t.year()-1,e,r):a>zt(t.year(),e,r)?(i=a-zt(t.year(),e,r),n=t.year()+1):(n=t.year(),i=a),{week:i,year:n}}function zt(t,e,r){var i=Lt(t,e,r),n=Lt(t+1,e,r);return(It(t)-i+n)/7}function jt(t,e){return t.slice(e,7).concat(t.slice(0,e))}L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),q("week",5),q("isoWeek",5),dt("w",it),dt("ww",it,$),dt("W",it),dt("WW",it,$),bt(["w","ww","W","WW"],(function(t,e,r,i){e[i.substr(0,1)]=Y(t)})),L("d",0,"do","day"),L("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),L("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),L("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),q("day",11),q("weekday",11),q("isoWeekday",11),dt("d",it),dt("e",it),dt("E",it),dt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),dt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),dt("dddd",(function(t,e){return e.weekdaysRegex(t)})),bt(["dd","ddd","dddd"],(function(t,e,r,i){var n=r._locale.weekdaysParse(t,i,r._strict);null!=n?e.d=n:d(r).invalidWeekday=t})),bt(["d","e","E"],(function(t,e,r,i){e[i]=Y(t)}));var Vt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ut="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Wt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qt=ft,Ht=ft,Gt=ft;function Yt(t,e,r){var i,n,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return r?"dddd"===e?-1!==(n=yt.call(this._weekdaysParse,a))?n:null:"ddd"===e?-1!==(n=yt.call(this._shortWeekdaysParse,a))?n:null:-1!==(n=yt.call(this._minWeekdaysParse,a))?n:null:"dddd"===e?-1!==(n=yt.call(this._weekdaysParse,a))||-1!==(n=yt.call(this._shortWeekdaysParse,a))||-1!==(n=yt.call(this._minWeekdaysParse,a))?n:null:"ddd"===e?-1!==(n=yt.call(this._shortWeekdaysParse,a))||-1!==(n=yt.call(this._weekdaysParse,a))||-1!==(n=yt.call(this._minWeekdaysParse,a))?n:null:-1!==(n=yt.call(this._minWeekdaysParse,a))||-1!==(n=yt.call(this._weekdaysParse,a))||-1!==(n=yt.call(this._shortWeekdaysParse,a))?n:null}function Xt(){function t(t,e){return e.length-t.length}var e,r,i,n,o,a=[],s=[],l=[],h=[];for(e=0;e<7;e++)r=f([2e3,1]).day(e),i=vt(this.weekdaysMin(r,"")),n=vt(this.weekdaysShort(r,"")),o=vt(this.weekdays(r,"")),a.push(i),s.push(n),l.push(o),h.push(i),h.push(n),h.push(o);a.sort(t),s.sort(t),l.sort(t),h.sort(t),this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Kt(){return this.hours()%12||12}function Zt(t,e){L(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Jt(t,e){return e._meridiemParse}L("H",["HH",2],0,"hour"),L("h",["hh",2],0,Kt),L("k",["kk",2],0,(function(){return this.hours()||24})),L("hmm",0,0,(function(){return""+Kt.apply(this)+O(this.minutes(),2)})),L("hmmss",0,0,(function(){return""+Kt.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),L("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),L("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),j("hour","h"),q("hour",13),dt("a",Jt),dt("A",Jt),dt("H",it),dt("h",it),dt("k",it),dt("HH",it,$),dt("hh",it,$),dt("kk",it,$),dt("hmm",nt),dt("hmmss",ot),dt("Hmm",nt),dt("Hmmss",ot),_t(["H","HH"],3),_t(["k","kk"],(function(t,e,r){var i=Y(t);e[3]=24===i?0:i})),_t(["a","A"],(function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t})),_t(["h","hh"],(function(t,e,r){e[3]=Y(t),d(r).bigHour=!0})),_t("hmm",(function(t,e,r){var i=t.length-2;e[3]=Y(t.substr(0,i)),e[4]=Y(t.substr(i)),d(r).bigHour=!0})),_t("hmmss",(function(t,e,r){var i=t.length-4,n=t.length-2;e[3]=Y(t.substr(0,i)),e[4]=Y(t.substr(i,2)),e[5]=Y(t.substr(n)),d(r).bigHour=!0})),_t("Hmm",(function(t,e,r){var i=t.length-2;e[3]=Y(t.substr(0,i)),e[4]=Y(t.substr(i))})),_t("Hmmss",(function(t,e,r){var i=t.length-4,n=t.length-2;e[3]=Y(t.substr(0,i)),e[4]=Y(t.substr(i,2)),e[5]=Y(t.substr(n))}));var Qt,$t=X("Hours",!0),te={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Tt,monthsShort:Et,week:{dow:0,doy:6},weekdays:Vt,weekdaysMin:Wt,weekdaysShort:Ut,meridiemParse:/[ap]\.?m?\.?/i},ee={},re={};function ie(t,e){var r,i=Math.min(t.length,e.length);for(r=0;r<i;r+=1)if(t[r]!==e[r])return r;return i}function ne(t){return t?t.toLowerCase().replace("_","-"):t}function oe(e){var r=null;if(void 0===ee[e]&&t&&t.exports)try{r=Qt._abbr,m(),ae(r)}catch(t){ee[e]=null}return ee[e]}function ae(t,e){var r;return t&&((r=l(e)?le(t):se(t,e))?Qt=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Qt._abbr}function se(t,e){if(null!==e){var r,i=te;if(e.abbr=t,null!=ee[t])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ee[t]._config;else if(null!=e.parentLocale)if(null!=ee[e.parentLocale])i=ee[e.parentLocale]._config;else{if(null==(r=oe(e.parentLocale)))return re[e.parentLocale]||(re[e.parentLocale]=[]),re[e.parentLocale].push({name:t,config:e}),null;i=r._config}return ee[t]=new k(P(i,e)),re[t]&&re[t].forEach((function(t){se(t.name,t.config)})),ae(t),ee[t]}return delete ee[t],null}function le(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Qt;if(!n(t)){if(e=oe(t))return e;t=[t]}return function(t){for(var e,r,i,n,o=0;o<t.length;){for(e=(n=ne(t[o]).split("-")).length,r=(r=ne(t[o+1]))?r.split("-"):null;e>0;){if(i=oe(n.slice(0,e).join("-")))return i;if(r&&r.length>=e&&ie(n,r)>=e-1)break;e--}o++}return Qt}(t)}function he(t){var e,r=t._a;return r&&-2===d(t).overflow&&(e=r[1]<0||r[1]>11?1:r[2]<1||r[2]>wt(r[0],r[1])?2:r[3]<0||r[3]>24||24===r[3]&&(0!==r[4]||0!==r[5]||0!==r[6])?3:r[4]<0||r[4]>59?4:r[5]<0||r[5]>59?5:r[6]<0||r[6]>999?6:-1,d(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),d(t)._overflowWeeks&&-1===e&&(e=7),d(t)._overflowWeekday&&-1===e&&(e=8),d(t).overflow=e),t}var ue=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ce=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/Z|[+-]\d\d(?::?\d\d)?/,fe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],de=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],me=/^\/?Date\((-?\d+)/i,ve=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ye={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ge(t){var e,r,i,n,o,a,s=t._i,l=ue.exec(s)||ce.exec(s);if(l){for(d(t).iso=!0,e=0,r=fe.length;e<r;e++)if(fe[e][1].exec(l[1])){n=fe[e][0],i=!1!==fe[e][2];break}if(null==n)return void(t._isValid=!1);if(l[3]){for(e=0,r=de.length;e<r;e++)if(de[e][1].exec(l[3])){o=(l[2]||" ")+de[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!pe.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=n+(o||"")+(a||""),Te(t)}else t._isValid=!1}function _e(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function be(t){var e,r,i,n,o,a,s,l,h=ve.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(h){if(r=h[4],i=h[3],n=h[2],o=h[5],a=h[6],s=h[7],l=[_e(r),Et.indexOf(i),parseInt(n,10),parseInt(o,10),parseInt(a,10)],s&&l.push(parseInt(s,10)),e=l,!function(t,e,r){return!t||Ut.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(d(r).weekdayMismatch=!0,r._isValid=!1,!1)}(h[1],e,t))return;t._a=e,t._tzm=function(t,e,r){if(t)return ye[t];if(e)return 0;var i=parseInt(r,10),n=i%100;return(i-n)/100*60+n}(h[8],h[9],h[10]),t._d=Ft.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),d(t).rfc2822=!0}else t._isValid=!1}function xe(t,e,r){return null!=t?t:null!=e?e:r}function we(t){var e,r,n,o,a,s=[];if(!t._d){for(n=function(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,r,i,n,o,a,s,l,h;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,a=4,r=xe(e.GG,t._a[0],Nt(Me(),1,4).year),i=xe(e.W,1),((n=xe(e.E,1))<1||n>7)&&(l=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,h=Nt(Me(),o,a),r=xe(e.gg,t._a[0],h.year),i=xe(e.w,h.week),null!=e.d?((n=e.d)<0||n>6)&&(l=!0):null!=e.e?(n=e.e+o,(e.e<0||e.e>6)&&(l=!0)):n=o),i<1||i>zt(r,o,a)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(s=Bt(r,i,n,o,a),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=xe(t._a[0],n[0]),(t._dayOfYear>It(a)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),r=Ft(a,0,t._dayOfYear),t._a[1]=r.getUTCMonth(),t._a[2]=r.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Ft:Rt).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(d(t).weekdayMismatch=!0)}}function Te(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],d(t).empty=!0;var e,r,n,o,a,s,l=""+t._i,h=l.length,u=0;for(n=N(t._f,t._locale).match(I)||[],e=0;e<n.length;e++)o=n[e],(r=(l.match(mt(o,t))||[])[0])&&((a=l.substr(0,l.indexOf(r))).length>0&&d(t).unusedInput.push(a),l=l.slice(l.indexOf(r)+r.length),u+=r.length),F[o]?(r?d(t).empty=!1:d(t).unusedTokens.push(o),xt(o,r,t)):t._strict&&!r&&d(t).unusedTokens.push(o);d(t).charsLeftOver=h-u,l.length>0&&d(t).unusedInput.push(l),t._a[3]<=12&&!0===d(t).bigHour&&t._a[3]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[3]=function(t,e,r){var i;return null==r?e:null!=t.meridiemHour?t.meridiemHour(e,r):null!=t.isPM?((i=t.isPM(r))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),null!==(s=d(t).era)&&(t._a[0]=t._locale.erasConvertYear(s,t._a[0])),we(t),he(t)}else be(t);else ge(t)}function Ee(t){var e=t._i,r=t._f;return t._locale=t._locale||le(t._l),null===e||void 0===r&&""===e?y({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),w(e)?new x(he(e)):(u(e)?t._d=e:n(r)?function(t){var e,r,i,n,o,a,s=!1;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(n=0;n<t._f.length;n++)o=0,a=!1,e=b({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],Te(e),v(e)&&(a=!0),o+=d(e).charsLeftOver,o+=10*d(e).unusedTokens.length,d(e).score=o,s?o<i&&(i=o,r=e):(null==i||o<i||a)&&(i=o,r=e,a&&(s=!0));p(t,r||e)}(t):r?Te(t):function(t){var e=t._i;l(e)?t._d=new Date(i.now()):u(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=me.exec(t._i);null===e?(ge(t),!1===t._isValid&&(delete t._isValid,be(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:i.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):n(e)?(t._a=c(e.slice(0),(function(t){return parseInt(t,10)})),we(t)):o(e)?function(t){if(!t._d){var e=U(t._i),r=void 0===e.day?e.date:e.day;t._a=c([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),we(t)}}(t):h(e)?t._d=new Date(e):i.createFromInputFallback(t)}(t),v(t)||(t._d=null),t))}function Se(t,e,r,i,a){var l,h={};return!0!==e&&!1!==e||(i=e,e=void 0),!0!==r&&!1!==r||(i=r,r=void 0),(o(t)&&s(t)||n(t)&&0===t.length)&&(t=void 0),h._isAMomentObject=!0,h._useUTC=h._isUTC=a,h._l=r,h._i=t,h._f=e,h._strict=i,(l=new x(he(Ee(h))))._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function Me(t,e,r,i){return Se(t,e,r,i,!1)}i.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Ae=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Me.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:y()})),Ce=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Me.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:y()}));function Pe(t,e){var r,i;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Me();for(r=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](r)||(r=e[i]);return r}var ke=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Oe(t){var e=U(t),r=e.year||0,i=e.quarter||0,n=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,l=e.hour||0,h=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=function(t){var e,r,i=!1;for(e in t)if(a(t,e)&&(-1===yt.call(ke,e)||null!=t[e]&&isNaN(t[e])))return!1;for(r=0;r<ke.length;++r)if(t[ke[r]]){if(i)return!1;parseFloat(t[ke[r]])!==Y(t[ke[r]])&&(i=!0)}return!0}(e),this._milliseconds=+c+1e3*u+6e4*h+1e3*l*60*60,this._days=+s+7*o,this._months=+n+3*i+12*r,this._data={},this._locale=le(),this._bubble()}function Ie(t){return t instanceof Oe}function De(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Re(t,e){L(t,0,0,(function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+O(~~(t/60),2)+e+O(~~t%60,2)}))}Re("Z",":"),Re("ZZ",""),dt("Z",pt),dt("ZZ",pt),_t(["Z","ZZ"],(function(t,e,r){r._useUTC=!0,r._tzm=Le(pt,t)}));var Fe=/([\+\-]|\d\d)/gi;function Le(t,e){var r,i,n=(e||"").match(t);return null===n?null:0===(i=60*(r=((n[n.length-1]||[])+"").match(Fe)||["-",0,0])[1]+Y(r[2]))?0:"+"===r[0]?i:-i}function Be(t,e){var r,n;return e._isUTC?(r=e.clone(),n=(w(t)||u(t)?t.valueOf():Me(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),i.updateOffset(r,!1),r):Me(t).local()}function Ne(t){return-Math.round(t._d.getTimezoneOffset())}function ze(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var je=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ve=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ue(t,e){var r,i,n,o,s,l,u=t,c=null;return Ie(t)?u={ms:t._milliseconds,d:t._days,M:t._months}:h(t)||!isNaN(+t)?(u={},e?u[e]=+t:u.milliseconds=+t):(c=je.exec(t))?(r="-"===c[1]?-1:1,u={y:0,d:Y(c[2])*r,h:Y(c[3])*r,m:Y(c[4])*r,s:Y(c[5])*r,ms:Y(De(1e3*c[6]))*r}):(c=Ve.exec(t))?(r="-"===c[1]?-1:1,u={y:We(c[2],r),M:We(c[3],r),w:We(c[4],r),d:We(c[5],r),h:We(c[6],r),m:We(c[7],r),s:We(c[8],r)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(o=Me(u.from),s=Me(u.to),n=o.isValid()&&s.isValid()?(s=Be(s,o),o.isBefore(s)?l=qe(o,s):((l=qe(s,o)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(u={}).ms=n.milliseconds,u.M=n.months),i=new Oe(u),Ie(t)&&a(t,"_locale")&&(i._locale=t._locale),Ie(t)&&a(t,"_isValid")&&(i._isValid=t._isValid),i}function We(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function qe(t,e){var r={};return r.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function He(t,e){return function(r,i){var n;return null===i||isNaN(+i)||(A(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=r,r=i,i=n),Ge(this,Ue(r,i),t),this}}function Ge(t,e,r,n){var o=e._milliseconds,a=De(e._days),s=De(e._months);t.isValid()&&(n=null==n||n,s&&Pt(t,K(t,"Month")+s*r),a&&Z(t,"Date",K(t,"Date")+a*r),o&&t._d.setTime(t._d.valueOf()+o*r),n&&i.updateOffset(t,a||s))}Ue.fn=Oe.prototype,Ue.invalid=function(){return Ue(NaN)};var Ye=He(1,"add"),Xe=He(-1,"subtract");function Ke(t){return"string"==typeof t||t instanceof String}function Ze(t){return w(t)||u(t)||Ke(t)||h(t)||function(t){var e=n(t),r=!1;return e&&(r=0===t.filter((function(e){return!h(e)&&Ke(t)})).length),e&&r}(t)||function(t){var e,r,i=o(t)&&!s(t),n=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<l.length;e+=1)r=l[e],n=n||a(t,r);return i&&n}(t)||null==t}function Je(t){var e,r=o(t)&&!s(t),i=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<n.length;e+=1)i=i||a(t,n[e]);return r&&i}function Qe(t,e){if(t.date()<e.date())return-Qe(e,t);var r=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(r,"months");return-(r+(e-i<0?(e-i)/(i-t.clone().add(r-1,"months")):(e-i)/(t.clone().add(r+1,"months")-i)))||0}function $e(t){var e;return void 0===t?this._locale._abbr:(null!=(e=le(t))&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tr=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function er(){return this._locale}function rr(t,e){return(t%e+e)%e}function ir(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-126227808e5:new Date(t,e,r).valueOf()}function nr(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-126227808e5:Date.UTC(t,e,r)}function or(t,e){return e.erasAbbrRegex(t)}function ar(){var t,e,r=[],i=[],n=[],o=[],a=this.eras();for(t=0,e=a.length;t<e;++t)i.push(vt(a[t].name)),r.push(vt(a[t].abbr)),n.push(vt(a[t].narrow)),o.push(vt(a[t].name)),o.push(vt(a[t].abbr)),o.push(vt(a[t].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function sr(t,e){L(0,[t,t.length],0,e)}function lr(t,e,r,i,n){var o;return null==t?Nt(this,i,n).year:(e>(o=zt(t,i,n))&&(e=o),hr.call(this,t,e,r,i,n))}function hr(t,e,r,i,n){var o=Bt(t,e,r,i,n),a=Ft(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}L("N",0,0,"eraAbbr"),L("NN",0,0,"eraAbbr"),L("NNN",0,0,"eraAbbr"),L("NNNN",0,0,"eraName"),L("NNNNN",0,0,"eraNarrow"),L("y",["y",1],"yo","eraYear"),L("y",["yy",2],0,"eraYear"),L("y",["yyy",3],0,"eraYear"),L("y",["yyyy",4],0,"eraYear"),dt("N",or),dt("NN",or),dt("NNN",or),dt("NNNN",(function(t,e){return e.erasNameRegex(t)})),dt("NNNNN",(function(t,e){return e.erasNarrowRegex(t)})),_t(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,r,i){var n=r._locale.erasParse(t,i,r._strict);n?d(r).era=n:d(r).invalidEra=t})),dt("y",ht),dt("yy",ht),dt("yyy",ht),dt("yyyy",ht),dt("yo",(function(t,e){return e._eraYearOrdinalRegex||ht})),_t(["y","yy","yyy","yyyy"],0),_t(["yo"],(function(t,e,r,i){var n;r._locale._eraYearOrdinalRegex&&(n=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[0]=r._locale.eraYearOrdinalParse(t,n):e[0]=parseInt(t,10)})),L(0,["gg",2],0,(function(){return this.weekYear()%100})),L(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),sr("gggg","weekYear"),sr("ggggg","weekYear"),sr("GGGG","isoWeekYear"),sr("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),q("weekYear",1),q("isoWeekYear",1),dt("G",ut),dt("g",ut),dt("GG",it,$),dt("gg",it,$),dt("GGGG",st,et),dt("gggg",st,et),dt("GGGGG",lt,rt),dt("ggggg",lt,rt),bt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,r,i){e[i.substr(0,2)]=Y(t)})),bt(["gg","GG"],(function(t,e,r,n){e[n]=i.parseTwoDigitYear(t)})),L("Q",0,"Qo","quarter"),j("quarter","Q"),q("quarter",7),dt("Q",Q),_t("Q",(function(t,e){e[1]=3*(Y(t)-1)})),L("D",["DD",2],"Do","date"),j("date","D"),q("date",9),dt("D",it),dt("DD",it,$),dt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),_t(["D","DD"],2),_t("Do",(function(t,e){e[2]=Y(t.match(it)[0])}));var ur=X("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),q("dayOfYear",4),dt("DDD",at),dt("DDDD",tt),_t(["DDD","DDDD"],(function(t,e,r){r._dayOfYear=Y(t)})),L("m",["mm",2],0,"minute"),j("minute","m"),q("minute",14),dt("m",it),dt("mm",it,$),_t(["m","mm"],4);var cr=X("Minutes",!1);L("s",["ss",2],0,"second"),j("second","s"),q("second",15),dt("s",it),dt("ss",it,$),_t(["s","ss"],5);var pr,fr,dr=X("Seconds",!1);for(L("S",0,0,(function(){return~~(this.millisecond()/100)})),L(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),L(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),L(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),L(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),L(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),L(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),j("millisecond","ms"),q("millisecond",16),dt("S",at,Q),dt("SS",at,$),dt("SSS",at,tt),pr="SSSS";pr.length<=9;pr+="S")dt(pr,ht);function mr(t,e){e[6]=Y(1e3*("0."+t))}for(pr="S";pr.length<=9;pr+="S")_t(pr,mr);fr=X("Milliseconds",!1),L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var vr=x.prototype;function yr(t){return t}vr.add=Ye,vr.calendar=function(t,e){1===arguments.length&&(arguments[0]?Ze(arguments[0])?(t=arguments[0],e=void 0):Je(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||Me(),n=Be(r,this).startOf("day"),o=i.calendarFormat(this,n)||"sameElse",a=e&&(C(e[o])?e[o].call(this,r):e[o]);return this.format(a||this.localeData().calendar(o,this,Me(r)))},vr.clone=function(){return new x(this)},vr.diff=function(t,e,r){var i,n,o;if(!this.isValid())return NaN;if(!(i=Be(t,this)).isValid())return NaN;switch(n=6e4*(i.utcOffset()-this.utcOffset()),e=V(e)){case"year":o=Qe(this,i)/12;break;case"month":o=Qe(this,i);break;case"quarter":o=Qe(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-n)/864e5;break;case"week":o=(this-i-n)/6048e5;break;default:o=this-i}return r?o:G(o)},vr.endOf=function(t){var e,r;if(void 0===(t=V(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?nr:ir,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-rr(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-rr(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-rr(e,1e3)-1}return this._d.setTime(e),i.updateOffset(this,!0),this},vr.format=function(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=B(this,t);return this.localeData().postformat(e)},vr.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Me(t).isValid())?Ue({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},vr.fromNow=function(t){return this.from(Me(),t)},vr.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Me(t).isValid())?Ue({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},vr.toNow=function(t){return this.to(Me(),t)},vr.get=function(t){return C(this[t=V(t)])?this[t]():this},vr.invalidAt=function(){return d(this).overflow},vr.isAfter=function(t,e){var r=w(t)?t:Me(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=V(e)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf())},vr.isBefore=function(t,e){var r=w(t)?t:Me(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=V(e)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf())},vr.isBetween=function(t,e,r,i){var n=w(t)?t:Me(t),o=w(e)?e:Me(e);return!!(this.isValid()&&n.isValid()&&o.isValid())&&(("("===(i=i||"()")[0]?this.isAfter(n,r):!this.isBefore(n,r))&&(")"===i[1]?this.isBefore(o,r):!this.isAfter(o,r)))},vr.isSame=function(t,e){var r,i=w(t)?t:Me(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=V(e)||"millisecond")?this.valueOf()===i.valueOf():(r=i.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf()))},vr.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},vr.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},vr.isValid=function(){return v(this)},vr.lang=tr,vr.locale=$e,vr.localeData=er,vr.max=Ce,vr.min=Ae,vr.parsingFlags=function(){return p({},d(this))},vr.set=function(t,e){if("object"==typeof t){var r,i=function(t){var e,r=[];for(e in t)a(t,e)&&r.push({unit:e,priority:W[e]});return r.sort((function(t,e){return t.priority-e.priority})),r}(t=U(t));for(r=0;r<i.length;r++)this[i[r].unit](t[i[r].unit])}else if(C(this[t=V(t)]))return this[t](e);return this},vr.startOf=function(t){var e,r;if(void 0===(t=V(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?nr:ir,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=rr(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=rr(e,6e4);break;case"second":e=this._d.valueOf(),e-=rr(e,1e3)}return this._d.setTime(e),i.updateOffset(this,!0),this},vr.subtract=Xe,vr.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},vr.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},vr.toDate=function(){return new Date(this.valueOf())},vr.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?B(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(r,"Z")):B(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},vr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,r,i="moment",n="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),t="["+i+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=n+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+r)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(vr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),vr.toJSON=function(){return this.isValid()?this.toISOString():null},vr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},vr.unix=function(){return Math.floor(this.valueOf()/1e3)},vr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},vr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},vr.eraName=function(){var t,e,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until)return i[t].name;if(i[t].until<=r&&r<=i[t].since)return i[t].name}return""},vr.eraNarrow=function(){var t,e,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until)return i[t].narrow;if(i[t].until<=r&&r<=i[t].since)return i[t].narrow}return""},vr.eraAbbr=function(){var t,e,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until)return i[t].abbr;if(i[t].until<=r&&r<=i[t].since)return i[t].abbr}return""},vr.eraYear=function(){var t,e,r,n,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(r=o[t].since<=o[t].until?1:-1,n=this.clone().startOf("day").valueOf(),o[t].since<=n&&n<=o[t].until||o[t].until<=n&&n<=o[t].since)return(this.year()-i(o[t].since).year())*r+o[t].offset;return this.year()},vr.year=Dt,vr.isLeapYear=function(){return H(this.year())},vr.weekYear=function(t){return lr.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},vr.isoWeekYear=function(t){return lr.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},vr.quarter=vr.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},vr.month=kt,vr.daysInMonth=function(){return wt(this.year(),this.month())},vr.week=vr.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},vr.isoWeek=vr.isoWeeks=function(t){var e=Nt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},vr.weeksInYear=function(){var t=this.localeData()._week;return zt(this.year(),t.dow,t.doy)},vr.weeksInWeekYear=function(){var t=this.localeData()._week;return zt(this.weekYear(),t.dow,t.doy)},vr.isoWeeksInYear=function(){return zt(this.year(),1,4)},vr.isoWeeksInISOWeekYear=function(){return zt(this.isoWeekYear(),1,4)},vr.date=ur,vr.day=vr.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},vr.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},vr.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},vr.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},vr.hour=vr.hours=$t,vr.minute=vr.minutes=cr,vr.second=vr.seconds=dr,vr.millisecond=vr.milliseconds=fr,vr.utcOffset=function(t,e,r){var n,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Le(pt,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&e&&(n=Ne(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==t&&(!e||this._changeInProgress?Ge(this,Ue(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ne(this)},vr.utc=function(t){return this.utcOffset(0,t)},vr.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ne(this),"m")),this},vr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Le(ct,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},vr.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Me(t).utcOffset():0,(this.utcOffset()-t)%60==0)},vr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},vr.isLocal=function(){return!!this.isValid()&&!this._isUTC},vr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},vr.isUtc=ze,vr.isUTC=ze,vr.zoneAbbr=function(){return this._isUTC?"UTC":""},vr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},vr.dates=E("dates accessor is deprecated. Use date instead.",ur),vr.months=E("months accessor is deprecated. Use month instead",kt),vr.years=E("years accessor is deprecated. Use year instead",Dt),vr.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),vr.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var t,e={};return b(e,this),(e=Ee(e))._a?(t=e._isUTC?f(e._a):Me(e._a),this._isDSTShifted=this.isValid()&&function(t,e,r){var i,n=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<n;i++)(r&&t[i]!==e[i]||!r&&Y(t[i])!==Y(e[i]))&&a++;return a+o}(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var gr=k.prototype;function _r(t,e,r,i){var n=le(),o=f().set(i,e);return n[r](o,t)}function br(t,e,r){if(h(t)&&(e=t,t=void 0),t=t||"",null!=e)return _r(t,e,r,"month");var i,n=[];for(i=0;i<12;i++)n[i]=_r(t,i,r,"month");return n}function xr(t,e,r,i){"boolean"==typeof t?(h(e)&&(r=e,e=void 0),e=e||""):(r=e=t,t=!1,h(e)&&(r=e,e=void 0),e=e||"");var n,o=le(),a=t?o._week.dow:0,s=[];if(null!=r)return _r(e,(r+a)%7,i,"day");for(n=0;n<7;n++)s[n]=_r(e,(n+a)%7,i,"day");return s}gr.calendar=function(t,e,r){var i=this._calendar[t]||this._calendar.sameElse;return C(i)?i.call(e,r):i},gr.longDateFormat=function(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(I).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},gr.invalidDate=function(){return this._invalidDate},gr.ordinal=function(t){return this._ordinal.replace("%d",t)},gr.preparse=yr,gr.postformat=yr,gr.relativeTime=function(t,e,r,i){var n=this._relativeTime[r];return C(n)?n(t,e,r,i):n.replace(/%d/i,t)},gr.pastFuture=function(t,e){var r=this._relativeTime[t>0?"future":"past"];return C(r)?r(e):r.replace(/%s/i,e)},gr.set=function(t){var e,r;for(r in t)a(t,r)&&(C(e=t[r])?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},gr.eras=function(t,e){var r,n,o,a=this._eras||le("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":o=i(a[r].since).startOf("day"),a[r].since=o.valueOf()}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":o=i(a[r].until).startOf("day").valueOf(),a[r].until=o.valueOf()}}return a},gr.erasParse=function(t,e,r){var i,n,o,a,s,l=this.eras();for(t=t.toUpperCase(),i=0,n=l.length;i<n;++i)if(o=l[i].name.toUpperCase(),a=l[i].abbr.toUpperCase(),s=l[i].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(a===t)return l[i];break;case"NNNN":if(o===t)return l[i];break;case"NNNNN":if(s===t)return l[i]}else if([o,a,s].indexOf(t)>=0)return l[i]},gr.erasConvertYear=function(t,e){var r=t.since<=t.until?1:-1;return void 0===e?i(t.since).year():i(t.since).year()+(e-t.offset)*r},gr.erasAbbrRegex=function(t){return a(this,"_erasAbbrRegex")||ar.call(this),t?this._erasAbbrRegex:this._erasRegex},gr.erasNameRegex=function(t){return a(this,"_erasNameRegex")||ar.call(this),t?this._erasNameRegex:this._erasRegex},gr.erasNarrowRegex=function(t){return a(this,"_erasNarrowRegex")||ar.call(this),t?this._erasNarrowRegex:this._erasRegex},gr.months=function(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||St).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months.standalone},gr.monthsShort=function(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[St.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},gr.monthsParse=function(t,e,r){var i,n,o;if(this._monthsParseExact)return Ct.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(n=f([2e3,i]),r&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),r||this._monthsParse[i]||(o="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),r&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(r&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!r&&this._monthsParse[i].test(t))return i}},gr.monthsRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||Ot.call(this),t?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=At),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},gr.monthsShortRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||Ot.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Mt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},gr.week=function(t){return Nt(t,this._week.dow,this._week.doy).week},gr.firstDayOfYear=function(){return this._week.doy},gr.firstDayOfWeek=function(){return this._week.dow},gr.weekdays=function(t,e){var r=n(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?jt(r,this._week.dow):t?r[t.day()]:r},gr.weekdaysMin=function(t){return!0===t?jt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},gr.weekdaysShort=function(t){return!0===t?jt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},gr.weekdaysParse=function(t,e,r){var i,n,o;if(this._weekdaysParseExact)return Yt.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(n=f([2e3,1]).day(i),r&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),r&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(r&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(r&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!r&&this._weekdaysParse[i].test(t))return i}},gr.weekdaysRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=qt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},gr.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ht),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},gr.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Gt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},gr.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},gr.meridiem=function(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"},ae("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===Y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),i.lang=E("moment.lang is deprecated. Use moment.locale instead.",ae),i.langData=E("moment.langData is deprecated. Use moment.localeData instead.",le);var wr=Math.abs;function Tr(t,e,r,i){var n=Ue(e,r);return t._milliseconds+=i*n._milliseconds,t._days+=i*n._days,t._months+=i*n._months,t._bubble()}function Er(t){return t<0?Math.floor(t):Math.ceil(t)}function Sr(t){return 4800*t/146097}function Mr(t){return 146097*t/4800}function Ar(t){return function(){return this.as(t)}}var Cr=Ar("ms"),Pr=Ar("s"),kr=Ar("m"),Or=Ar("h"),Ir=Ar("d"),Dr=Ar("w"),Rr=Ar("M"),Fr=Ar("Q"),Lr=Ar("y");function Br(t){return function(){return this.isValid()?this._data[t]:NaN}}var Nr=Br("milliseconds"),zr=Br("seconds"),jr=Br("minutes"),Vr=Br("hours"),Ur=Br("days"),Wr=Br("months"),qr=Br("years"),Hr=Math.round,Gr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Yr(t,e,r,i,n){return n.relativeTime(e||1,!!r,t,i)}var Xr=Math.abs;function Kr(t){return(t>0)-(t<0)||+t}function Zr(){if(!this.isValid())return this.localeData().invalidDate();var t,e,r,i,n,o,a,s,l=Xr(this._milliseconds)/1e3,h=Xr(this._days),u=Xr(this._months),c=this.asSeconds();return c?(t=G(l/60),e=G(t/60),l%=60,t%=60,r=G(u/12),u%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",n=c<0?"-":"",o=Kr(this._months)!==Kr(c)?"-":"",a=Kr(this._days)!==Kr(c)?"-":"",s=Kr(this._milliseconds)!==Kr(c)?"-":"",n+"P"+(r?o+r+"Y":"")+(u?o+u+"M":"")+(h?a+h+"D":"")+(e||t||l?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(l?s+i+"S":"")):"P0D"}var Jr=Oe.prototype;return Jr.isValid=function(){return this._isValid},Jr.abs=function(){var t=this._data;return this._milliseconds=wr(this._milliseconds),this._days=wr(this._days),this._months=wr(this._months),t.milliseconds=wr(t.milliseconds),t.seconds=wr(t.seconds),t.minutes=wr(t.minutes),t.hours=wr(t.hours),t.months=wr(t.months),t.years=wr(t.years),this},Jr.add=function(t,e){return Tr(this,t,e,1)},Jr.subtract=function(t,e){return Tr(this,t,e,-1)},Jr.as=function(t){if(!this.isValid())return NaN;var e,r,i=this._milliseconds;if("month"===(t=V(t))||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,r=this._months+Sr(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(Mr(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Jr.asMilliseconds=Cr,Jr.asSeconds=Pr,Jr.asMinutes=kr,Jr.asHours=Or,Jr.asDays=Ir,Jr.asWeeks=Dr,Jr.asMonths=Rr,Jr.asQuarters=Fr,Jr.asYears=Lr,Jr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Y(this._months/12):NaN},Jr._bubble=function(){var t,e,r,i,n,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Er(Mr(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=G(o/1e3),l.seconds=t%60,e=G(t/60),l.minutes=e%60,r=G(e/60),l.hours=r%24,a+=G(r/24),n=G(Sr(a)),s+=n,a-=Er(Mr(n)),i=G(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Jr.clone=function(){return Ue(this)},Jr.get=function(t){return t=V(t),this.isValid()?this[t+"s"]():NaN},Jr.milliseconds=Nr,Jr.seconds=zr,Jr.minutes=jr,Jr.hours=Vr,Jr.days=Ur,Jr.weeks=function(){return G(this.days()/7)},Jr.months=Wr,Jr.years=qr,Jr.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var r,i,n=!1,o=Gr;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(n=t),"object"==typeof e&&(o=Object.assign({},Gr,e),null!=e.s&&null==e.ss&&(o.ss=e.s-1)),r=this.localeData(),i=function(t,e,r,i){var n=Ue(t).abs(),o=Hr(n.as("s")),a=Hr(n.as("m")),s=Hr(n.as("h")),l=Hr(n.as("d")),h=Hr(n.as("M")),u=Hr(n.as("w")),c=Hr(n.as("y")),p=o<=r.ss&&["s",o]||o<r.s&&["ss",o]||a<=1&&["m"]||a<r.m&&["mm",a]||s<=1&&["h"]||s<r.h&&["hh",s]||l<=1&&["d"]||l<r.d&&["dd",l];return null!=r.w&&(p=p||u<=1&&["w"]||u<r.w&&["ww",u]),(p=p||h<=1&&["M"]||h<r.M&&["MM",h]||c<=1&&["y"]||["yy",c])[2]=e,p[3]=+t>0,p[4]=i,Yr.apply(null,p)}(this,!n,o,r),n&&(i=r.pastFuture(+this,i)),r.postformat(i)},Jr.toISOString=Zr,Jr.toString=Zr,Jr.toJSON=Zr,Jr.locale=$e,Jr.localeData=er,Jr.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zr),Jr.lang=tr,L("X",0,0,"unix"),L("x",0,0,"valueOf"),dt("x",ut),dt("X",/[+-]?\d+(\.\d{1,3})?/),_t("X",(function(t,e,r){r._d=new Date(1e3*parseFloat(t))})),_t("x",(function(t,e,r){r._d=new Date(Y(t))})),
//! moment.js
i.version="2.29.1",e=Me,i.fn=vr,i.min=function(){var t=[].slice.call(arguments,0);return Pe("isBefore",t)},i.max=function(){var t=[].slice.call(arguments,0);return Pe("isAfter",t)},i.now=function(){return Date.now?Date.now():+new Date},i.utc=f,i.unix=function(t){return Me(1e3*t)},i.months=function(t,e){return br(t,e,"months")},i.isDate=u,i.locale=ae,i.invalid=y,i.duration=Ue,i.isMoment=w,i.weekdays=function(t,e,r){return xr(t,e,r,"weekdays")},i.parseZone=function(){return Me.apply(null,arguments).parseZone()},i.localeData=le,i.isDuration=Ie,i.monthsShort=function(t,e){return br(t,e,"monthsShort")},i.weekdaysMin=function(t,e,r){return xr(t,e,r,"weekdaysMin")},i.defineLocale=se,i.updateLocale=function(t,e){if(null!=e){var r,i,n=te;null!=ee[t]&&null!=ee[t].parentLocale?ee[t].set(P(ee[t]._config,e)):(null!=(i=oe(t))&&(n=i._config),e=P(n,e),null==i&&(e.abbr=t),(r=new k(e)).parentLocale=ee[t],ee[t]=r),ae(t)}else null!=ee[t]&&(null!=ee[t].parentLocale?(ee[t]=ee[t].parentLocale,t===ae()&&ae(t)):null!=ee[t]&&delete ee[t]);return ee[t]},i.locales=function(){return S(ee)},i.weekdaysShort=function(t,e,r){return xr(t,e,r,"weekdaysShort")},i.normalizeUnits=V,i.relativeTimeRounding=function(t){return void 0===t?Hr:"function"==typeof t&&(Hr=t,!0)},i.relativeTimeThreshold=function(t,e){return void 0!==Gr[t]&&(void 0===e?Gr[t]:(Gr[t]=e,"s"===t&&(Gr.ss=e-1),!0))},i.calendarFormat=function(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},i.prototype=vr,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()}));c(".calendar .__day {\n  float: left;\n  width: calc(100% / 7);\n  min-height: 0.01rem;\n}\n\n.calendar .__day > :nth-child(1n) {\n  position: relative;\n  top: unset;\n  left: unset;\n  display: block;\n}",{});var L;c('#toast_layer {\n  position: absolute;\n  left: 0;\n  top: 0;\n  box-sizing: border-box;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  display: -webkit-flex;\n  justify-content: center;\n  -webkit-justify-content: center;\n  align-items: center;\n  -webkit-align-items: center;\n  pointer-events: none;\n}\n\n#toast_layer .wrapper {\n  display: flex;\n  display: -webkit-flex;\n  justify-content: center;\n  -webkit-justify-content: center;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  max-width: 80%;\n}\n\n#toast_layer .wrapper .toast-message {\n  opacity: 0;\n  margin-bottom: 0.1rem;\n  font-size: 0;\n  transition: opacity 0.3s;\n  -webkit-transition: opacity 0.3s;\n  background-color: rgba(0, 0, 10, 0.8);\n  box-shadow: 0.01rem 0.02rem 0.05rem 0.01rem rgba(0, 0, 0, 0.2);\n  -webkit-box-shadow: 0.01rem 0.02rem 0.05rem 0.01rem rgba(0, 0, 0, 0.2);\n  border-radius: 0.6rem;\n}\n\n#toast_layer .wrapper .toast-message .toast-content {\n  display: inline-block;\n  overflow: hidden;\n  padding: 0.2rem 0.25rem;\n  font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  color: #fff;\n  font-size: 0.3rem;\n  text-align: center;\n  max-width: 100%;\n  overflow-wrap: anywhere;\n}',{});var B=[];function N(){if(!L){var t=M("toast");(L=document.createElement("div")).className="wrapper",t.appendChild(L)}return L}function z(t,e,r){void 0===e&&(e=2e3),void 0===r&&(r={});var i=N(),n=r.hideOthers,o=void 0!==n&&n,s=r.didClose;if(o)for(var l=0,h=B;l<h.length;l++){(0,h[l])(!1)}var u=!1,c=function(t){var e=t.content,r=t.options,i=r.itemClass||"",n=r.contentClass||"",o=Object(a.f)('<div class="toast-message '+i+'">\n\t<div class="toast-content '+n+'"></div>\n</div>'),s=o.children[0];return"string"==typeof e?e.indexOf("<")>=0&&e.indexOf(">")>=0?s.innerHTML=e:s.innerText=e:s.appendChild(e),o}({content:t,options:r});return B.push(p),i.appendChild(c),setTimeout((function(){c.style.opacity="1",e>0&&setTimeout(p,e)})),p;function p(t){void 0===t&&(t=!0),u||(u=!0,function(t,e,r){void 0===e&&(e=!0);B.splice(B.indexOf(t),1);var i=N();e?(t.style.opacity="0",setTimeout((function(){t.parentNode&&i.removeChild(t),r&&r()}),300)):(t.parentNode&&i.removeChild(t),r&&r())}(c,t,s))}}var j=function(t,e){var r=void 0;return function(){var i=this,n=arguments,o=function(){return t.apply(i,n)};clearTimeout(r),r=setTimeout(o,e)}},V=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()};function U(t){var e=0;return t.forEach((function(t){t.rect.height>e&&(e=t.rect.height)})),e}function W(t){var e=t.rect,r=t.mode;t.prevOffset;var i=t.position,n=t.direction,o=t.width;if("chain"!==r)return!1;switch(n){case"toRight":return i.from>0;case"toLeft":default:return e.width+i.from<=o}}function q(t){var e=t.mode,r=t.from,i=t.direction,n=t.rect,o=t.width,a=r||0;switch(e){case"await":switch(i){case"toRight":return o;case"toLeft":default:return-n.width}case"smooth":switch(i){case"toRight":return n.width>o?0:o-n.width;case"toLeft":default:return n.width>o?o-n.width:0}case"chain":default:switch(i){case"toRight":return 0;case"toLeft":default:return n.width+a>o?o-n.width:o-n.left-n.width}}}var H=function(t){var e=t.mode,r=t.index,i=t.rect,n=t.offset,o=t.width,a=t.direction,s=function(t){var e=t.index,r=t.rect,i=t.offset,n=t.width,o=t.direction;if(0===e)return i;if("number"==typeof i)return function(t){var e=t.rect,r=t.offset;switch(t.direction){case"toRight":return r-e.width;case"toLeft":default:return r}}({rect:r,offset:i,direction:o});switch(o){case"toRight":return-r.width;case"toLeft":default:return n}}({index:r,rect:i,offset:n,width:o,direction:a});return{from:s,to:function(t){var e=t.rect,r=t.width;switch(t.direction){case"toRight":return r;case"toLeft":default:return-e.width}}({rect:i,width:o,direction:a}),next:q({mode:e,from:s,direction:a,rect:i,width:o})}};function G(t){var e=t.from,r=t.rect;switch(t.direction){case"toRight":return e;case"toLeft":default:return e+r.width}}function Y(t){var e=t.offset,r=t.rect,i=t.direction,n=t.width;if("run-in"===e)switch(i){case"toRight":return-r.width;case"toLeft":default:return n}if("string"==typeof e){var o=Number(e.replace("%",""));if(o)return n/100*o}return e}var X=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},K=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},J=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Q=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},$=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},tt=function(t){function e(){var t,r,i;X(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i=Q(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i.state={children:i.props.children({index:i.props.index}),move:i.props.move,position:{from:void 0,to:void 0,next:void 0},offset:i.props.offset,rect:null},i.x=0,i.isMoving=!1,i.nextTriggered=!1,i.elementRef=n.a.createRef(),i.componentDidMount=function(){i.setPosition(!0),i.observer=new MutationObserver(i.onMutation),i.observer.observe(i.elementRef.current,{characterData:!0,childList:!0,subtree:!0})},i.componentWillUnmount=function(){i.observer.disconnect()},i.onMutation=function(){i.setPosition()},i.componentDidUpdate=function(t,e){i.x||e.position.from===i.state.position.from||(i.x=i.state.position.from,i.elementRef.current.style.transform="translate3d("+i.x+"px, 0, 0)"),i.x!==i.state.position.from&&t.prevRect&&i.props.prevRect&&t.prevRect.width!==i.props.prevRect.width&&(i.props.offset?i.x=i.x+(i.props.offset-t.offset):i.x=i.x+(i.props.prevRect.width-t.prevRect.width),i.elementRef.current.style.transform="translate3d("+i.x+"px, 0, 0)"),i.props.move&&!t.start&&i.props.start&&i.animate(),i.props.start&&!t.move&&i.props.move&&i.animate(),t.move&&!i.props.move&&(i.isMoving=!1)},i.setPosition=function(t){var e=i.props,r=e.mode,n=e.width,o=e.id,a=e.onNext,s=e.direction,l=e.index,h=e.setRect,u=i.elementRef.current.getBoundingClientRect();if(0!==u.width){var c=0===i.props.index?Y({offset:i.props.offset,rect:u,direction:s,width:n}):i.props.offset,p=H({mode:r,rect:u,index:l,offset:c,width:n,direction:s});if(h({index:i.props.index,rect:u,offset:c,nextOffset:G({from:p.from,rect:u,direction:s})}),t){var f=W({mode:r,rect:u,position:p,offset:c,direction:s,width:n});f&&a({id:o,index:l,rect:u,nextOffset:G({from:p.from,rect:u,direction:s})}),f||!c&&0!==l||a({id:o,index:l,rect:u}),i.nextTriggered=f}i.setState({rect:u,offset:c,position:p})}},i.shouldTriggerNext=function(){return!i.nextTriggered&&("toLeft"===i.props.direction?i.x<=i.state.position.next:i.x>=i.state.position.next)},i.triggerNext=function(){i.shouldTriggerNext()&&(i.nextTriggered=!0,i.props.onNext({id:i.props.id,index:i.props.index,rect:i.state.rect}))},i.shouldFinish=function(){switch(i.props.direction){case"toRight":return i.x>=i.state.position.to;case"toLeft":default:return i.x<=i.state.position.to}},i.animate=function(){if(!i.isMoving){i.isMoving=!0;var t=null;window.requestAnimationFrame((function e(r){if(i.isMoving&&i.elementRef.current){var n=t?r-t:0;i.x="toLeft"===i.props.direction?i.x-n/100*i.props.speed:i.x+n/100*i.props.speed,i.elementRef.current.style.transform="translate3d("+i.x+"px, 0, 0)",i.triggerNext(),i.shouldFinish()?(i.isMoving=!1,t=null,i.props.onFinish(i.props.id)):(t=r,window.requestAnimationFrame(e))}}))}},i.render=function(){return n.a.createElement("div",{className:"ticker__element",style:{willChange:"transform",position:"absolute",left:0,top:0,transform:"translate3d("+i.x+"px, 0, 0)"},ref:i.elementRef},i.state.children)},Q(i,r)}return J(e,t),e}(n.a.Component);tt.propTypes={children:Object(l.oneOfType)([l.node,l.func]).isRequired,direction:l.string.isRequired,speed:l.number.isRequired,id:l.string.isRequired,index:l.number.isRequired,mode:l.string.isRequired,move:l.bool.isRequired,onNext:l.func.isRequired,onFinish:l.func.isRequired,setRect:l.func.isRequired,start:l.bool.isRequired,offset:Object(l.oneOfType)([l.number,l.string]),prevRect:l.object,width:l.number},tt.defaultProps={offset:void 0,width:void 0,prevRect:null};var et=function(t,e){return{elements:[{id:V(),index:0,height:0,start:!1,offset:t,rect:null,prevRect:null}],width:e,height:0}},rt=function(t){function e(){var t,r,i;X(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i=Q(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i.next=null,i.state=et(i.props.offset),i.tickerRef=n.a.createRef(),i.dOnResize=j((function(){return i.onResize()}),150),i.componentDidMount=function(){i.setState({width:i.tickerRef.current.offsetWidth,height:i.props.height}),window.addEventListener("resize",i.dOnResize)},i.componentWillUnmount=function(){window.removeEventListener("resize",i.dOnResize)},i.setRect=function(t){var e=t.index,r=t.rect;t.offset;var n=t.nextOffset;i.setState((function(t){var o=t.elements.map((function(t){var i=t;return t.index===e&&(i.rect=r),t.index===e+1&&(i.prevRect=r,i.offset&&(i.offset=n)),i}));return{elements:o,height:i.props.height?t.height:U(o)}}))},i.onResize=function(){i.tickerRef.current&&i.tickerRef.current.offsetWidth!==i.state.width&&i.setState(Z({},et(i.props.offset,i.tickerRef.current.offsetWidth),{height:i.props.height}))},i.onFinish=function(t){i.setState((function(e){return{elements:e.elements.filter((function(e){return e.id!==t}))}}))},i.onNext=function(t){t.id;var e=t.index,r=t.rect,n=t.nextOffset;i.setState((function(t){return{elements:[].concat($(t.elements.map((function(t){var i=t;return t.index===e&&(i.rect=r),(0===t.index||t.offset||i.index===e+1)&&(i.start=!0),i}))),[{id:V(),index:t.elements[t.elements.length-1].index+1,height:0,start:!1,offset:n,rect:null,prevRect:r}])}}))},Q(i,r)}return J(e,t),K(e,[{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"ticker",ref:this.tickerRef,style:{position:"relative",overflow:"hidden",height:this.state.height&&this.state.height+"px"}},this.state.width&&this.state.elements.map((function(e){return n.a.createElement(tt,{key:e.id,id:e.id,index:e.index,start:e.start,offset:e.offset,prevRect:e.prevRect,direction:t.props.direction,mode:t.props.mode,move:t.props.move,speed:t.props.speed,onFinish:t.onFinish,onNext:t.onNext,setRect:t.setRect,width:t.state.width},t.props.children)})))}}]),e}(n.a.Component);rt.propTypes={children:Object(l.oneOfType)([l.node,l.func]).isRequired,direction:l.string,mode:l.string,move:l.bool,offset:Object(l.oneOfType)([l.number,l.string]),speed:l.number,height:Object(l.oneOfType)([l.number,l.string])},rt.defaultProps={offset:0,speed:5,direction:"toLeft",mode:"chain",move:!0,height:void 0};c(".__ticker .__bullet > :nth-child(1n) {\n  position: relative !important;\n  top: unset !important;\n  left: unset !important;\n  display: block !important;\n}",{});c(".__flat-list {\n  overflow: scroll;\n  display: flex;\n}\n\n.__flat-list .__item > :nth-child(1n) {\n  position: relative;\n  top: unset;\n  left: unset;\n  display: block;\n}",{});Object(i.forwardRef)((function(t,e){var r=t.renderItem,i=t.children,o=t.dataSource,a=t.className,l=t.style,h=t.direction,u=void 0===h?"column":h;if(!r){var c=Object(s.getChildBySlot)(i,"item");c?r=c:console.warn("属性[renderItem]为空")}return n.a.createElement("div",{ref:e,className:["__flat-list",a].join(" "),style:f(f({},l),{flexDirection:u})},o.map((function(t,e){var i;return i="function"==typeof r?r(t,e):Object(s.compileTemplate)(r,t,e),n.a.createElement("span",{className:"__item",key:e},i)})))}))}).call(this,r("yLpj"))},cqKg:function(t,e,r){"use strict";r.d(e,"a",(function(){return g})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return y})),r.d(e,"d",(function(){return f}));r("cv67"),r("wZgz");var i,n=r("NFKh"),o=r.n(n),a=(r("gK8M"),r("zFbR"),r("NiLM"),r("zgwS"),r("HlzF"),r("qEzZ"),function(){return(a=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)});void 0!==document.hidden?i="visibilitychange":void 0!==document.msHidden?i="msvisibilitychange":void 0!==document.webkitHidden&&(i="webkitvisibilitychange"),document.addEventListener(i,(function(t){!function(t){for(var e=0,r=s;e<r.length;e++){var i=r[e];i&&i(t)}}("visible"==document.visibilityState)}),!1);var s=[];var l,h;o.a.pad.Pkcs7,o.a.pad.AnsiX923,o.a.pad.Iso10126,o.a.pad.Iso97971,o.a.pad.ZeroPadding,o.a.pad.NoPadding,o.a.mode.CBC,o.a.mode.CFB,o.a.mode.CTR,o.a.mode.CTRGladman,o.a.mode.OFB,o.a.mode.ECB;function u(t){return new Promise((function(e,r){var i;window.XMLHttpRequest?i=new XMLHttpRequest:window.ActiveXObject?i=new window.ActiveXObject(void 0):alert("no xhr"),i.open("get",t,!0),i.responseType="blob",i.onload=function(){if(200==this.status){var t=this.response,i=new FileReader;i.onloadend=function(t){e(i.result)},i.onerror=function(t){r({message:"failed"})},i.readAsDataURL(t)}},i.onerror=function(t){r({message:"failed"})},i.send()}))}!function(t){t.CBC="CBC",t.CFB="CFB",t.CTR="CTR",t.CTRGladman="CTRGladman",t.OFB="OFB",t.ECB="ECB"}(l||(l={})),function(t){t.Pkcs7="Pkcs7",t.AnsiX923="AnsiX923",t.Iso10126="Iso10126",t.Iso97971="Iso97971",t.ZeroPadding="ZeroPadding",t.NoPadding="NoPadding"}(h||(h={}));var c=[],p=[];!function(t,e){if(t&&"undefined"!=typeof document){var r,i=!0===e.prepend?"prepend":"append",n=!0===e.singleTag,o="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(n){var a=c.indexOf(o);-1===a&&(a=c.push(o)-1,p[a]={}),r=p[a]&&p[a][i]?p[a][i]:p[a][i]=s()}else r=s();65279===t.charCodeAt(0)&&(t=t.substring(1)),r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(document.createTextNode(t))}function s(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var r=Object.keys(e.attributes),n=0;n<r.length;n++)t.setAttribute(r[n],e.attributes[r[n]]);var a="prepend"===i?"afterbegin":"beforeend";return o.insertAdjacentElement(a,t),t}}("/* 易盾css*/\n\n.sui-captcha {\n  visibility: hidden;\n  position: fixed;\n  z-index: 10000;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  /*.neCaptcha-dialog::after {\n\t\tposition: absolute;\n\t\tcontent: '加载中…';\n\t\twidth: 100%;\n\t\theight: 30px;\n\t\ttop: -40px;\n\t\tleft: 0;\n\t\ttext-align: center;\n\t\tline-height: 30px;\n\t\tfont-size: 16px;\n\t\tcolor: #ffff00;\n\t}*/\n}\n\n.sui-captcha .neCaptcha-dialog {\n  visibility: hidden;\n  background-color: #fff;\n  box-shadow: 0 0 0.08rem 0 rgba(0, 0, 0, 0.35);\n  -webkit-box-shadow: 0 0 0.08rem 0 rgba(0, 0, 0, 0.35);\n  position: absolute;\n  left: 50%;\n  top: 45%;\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%);\n  padding: 0.1rem;\n  min-width: 1rem;\n  border-radius: 0.1rem;\n  width: 80%;\n}",{});!function(){function t(t){this._tsOffset=0,this.updateRemoteTimestamp(t)}t.prototype.updateRemoteTimestamp=function(t){void 0!==t&&(this._tsOffset=this.localTimestamp-t)},Object.defineProperty(t.prototype,"remoteTimestamp",{get:function(){return this.localTimestamp-this._tsOffset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTimestamp",{get:function(){return Date.now()},enumerable:!1,configurable:!0})}();function f(t,e,r){void 0===r&&(r=!1);for(var i=m(t,e),n=i[0],o=i[1],a=0,s=n.length;a<s;a++){var l=n[a],h=o[a];if(r){if(l>=h)return!0;if(l<=h)return!1}else{if(l>h)return!0;if(l<h)return!1}}return!1}function d(t,e){void 0===e&&(e=!1);var r=t.split(".").map((function(t){return parseInt(t)}));if(e&&3!==r.length)throw new Error("Invalid version: "+t);return r}function m(t,e){for(var r=d(t),i=d(e),n=r.length,o=i.length,a=0,s=Math.max(n,o);a<s;a++)void 0===r[a]&&(r[a]=0),void 0===i[a]&&(i[a]=0);return[r,i]}var v,y=a;function g(){return v||(v=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?"iOS":/(Android)/i.test(navigator.userAgent)?"Android":"PC"),v}g(),g(),g()},cv67:function(t,e,r){var i;t.exports=(i=r("Ib8C"),function(t){var e=i,r=e.lib,n=r.WordArray,o=r.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=a.MD5=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var i=e+r,n=t[i];t[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var o=this._hash.words,a=t[e+0],l=t[e+1],f=t[e+2],d=t[e+3],m=t[e+4],v=t[e+5],y=t[e+6],g=t[e+7],_=t[e+8],b=t[e+9],x=t[e+10],w=t[e+11],T=t[e+12],E=t[e+13],S=t[e+14],M=t[e+15],A=o[0],C=o[1],P=o[2],k=o[3];A=h(A,C,P,k,a,7,s[0]),k=h(k,A,C,P,l,12,s[1]),P=h(P,k,A,C,f,17,s[2]),C=h(C,P,k,A,d,22,s[3]),A=h(A,C,P,k,m,7,s[4]),k=h(k,A,C,P,v,12,s[5]),P=h(P,k,A,C,y,17,s[6]),C=h(C,P,k,A,g,22,s[7]),A=h(A,C,P,k,_,7,s[8]),k=h(k,A,C,P,b,12,s[9]),P=h(P,k,A,C,x,17,s[10]),C=h(C,P,k,A,w,22,s[11]),A=h(A,C,P,k,T,7,s[12]),k=h(k,A,C,P,E,12,s[13]),P=h(P,k,A,C,S,17,s[14]),A=u(A,C=h(C,P,k,A,M,22,s[15]),P,k,l,5,s[16]),k=u(k,A,C,P,y,9,s[17]),P=u(P,k,A,C,w,14,s[18]),C=u(C,P,k,A,a,20,s[19]),A=u(A,C,P,k,v,5,s[20]),k=u(k,A,C,P,x,9,s[21]),P=u(P,k,A,C,M,14,s[22]),C=u(C,P,k,A,m,20,s[23]),A=u(A,C,P,k,b,5,s[24]),k=u(k,A,C,P,S,9,s[25]),P=u(P,k,A,C,d,14,s[26]),C=u(C,P,k,A,_,20,s[27]),A=u(A,C,P,k,E,5,s[28]),k=u(k,A,C,P,f,9,s[29]),P=u(P,k,A,C,g,14,s[30]),A=c(A,C=u(C,P,k,A,T,20,s[31]),P,k,v,4,s[32]),k=c(k,A,C,P,_,11,s[33]),P=c(P,k,A,C,w,16,s[34]),C=c(C,P,k,A,S,23,s[35]),A=c(A,C,P,k,l,4,s[36]),k=c(k,A,C,P,m,11,s[37]),P=c(P,k,A,C,g,16,s[38]),C=c(C,P,k,A,x,23,s[39]),A=c(A,C,P,k,E,4,s[40]),k=c(k,A,C,P,a,11,s[41]),P=c(P,k,A,C,d,16,s[42]),C=c(C,P,k,A,y,23,s[43]),A=c(A,C,P,k,b,4,s[44]),k=c(k,A,C,P,T,11,s[45]),P=c(P,k,A,C,M,16,s[46]),A=p(A,C=c(C,P,k,A,f,23,s[47]),P,k,a,6,s[48]),k=p(k,A,C,P,g,10,s[49]),P=p(P,k,A,C,S,15,s[50]),C=p(C,P,k,A,v,21,s[51]),A=p(A,C,P,k,T,6,s[52]),k=p(k,A,C,P,d,10,s[53]),P=p(P,k,A,C,x,15,s[54]),C=p(C,P,k,A,l,21,s[55]),A=p(A,C,P,k,_,6,s[56]),k=p(k,A,C,P,M,10,s[57]),P=p(P,k,A,C,y,15,s[58]),C=p(C,P,k,A,E,21,s[59]),A=p(A,C,P,k,m,6,s[60]),k=p(k,A,C,P,w,10,s[61]),P=p(P,k,A,C,f,15,s[62]),C=p(C,P,k,A,b,21,s[63]),o[0]=o[0]+A|0,o[1]=o[1]+C|0,o[2]=o[2]+P|0,o[3]=o[3]+k|0},_doFinalize:function(){var e=this._data,r=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;r[n>>>5]|=128<<24-n%32;var o=t.floor(i/4294967296),a=i;r[15+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(n+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,l=s.words,h=0;h<4;h++){var u=l[h];l[h]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function h(t,e,r,i,n,o,a){var s=t+(e&r|~e&i)+n+a;return(s<<o|s>>>32-o)+e}function u(t,e,r,i,n,o,a){var s=t+(e&i|r&~i)+n+a;return(s<<o|s>>>32-o)+e}function c(t,e,r,i,n,o,a){var s=t+(e^r^i)+n+a;return(s<<o|s>>>32-o)+e}function p(t,e,r,i,n,o,a){var s=t+(r^(e|~i))+n+a;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(l),e.HmacMD5=o._createHmacHelper(l)}(Math),i.MD5)},e7zE:function(t,e,r){var i,n,o,a,s,l,h,u,c;t.exports=(c=r("Ib8C"),r("3y9D"),r("WYAk"),n=(i=c).lib,o=n.Base,a=n.WordArray,s=i.algo,l=s.SHA1,h=s.HMAC,u=s.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:l,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,i=h.create(r.hasher,t),n=a.create(),o=a.create([1]),s=n.words,l=o.words,u=r.keySize,c=r.iterations;s.length<u;){var p=i.update(e).finalize(o);i.reset();for(var f=p.words,d=f.length,m=p,v=1;v<c;v++){m=i.finalize(m),i.reset();for(var y=m.words,g=0;g<d;g++)f[g]^=y[g]}n.concat(p),l[0]++}return n.sigBytes=4*u,n}}),i.PBKDF2=function(t,e,r){return u.create(r).compute(t,e)},c.PBKDF2)},gK8M:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return p}));var i,n=function(t,e){this.name="CodeError",this.code="",this.message="","number"==typeof t||"string"==typeof t?this.code=t+"":"object"==typeof t&&(t.code?this.code=t.code:t instanceof Error?this.code=t.message:console.warn("input without code field:",JSON.stringify(t)),t.message&&(this.message=t.message),t.payload&&(this.payload=t.payload)),e&&(this.message=e),this.stack=(new Error).stack,Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack};!function(t){t[t.UNKNOWN=200001]="UNKNOWN",t[t.NET_ERROR=210001]="NET_ERROR",t[t.REQUEST_TIMEOUT=210002]="REQUEST_TIMEOUT",t[t.POLLING_TIMEOUT=210003]="POLLING_TIMEOUT",t[t.INVALID_RESPONSE=210004]="INVALID_RESPONSE",t[t.CALL_LIMITING=210005]="CALL_LIMITING",t[t.GET_PX_TOKEN_FAILED=220001]="GET_PX_TOKEN_FAILED"}(i||(i={}));var o=r("zgwS"),a=r("bCyt"),s=r("Wgss"),l=function(){return(l=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},h=function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))},u=function(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c={user_type:a.b?"0":"1",is_from_share:a.a?"0":"1"};function p(t,e,r){var a=this,p={},f=function(f){var d=function(t){if("string"==typeof t)return{uri:t,method:"get"};if("object"==typeof t){var e=t.uri,r=t.method;return{uri:e,method:void 0===r?"get":r,headers:t.headers,requestContentType:t.requestContentType,justData:t.justData,withToken:t.withToken,host:t.host}}console.error("getRequestParams: 传参有误")}(t[f]),m=d.uri,v=d.method,y=d.headers,g=d.requestContentType,_=d.justData,b=void 0===_||_,x=d.withToken,w=d.host;e&&(m=e+"/"+m);var T=window.api_host;(w||T)&&(m=(w||T)+m),p[f]=function(t,e){return void 0===t&&(t={}),h(a,void 0,void 0,(function(){var a,h,p,f,d;return u(this,(function(u){switch(u.label){case 0:if(!x)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Object(s.a)()];case 2:return a=u.sent(),[3,4];case 3:throw h=u.sent(),console.warn("星速台token获取失败，下游接口:",m),console.warn("error:",h),new n(i.GET_PX_TOKEN_FAILED,"获取星速台token失败");case 4:return p=l(l({},y),e),x&&a&&(t.token=a),t=l(l({},t),c),f=Object(o.a)({uri:m,params:t,method:v,headers:p,requestContentType:g,justData:b}),r?[4,f.catch((function(t){throw r(t,m),t}))]:[3,6];case 5:return d=u.sent(),[3,8];case 6:return[4,f];case 7:d=u.sent(),u.label=8;case 8:return[2,d]}}))}))}};for(var d in t)f(d);return p}},"gb/T":function(t,e,r){var i,n;t.exports=(n=r("Ib8C"),r("OLod"),n.mode.ECB=((i=n.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),i.Decryptor=i.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),i),n.mode.ECB)},go4e:function(t,e,r){"use strict";t.exports=r("G+3J")},i8i4:function(t,e,r){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}}(),t.exports=r("yl30")},jO9C:function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("OLod"),i.pad.Iso97971={pad:function(t,e){t.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(t,e)},unpad:function(t){i.pad.ZeroPadding.unpad(t),t.sigBytes--}},i.pad.Iso97971)},lPiR:function(t,e,r){var i;t.exports=(i=r("Ib8C"),function(t){var e=i,r=e.lib,n=r.WordArray,o=r.Hasher,a=e.algo,s=[],l=[];!function(){function e(e){for(var r=t.sqrt(e),i=2;i<=r;i++)if(!(e%i))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var i=2,n=0;n<64;)e(i)&&(n<8&&(s[n]=r(t.pow(i,.5))),l[n]=r(t.pow(i,1/3)),n++),i++}();var h=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,i=r[0],n=r[1],o=r[2],a=r[3],s=r[4],u=r[5],c=r[6],p=r[7],f=0;f<64;f++){if(f<16)h[f]=0|t[e+f];else{var d=h[f-15],m=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,v=h[f-2],y=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;h[f]=m+h[f-7]+y+h[f-16]}var g=i&n^i&o^n&o,_=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=p+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&c)+l[f]+h[f];p=c,c=u,u=s,s=a+b|0,a=o,o=n,n=i,i=b+(_+g)|0}r[0]=r[0]+i|0,r[1]=r[1]+n|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+u|0,r[6]=r[6]+c|0,r[7]=r[7]+p|0},_doFinalize:function(){var e=this._data,r=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return r[n>>>5]|=128<<24-n%32,r[14+(n+64>>>9<<4)]=t.floor(i/4294967296),r[15+(n+64>>>9<<4)]=i,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(u),e.HmacSHA256=o._createHmacHelper(u)}(Math),i.SHA256)},lSNA:function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports},ls82:function(t,e,r){var i=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},n=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,i){var n=e&&e.prototype instanceof c?e:c,o=Object.create(n.prototype),a=new T(i||[]);return o._invoke=function(t,e,r){var i="suspendedStart";return function(n,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===n)throw o;return S()}for(r.method=n,r.arg=o;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===i)throw i="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i="executing";var l=h(t,e,r);if("normal"===l.type){if(i=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i="completed",r.method="throw",r.arg=l.arg)}}}(t,r,a),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function c(){}function p(){}function f(){}var d={};s(d,n,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(E([])));v&&v!==e&&r.call(v,n)&&(d=v);var y=f.prototype=c.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){var i;this._invoke=function(n,o){function a(){return new e((function(i,a){!function i(n,o,a,s){var l=h(t[n],t,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==typeof c&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(c).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}(n,o,i,a)}))}return i=i?i.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=h(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,u;var n=i.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function E(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(y,"constructor",f),s(f,"constructor",p),p.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(_.prototype),s(_.prototype,o,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,i,n,o){void 0===o&&(o=Promise);var a=new _(l(e,r,i,n),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(y),s(y,a,"Generator"),s(y,n,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=E,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(r,i){return a.type="throw",a.arg=t,e.next=r,i&&(e.method="next",e.arg=void 0),!!i}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;w(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=i}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},lwsE:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},m0LI:function(t,e){t.exports=function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var i,n,o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(i=r.next()).done)&&(o.push(i.value),!e||o.length!==e);a=!0);}catch(t){s=!0,n=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw n}}return o}},t.exports.__esModule=!0,t.exports.default=t.exports},nsnv:function(t,e){!function(t,e){"use strict";if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var r=[];n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},n.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},n.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,r){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==r[e-1]}))},n.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(t,"resize",this._checkForIntersections,!0),o(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(t,"resize",this._checkForIntersections,!0),a(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},n.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),r=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(n){var o=n.element,a=l(o),s=this._rootContainsTarget(o),h=n.entry,u=e&&s&&this._computeTargetAndRootIntersection(o,r),c=n.entry=new i({time:t.performance&&performance.now&&performance.now(),target:o,boundingClientRect:a,rootBounds:r,intersectionRect:u});h?e&&s?this._hasCrossedThreshold(h,c)&&this._queuedEntries.push(c):h&&h.isIntersecting&&this._queuedEntries.push(c):this._queuedEntries.push(c)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},n.prototype._computeTargetAndRootIntersection=function(r,i){if("none"!=t.getComputedStyle(r).display){for(var n=l(r),o=u(r),a=!1;!a;){var h=null,c=1==o.nodeType?t.getComputedStyle(o):{};if("none"==c.display)return;if(o==this.root||o==e?(a=!0,h=i):o!=e.body&&o!=e.documentElement&&"visible"!=c.overflow&&(h=l(o)),h&&!(n=s(h,n)))break;o=u(o)}return n}},n.prototype._getRootRect=function(){var t;if(this.root)t=l(this.root);else{var r=e.documentElement,i=e.body;t={top:0,left:0,right:r.clientWidth||i.clientWidth,width:r.clientWidth||i.clientWidth,bottom:r.clientHeight||i.clientHeight,height:r.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},n.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,r){return"px"==e.unit?e.value:e.value*(r%2?t.width:t.height)/100})),r={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return r.width=r.right-r.left,r.height=r.bottom-r.top,r},n.prototype._hasCrossedThreshold=function(t,e){var r=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(r!==i)for(var n=0;n<this.thresholds.length;n++){var o=this.thresholds[n];if(o==r||o==i||o<r!=o<i)return!0}},n.prototype._rootIsInDom=function(){return!this.root||h(e,this.root)},n.prototype._rootContainsTarget=function(t){return h(this.root||e,t)},n.prototype._registerInstance=function(){r.indexOf(this)<0&&r.push(this)},n.prototype._unregisterInstance=function(){var t=r.indexOf(this);-1!=t&&r.splice(t,1)},t.IntersectionObserver=n,t.IntersectionObserverEntry=i}function i(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,r=e.width*e.height,i=this.intersectionRect,n=i.width*i.height;this.intersectionRatio=r?n/r:this.isIntersecting?1:0}function n(t,e){var r,i,n,o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(r=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,n=null,function(){n||(n=setTimeout((function(){r(),n=null}),i))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function o(t,e,r,i){"function"==typeof t.addEventListener?t.addEventListener(e,r,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,r)}function a(t,e,r,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,r,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,r)}function s(t,e){var r=Math.max(t.top,e.top),i=Math.min(t.bottom,e.bottom),n=Math.max(t.left,e.left),o=Math.min(t.right,e.right),a=o-n,s=i-r;return a>=0&&s>=0&&{top:r,bottom:i,left:n,right:o,width:a,height:s}}function l(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function h(t,e){for(var r=e;r;){if(r==t)return!0;r=u(r)}return!1}function u(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}}(window,document)},o0o1:function(t,e,r){t.exports=r("ls82")},oRuE:function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("OLod"),i.pad.Iso10126={pad:function(t,e){var r=4*e,n=r-t.sigBytes%r;t.concat(i.lib.WordArray.random(n-1)).concat(i.lib.WordArray.create([n<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},i.pad.Iso10126)},pA7S:function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("ETIr"),r("cv67"),r("K3mO"),r("OLod"),function(){var t=i,e=t.lib,r=e.WordArray,n=e.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],c=o.DES=n.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;r<56;r++){var i=a[r]-1;e[r]=t[i>>>5]>>>31-i%32&1}for(var n=this._subKeys=[],o=0;o<16;o++){var h=n[o]=[],u=l[o];for(r=0;r<24;r++)h[r/6|0]|=e[(s[r]-1+u)%28]<<31-r%6,h[4+(r/6|0)]|=e[28+(s[r+24]-1+u)%28]<<31-r%6;for(h[0]=h[0]<<1|h[0]>>>31,r=1;r<7;r++)h[r]=h[r]>>>4*(r-1)+3;h[7]=h[7]<<5|h[7]>>>27}var c=this._invSubKeys=[];for(r=0;r<16;r++)c[r]=n[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,r){this._lBlock=t[e],this._rBlock=t[e+1],p.call(this,4,252645135),p.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),p.call(this,1,1431655765);for(var i=0;i<16;i++){for(var n=r[i],o=this._lBlock,a=this._rBlock,s=0,l=0;l<8;l++)s|=h[l][((a^n[l])&u[l])>>>0];this._lBlock=a,this._rBlock=o^s}var c=this._lBlock;this._lBlock=this._rBlock,this._rBlock=c,p.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function p(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function f(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}t.DES=n._createHelper(c);var d=o.TripleDES=n.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),i=t.length<4?t.slice(0,2):t.slice(2,4),n=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=c.createEncryptor(r.create(e)),this._des2=c.createEncryptor(r.create(i)),this._des3=c.createEncryptor(r.create(n))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=n._createHelper(d)}(),i.TripleDES)},q1tI:function(t,e,r){"use strict";t.exports=r("viRO")},qBft:function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("OLod"),i.pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,i=4*e,n=i-r%i,o=r+n-1;t.clamp(),t.words[o>>>2]|=n<<24-o%4*8,t.sigBytes+=n},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},i.pad.Ansix923)},qEzZ:function(t){t.exports=JSON.parse("{}")},qM6L:function(t,e,r){var i;t.exports=(i=r("Ib8C"),function(){var t=i,e=t.lib.WordArray,r=t.enc;function n(t){return t<<8&4278255360|t>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,r=t.sigBytes,i=[],n=0;n<r;n+=2){var o=e[n>>>2]>>>16-n%4*8&65535;i.push(String.fromCharCode(o))}return i.join("")},parse:function(t){for(var r=t.length,i=[],n=0;n<r;n++)i[n>>>1]|=t.charCodeAt(n)<<16-n%2*16;return e.create(i,2*r)}},r.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,i=[],o=0;o<r;o+=2){var a=n(e[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(t){for(var r=t.length,i=[],o=0;o<r;o++)i[o>>>1]|=n(t.charCodeAt(o)<<16-o%2*16);return e.create(i,2*r)}}}(),i.enc.Utf16)},qu8F:function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("OLod"),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
i.mode.CTRGladman=function(){var t=i.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,r=t>>8&255,i=255&t;255===e?(e=0,255===r?(r=0,255===i?i=0:++i):++r):++e,t=0,t+=e<<16,t+=r<<8,t+=i}else t+=1<<24;return t}var r=t.Encryptor=t.extend({processBlock:function(t,r){var i=this._cipher,n=i.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(a);var s=a.slice(0);i.encryptBlock(s,0);for(var l=0;l<n;l++)t[r+l]^=s[l]}});return t.Decryptor=r,t}(),i.mode.CTRGladman)},r5Tj:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function __extends(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var __assign=function(){return(__assign=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function __rest(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}function __decorate(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a}function __param(t,e){return function(r,i){e(r,i,t)}}function __metadata(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function __awaiter(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function __generator(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var __createBinding=Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]};function __exportStar(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||__createBinding(e,t,r)}function __values(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a}function __spread(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t}function __spreadArrays(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,n++)i[n]=o[a];return i}function __spreadArray(t,e){for(var r=0,i=e.length,n=t.length;r<i;r++,n++)t[n]=e[r];return t}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(t,e||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(t){n[t]&&(i[t]=function(e){return new Promise((function(r,i){o.push([t,e,r,i])>1||s(t,e)}))})}function s(t,e){try{(r=n[t](e)).value instanceof __await?Promise.resolve(r.value.v).then(l,h):u(o[0][2],r)}catch(t){u(o[0][3],t)}var r}function l(t){s("next",t)}function h(t){s("throw",t)}function u(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function __asyncDelegator(t){var e,r;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,n){e[i]=t[i]?function(e){return(r=!r)?{value:__await(t[i](e)),done:"return"===i}:n?n(e):e}:n}}function __asyncValues(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=t[r]&&function(e){return new Promise((function(i,n){!function(t,e,r,i){Promise.resolve(i).then((function(e){t({value:e,done:r})}),e)}(i,n,(e=t[r](e)).done,e.value)}))}}}function __makeTemplateObject(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var __setModuleDefault=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function __importStar(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding(e,t,r);return __setModuleDefault(e,t),e}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)}function __classPrivateFieldSet(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{};function unwrapExports(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}function getCjsExportFromNamespace(t){return t&&t.default||t}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var lottie=createCommonjsModule((function(module){"undefined"!=typeof navigator&&function(t,e){module.exports?module.exports=e(t):(t.lottie=e(t),t.bodymovin=t.lottie)}(window||{},(function(window){var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bmRnd,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=e.length;for(t=0;t<r;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"==typeof t&&t.length){var e,r=createSizedArray(t.length),i=t.length;for(e=0;e<i;e+=1)r[e]=Math.abs(t[e]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bmRnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,r,i){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=i<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,r,i){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=i<0?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}roundValues(!1);var createElementID=(_count=0,function(){return"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(t,e,r){var i,n,o,a,s,l,h,u;switch(l=r*(1-e),h=r*(1-(s=6*t-(a=Math.floor(6*t)))*e),u=r*(1-(1-s)*e),a%6){case 0:i=r,n=u,o=l;break;case 1:i=h,n=r,o=l;break;case 2:i=l,n=r,o=u;break;case 3:i=l,n=h,o=r;break;case 4:i=u,n=l,o=r;break;case 5:i=r,n=l,o=h}return[i,n,o]}function RGBtoHSV(t,e,r){var i,n=Math.max(t,e,r),o=Math.min(t,e,r),a=n-o,s=0===n?0:a/n,l=n/255;switch(n){case o:i=0;break;case t:i=e-r+a*(e<r?6:0),i/=6*a;break;case e:i=r-t+2*a,i/=6*a;break;case r:i=t-e+4*a,i/=6*a}return[i,s,l]}function addSaturationToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var t,e,r=[];for(t=0;t<256;t+=1)e=t.toString(16),r[t]=1===e.length?"0"+e:e;return function(t,e,i){return t<0&&(t=0),e<0&&(e=0),i<0&&(i=0),"#"+r[t]+r[e]+r[i]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var r=this._cbs[t].length,i=0;i<r;i+=1)this._cbs[t][i](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var r=0,i=this._cbs[t].length;r<i;)this._cbs[t][r]===e&&(this._cbs[t].splice(r,1),r-=1,i-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray=function(){function t(t,e){var r,i=0,n=[];switch(t){case"int16":case"uint8c":r=1;break;default:r=1.1}for(i=0;i<e;i+=1)n.push(r);return n}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,r){return"float32"===e?new Float32Array(r):"int16"===e?new Int16Array(r):"uint8c"===e?new Uint8ClampedArray(r):t(e,r)}:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums,Matrix=function(){var t=Math.cos,e=Math.sin,r=Math.tan,i=Math.round;function n(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1)}function a(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(1,0,0,0,0,i,-n,0,0,n,i,0,0,0,0,1)}function s(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(i,0,n,0,0,1,0,0,-n,0,i,0,0,0,0,1)}function l(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1)}function h(t,e){return this._t(1,e,t,1,0,0)}function u(t,e){return this.shear(r(t),r(e))}function c(i,n){var o=t(n),a=e(n);return this._t(o,a,0,0,-a,o,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(i),1,0,0,0,0,1,0,0,0,0,1)._t(o,-a,0,0,a,o,0,0,0,0,1,0,0,0,0,1)}function p(t,e,r){return r||0===r||(r=1),1===t&&1===e&&1===r?this:this._t(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1)}function f(t,e,r,i,n,o,a,s,l,h,u,c,p,f,d,m){return this.props[0]=t,this.props[1]=e,this.props[2]=r,this.props[3]=i,this.props[4]=n,this.props[5]=o,this.props[6]=a,this.props[7]=s,this.props[8]=l,this.props[9]=h,this.props[10]=u,this.props[11]=c,this.props[12]=p,this.props[13]=f,this.props[14]=d,this.props[15]=m,this}function d(t,e,r){return r=r||0,0!==t||0!==e||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1):this}function m(t,e,r,i,n,o,a,s,l,h,u,c,p,f,d,m){var v=this.props;if(1===t&&0===e&&0===r&&0===i&&0===n&&1===o&&0===a&&0===s&&0===l&&0===h&&1===u&&0===c)return v[12]=v[12]*t+v[15]*p,v[13]=v[13]*o+v[15]*f,v[14]=v[14]*u+v[15]*d,v[15]*=m,this._identityCalculated=!1,this;var y=v[0],g=v[1],_=v[2],b=v[3],x=v[4],w=v[5],T=v[6],E=v[7],S=v[8],M=v[9],A=v[10],C=v[11],P=v[12],k=v[13],O=v[14],I=v[15];return v[0]=y*t+g*n+_*l+b*p,v[1]=y*e+g*o+_*h+b*f,v[2]=y*r+g*a+_*u+b*d,v[3]=y*i+g*s+_*c+b*m,v[4]=x*t+w*n+T*l+E*p,v[5]=x*e+w*o+T*h+E*f,v[6]=x*r+w*a+T*u+E*d,v[7]=x*i+w*s+T*c+E*m,v[8]=S*t+M*n+A*l+C*p,v[9]=S*e+M*o+A*h+C*f,v[10]=S*r+M*a+A*u+C*d,v[11]=S*i+M*s+A*c+C*m,v[12]=P*t+k*n+O*l+I*p,v[13]=P*e+k*o+O*h+I*f,v[14]=P*r+k*a+O*u+I*d,v[15]=P*i+k*s+O*c+I*m,this._identityCalculated=!1,this}function v(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function y(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function g(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function _(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function b(t,e,r){return{x:t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}}function x(t,e,r){return t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12]}function w(t,e,r){return t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13]}function T(t,e,r){return t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}function E(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,r=-this.props[1]/t,i=-this.props[4]/t,n=this.props[0]/t,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,s=new Matrix;return s.props[0]=e,s.props[1]=r,s.props[4]=i,s.props[5]=n,s.props[12]=o,s.props[13]=a,s}function S(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function M(t){var e,r=t.length,i=[];for(e=0;e<r;e+=1)i[e]=S(t[e]);return i}function A(t,e,r){var i=createTypedArray("float32",6);if(this.isIdentity())i[0]=t[0],i[1]=t[1],i[2]=e[0],i[3]=e[1],i[4]=r[0],i[5]=r[1];else{var n=this.props[0],o=this.props[1],a=this.props[4],s=this.props[5],l=this.props[12],h=this.props[13];i[0]=t[0]*n+t[1]*a+l,i[1]=t[0]*o+t[1]*s+h,i[2]=e[0]*n+e[1]*a+l,i[3]=e[0]*o+e[1]*s+h,i[4]=r[0]*n+r[1]*a+l,i[5]=r[0]*o+r[1]*s+h}return i}function C(t,e,r){return this.isIdentity()?[t,e,r]:[t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]]}function P(t,e){if(this.isIdentity())return t+","+e;var r=this.props;return Math.round(100*(t*r[0]+e*r[4]+r[12]))/100+","+Math.round(100*(t*r[1]+e*r[5]+r[13]))/100}function k(){for(var t=0,e=this.props,r="matrix3d(";t<16;)r+=i(1e4*e[t])/1e4,r+=15===t?")":",",t+=1;return r}function O(t){return t<1e-6&&t>0||t>-1e-6&&t<0?i(1e4*t)/1e4:t}function I(){var t=this.props;return"matrix("+O(t[0])+","+O(t[1])+","+O(t[4])+","+O(t[5])+","+O(t[12])+","+O(t[13])+")"}return function(){this.reset=n,this.rotate=o,this.rotateX=a,this.rotateY=s,this.rotateZ=l,this.skew=u,this.skewFromAxis=c,this.shear=h,this.scale=p,this.setTransform=f,this.translate=d,this.transform=m,this.applyToPoint=b,this.applyToX=x,this.applyToY=w,this.applyToZ=T,this.applyToPointArray=C,this.applyToTriplePoints=A,this.applyToPointStringified=P,this.toCSS=k,this.to2dCSS=I,this.clone=g,this.cloneFromProps=_,this.equals=y,this.inversePoints=M,this.inversePoint=S,this.getInverseMatrix=E,this._t=this.transform,this.isIdentity=v,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();
/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */!function(t,e){var r=this,i=e.pow(256,6),n=e.pow(2,52),o=2*n;function a(t){var e,r=t.length,i=this,n=0,o=i.i=i.j=0,a=i.S=[];for(r||(t=[r++]);n<256;)a[n]=n++;for(n=0;n<256;n++)a[n]=a[o=255&o+t[n%r]+(e=a[n])],a[o]=e;i.g=function(t){for(var e,r=0,n=i.i,o=i.j,a=i.S;t--;)e=a[n=255&n+1],r=256*r+a[255&(a[n]=a[o=255&o+e])+(a[o]=e)];return i.i=n,i.j=o,r}}function s(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function l(t,e){for(var r,i=t+"",n=0;n<i.length;)e[255&n]=255&(r^=19*e[255&n])+i.charCodeAt(n++);return h(e)}function h(t){return String.fromCharCode.apply(0,t)}e.seedrandom=function(u,c,p){var f=[],d=l(function t(e,r){var i,n=[],o=typeof e;if(r&&"object"==o)for(i in e)try{n.push(t(e[i],r-1))}catch(t){}return n.length?n:"string"==o?e:e+"\0"}((c=!0===c?{entropy:!0}:c||{}).entropy?[u,h(t)]:null===u?function(){try{var e=new Uint8Array(256);return(r.crypto||r.msCrypto).getRandomValues(e),h(e)}catch(e){var i=r.navigator,n=i&&i.plugins;return[+new Date,r,n,r.screen,h(t)]}}():u,3),f),m=new a(f),v=function(){for(var t=m.g(6),e=i,r=0;t<n;)t=256*(t+r),e*=256,r=m.g(1);for(;t>=o;)t/=2,e/=2,r>>>=1;return(t+r)/e};return v.int32=function(){return 0|m.g(4)},v.quick=function(){return m.g(4)/4294967296},v.double=v,l(h(m.S),t),(c.pass||p||function(t,r,i,n){return n&&(n.S&&s(n,m),t.state=function(){return s(m,{})}),i?(e.random=t,r):t})(v,d,"global"in c?c.global:this==e,c.state)},l(e.random(),t)}([],BMMath);var BezierFactory=function(){var t={getBezierEasing:function(t,r,i,n,o){var a=o||("bez_"+t+"_"+r+"_"+i+"_"+n).replace(/\./g,"p");if(e[a])return e[a];var s=new l([t,r,i,n]);return e[a]=s,s}},e={},r="function"==typeof Float32Array;function i(t,e){return 1-3*e+3*t}function n(t,e){return 3*e-6*t}function o(t){return 3*t}function a(t,e,r){return((i(e,r)*t+n(e,r))*t+o(e))*t}function s(t,e,r){return 3*i(e,r)*t*t+2*n(e,r)*t+o(e)}function l(t){this._p=t,this._mSampleValues=r?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return l.prototype={get:function(t){var e=this._p[0],r=this._p[1],i=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),e===r&&i===n?t:0===t?0:1===t?1:a(this._getTForX(t),r,n)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],i=this._p[3];this._precomputed=!0,t===e&&r===i||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],r=0;r<11;++r)this._mSampleValues[r]=a(.1*r,t,e)},_getTForX:function(t){for(var e=this._p[0],r=this._p[2],i=this._mSampleValues,n=0,o=1;10!==o&&i[o]<=t;++o)n+=.1;var l=n+(t-i[--o])/(i[o+1]-i[o])*.1,h=s(l,e,r);return h>=.001?function(t,e,r,i){for(var n=0;n<4;++n){var o=s(e,r,i);if(0===o)return e;e-=(a(e,r,i)-t)/o}return e}(t,l,e,r):0===h?l:function(t,e,r,i,n){var o,s,l=0;do{(o=a(s=e+(r-e)/2,i,n)-t)>0?r=s:e=s}while(Math.abs(o)>1e-7&&++l<10);return s}(t,n,n+.1,e,r)}},t}();function extendPrototype(t,e){var r,i,n=t.length;for(r=0;r<n;r+=1)for(var o in i=t[r].prototype)Object.prototype.hasOwnProperty.call(i,o)&&(e.prototype[o]=i[o])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){var t=Math;function e(t,e,r,i,n,o){var a=t*i+e*n+r*o-n*i-o*t-r*e;return a>-.001&&a<.001}var r=function(t,e,r,i){var n,o,a,s,l,h,u=defaultCurveSegments,c=0,p=[],f=[],d=bezierLengthPool.newElement();for(a=r.length,n=0;n<u;n+=1){for(l=n/(u-1),h=0,o=0;o<a;o+=1)s=bmPow(1-l,3)*t[o]+3*bmPow(1-l,2)*l*r[o]+3*(1-l)*bmPow(l,2)*i[o]+bmPow(l,3)*e[o],p[o]=s,null!==f[o]&&(h+=bmPow(p[o]-f[o],2)),f[o]=p[o];h&&(c+=h=bmSqrt(h)),d.percents[n]=l,d.lengths[n]=c}return d.addedLength=c,d};function i(t){this.segmentLength=0,this.points=new Array(t)}function n(t,e){this.partialLength=t,this.point=e}var o,a=(o={},function(t,r,a,s){var l=(t[0]+"_"+t[1]+"_"+r[0]+"_"+r[1]+"_"+a[0]+"_"+a[1]+"_"+s[0]+"_"+s[1]).replace(/\./g,"p");if(!o[l]){var h,u,c,p,f,d,m,v=defaultCurveSegments,y=0,g=null;2===t.length&&(t[0]!==r[0]||t[1]!==r[1])&&e(t[0],t[1],r[0],r[1],t[0]+a[0],t[1]+a[1])&&e(t[0],t[1],r[0],r[1],r[0]+s[0],r[1]+s[1])&&(v=2);var _=new i(v);for(c=a.length,h=0;h<v;h+=1){for(m=createSizedArray(c),f=h/(v-1),d=0,u=0;u<c;u+=1)p=bmPow(1-f,3)*t[u]+3*bmPow(1-f,2)*f*(t[u]+a[u])+3*(1-f)*bmPow(f,2)*(r[u]+s[u])+bmPow(f,3)*r[u],m[u]=p,null!==g&&(d+=bmPow(m[u]-g[u],2));y+=d=bmSqrt(d),_.points[h]=new n(d,m),g=m}_.segmentLength=y,o[l]=_}return o[l]});function s(t,e){var r=e.percents,i=e.lengths,n=r.length,o=bmFloor((n-1)*t),a=t*e.addedLength,s=0;if(o===n-1||0===o||a===i[o])return r[o];for(var l=i[o]>a?-1:1,h=!0;h;)if(i[o]<=a&&i[o+1]>a?(s=(a-i[o])/(i[o+1]-i[o]),h=!1):o+=l,o<0||o>=n-1){if(o===n-1)return r[o];h=!1}return r[o]+(r[o+1]-r[o])*s}var l=createTypedArray("float32",8);return{getSegmentsLength:function(t){var e,i=segmentsLengthPool.newElement(),n=t.c,o=t.v,a=t.o,s=t.i,l=t._length,h=i.lengths,u=0;for(e=0;e<l-1;e+=1)h[e]=r(o[e],o[e+1],a[e],s[e+1]),u+=h[e].addedLength;return n&&l&&(h[e]=r(o[e],o[0],a[e],s[0]),u+=h[e].addedLength),i.totalLength=u,i},getNewSegment:function(e,r,i,n,o,a,h){o<0?o=0:o>1&&(o=1);var u,c=s(o,h),p=s(a=a>1?1:a,h),f=e.length,d=1-c,m=1-p,v=d*d*d,y=c*d*d*3,g=c*c*d*3,_=c*c*c,b=d*d*m,x=c*d*m+d*c*m+d*d*p,w=c*c*m+d*c*p+c*d*p,T=c*c*p,E=d*m*m,S=c*m*m+d*p*m+d*m*p,M=c*p*m+d*p*p+c*m*p,A=c*p*p,C=m*m*m,P=p*m*m+m*p*m+m*m*p,k=p*p*m+m*p*p+p*m*p,O=p*p*p;for(u=0;u<f;u+=1)l[4*u]=t.round(1e3*(v*e[u]+y*i[u]+g*n[u]+_*r[u]))/1e3,l[4*u+1]=t.round(1e3*(b*e[u]+x*i[u]+w*n[u]+T*r[u]))/1e3,l[4*u+2]=t.round(1e3*(E*e[u]+S*i[u]+M*n[u]+A*r[u]))/1e3,l[4*u+3]=t.round(1e3*(C*e[u]+P*i[u]+k*n[u]+O*r[u]))/1e3;return l},getPointInSegment:function(e,r,i,n,o,a){var l=s(o,a),h=1-l;return[t.round(1e3*(h*h*h*e[0]+(l*h*h+h*l*h+h*h*l)*i[0]+(l*l*h+h*l*l+l*h*l)*n[0]+l*l*l*r[0]))/1e3,t.round(1e3*(h*h*h*e[1]+(l*h*h+h*l*h+h*h*l)*i[1]+(l*l*h+h*l*l+l*h*l)*n[1]+l*l*l*r[1]))/1e3]},buildBezierData:a,pointOnLine2D:e,pointOnLine3D:function(r,i,n,o,a,s,l,h,u){if(0===n&&0===s&&0===u)return e(r,i,o,a,l,h);var c,p=t.sqrt(t.pow(o-r,2)+t.pow(a-i,2)+t.pow(s-n,2)),f=t.sqrt(t.pow(l-r,2)+t.pow(h-i,2)+t.pow(u-n,2)),d=t.sqrt(t.pow(l-o,2)+t.pow(h-a,2)+t.pow(u-s,2));return(c=p>f?p>d?p-f-d:d-f-p:d>f?d-f-p:f-p-d)>-1e-4&&c<1e-4}}}!function(){for(var t=0,e=["ms","moz","webkit","o"],r=0;r<e.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[e[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[r]+"CancelAnimationFrame"]||window[e[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),n=setTimeout((function(){e(r+i)}),i);return t=r+i,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction();function dataFunctionManager(){function t(n,o,a){var s,l,h,c,p,f,d=n.length;for(l=0;l<d;l+=1)if("ks"in(s=n[l])&&!s.completed){if(s.completed=!0,s.tt&&(n[l-1].td=s.tt),s.hasMask){var m=s.masksProperties;for(c=m.length,h=0;h<c;h+=1)if(m[h].pt.k.i)i(m[h].pt.k);else for(f=m[h].pt.k.length,p=0;p<f;p+=1)m[h].pt.k[p].s&&i(m[h].pt.k[p].s[0]),m[h].pt.k[p].e&&i(m[h].pt.k[p].e[0])}0===s.ty?(s.layers=e(s.refId,o),t(s.layers,o,a)):4===s.ty?r(s.shapes):5===s.ty&&u(s)}}function e(t,e){for(var r=0,i=e.length;r<i;){if(e[r].id===t)return e[r].layers.__used?JSON.parse(JSON.stringify(e[r].layers)):(e[r].layers.__used=!0,e[r].layers);r+=1}return null}function r(t){var e,n,o;for(e=t.length-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)i(t[e].ks.k);else for(o=t[e].ks.k.length,n=0;n<o;n+=1)t[e].ks.k[n].s&&i(t[e].ks.k[n].s[0]),t[e].ks.k[n].e&&i(t[e].ks.k[n].e[0]);else"gr"===t[e].ty&&r(t[e].it)}function i(t){var e,r=t.i.length;for(e=0;e<r;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function n(t,e){var r=e?e.split("."):[100,100,100];return t[0]>r[0]||!(r[0]>t[0])&&(t[1]>r[1]||!(r[1]>t[1])&&(t[2]>r[2]||!(r[2]>t[2])&&null))}var o,a=function(){var t=[4,4,14];function e(t){var e,r,i,n=t.length;for(e=0;e<n;e+=1)5===t[e].ty&&(void 0,i=(r=t[e]).t.d,r.t.d={k:[{s:i,t:0}]})}return function(r){if(n(t,r.v)&&(e(r.layers),r.assets)){var i,o=r.assets.length;for(i=0;i<o;i+=1)r.assets[i].layers&&e(r.assets[i].layers)}}}(),s=(o=[4,7,99],function(t){if(t.chars&&!n(o,t.v)){var e,r,a,s,l,h=t.chars.length;for(e=0;e<h;e+=1)if(t.chars[e].data&&t.chars[e].data.shapes)for(a=(l=t.chars[e].data.shapes[0].it).length,r=0;r<a;r+=1)(s=l[r].ks.k).__converted||(i(l[r].ks.k),s.__converted=!0)}}),l=function(){var t=[4,1,9];function e(t){var r,i,n,o=t.length;for(r=0;r<o;r+=1)if("gr"===t[r].ty)e(t[r].it);else if("fl"===t[r].ty||"st"===t[r].ty)if(t[r].c.k&&t[r].c.k[0].i)for(n=t[r].c.k.length,i=0;i<n;i+=1)t[r].c.k[i].s&&(t[r].c.k[i].s[0]/=255,t[r].c.k[i].s[1]/=255,t[r].c.k[i].s[2]/=255,t[r].c.k[i].s[3]/=255),t[r].c.k[i].e&&(t[r].c.k[i].e[0]/=255,t[r].c.k[i].e[1]/=255,t[r].c.k[i].e[2]/=255,t[r].c.k[i].e[3]/=255);else t[r].c.k[0]/=255,t[r].c.k[1]/=255,t[r].c.k[2]/=255,t[r].c.k[3]/=255}function r(t){var r,i=t.length;for(r=0;r<i;r+=1)4===t[r].ty&&e(t[r].shapes)}return function(e){if(n(t,e.v)&&(r(e.layers),e.assets)){var i,o=e.assets.length;for(i=0;i<o;i+=1)e.assets[i].layers&&r(e.assets[i].layers)}}}(),h=function(){var t=[4,4,18];function e(t){var r,i,n;for(r=t.length-1;r>=0;r-=1)if("sh"===t[r].ty)if(t[r].ks.k.i)t[r].ks.k.c=t[r].closed;else for(n=t[r].ks.k.length,i=0;i<n;i+=1)t[r].ks.k[i].s&&(t[r].ks.k[i].s[0].c=t[r].closed),t[r].ks.k[i].e&&(t[r].ks.k[i].e[0].c=t[r].closed);else"gr"===t[r].ty&&e(t[r].it)}function r(t){var r,i,n,o,a,s,l=t.length;for(i=0;i<l;i+=1){if((r=t[i]).hasMask){var h=r.masksProperties;for(o=h.length,n=0;n<o;n+=1)if(h[n].pt.k.i)h[n].pt.k.c=h[n].cl;else for(s=h[n].pt.k.length,a=0;a<s;a+=1)h[n].pt.k[a].s&&(h[n].pt.k[a].s[0].c=h[n].cl),h[n].pt.k[a].e&&(h[n].pt.k[a].e[0].c=h[n].cl)}4===r.ty&&e(r.shapes)}}return function(e){if(n(t,e.v)&&(r(e.layers),e.assets)){var i,o=e.assets.length;for(i=0;i<o;i+=1)e.assets[i].layers&&r(e.assets[i].layers)}}}();function u(t){0!==t.t.a.length||"m"in t.t.p||(t.singleShape=!0)}var c={completeData:function(e,r){e.__complete||(l(e),a(e),s(e),h(e),t(e.layers,e.assets,r),e.__complete=!0)}};return c.checkColors=l,c.checkChars=s,c.checkShapes=h,c.completeLayers=t,c}var dataManager=dataFunctionManager();function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],r="normal",i="normal",n=e.length,o=0;o<n;o+=1)switch(e[o].toLowerCase()){case"italic":i="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:i,weight:t.fWeight||r}}var FontManager=function(){var t={w:0,size:0,shapes:[]},e=[];function r(t,e){var r=createTag("span");r.setAttribute("aria-hidden",!0),r.style.fontFamily=e;var i=createTag("span");i.innerText="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(i),document.body.appendChild(r);var n=i.offsetWidth;return i.style.fontFamily=function(t){var e,r=t.split(","),i=r.length,n=[];for(e=0;e<i;e+=1)"sans-serif"!==r[e]&&"monospace"!==r[e]&&n.push(r[e]);return n.join(",")}(t)+", "+e,{node:i,w:n,parent:r}}function i(t,e){var r=createNS("text");r.style.fontSize="100px";var i=getFontProperties(e);return r.setAttribute("font-family",e.fFamily),r.setAttribute("font-style",i.style),r.setAttribute("font-weight",i.weight),r.textContent="1",e.fClass?(r.style.fontFamily="inherit",r.setAttribute("class",e.fClass)):r.style.fontFamily=e.fFamily,t.appendChild(r),createTag("canvas").getContext("2d").font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,r}e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return n.getCombinedCharacterCodes=function(){return e},n.prototype={addChars:function(t){if(t){var e;this.chars||(this.chars=[]);var r,i,n=t.length,o=this.chars.length;for(e=0;e<n;e+=1){for(r=0,i=!1;r<o;)this.chars[r].style===t[e].style&&this.chars[r].fFamily===t[e].fFamily&&this.chars[r].ch===t[e].ch&&(i=!0),r+=1;i||(this.chars.push(t[e]),o+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);var n,o=t.list,a=o.length,s=a;for(n=0;n<a;n+=1){var l,h,u=!0;if(o[n].loaded=!1,o[n].monoCase=r(o[n].fFamily,"monospace"),o[n].sansCase=r(o[n].fFamily,"sans-serif"),o[n].fPath){if("p"===o[n].fOrigin||3===o[n].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+o[n].fFamily+'"], style[f-origin="3"][f-family="'+o[n].fFamily+'"]')).length>0&&(u=!1),u){var c=createTag("style");c.setAttribute("f-forigin",o[n].fOrigin),c.setAttribute("f-origin",o[n].origin),c.setAttribute("f-family",o[n].fFamily),c.type="text/css",c.innerText="@font-face {font-family: "+o[n].fFamily+"; font-style: normal; src: url('"+o[n].fPath+"');}",e.appendChild(c)}}else if("g"===o[n].fOrigin||1===o[n].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),h=0;h<l.length;h+=1)-1!==l[h].href.indexOf(o[n].fPath)&&(u=!1);if(u){var p=createTag("link");p.setAttribute("f-forigin",o[n].fOrigin),p.setAttribute("f-origin",o[n].origin),p.type="text/css",p.rel="stylesheet",p.href=o[n].fPath,document.body.appendChild(p)}}else if("t"===o[n].fOrigin||2===o[n].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),h=0;h<l.length;h+=1)o[n].fPath===l[h].src&&(u=!1);if(u){var f=createTag("link");f.setAttribute("f-forigin",o[n].fOrigin),f.setAttribute("f-origin",o[n].origin),f.setAttribute("rel","stylesheet"),f.setAttribute("href",o[n].fPath),e.appendChild(f)}}}else o[n].loaded=!0,s-=1;o[n].helper=i(e,o[n]),o[n].cache={},this.fonts.push(o[n])}0===s?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,r,i){for(var n=0,o=this.chars.length;n<o;){if(this.chars[n].ch===e&&this.chars[n].style===r&&this.chars[n].fFamily===i)return this.chars[n];n+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&!this._warned&&(this._warned=!0),t},getFontByName:function(t){for(var e=0,r=this.fonts.length;e<r;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,r){var i=this.getFontByName(e),n=t.charCodeAt(0);if(!i.cache[n+1]){var o=i.helper;if(" "===t){o.textContent="|"+t+"|";var a=o.getComputedTextLength();o.textContent="||";var s=o.getComputedTextLength();i.cache[n+1]=(a-s)/100}else o.textContent=t,i.cache[n+1]=o.getComputedTextLength()/100}return i.cache[n+1]*r},checkLoadedFonts:function(){var t,e,r,i=this.fonts.length,n=i;for(t=0;t<i;t+=1)this.fonts[t].loaded?n-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,r=this.fonts[t].monoCase.w,e.offsetWidth!==r?(n-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,r=this.fonts[t].sansCase.w,e.offsetWidth!==r&&(n-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},n}(),PropertyFactory=function(){var t=initialDefaultFrame,e=Math.abs;function r(t,e){var r,n=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var o,a,s,l,h,u,c,p,f=e.lastIndex,d=f,m=this.keyframes.length-1,v=!0;v;){if(o=this.keyframes[d],a=this.keyframes[d+1],d===m-1&&t>=a.t-n){o.h&&(o=a),f=0;break}if(a.t-n>t){f=d;break}d<m-1?d+=1:(f=0,v=!1)}var y,g=a.t-n,_=o.t-n;if(o.to){o.bezierData||(o.bezierData=bez.buildBezierData(o.s,a.s||o.e,o.to,o.ti));var b=o.bezierData;if(t>=g||t<_){var x=t>=g?b.points.length-1:0;for(l=b.points[x].point.length,s=0;s<l;s+=1)r[s]=b.points[x].point[s]}else{o.__fnct?p=o.__fnct:(p=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y,o.n).get,o.__fnct=p),h=p((t-_)/(g-_));var w,T=b.segmentLength*h,E=e.lastFrame<t&&e._lastKeyframeIndex===d?e._lastAddedLength:0;for(c=e.lastFrame<t&&e._lastKeyframeIndex===d?e._lastPoint:0,v=!0,u=b.points.length;v;){if(E+=b.points[c].partialLength,0===T||0===h||c===b.points.length-1){for(l=b.points[c].point.length,s=0;s<l;s+=1)r[s]=b.points[c].point[s];break}if(T>=E&&T<E+b.points[c+1].partialLength){for(w=(T-E)/b.points[c+1].partialLength,l=b.points[c].point.length,s=0;s<l;s+=1)r[s]=b.points[c].point[s]+(b.points[c+1].point[s]-b.points[c].point[s])*w;break}c<u-1?c+=1:v=!1}e._lastPoint=c,e._lastAddedLength=E-b.points[c].partialLength,e._lastKeyframeIndex=d}}else{var S,M,A,C,P;if(m=o.s.length,y=a.s||o.e,this.sh&&1!==o.h)t>=g?(r[0]=y[0],r[1]=y[1],r[2]=y[2]):t<=_?(r[0]=o.s[0],r[1]=o.s[1],r[2]=o.s[2]):function(t,e){var r=e[0],i=e[1],n=e[2],o=e[3],a=Math.atan2(2*i*o-2*r*n,1-2*i*i-2*n*n),s=Math.asin(2*r*i+2*n*o),l=Math.atan2(2*r*o-2*i*n,1-2*r*r-2*n*n);t[0]=a/degToRads,t[1]=s/degToRads,t[2]=l/degToRads}(r,function(t,e,r){var i,n,o,a,s,l=[],h=t[0],u=t[1],c=t[2],p=t[3],f=e[0],d=e[1],m=e[2],v=e[3];return(n=h*f+u*d+c*m+p*v)<0&&(n=-n,f=-f,d=-d,m=-m,v=-v),1-n>1e-6?(i=Math.acos(n),o=Math.sin(i),a=Math.sin((1-r)*i)/o,s=Math.sin(r*i)/o):(a=1-r,s=r),l[0]=a*h+s*f,l[1]=a*u+s*d,l[2]=a*c+s*m,l[3]=a*p+s*v,l}(i(o.s),i(y),(t-_)/(g-_)));else for(d=0;d<m;d+=1)1!==o.h&&(t>=g?h=1:t<_?h=0:(o.o.x.constructor===Array?(o.__fnct||(o.__fnct=[]),o.__fnct[d]?p=o.__fnct[d]:(S=void 0===o.o.x[d]?o.o.x[0]:o.o.x[d],M=void 0===o.o.y[d]?o.o.y[0]:o.o.y[d],A=void 0===o.i.x[d]?o.i.x[0]:o.i.x[d],C=void 0===o.i.y[d]?o.i.y[0]:o.i.y[d],p=BezierFactory.getBezierEasing(S,M,A,C).get,o.__fnct[d]=p)):o.__fnct?p=o.__fnct:(S=o.o.x,M=o.o.y,A=o.i.x,C=o.i.y,p=BezierFactory.getBezierEasing(S,M,A,C).get,o.__fnct=p),h=p((t-_)/(g-_)))),y=a.s||o.e,P=1===o.h?o.s[d]:o.s[d]+(y[d]-o.s[d])*h,"multidimensional"===this.propType?r[d]=P:r=P}return e.lastIndex=f,r}function i(t){var e=t[0]*degToRads,r=t[1]*degToRads,i=t[2]*degToRads,n=Math.cos(e/2),o=Math.cos(r/2),a=Math.cos(i/2),s=Math.sin(e/2),l=Math.sin(r/2),h=Math.sin(i/2);return[s*l*a+n*o*h,s*o*a+n*l*h,n*l*a-s*o*h,n*o*a-s*l*h]}function n(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=i&&e>=i||this._caching.lastFrame<r&&e<r))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(e,this._caching);this.pv=n}return this._caching.lastFrame=e,this.pv}function o(t){var r;if("unidimensional"===this.propType)r=t*this.mult,e(this.v-r)>1e-5&&(this.v=r,this._mdf=!0);else for(var i=0,n=this.v.length;i<n;)r=t[i]*this.mult,e(this.v[i]-r)>1e-5&&(this.v[i]=r,this._mdf=!0),i+=1}function a(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function s(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function l(t,e,r,i){this.propType="unidimensional",this.mult=r||1,this.data=e,this.v=r?e.k*r:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=a,this.setVValue=o,this.addEffect=s}function h(t,e,r,i){var n;this.propType="multidimensional",this.mult=r||1,this.data=e,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var l=e.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),this.vel=createTypedArray("float32",l),n=0;n<l;n+=1)this.v[n]=e.k[n]*this.mult,this.pv[n]=e.k[n];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=a,this.setVValue=o,this.addEffect=s}function u(e,i,l,h){this.propType="unidimensional",this.keyframes=i.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=i,this.mult=l||1,this.elem=e,this.container=h,this.comp=e.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=a,this.setVValue=o,this.interpolateValue=r,this.effectsSequence=[n.bind(this)],this.addEffect=s}function c(e,i,l,h){var u;this.propType="multidimensional";var c,p,f,d,m=i.k.length;for(u=0;u<m-1;u+=1)i.k[u].to&&i.k[u].s&&i.k[u+1]&&i.k[u+1].s&&(c=i.k[u].s,p=i.k[u+1].s,f=i.k[u].to,d=i.k[u].ti,(2===c.length&&(c[0]!==p[0]||c[1]!==p[1])&&bez.pointOnLine2D(c[0],c[1],p[0],p[1],c[0]+f[0],c[1]+f[1])&&bez.pointOnLine2D(c[0],c[1],p[0],p[1],p[0]+d[0],p[1]+d[1])||3===c.length&&(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2])&&bez.pointOnLine3D(c[0],c[1],c[2],p[0],p[1],p[2],c[0]+f[0],c[1]+f[1],c[2]+f[2])&&bez.pointOnLine3D(c[0],c[1],c[2],p[0],p[1],p[2],p[0]+d[0],p[1]+d[1],p[2]+d[2]))&&(i.k[u].to=null,i.k[u].ti=null),c[0]===p[0]&&c[1]===p[1]&&0===f[0]&&0===f[1]&&0===d[0]&&0===d[1]&&(2===c.length||c[2]===p[2]&&0===f[2]&&0===d[2])&&(i.k[u].to=null,i.k[u].ti=null));this.effectsSequence=[n.bind(this)],this.data=i,this.keyframes=i.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=l||1,this.elem=e,this.container=h,this.comp=e.comp,this.getValue=a,this.setVValue=o,this.interpolateValue=r,this.frameId=-1;var v=i.k[0].s.length;for(this.v=createTypedArray("float32",v),this.pv=createTypedArray("float32",v),u=0;u<v;u+=1)this.v[u]=t,this.pv[u]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray("float32",v)},this.addEffect=s}return{getProp:function(t,e,r,i,n){var o;if(e.k.length)if("number"==typeof e.k[0])o=new h(t,e,i,n);else switch(r){case 0:o=new u(t,e,i,n);break;case 1:o=new c(t,e,i,n)}else o=new l(t,e,i,n);return o.effectsSequence.length&&n.addDynamicProperty(o),o}}}(),TransformPropertyFactory=function(){var t=[0,0];function e(t,e,r){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var i,n=e.or.k.length;for(i=0;i<n;i+=1)e.or.k[i].to=null,e.or.k[i].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var r;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var i,n;if(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(i=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),n=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(i=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),n=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(i=this.p.pv,n=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){i=[],n=[];var o=this.px,a=this.py;o._caching.lastFrame+o.offsetTime<=o.keyframes[0].t?(i[0]=o.getValueAtTime((o.keyframes[0].t+.01)/r,0),i[1]=a.getValueAtTime((a.keyframes[0].t+.01)/r,0),n[0]=o.getValueAtTime(o.keyframes[0].t/r,0),n[1]=a.getValueAtTime(a.keyframes[0].t/r,0)):o._caching.lastFrame+o.offsetTime>=o.keyframes[o.keyframes.length-1].t?(i[0]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/r,0),i[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/r,0),n[0]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/r,0),n[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/r,0)):(i=[o.pv,a.pv],n[0]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/r,o.offsetTime),n[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/r,a.offsetTime))}else i=n=t;this.v.rotate(-Math.atan2(i[1]-n[1],i[0]-n[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,r,i){return new e(t,r,i)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,i,n){var o;switch(this._length=Math.max(this._length,i+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o;break;default:o=[]}(!o[i]||o[i]&&!n)&&(o[i]=pointPool.newElement()),o[i][0]=t,o[i][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,i,n,o,a,s){this.setXYAt(t,e,"v",a,s),this.setXYAt(r,i,"o",a,s),this.setXYAt(n,o,"i",a,s)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,i=this.i,n=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],i[0][0],i[0][1],r[0][0],r[0][1],0,!1),n=1);var o,a=this._length-1,s=this._length;for(o=n;o<s;o+=1)t.setTripleAt(e[a][0],e[a][1],i[a][0],i[a][1],r[a][0],r[a][1],o,!1),a-=1;return t};var ShapePropertyFactory=function(){function t(t,e,r){var i,n,o,a,s,l,h,u,c,p=r.lastIndex,f=this.keyframes;if(t<f[0].t-this.offsetTime)i=f[0].s[0],o=!0,p=0;else if(t>=f[f.length-1].t-this.offsetTime)i=f[f.length-1].s?f[f.length-1].s[0]:f[f.length-2].e[0],o=!0;else{for(var d,m,v=p,y=f.length-1,g=!0;g&&(d=f[v],!((m=f[v+1]).t-this.offsetTime>t));)v<y-1?v+=1:g=!1;if(p=v,!(o=1===d.h)){if(t>=m.t-this.offsetTime)u=1;else if(t<d.t-this.offsetTime)u=0;else{var _;d.__fnct?_=d.__fnct:(_=BezierFactory.getBezierEasing(d.o.x,d.o.y,d.i.x,d.i.y).get,d.__fnct=_),u=_((t-(d.t-this.offsetTime))/(m.t-this.offsetTime-(d.t-this.offsetTime)))}n=m.s?m.s[0]:d.e[0]}i=d.s[0]}for(l=e._length,h=i.i[0].length,r.lastIndex=p,a=0;a<l;a+=1)for(s=0;s<h;s+=1)c=o?i.i[a][s]:i.i[a][s]+(n.i[a][s]-i.i[a][s])*u,e.i[a][s]=c,c=o?i.o[a][s]:i.o[a][s]+(n.o[a][s]-i.o[a][s])*u,e.o[a][s]=c,c=o?i.v[a][s]:i.v[a][s]+(n.v[a][s]-i.v[a][s])*u,e.v[a][s]=c}function e(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime,i=this._caching.lastFrame;return-999999!==i&&(i<e&&t<e||i>r&&t>r)||(this._caching.lastIndex=i<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function r(){this.paths=this.localShapeCollection}function i(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var r,i=t._length;for(r=0;r<i;r+=1)if(t.v[r][0]!==e.v[r][0]||t.v[r][1]!==e.v[r][1]||t.o[r][0]!==e.o[r][0]||t.o[r][1]!==e.o[r][1]||t.i[r][0]!==e.i[r][0]||t.i[r][1]!==e.i[r][1])return!1;return!0})(this.v,t)||(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function n(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t,e;this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var r=this.effectsSequence.length;for(e=0;e<r;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(t,e,i){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===i?e.pt.k:e.ks.k;this.v=shapePool.clone(n),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function s(t,i,n){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===n?i.pt.k:i.ks.k,this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=r,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[e.bind(this)]}o.prototype.interpolateShape=t,o.prototype.getValue=n,o.prototype.setVValue=i,o.prototype.addEffect=a,s.prototype.getValue=n,s.prototype.interpolateShape=t,s.prototype.setVValue=i,s.prototype.addEffect=a;var l=function(){var t=roundCorner;function e(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],r=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,o=3!==this.d,a=this.v;a.v[0][0]=e,a.v[0][1]=r-n,a.v[1][0]=o?e+i:e-i,a.v[1][1]=r,a.v[2][0]=e,a.v[2][1]=r+n,a.v[3][0]=o?e-i:e+i,a.v[3][1]=r,a.i[0][0]=o?e-i*t:e+i*t,a.i[0][1]=r-n,a.i[1][0]=o?e+i:e-i,a.i[1][1]=r-n*t,a.i[2][0]=o?e+i*t:e-i*t,a.i[2][1]=r+n,a.i[3][0]=o?e-i:e+i,a.i[3][1]=r+n*t,a.o[0][0]=o?e+i*t:e-i*t,a.o[0][1]=r-n,a.o[1][0]=o?e+i:e-i,a.o[1][1]=r+n*t,a.o[2][0]=o?e-i*t:e+i*t,a.o[2][1]=r+n,a.o[3][0]=o?e-i:e+i,a.o[3][1]=r-n*t}},extendPrototype([DynamicPropertyContainer],e),e}(),h=function(){function t(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,r,i,n=2*Math.floor(this.pt.v),o=2*Math.PI/n,a=!0,s=this.or.v,l=this.ir.v,h=this.os.v,u=this.is.v,c=2*Math.PI*s/(2*n),p=2*Math.PI*l/(2*n),f=-Math.PI/2;f+=this.r.v;var d=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<n;t+=1){r=a?h:u,i=a?c:p;var m=(e=a?s:l)*Math.cos(f),v=e*Math.sin(f),y=0===m&&0===v?0:v/Math.sqrt(m*m+v*v),g=0===m&&0===v?0:-m/Math.sqrt(m*m+v*v);m+=+this.p.v[0],v+=+this.p.v[1],this.v.setTripleAt(m,v,m-y*i*r*d,v-g*i*r*d,m+y*i*r*d,v+g*i*r*d,t,!0),a=!a,f+=o*d}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),r=2*Math.PI/e,i=this.or.v,n=this.os.v,o=2*Math.PI*i/(4*e),a=.5*-Math.PI,s=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var l=i*Math.cos(a),h=i*Math.sin(a),u=0===l&&0===h?0:h/Math.sqrt(l*l+h*h),c=0===l&&0===h?0:-l/Math.sqrt(l*l+h*h);l+=+this.p.v[0],h+=+this.p.v[1],this.v.setTripleAt(l,h,l-u*o*n*s,h-c*o*n*s,l+u*o*n*s,h+c*o*n*s,t,!0),a+=r*s}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),u=function(){function t(t,e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],r=this.s.v[0]/2,i=this.s.v[1]/2,n=bmMin(r,i,this.r.v),o=n*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+r,e-i+n,t+r,e-i+n,t+r,e-i+o,0,!0),this.v.setTripleAt(t+r,e+i-n,t+r,e+i-o,t+r,e+i-n,1,!0),0!==n?(this.v.setTripleAt(t+r-n,e+i,t+r-n,e+i,t+r-o,e+i,2,!0),this.v.setTripleAt(t-r+n,e+i,t-r+o,e+i,t-r+n,e+i,3,!0),this.v.setTripleAt(t-r,e+i-n,t-r,e+i-n,t-r,e+i-o,4,!0),this.v.setTripleAt(t-r,e-i+n,t-r,e-i+o,t-r,e-i+n,5,!0),this.v.setTripleAt(t-r+n,e-i,t-r+n,e-i,t-r+o,e-i,6,!0),this.v.setTripleAt(t+r-n,e-i,t+r-o,e-i,t+r-n,e-i,7,!0)):(this.v.setTripleAt(t-r,e+i,t-r+o,e+i,t-r,e+i,2),this.v.setTripleAt(t-r,e-i,t-r,e-i+o,t-r,e-i,3))):(this.v.setTripleAt(t+r,e-i+n,t+r,e-i+o,t+r,e-i+n,0,!0),0!==n?(this.v.setTripleAt(t+r-n,e-i,t+r-n,e-i,t+r-o,e-i,1,!0),this.v.setTripleAt(t-r+n,e-i,t-r+o,e-i,t-r+n,e-i,2,!0),this.v.setTripleAt(t-r,e-i+n,t-r,e-i+n,t-r,e-i+o,3,!0),this.v.setTripleAt(t-r,e+i-n,t-r,e+i-o,t-r,e+i-n,4,!0),this.v.setTripleAt(t-r+n,e+i,t-r+n,e+i,t-r+o,e+i,5,!0),this.v.setTripleAt(t+r-n,e+i,t+r-o,e+i,t+r-n,e+i,6,!0),this.v.setTripleAt(t+r,e+i-n,t+r,e+i-n,t+r,e+i-o,7,!0)):(this.v.setTripleAt(t-r,e-i,t-r+o,e-i,t-r,e-i,1,!0),this.v.setTripleAt(t-r,e+i,t-r,e+i-o,t-r,e+i,2,!0),this.v.setTripleAt(t+r,e+i,t+r-o,e+i,t+r,e+i,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],t),t}();return{getShapeProp:function(t,e,r){var i;return 3===r||4===r?i=(3===r?e.pt:e.ks).k.length?new s(t,e,r):new o(t,e,r):5===r?i=new u(t,e):6===r?i=new l(t,e):7===r&&(i=new h(t,e)),i.k&&t.addDynamicProperty(i),i},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return s}}}(),ShapeModifiers=(ob={},modifiers={},ob.registerModifier=function(t,e){modifiers[t]||(modifiers[t]=e)},ob.getModifier=function(t,e,r){return new modifiers[t](e,r)},ob),ob,modifiers;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,r,i){var n;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(i);var o,a=e.length||0;for(n=0;n<a;n+=1)o=PropertyFactory.getProp(t,e[n].v,0,0,this),this.k=o.k||this.k,this.dataProps[n]={n:e[n].n,p:o};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,r){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var i=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",i),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=i,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,i,n){var o=[];e<=1?o.push({s:t,e:e}):t>=1?o.push({s:t-1,e:e-1}):(o.push({s:t,e:1}),o.push({s:0,e:e-1}));var a,s,l=[],h=o.length;for(a=0;a<h;a+=1){var u,c;(s=o[a]).e*n<i||s.s*n>i+r||(u=s.s*n<=i?0:(s.s*n-i)/r,c=s.e*n>=i+r?1:(s.e*n-i)/r,l.push([u,c]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,r,i,n;if(this._mdf||t){var o=this.o.v%360/360;if(o<0&&(o+=1),(e=this.s.v>1?1+o:this.s.v<0?0+o:this.s.v+o)>(r=this.e.v>1?1+o:this.e.v<0?0+o:this.e.v+o)){var a=e;e=r,r=a}e=1e-4*Math.round(1e4*e),r=1e-4*Math.round(1e4*r),this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var s,l,h,u,c,p=this.shapes.length,f=0;if(r===e)for(n=0;n<p;n+=1)this.shapes[n].localShapeCollection.releaseShapes(),this.shapes[n].shape._mdf=!0,this.shapes[n].shape.paths=this.shapes[n].localShapeCollection,this._mdf&&(this.shapes[n].pathsData.length=0);else if(1===r&&0===e||0===r&&1===e){if(this._mdf)for(n=0;n<p;n+=1)this.shapes[n].pathsData.length=0,this.shapes[n].shape._mdf=!0}else{var d,m,v=[];for(n=0;n<p;n+=1)if((d=this.shapes[n]).shape._mdf||this._mdf||t||2===this.m){if(l=(i=d.shape.paths)._length,c=0,!d.shape._mdf&&d.pathsData.length)c=d.totalShapeLength;else{for(h=this.releasePathsData(d.pathsData),s=0;s<l;s+=1)u=bez.getSegmentsLength(i.shapes[s]),h.push(u),c+=u.totalLength;d.totalShapeLength=c,d.pathsData=h}f+=c,d.shape._mdf=!0}else d.shape.paths=d.localShapeCollection;var y,g=e,_=r,b=0;for(n=p-1;n>=0;n-=1)if((d=this.shapes[n]).shape._mdf){for((m=d.localShapeCollection).releaseShapes(),2===this.m&&p>1?(y=this.calculateShapeEdges(e,r,d.totalShapeLength,b,f),b+=d.totalShapeLength):y=[[g,_]],l=y.length,s=0;s<l;s+=1){g=y[s][0],_=y[s][1],v.length=0,_<=1?v.push({s:d.totalShapeLength*g,e:d.totalShapeLength*_}):g>=1?v.push({s:d.totalShapeLength*(g-1),e:d.totalShapeLength*(_-1)}):(v.push({s:d.totalShapeLength*g,e:d.totalShapeLength}),v.push({s:0,e:d.totalShapeLength*(_-1)}));var x=this.addShapes(d,v[0]);if(v[0].s!==v[0].e){if(v.length>1)if(d.shape.paths.shapes[d.shape.paths._length-1].c){var w=x.pop();this.addPaths(x,m),x=this.addShapes(d,v[1],w)}else this.addPaths(x,m),x=this.addShapes(d,v[1]);this.addPaths(x,m)}}d.shape.paths=m}}},TrimModifier.prototype.addPaths=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,i,n,o,a){n.setXYAt(e[0],e[1],"o",o),n.setXYAt(r[0],r[1],"i",o+1),a&&n.setXYAt(t[0],t[1],"v",o),n.setXYAt(i[0],i[1],"v",o+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,r,i){e.setXYAt(t[1],t[5],"o",r),e.setXYAt(t[2],t[6],"i",r+1),i&&e.setXYAt(t[0],t[4],"v",r),e.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,e,r){var i,n,o,a,s,l,h,u,c=t.pathsData,p=t.shape.paths.shapes,f=t.shape.paths._length,d=0,m=[],v=!0;for(r?(s=r._length,u=r._length):(r=shapePool.newElement(),s=0,u=0),m.push(r),i=0;i<f;i+=1){for(l=c[i].lengths,r.c=p[i].c,o=p[i].c?l.length:l.length+1,n=1;n<o;n+=1)if(d+(a=l[n-1]).addedLength<e.s)d+=a.addedLength,r.c=!1;else{if(d>e.e){r.c=!1;break}e.s<=d&&e.e>=d+a.addedLength?(this.addSegment(p[i].v[n-1],p[i].o[n-1],p[i].i[n],p[i].v[n],r,s,v),v=!1):(h=bez.getNewSegment(p[i].v[n-1],p[i].v[n],p[i].o[n-1],p[i].i[n],(e.s-d)/a.addedLength,(e.e-d)/a.addedLength,l[n-1]),this.addSegmentFromArray(h,r,s,v),v=!1,r.c=!1),d+=a.addedLength,s+=1}if(p[i].c&&l.length){if(a=l[n-1],d<=e.e){var y=l[n-1].addedLength;e.s<=d&&e.e>=d+y?(this.addSegment(p[i].v[n-1],p[i].o[n-1],p[i].i[0],p[i].v[0],r,s,v),v=!1):(h=bez.getNewSegment(p[i].v[n-1],p[i].v[0],p[i].o[n-1],p[i].i[0],(e.s-d)/y,(e.e-d)/y,l[n-1]),this.addSegmentFromArray(h,r,s,v),v=!1,r.c=!1)}else r.c=!1;d+=a.addedLength,s+=1}if(r._length&&(r.setXYAt(r.v[u][0],r.v[u][1],"i",u),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),d>e.e)break;i<f-1&&(r=shapePool.newElement(),v=!0,m.push(r),s=0)}return m},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var r,i=shapePool.newElement();i.c=t.c;var n,o,a,s,l,h,u,c,p,f,d,m,v=t._length,y=0;for(r=0;r<v;r+=1)n=t.v[r],a=t.o[r],o=t.i[r],n[0]===a[0]&&n[1]===a[1]&&n[0]===o[0]&&n[1]===o[1]?0!==r&&r!==v-1||t.c?(s=0===r?t.v[v-1]:t.v[r-1],h=(l=Math.sqrt(Math.pow(n[0]-s[0],2)+Math.pow(n[1]-s[1],2)))?Math.min(l/2,e)/l:0,u=d=n[0]+(s[0]-n[0])*h,c=m=n[1]-(n[1]-s[1])*h,p=u-(u-n[0])*roundCorner,f=c-(c-n[1])*roundCorner,i.setTripleAt(u,c,p,f,d,m,y),y+=1,s=r===v-1?t.v[0]:t.v[r+1],h=(l=Math.sqrt(Math.pow(n[0]-s[0],2)+Math.pow(n[1]-s[1],2)))?Math.min(l/2,e)/l:0,u=p=n[0]+(s[0]-n[0])*h,c=f=n[1]+(s[1]-n[1])*h,d=u-(u-n[0])*roundCorner,m=c-(c-n[1])*roundCorner,i.setTripleAt(u,c,p,f,d,m,y),y+=1):(i.setTripleAt(n[0],n[1],a[0],a[1],o[0],o[1],y),y+=1):(i.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],y),y+=1);return i},RoundCornersModifier.prototype.processShapes=function(t){var e,r,i,n,o,a,s=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;r<s;r+=1){if(a=(o=this.shapes[r]).localShapeCollection,o.shape._mdf||this._mdf||t)for(a.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,n=o.shape.paths._length,i=0;i<n;i+=1)a.addShape(this.processPath(e[i],l));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var r=e/100,i=[0,0],n=t._length,o=0;for(o=0;o<n;o+=1)i[0]+=t.v[o][0],i[1]+=t.v[o][1];i[0]/=n,i[1]/=n;var a,s,l,h,u,c,p=shapePool.newElement();for(p.c=t.c,o=0;o<n;o+=1)a=t.v[o][0]+(i[0]-t.v[o][0])*r,s=t.v[o][1]+(i[1]-t.v[o][1])*r,l=t.o[o][0]+(i[0]-t.o[o][0])*-r,h=t.o[o][1]+(i[1]-t.o[o][1])*-r,u=t.i[o][0]+(i[0]-t.i[o][0])*-r,c=t.i[o][1]+(i[1]-t.i[o][1])*-r,p.setTripleAt(a,s,l,h,u,c,o);return p},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,r,i,n,o,a,s=this.shapes.length,l=this.amount.v;if(0!==l)for(r=0;r<s;r+=1){if(a=(o=this.shapes[r]).localShapeCollection,o.shape._mdf||this._mdf||t)for(a.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,n=o.shape.paths._length,i=0;i<n;i+=1)a.addShape(this.processPath(e[i],l));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,i,n,o){var a=o?-1:1,s=i.s.v[0]+(1-i.s.v[0])*(1-n),l=i.s.v[1]+(1-i.s.v[1])*(1-n);t.translate(i.p.v[0]*a*n,i.p.v[1]*a*n,i.p.v[2]),e.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),e.rotate(-i.r.v*a*n),e.translate(i.a.v[0],i.a.v[1],i.a.v[2]),r.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),r.scale(o?1/s:s,o?1/l:l),r.translate(i.a.v[0],i.a.v[1],i.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,i){for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=i,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r-=1,this._elements.unshift(e[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)t[r]._render=e,"gr"===t[r].ty&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,r,i,n,o,a=!1;if(this._mdf||t){var s,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var h={it:this.cloneElements(this._elements),ty:"gr"};h.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,h),this._groups.splice(0,0,h),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}for(o=0,i=0;i<=this._groups.length-1;i+=1){if(s=o<l,this._groups[i]._render=s,this.changeGroupRender(this._groups[i].it,s),!s){var u=this.elemsData[i].it,c=u[u.length-1];0!==c.transform.op.v?(c.transform.op._mdf=!0,c.transform.op.v=0):c.transform.op._mdf=!1}o+=1}this._currentCopies=l;var p=this.o.v,f=p%1,d=p>0?Math.floor(p):Math.ceil(p),m=this.pMatrix.props,v=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var g,_,b=0;if(p>0){for(;b<d;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),b+=1;f&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,f,!1),b+=f)}else if(p<0){for(;b>d;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),b-=1;f&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-f,!0),b-=f)}for(i=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,o=this._currentCopies;o;){if(_=(r=(e=this.elemsData[i].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(i/(this._currentCopies-1)),0!==b){for((0!==i&&1===n||i!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),g=0;g<_;g+=1)r[g]=this.matrix.props[g];this.matrix.reset()}else for(this.matrix.reset(),g=0;g<_;g+=1)r[g]=this.matrix.props[g];b+=1,o-=1,i+=n}}else for(o=this._currentCopies,i=0,n=1;o;)r=(e=this.elemsData[i].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,o-=1,i+=n;return a},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<r;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var r=0,i=this.o.length/2;r<i;){if(Math.abs(t[4*r]-t[4*e+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r,i,n=4*this.data.p;for(e=0;e<n;e+=1)r=e%4==0?100:255,i=Math.round(this.prop.v[e]*r),this.c[e]!==i&&(this.c[e]=i,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,e=4*this.data.p;e<n;e+=1)r=e%2==0?100:1,i=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==i&&(this.o[e-4*this.data.p]=i,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,r,i){if(0===e)return"";var n,o=t.o,a=t.i,s=t.v,l=" M"+i.applyToPointStringified(s[0][0],s[0][1]);for(n=1;n<e;n+=1)l+=" C"+i.applyToPointStringified(o[n-1][0],o[n-1][1])+" "+i.applyToPointStringified(a[n][0],a[n][1])+" "+i.applyToPointStringified(s[n][0],s[n][1]);return r&&e&&(l+=" C"+i.applyToPointStringified(o[n-1][0],o[n-1][1])+" "+i.applyToPointStringified(a[0][0],a[0][1])+" "+i.applyToPointStringified(s[0][0],s[0][1]),l+="z"),l},audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,r=this.audios.length;for(e=0;e<r;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):Howl?new Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(t,e,r){var i="";if(t.e)i=t.p;else if(e){var n=t.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),i=e+n}else i=r,i+=t.u?t.u:"",i+=t.p;return i}function n(t){var e=0,r=setInterval(function(){(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(r)),e+=1}.bind(this),50)}function o(t){var e={assetData:t},r=i(t,this.assetsPath,this.path);return assetLoader.load(r,function(t){e.img=t,this._footageLoaded()}.bind(this),function(){e.img={},this._footageLoaded()}.bind(this)),e}function a(){this._imageLoaded=e.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=n.bind(this),this.createFootageData=o.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return a.prototype={loadAssets:function(t,e){var r;this.imagesLoadedCb=e;var i=t.length;for(r=0;r<i;r+=1)t[r].layers||(t[r].t?3===t[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[r]))):(this.totalImages+=1,this.images.push(this._createImageData(t[r]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var e=0,r=this.images.length;e<r;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null},createImgData:function(e){var r=i(e,this.assetsPath,this.path),n=createTag("img");n.crossOrigin="anonymous",n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){o.img=t,this._imageLoaded()}.bind(this),!1),n.src=r;var o={img:n,assetData:e};return o},createImageData:function(e){var r=i(e,this.assetsPath,this.path),n=createNS("image");isSafari?this.testImageLoaded(n):n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){o.img=t,this._imageLoaded()}.bind(this),!1),n.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this._elementHelper.append?this._elementHelper.append(n):this._elementHelper.appendChild(n);var o={img:n,assetData:e};return o},imageLoaded:e,footageLoaded:r,setCacheType:function(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},a}(),featureSupport=(t={maskType:!0},(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t),filtersFactory=function(){var t={createFilter:function(t,e){var r=createNS("filter");return r.setAttribute("id",t),!0!==e&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return t}(),assetLoader=function(){function t(t){return t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}return{load:function(e,r,i){var n,o=new XMLHttpRequest;try{o.responseType="json"}catch(t){}o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)n=t(o),r(n);else try{n=t(o),r(n)}catch(t){i&&i(t)}},o.open("GET",e,!0),o.send()}}}(),t;function TextAnimatorProperty(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function TextAnimatorDataProperty(t,e,r){var i={propType:!1},n=PropertyFactory.getProp,o=e.a;this.a={r:o.r?n(t,o.r,0,degToRads,r):i,rx:o.rx?n(t,o.rx,0,degToRads,r):i,ry:o.ry?n(t,o.ry,0,degToRads,r):i,sk:o.sk?n(t,o.sk,0,degToRads,r):i,sa:o.sa?n(t,o.sa,0,degToRads,r):i,s:o.s?n(t,o.s,1,.01,r):i,a:o.a?n(t,o.a,1,0,r):i,o:o.o?n(t,o.o,0,.01,r):i,p:o.p?n(t,o.p,1,0,r):i,sw:o.sw?n(t,o.sw,0,0,r):i,sc:o.sc?n(t,o.sc,1,0,r):i,fc:o.fc?n(t,o.fc,1,0,r):i,fh:o.fh?n(t,o.fh,0,0,r):i,fs:o.fs?n(t,o.fs,0,.01,r):i,fb:o.fb?n(t,o.fb,0,.01,r):i,t:o.t?n(t,o.t,0,0,r):i},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function LetterProps(t,e,r,i,n,o){this.o=t,this.sw=e,this.sc=r,this.fc=i,this.m=n,this.p=o,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!i,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,r=this._textData.a.length,i=PropertyFactory.getProp;for(t=0;t<r;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:i(this._elem,this._textData.p.f,0,0,this),l:i(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=i(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,i,n,o,a,s,l,h,u,c,p,f,d,m,v,y,g,_,b,x=this._moreOptions.alignment.v,w=this._animatorsData,T=this._textData,E=this.mHelper,S=this._renderType,M=this.renderedLetters.length,A=t.l;if(this._hasMaskedPath){if(b=this._pathData.m,!this._pathData.n||this._pathData._mdf){var C,P=b.v;for(this._pathData.r&&(P=P.reverse()),a={tLength:0,segments:[]},o=P._length-1,y=0,n=0;n<o;n+=1)C=bez.buildBezierData(P.v[n],P.v[n+1],[P.o[n][0]-P.v[n][0],P.o[n][1]-P.v[n][1]],[P.i[n+1][0]-P.v[n+1][0],P.i[n+1][1]-P.v[n+1][1]]),a.tLength+=C.segmentLength,a.segments.push(C),y+=C.segmentLength;n=o,b.v.c&&(C=bez.buildBezierData(P.v[n],P.v[0],[P.o[n][0]-P.v[n][0],P.o[n][1]-P.v[n][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),a.tLength+=C.segmentLength,a.segments.push(C),y+=C.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,s=this._pathData.f.v,p=0,c=1,h=0,u=!0,m=a.segments,s<0&&b.v.c)for(a.tLength<Math.abs(s)&&(s=-Math.abs(s)%a.tLength),c=(d=m[p=m.length-1].points).length-1;s<0;)s+=d[c].partialLength,(c-=1)<0&&(c=(d=m[p-=1].points).length-1);f=(d=m[p].points)[c-1],v=(l=d[c]).partialLength}o=A.length,r=0,i=0;var k,O,I,D,R,F=1.2*t.finalSize*.714,L=!0;I=w.length;var B,N,z,j,V,U,W,q,H,G,Y,X,K=-1,Z=s,J=p,Q=c,$=-1,tt="",et=this.defaultPropsArray;if(2===t.j||1===t.j){var rt=0,it=0,nt=2===t.j?-.5:-1,ot=0,at=!0;for(n=0;n<o;n+=1)if(A[n].n){for(rt&&(rt+=it);ot<n;)A[ot].animatorJustifyOffset=rt,ot+=1;rt=0,at=!0}else{for(O=0;O<I;O+=1)(k=w[O].a).t.propType&&(at&&2===t.j&&(it+=k.t.v*nt),(R=w[O].s.getMult(A[n].anIndexes[O],T.a[O].s.totalChars)).length?rt+=k.t.v*R[0]*nt:rt+=k.t.v*R*nt);at=!1}for(rt&&(rt+=it);ot<n;)A[ot].animatorJustifyOffset=rt,ot+=1}for(n=0;n<o;n+=1){if(E.reset(),j=1,A[n].n)r=0,i+=t.yOffset,i+=L?1:0,s=Z,L=!1,this._hasMaskedPath&&(c=Q,f=(d=m[p=J].points)[c-1],v=(l=d[c]).partialLength,h=0),tt="",Y="",H="",X="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if($!==A[n].line){switch(t.j){case 1:s+=y-t.lineWidths[A[n].line];break;case 2:s+=(y-t.lineWidths[A[n].line])/2}$=A[n].line}K!==A[n].ind&&(A[K]&&(s+=A[K].extra),s+=A[n].an/2,K=A[n].ind),s+=x[0]*A[n].an*.005;var st=0;for(O=0;O<I;O+=1)(k=w[O].a).p.propType&&((R=w[O].s.getMult(A[n].anIndexes[O],T.a[O].s.totalChars)).length?st+=k.p.v[0]*R[0]:st+=k.p.v[0]*R),k.a.propType&&((R=w[O].s.getMult(A[n].anIndexes[O],T.a[O].s.totalChars)).length?st+=k.a.v[0]*R[0]:st+=k.a.v[0]*R);for(u=!0;u;)h+v>=s+st||!d?(g=(s+st-h)/l.partialLength,N=f.point[0]+(l.point[0]-f.point[0])*g,z=f.point[1]+(l.point[1]-f.point[1])*g,E.translate(-x[0]*A[n].an*.005,-x[1]*F*.01),u=!1):d&&(h+=l.partialLength,(c+=1)>=d.length&&(c=0,m[p+=1]?d=m[p].points:b.v.c?(c=0,d=m[p=0].points):(h-=l.partialLength,d=null)),d&&(f=l,v=(l=d[c]).partialLength));B=A[n].an/2-A[n].add,E.translate(-B,0,0)}else B=A[n].an/2-A[n].add,E.translate(-B,0,0),E.translate(-x[0]*A[n].an*.005,-x[1]*F*.01,0);for(O=0;O<I;O+=1)(k=w[O].a).t.propType&&(R=w[O].s.getMult(A[n].anIndexes[O],T.a[O].s.totalChars),0===r&&0===t.j||(this._hasMaskedPath?R.length?s+=k.t.v*R[0]:s+=k.t.v*R:R.length?r+=k.t.v*R[0]:r+=k.t.v*R));for(t.strokeWidthAnim&&(U=t.sw||0),t.strokeColorAnim&&(V=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(W=[t.fc[0],t.fc[1],t.fc[2]]),O=0;O<I;O+=1)(k=w[O].a).a.propType&&((R=w[O].s.getMult(A[n].anIndexes[O],T.a[O].s.totalChars)).length?E.translate(-k.a.v[0]*R[0],-k.a.v[1]*R[1],k.a.v[2]*R[2]):E.translate(-k.a.v[0]*R,-k.a.v[1]*R,k.a.v[2]*R));for(O=0;O<I;O+=1)(k=w[O].a).s.propType&&((R=w[O].s.getMult(A[n].anIndexes[O],T.a[O].s.totalChars)).length?E.scale(1+(k.s.v[0]-1)*R[0],1+(k.s.v[1]-1)*R[1],1):E.scale(1+(k.s.v[0]-1)*R,1+(k.s.v[1]-1)*R,1));for(O=0;O<I;O+=1){if(k=w[O].a,R=w[O].s.getMult(A[n].anIndexes[O],T.a[O].s.totalChars),k.sk.propType&&(R.length?E.skewFromAxis(-k.sk.v*R[0],k.sa.v*R[1]):E.skewFromAxis(-k.sk.v*R,k.sa.v*R)),k.r.propType&&(R.length?E.rotateZ(-k.r.v*R[2]):E.rotateZ(-k.r.v*R)),k.ry.propType&&(R.length?E.rotateY(k.ry.v*R[1]):E.rotateY(k.ry.v*R)),k.rx.propType&&(R.length?E.rotateX(k.rx.v*R[0]):E.rotateX(k.rx.v*R)),k.o.propType&&(R.length?j+=(k.o.v*R[0]-j)*R[0]:j+=(k.o.v*R-j)*R),t.strokeWidthAnim&&k.sw.propType&&(R.length?U+=k.sw.v*R[0]:U+=k.sw.v*R),t.strokeColorAnim&&k.sc.propType)for(q=0;q<3;q+=1)R.length?V[q]+=(k.sc.v[q]-V[q])*R[0]:V[q]+=(k.sc.v[q]-V[q])*R;if(t.fillColorAnim&&t.fc){if(k.fc.propType)for(q=0;q<3;q+=1)R.length?W[q]+=(k.fc.v[q]-W[q])*R[0]:W[q]+=(k.fc.v[q]-W[q])*R;k.fh.propType&&(W=R.length?addHueToRGB(W,k.fh.v*R[0]):addHueToRGB(W,k.fh.v*R)),k.fs.propType&&(W=R.length?addSaturationToRGB(W,k.fs.v*R[0]):addSaturationToRGB(W,k.fs.v*R)),k.fb.propType&&(W=R.length?addBrightnessToRGB(W,k.fb.v*R[0]):addBrightnessToRGB(W,k.fb.v*R))}}for(O=0;O<I;O+=1)(k=w[O].a).p.propType&&(R=w[O].s.getMult(A[n].anIndexes[O],T.a[O].s.totalChars),this._hasMaskedPath?R.length?E.translate(0,k.p.v[1]*R[0],-k.p.v[2]*R[1]):E.translate(0,k.p.v[1]*R,-k.p.v[2]*R):R.length?E.translate(k.p.v[0]*R[0],k.p.v[1]*R[1],-k.p.v[2]*R[2]):E.translate(k.p.v[0]*R,k.p.v[1]*R,-k.p.v[2]*R));if(t.strokeWidthAnim&&(H=U<0?0:U),t.strokeColorAnim&&(G="rgb("+Math.round(255*V[0])+","+Math.round(255*V[1])+","+Math.round(255*V[2])+")"),t.fillColorAnim&&t.fc&&(Y="rgb("+Math.round(255*W[0])+","+Math.round(255*W[1])+","+Math.round(255*W[2])+")"),this._hasMaskedPath){if(E.translate(0,-t.ls),E.translate(0,x[1]*F*.01+i,0),T.p.p){_=(l.point[1]-f.point[1])/(l.point[0]-f.point[0]);var lt=180*Math.atan(_)/Math.PI;l.point[0]<f.point[0]&&(lt+=180),E.rotate(-lt*Math.PI/180)}E.translate(N,z,0),s-=x[0]*A[n].an*.005,A[n+1]&&K!==A[n+1].ind&&(s+=A[n].an/2,s+=.001*t.tr*t.finalSize)}else{switch(E.translate(r,i,0),t.ps&&E.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:E.translate(A[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[A[n].line]),0,0);break;case 2:E.translate(A[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[A[n].line])/2,0,0)}E.translate(0,-t.ls),E.translate(B,0,0),E.translate(x[0]*A[n].an*.005,x[1]*F*.01,0),r+=A[n].l+.001*t.tr*t.finalSize}"html"===S?tt=E.toCSS():"svg"===S?tt=E.to2dCSS():et=[E.props[0],E.props[1],E.props[2],E.props[3],E.props[4],E.props[5],E.props[6],E.props[7],E.props[8],E.props[9],E.props[10],E.props[11],E.props[12],E.props[13],E.props[14],E.props[15]],X=j}M<=n?(D=new LetterProps(X,H,G,Y,tt,et),this.renderedLetters.push(D),M+=1,this.lettersChangedFlag=!0):(D=this.renderedLetters[n],this.lettersChangedFlag=D.update(X,H,G,Y,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,r,i,n,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,a=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,a=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,a=!0),this.fc!==i&&(this.fc=i,this._mdf.fc=!0,a=!0),this.m!==n&&(this.m=n,this._mdf.m=!0,a=!0),!o.length||this.p[0]===o[0]&&this.p[1]===o[1]&&this.p[4]===o[4]&&this.p[5]===o[5]&&this.p[12]===o[12]&&this.p[13]===o[13]||(this.p=o,this._mdf.p=!0,a=!0),a},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var i;this.lock=!0,this._mdf=!1;var n=this.effectsSequence.length,o=t||this.data.d.k[this.keysIndex].s;for(i=0;i<n;i+=1)o=r!==this.keysIndex?this.effectsSequence[i](o,o.t):this.effectsSequence[i](this.currentData,o.t);e!==o&&this.setCurrentData(o),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,i=t.length;r<=i-1&&!(r===i-1||t[r+1].t>e);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,r=FontManager.getCombinedCharacterCodes(),i=[],n=0,o=t.length;n<o;)e=t.charCodeAt(n),-1!==r.indexOf(e)?i[i.length-1]+=t.charAt(n):e>=55296&&e<=56319&&(e=t.charCodeAt(n+1))>=56320&&e<=57343?(i.push(t.substr(n,2)),n+=1):i.push(t.charAt(n)),n+=1;return i},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,r,i,n,o,a,s,l=this.elem.globalData.fontManager,h=this.data,u=[],c=0,p=h.m.g,f=0,d=0,m=0,v=[],y=0,g=0,_=l.getFontByName(t.f),b=0,x=getFontProperties(_);t.fWeight=x.weight,t.fStyle=x.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),r=t.finalText.length,t.finalLineHeight=t.lh;var w,T=t.tr/1e3*t.finalSize;if(t.sz)for(var E,S,M=!0,A=t.sz[0],C=t.sz[1];M;){E=0,y=0,r=(S=this.buildFinalText(t.t)).length,T=t.tr/1e3*t.finalSize;var P=-1;for(e=0;e<r;e+=1)w=S[e].charCodeAt(0),i=!1," "===S[e]?P=e:13!==w&&3!==w||(y=0,i=!0,E+=t.finalLineHeight||1.2*t.finalSize),l.chars?(s=l.getCharData(S[e],_.fStyle,_.fFamily),b=i?0:s.w*t.finalSize/100):b=l.measureText(S[e],t.f,t.finalSize),y+b>A&&" "!==S[e]?(-1===P?r+=1:e=P,E+=t.finalLineHeight||1.2*t.finalSize,S.splice(e,P===e?1:0,"\r"),P=-1,y=0):(y+=b,y+=T);E+=_.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&C<E?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=S,r=t.finalText.length,M=!1)}y=-T,b=0;var k,O=0;for(e=0;e<r;e+=1)if(i=!1,13===(w=(k=t.finalText[e]).charCodeAt(0))||3===w?(O=0,v.push(y),g=y>g?y:g,y=-2*T,n="",i=!0,m+=1):n=k,l.chars?(s=l.getCharData(k,_.fStyle,l.getFontByName(t.f).fFamily),b=i?0:s.w*t.finalSize/100):b=l.measureText(n,t.f,t.finalSize)," "===k?O+=b+T:(y+=b+T+O,O=0),u.push({l:b,an:b,add:f,n:i,anIndexes:[],val:n,line:m,animatorJustifyOffset:0}),2==p){if(f+=b,""===n||" "===n||e===r-1){for(""!==n&&" "!==n||(f-=b);d<=e;)u[d].an=f,u[d].ind=c,u[d].extra=b,d+=1;c+=1,f=0}}else if(3==p){if(f+=b,""===n||e===r-1){for(""===n&&(f-=b);d<=e;)u[d].an=f,u[d].ind=c,u[d].extra=b,d+=1;f=0,c+=1}}else u[c].ind=c,u[c].extra=0,c+=1;if(t.l=u,g=y>g?y:g,v.push(y),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=g,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=v;var I,D,R,F,L=h.a;a=L.length;var B=[];for(o=0;o<a;o+=1){for((I=L[o]).a.sc&&(t.strokeColorAnim=!0),I.a.sw&&(t.strokeWidthAnim=!0),(I.a.fc||I.a.fh||I.a.fs||I.a.fb)&&(t.fillColorAnim=!0),F=0,R=I.s.b,e=0;e<r;e+=1)(D=u[e]).anIndexes[o]=F,(1==R&&""!==D.val||2==R&&""!==D.val&&" "!==D.val||3==R&&(D.n||" "==D.val||e==r-1)||4==R&&(D.n||e==r-1))&&(1===I.s.rn&&B.push(F),F+=1);h.a[o].s.totalChars=F;var N,z=-1;if(1===I.s.rn)for(e=0;e<r;e+=1)z!=(D=u[e]).anIndexes[o]&&(z=D.anIndexes[o],N=B.splice(Math.floor(Math.random()*B.length),1)[0]),D.anIndexes[o]=N}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=_.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,r=Math.floor;function i(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return i.prototype={getMult:function(i){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var n=0,o=0,a=1,s=1;this.ne.v>0?n=this.ne.v/100:o=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:s=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(n,o,a,s).get,h=0,u=this.finalS,c=this.finalE,p=this.data.sh;if(2===p)h=l(h=c===u?i>=c?1:0:t(0,e(.5/(c-u)+(i-u)/(c-u),1)));else if(3===p)h=l(h=c===u?i>=c?0:1:1-t(0,e(.5/(c-u)+(i-u)/(c-u),1)));else if(4===p)c===u?h=0:(h=t(0,e(.5/(c-u)+(i-u)/(c-u),1)))<.5?h*=2:h=1-2*(h-.5),h=l(h);else if(5===p){if(c===u)h=0;else{var f=c-u,d=-f/2+(i=e(t(0,i+.5-u),c-u)),m=f/2;h=Math.sqrt(1-d*d/(m*m))}h=l(h)}else 6===p?(c===u?h=0:(i=e(t(0,i+.5-u),c-u),h=(1+Math.cos(Math.PI+2*Math.PI*i/(c-u)))/2),h=l(h)):(i>=r(u)&&(h=t(0,e(i-u<0?e(c,1)-(u-i):c-i,1))),h=l(h));return h*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/e,i=this.s.v/e+r,n=this.e.v/e+r;if(i>n){var o=i;i=n,n=o}this.finalS=i,this.finalE=n}},extendPrototype([DynamicPropertyContainer],i),{getTextSelectorProp:function(t,e,r){return new i(t,e,r)}}}(),poolFactory=function(t,e,r){var i=0,n=t,o=createSizedArray(n);return{newElement:function(){return i?o[i-=1]:e()},release:function(t){i===n&&(o=pooling.double(o),n*=2),r&&r(t),o[i]=t,i+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)})),shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(t){var e,r=t._length;for(e=0;e<r;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1})),factory.clone=function(t){var e,r=factory.newElement(),i=void 0===t._length?t.v.length:t._length;for(r.setLength(i),r.c=t.c,e=0;e<i;e+=1)r.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return r},factory),factory,shapeCollectionPool=function(){var t={newShapeCollection:function(){return e?i[e-=1]:new ShapeCollection},release:function(t){var n,o=t._length;for(n=0;n<o;n+=1)shapePool.release(t.shapes[n]);t._length=0,e===r&&(i=pooling.double(i),r*=2),i[e]=t,e+=1}},e=0,r=4,i=createSizedArray(r);return t}(),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,r=t.lengths.length;for(e=0;e<r;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0})),bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}})),markerParser=function(){function t(t){for(var e,r=t.split("\r\n"),i={},n=0,o=0;o<r.length;o+=1)2===(e=r[o].split(":")).length&&(i[e[0]]=e[1].trim(),n+=1);if(0===n)throw new Error;return i}return function(e){for(var r=[],i=0;i<e.length;i+=1){var n=e[i],o={time:n.tm,duration:n.dr};try{o.payload=JSON.parse(e[i].cm)}catch(r){try{o.payload=t(e[i].cm)}catch(t){o.payload={name:e[i]}}}r.push(o)}return r}}();function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(e&&e.title){var i=createNS("title"),n=createElementID();i.setAttribute("id",n),i.textContent=e.title,this.svgElement.appendChild(i),r+=n}if(e&&e.description){var o=createNS("desc"),a=createElementID();o.setAttribute("id",a),o.textContent=e.description,this.svgElement.appendChild(o),r+=" "+a}r&&this.svgElement.setAttribute("aria-labelledby",r);var s=createNS("defs");this.svgElement.appendChild(s);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:s,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var i,n,o=this.globalData.defs,a=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(a),this.solidPath="";var s,l,h,u,c,p,f=this.masksProperties,d=0,m=[],v=createElementID(),y="clipPath",g="clip-path";for(i=0;i<a;i+=1)if(("a"!==f[i].mode&&"n"!==f[i].mode||f[i].inv||100!==f[i].o.k||f[i].o.x)&&(y="mask",g="mask"),"s"!==f[i].mode&&"i"!==f[i].mode||0!==d?h=null:((h=createNS("rect")).setAttribute("fill","#ffffff"),h.setAttribute("width",this.element.comp.data.w||0),h.setAttribute("height",this.element.comp.data.h||0),m.push(h)),n=createNS("path"),"n"===f[i].mode)this.viewData[i]={op:PropertyFactory.getProp(this.element,f[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,f[i],3),elem:n,lastPath:""},o.appendChild(n);else{var _;if(d+=1,n.setAttribute("fill","s"===f[i].mode?"#000000":"#ffffff"),n.setAttribute("clip-rule","nonzero"),0!==f[i].x.k?(y="mask",g="mask",p=PropertyFactory.getProp(this.element,f[i].x,0,null,this.element),_=createElementID(),(u=createNS("filter")).setAttribute("id",_),(c=createNS("feMorphology")).setAttribute("operator","erode"),c.setAttribute("in","SourceGraphic"),c.setAttribute("radius","0"),u.appendChild(c),o.appendChild(u),n.setAttribute("stroke","s"===f[i].mode?"#000000":"#ffffff")):(c=null,p=null),this.storedData[i]={elem:n,x:p,expan:c,lastPath:"",lastOperator:"",filterId:_,lastRadius:0},"i"===f[i].mode){l=m.length;var b=createNS("g");for(s=0;s<l;s+=1)b.appendChild(m[s]);var x=createNS("mask");x.setAttribute("mask-type","alpha"),x.setAttribute("id",v+"_"+d),x.appendChild(n),o.appendChild(x),b.setAttribute("mask","url("+locationHref+"#"+v+"_"+d+")"),m.length=0,m.push(b)}else m.push(n);f[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:n,lastPath:"",op:PropertyFactory.getProp(this.element,f[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,f[i],3),invRect:h},this.viewData[i].prop.k||this.drawPath(f[i],this.viewData[i].prop.v,this.viewData[i])}for(this.maskElement=createNS(y),a=m.length,i=0;i<a;i+=1)this.maskElement.appendChild(m[i]);d>0&&(this.maskElement.setAttribute("id",v),this.element.maskedElement.setAttribute(g,"url("+locationHref+"#"+v+")"),o.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var i=0,n=t.length;i<n;){if(t[i].mProps.dynamicProperties.length){this._isAnimated=!0;break}i+=1}}function SVGTransformData(t,e,r){this.transform={mProps:t,op:e,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r}function SVGGradientFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,r)}function SVGGradientStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(t){var e,r,i=this.layers.length;for(this.completeLayers=!0,e=i-1;e>=0;e-=1)this.elements[e]||(r=this.layers[e]).ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var r,i=t.length,n=this.layers.length;for(e=0;e<i;e+=1)for(r=0;r<n;){if(this.layers[r].id===t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){for(var i=this.elements,n=this.layers,o=0,a=n.length;o<a;)n[o].ind==e&&(i[o]&&!0!==i[o]?(r.push(i[o]),i[o].setAsParent(),void 0!==n[o].parent?this.buildElementParenting(t,n[o].parent,r):t.setHierarchy(r)):(this.buildItem(o),this.addPendingElement(t))),o+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var i=this.createComp(t[e]);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),i=createNS("rect");i.setAttribute("width",t.w),i.setAttribute("height",t.h),i.setAttribute("x",0),i.setAttribute("y",0);var n=createElementID();r.setAttribute("id",n),r.appendChild(i),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+n+")"),e.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){e[t]=!0;var r=this.createItem(this.layers[t]);e[t]=r,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?r.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(r)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;e<r;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){for(var i,n=0;n<e;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(r,i):this.layerElement.appendChild(r)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r=this.contextData.cTr.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}else this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e,r=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var i=this.contextData.saved[this.contextData.cArrPos];for(e=0;e<16;e+=1)i[e]=r[e];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e,r=this.contextData.saved[this.contextData.cArrPos],i=this.contextData.cTr.props;for(e=0;e<16;e+=1)i[e]=r[e];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var r="0px 0px 0px";e.transformOrigin=r,e.mozTransformOrigin=r,e.webkitTransformOrigin=r,e["-webkit-transform"]=r,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,r,i;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var n=this.renderConfig.preserveAspectRatio.split(" "),o=n[1]||"meet",a=n[0]||"xMidYMid",s=a.substr(0,4),l=a.substr(4);r=t/e,(i=this.transformCanvas.w/this.transformCanvas.h)>r&&"meet"===o||i<r&&"slice"===o?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===s&&(i<r&&"meet"===o||i>r&&"slice"===o)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===s&&(i<r&&"meet"===o||i>r&&"slice"===o)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===l&&(i>r&&"meet"===o||i<r&&"slice"===o)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===l&&(i>r&&"meet"===o||i<r&&"slice"===o)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){var r;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var i=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=0;r<i;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){var i=this.layers[e];if(i.ddd&&this.supports3d)this.addTo3dContainer(r,e);else if(this.threeDElements)this.addTo3dContainer(r,e);else{for(var n,o,a=0;a<e;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(o=this.elements[a],n=(this.layers[a].ddd?this.getThreeDContainerByPos(a):o.getBaseElement())||n),a+=1;n?i.ddd&&this.supports3d||this.layerElement.insertBefore(r,n):i.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,r=this.threeDElements.length;e<r;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(t,e){var r,i,n=createTag("div");styleDiv(n);var o=createTag("div");if(styleDiv(o),"3d"===e){(r=n.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px",r.webkitTransformOrigin="50% 50%",r.mozTransformOrigin="50% 50%",r.transformOrigin="50% 50%";var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(i=o.style).transform=a,i.webkitTransform=a}n.appendChild(o);var s={container:o,perspectiveElem:n,startPos:t,endPos:t,type:e};return this.threeDElements.push(s),s},HybridRenderer.prototype.build3dContainers=function(){var t,e,r=this.layers.length,i="";for(t=0;t<r;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==i&&(i="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==i&&(i="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(r=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var r=0,i=this.threeDElements.length;r<i;){if(e<=this.threeDElements[r].endPos){for(var n,o=this.threeDElements[r].startPos;o<e;)this.elements[o]&&this.elements[o].getBaseElement&&(n=this.elements[o].getBaseElement()),o+=1;n?this.threeDElements[r].container.insertBefore(t,n):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag("div"),r=this.animationItem.wrapper,i=e.style;i.width=t.w+"px",i.height=t.h+"px",this.resizerElem=e,styleDiv(e),i.transformStyle="flat",i.mozTransformStyle="flat",i.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),r.appendChild(e),i.overflow="hidden";var n=createNS("svg");n.setAttribute("width","1"),n.setAttribute("height","1"),styleDiv(n),this.resizerElem.appendChild(n);var o=createNS("defs");n.appendChild(o),this.data=t,this.setupGlobalData(t,n),this.globalData.defs=o,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,r,i,n=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight,a=n/o;this.globalData.compSize.w/this.globalData.compSize.h>a?(t=n/this.globalData.compSize.w,e=n/this.globalData.compSize.w,r=0,i=(o-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(t=o/this.globalData.compSize.h,e=o/this.globalData.compSize.h,r=(n-this.globalData.compSize.w*(o/this.globalData.compSize.h))/2,i=0);var s=this.resizerElem.style;s.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+r+","+i+",0,1)",s.transform=s.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,r=this.globalData.compSize.h,i=this.threeDElements.length;for(t=0;t<i;t+=1){var n=this.threeDElements[t].perspectiveElem.style;n.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(r,2))+"px",n.perspective=n.webkitPerspective}}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length,i=createTag("div");for(e=0;e<r;e+=1)if(t[e].xt){var n=this.createComp(t[e],i,this.globalData.comp,null);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,r=this.element.finalTransform.mat,i=this.masksProperties.length;for(e=0;e<i;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var n=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),n.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,(t+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,r){var i,n,o=" M"+e.v[0][0]+","+e.v[0][1];for(n=e._length,i=1;i<n;i+=1)o+=" C"+e.o[i-1][0]+","+e.o[i-1][1]+" "+e.i[i][0]+","+e.i[i][1]+" "+e.v[i][0]+","+e.v[i][1];if(e.c&&n>1&&(o+=" C"+e.o[i-1][0]+","+e.o[i-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),r.lastPath!==o){var a="";r.elem&&(e.c&&(a=t.inv?this.solidPath+o:o),r.elem.setAttribute("d",a)),r.lastPath=o}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var r,i=this.dynamicProperties.length;for(r=0;r<i;r+=1)(e||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,r=0,i=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<i;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),r=0;r<i;r+=1)t=this.hierarchy[r].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var r,i=!0,n=this.comp;i;)n.finalTransform?(n.data.hasMask&&e.splice(0,0,n.finalTransform),n=n.comp):i=!1;var o,a=e.length;for(r=0;r<a;r+=1)o=e[r].mat.applyToPointArray(0,0,0),t=[t[0]-o[0],t[1]-o[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,r){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,e),this.setGradientOpacity(e,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var r=createElementID(),i=createNS(1===e.t?"linearGradient":"radialGradient");i.setAttribute("id",r),i.setAttribute("spreadMethod","pad"),i.setAttribute("gradientUnits","userSpaceOnUse");var n,o,a,s=[];for(a=4*e.g.p,o=0;o<a;o+=4)n=createNS("stop"),i.appendChild(n),s.push(n);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+r+")"),this.gf=i,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,i,n,o=createNS("mask"),a=createNS("path");o.appendChild(a);var s=createElementID(),l=createElementID();o.setAttribute("id",l);var h=createNS(1===t.t?"linearGradient":"radialGradient");h.setAttribute("id",s),h.setAttribute("spreadMethod","pad"),h.setAttribute("gradientUnits","userSpaceOnUse"),n=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var u=this.stops;for(i=4*t.g.p;i<n;i+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),h.appendChild(r),u.push(r);a.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+s+")"),this.of=h,this.ms=o,this.ost=u,this.maskId=l,e.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function r(t,e,r){(r||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(r||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function i(r,i,n){var o,a,s,l,h,u,c,p,f,d,m,v=i.styles.length,y=i.lvl;for(u=0;u<v;u+=1){if(l=i.sh._mdf||n,i.styles[u].lvl<y){for(p=e.reset(),d=y-i.styles[u].lvl,m=i.transformers.length-1;!l&&d>0;)l=i.transformers[m].mProps._mdf||l,d-=1,m-=1;if(l)for(d=y-i.styles[u].lvl,m=i.transformers.length-1;d>0;)f=i.transformers[m].mProps.v.props,p.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),d-=1,m-=1}else p=t;if(a=(c=i.sh.paths)._length,l){for(s="",o=0;o<a;o+=1)(h=c.shapes[o])&&h._length&&(s+=buildShapeString(h,h._length,h.c,p));i.caches[u]=s}else s=i.caches[u];i.styles[u].d+=!0===r.hd?"":s,i.styles[u]._mdf=l||i.styles[u]._mdf}}function n(t,e,r){var i=e.style;(e.c._mdf||r)&&i.pElem.setAttribute("fill","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r)&&i.pElem.setAttribute("fill-opacity",e.o.v)}function o(t,e,r){a(t,e,r),s(t,e,r)}function a(t,e,r){var i,n,o,a,s,l=e.gf,h=e.g._hasOpacity,u=e.s.v,c=e.e.v;if(e.o._mdf||r){var p="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(p,e.o.v)}if(e.s._mdf||r){var f=1===t.t?"x1":"cx",d="x1"===f?"y1":"cy";l.setAttribute(f,u[0]),l.setAttribute(d,u[1]),h&&!e.g._collapsable&&(e.of.setAttribute(f,u[0]),e.of.setAttribute(d,u[1]))}if(e.g._cmdf||r){i=e.cst;var m=e.g.c;for(o=i.length,n=0;n<o;n+=1)(a=i[n]).setAttribute("offset",m[4*n]+"%"),a.setAttribute("stop-color","rgb("+m[4*n+1]+","+m[4*n+2]+","+m[4*n+3]+")")}if(h&&(e.g._omdf||r)){var v=e.g.o;for(o=(i=e.g._collapsable?e.cst:e.ost).length,n=0;n<o;n+=1)a=i[n],e.g._collapsable||a.setAttribute("offset",v[2*n]+"%"),a.setAttribute("stop-opacity",v[2*n+1])}if(1===t.t)(e.e._mdf||r)&&(l.setAttribute("x2",c[0]),l.setAttribute("y2",c[1]),h&&!e.g._collapsable&&(e.of.setAttribute("x2",c[0]),e.of.setAttribute("y2",c[1])));else if((e.s._mdf||e.e._mdf||r)&&(s=Math.sqrt(Math.pow(u[0]-c[0],2)+Math.pow(u[1]-c[1],2)),l.setAttribute("r",s),h&&!e.g._collapsable&&e.of.setAttribute("r",s)),e.e._mdf||e.h._mdf||e.a._mdf||r){s||(s=Math.sqrt(Math.pow(u[0]-c[0],2)+Math.pow(u[1]-c[1],2)));var y=Math.atan2(c[1]-u[1],c[0]-u[0]),g=e.h.v;g>=1?g=.99:g<=-1&&(g=-.99);var _=s*g,b=Math.cos(y+e.a.v)*_+u[0],x=Math.sin(y+e.a.v)*_+u[1];l.setAttribute("fx",b),l.setAttribute("fy",x),h&&!e.g._collapsable&&(e.of.setAttribute("fx",b),e.of.setAttribute("fy",x))}}function s(t,e,r){var i=e.style,n=e.d;n&&(n._mdf||r)&&n.dashStr&&(i.pElem.setAttribute("stroke-dasharray",n.dashStr),i.pElem.setAttribute("stroke-dashoffset",n.dashoffset[0])),e.c&&(e.c._mdf||r)&&i.pElem.setAttribute("stroke","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r)&&i.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||r)&&(i.pElem.setAttribute("stroke-width",e.w.v),i.msElem&&i.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return n;case"gf":return a;case"gs":return o;case"st":return s;case"sh":case"el":case"rc":case"sr":return i;case"tr":return r;default:return null}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(t,e,r,i){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var n,o=4;"rc"===e.ty?o=5:"el"===e.ty?o=6:"sr"===e.ty&&(o=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,o,t);var a,s=r.length;for(n=0;n<s;n+=1)r[n].closed||(a={transforms:i.addTransformSequence(r[n].transforms),trNodes:[]},this.styledShapes.push(a),r[n].elements.push(a))}function BaseElement(){}function NullElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(t,e,r){this.initElement(t,e,r)}function AudioElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,r),this._isPlaying=!1,this._canPlay=!1;var i=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(i),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function FootageElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,r)}function SVGCompElement(t,e,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextLottieElement(t,e,r){this.textSpans=[],this.renderType="svg",this.initElement(t,e,r)}function SVGShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");if(r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),t.appendChild(r),(r=createNS("feColorMatrix")).setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.setAttribute("result","f2"),t.appendChild(r),this.matrixFilter=r,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var i,n=createNS("feMerge");t.appendChild(n),(i=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),n.appendChild(i),(i=createNS("feMergeNode")).setAttribute("in","f2"),n.appendChild(i)}}function SVGFillFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(r),this.matrixFilter=r}function SVGGaussianBlurEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var r=createNS("feGaussianBlur");t.appendChild(r),this.feGaussianBlur=r}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),t.appendChild(r);var i=createNS("feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),this.matrixFilter=i;var n=createNS("feFuncR");n.setAttribute("type","table"),i.appendChild(n),this.feFuncR=n;var o=createNS("feFuncG");o.setAttribute("type","table"),i.appendChild(o),this.feFuncG=o;var a=createNS("feFuncB");a.setAttribute("type","table"),i.appendChild(a),this.feFuncB=a}function SVGProLevelsFilter(t,e){this.filterManager=e;var r=this.filterManager.effectElements,i=createNS("feComponentTransfer");(r[10].p.k||0!==r[10].p.v||r[11].p.k||1!==r[11].p.v||r[12].p.k||1!==r[12].p.v||r[13].p.k||0!==r[13].p.v||r[14].p.k||1!==r[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(r[17].p.k||0!==r[17].p.v||r[18].p.k||1!==r[18].p.v||r[19].p.k||1!==r[19].p.v||r[20].p.k||0!==r[20].p.v||r[21].p.k||1!==r[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(r[24].p.k||0!==r[24].p.v||r[25].p.k||1!==r[25].p.v||r[26].p.k||1!==r[26].p.v||r[27].p.k||0!==r[27].p.v||r[28].p.k||1!==r[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(r[31].p.k||0!==r[31].p.v||r[32].p.k||1!==r[32].p.v||r[33].p.k||1!==r[33].p.v||r[34].p.k||0!==r[34].p.v||r[35].p.k||1!==r[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),i=createNS("feComponentTransfer")),(r[3].p.k||0!==r[3].p.v||r[4].p.k||1!==r[4].p.v||r[5].p.k||1!==r[5].p.v||r[6].p.k||0!==r[6].p.v||r[7].p.k||1!==r[7].p.v)&&(i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(t,e){var r=e.container.globalData.renderConfig.filterSize;t.setAttribute("x",r.x),t.setAttribute("y",r.y),t.setAttribute("width",r.width),t.setAttribute("height",r.height),this.filterManager=e;var i=createNS("feGaussianBlur");i.setAttribute("in","SourceAlpha"),i.setAttribute("result","drop_shadow_1"),i.setAttribute("stdDeviation","0"),this.feGaussianBlur=i,t.appendChild(i);var n=createNS("feOffset");n.setAttribute("dx","25"),n.setAttribute("dy","0"),n.setAttribute("in","drop_shadow_1"),n.setAttribute("result","drop_shadow_2"),this.feOffset=n,t.appendChild(n);var o=createNS("feFlood");o.setAttribute("flood-color","#00ff00"),o.setAttribute("flood-opacity","1"),o.setAttribute("result","drop_shadow_3"),this.feFlood=o,t.appendChild(o);var a=createNS("feComposite");a.setAttribute("in","drop_shadow_3"),a.setAttribute("in2","drop_shadow_2"),a.setAttribute("operator","in"),a.setAttribute("result","drop_shadow_4"),t.appendChild(a);var s,l=createNS("feMerge");t.appendChild(l),s=createNS("feMergeNode"),l.appendChild(s),(s=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=s,this.feMerge=l,this.originalNodeAdded=!1,l.appendChild(s)}ShapeTransformManager.prototype={addTransformSequence:function(t){var e,r=t.length,i="_";for(e=0;e<r;e+=1)i+=t[e].transform.key+"_";var n=this.sequences[i];return n||(n={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[i]=n,this.sequenceList.push(n)),n},processSequence:function(t,e){for(var r,i=0,n=t.transforms.length,o=e;i<n&&!e;){if(t.transforms[i].transform.mProps._mdf){o=!0;break}i+=1}if(o)for(t.finalTransform.reset(),i=n-1;i>=0;i-=1)r=t.transforms[i].transform.mProps.v.props,t.finalTransform.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);t._mdf=o},processSequences:function(t){var e,r=this.sequenceList.length;for(e=0;e<r;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,r){this.globalData=e,this.comp=r,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,r,i=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var n=createNS("mask");n.setAttribute("id",this.layerId),n.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),n.appendChild(this.layerElement),i=n,this.globalData.defs.appendChild(n),featureSupport.maskType||1!=this.data.td||(n.setAttribute("mask-type","luminance"),t=createElementID(),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(this.layerElement),i=r,n.appendChild(r),r.setAttribute("filter","url("+locationHref+"#"+t+")"))}else if(2==this.data.td){var o=createNS("mask");o.setAttribute("id",this.layerId),o.setAttribute("mask-type","alpha");var a=createNS("g");o.appendChild(a),t=createElementID(),e=filtersFactory.createFilter(t);var s=createNS("feComponentTransfer");s.setAttribute("in","SourceGraphic"),e.appendChild(s);var l=createNS("feFuncA");l.setAttribute("type","table"),l.setAttribute("tableValues","1.0 0.0"),s.appendChild(l),this.globalData.defs.appendChild(e);var h=createNS("rect");h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),a.setAttribute("filter","url("+locationHref+"#"+t+")"),a.appendChild(h),a.appendChild(this.layerElement),i=a,featureSupport.maskType||(o.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),a.appendChild(h),r.appendChild(this.layerElement),i=r,a.appendChild(r)),this.globalData.defs.appendChild(o)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),i=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var u=createNS("clipPath"),c=createNS("path");c.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var p=createElementID();if(u.setAttribute("id",p),u.appendChild(c),this.globalData.defs.appendChild(u),this.checkMasks()){var f=createNS("g");f.setAttribute("clip-path","url("+locationHref+"#"+p+")"),f.appendChild(this.layerElement),this.transformedElement=f,i?i.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+p+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){var e,r=this.shapeModifiers.length;for(e=0;e<r;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(t){for(var e=this.processedElements,r=0,i=e.length;r<i;){if(e[r].elem===t)return e[r].pos;r+=1}return 0},addProcessedElement:function(t,e){for(var r=this.processedElements,i=r.length;i;)if(r[i-=1].elem===t)return void(r[i].pos=e);r.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var r,i,n=e.length,o="";for(r=0;r<n;r+=1)i=e[r].ks.k,o+=buildShapeString(i,i.i.length,!0,t);return o},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,i,n){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0)}e.translate(i,n,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this.audio.volume(t)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,r=t.length,i=[],n="";e<r;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(i.push(n),n=""):n+=t[e],e+=1;return i.push(n),i},SVGTextLottieElement.prototype.buildNewText=function(){var t,e,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var i=this.globalData.fontManager.getFontByName(r.f);if(i.fClass)this.layerElement.setAttribute("class",i.fClass);else{this.layerElement.setAttribute("font-family",i.fFamily);var n=r.fWeight,o=r.fStyle;this.layerElement.setAttribute("font-style",o),this.layerElement.setAttribute("font-weight",n)}this.layerElement.setAttribute("aria-label",r.t);var a,s=r.l||[],l=!!this.globalData.fontManager.chars;e=s.length;var h,u=this.mHelper,c="",p=this.data.singleShape,f=0,d=0,m=!0,v=.001*r.tr*r.finalSize;if(!p||l||r.sz){var y,g,_=this.textSpans.length;for(t=0;t<e;t+=1)l&&p&&0!==t||(a=_>t?this.textSpans[t]:createNS(l?"path":"text"),_<=t&&(a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=a,this.layerElement.appendChild(a)),a.style.display="inherit"),u.reset(),u.scale(r.finalSize/100,r.finalSize/100),p&&(s[t].n&&(f=-v,d+=r.yOffset,d+=m?1:0,m=!1),this.applyTextPropertiesToMatrix(r,u,s[t].line,f,d),f+=s[t].l||0,f+=v),l?(h=(y=(g=this.globalData.fontManager.getCharData(r.finalText[t],i.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily))&&g.data||{}).shapes?y.shapes[0].it:[],p?c+=this.createPathShape(u,h):a.setAttribute("d",this.createPathShape(u,h))):(p&&a.setAttribute("transform","translate("+u.props[12]+","+u.props[13]+")"),a.textContent=s[t].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));p&&a&&a.setAttribute("d",c)}else{var b=this.textContainer,x="start";switch(r.j){case 1:x="end";break;case 2:x="middle";break;default:x="start"}b.setAttribute("text-anchor",x),b.setAttribute("letter-spacing",v);var w=this.buildTextContents(r.finalText);for(e=w.length,d=r.ps?r.ps[1]+r.ascent:0,t=0;t<e;t+=1)(a=this.textSpans[t]||createNS("tspan")).textContent=w[t],a.setAttribute("x",0),a.setAttribute("y",d),a.style.display="inherit",b.appendChild(a),this.textSpans[t]=a,d+=r.finalLineHeight;this.layerElement.appendChild(b)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var r,i,n=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(e=o.length,t=0;t<e;t+=1)o[t].n||(r=n[t],i=this.textSpans[t],r._mdf.m&&i.setAttribute("transform",r.m),r._mdf.o&&i.setAttribute("opacity",r.o),r._mdf.sw&&i.setAttribute("stroke-width",r.sw),r._mdf.sc&&i.setAttribute("stroke",r.sc),r._mdf.fc&&i.setAttribute("fill",r.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,r,i,n=this.shapes.length,o=this.stylesList.length,a=[],s=!1;for(r=0;r<o;r+=1){for(i=this.stylesList[r],s=!1,a.length=0,t=0;t<n;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(i)&&(a.push(e),s=e._isAnimated||s);a.length>1&&s&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var r,i=new SVGStyleData(t,e),n=i.pElem;return"st"===t.ty?r=new SVGStrokeStyleData(this,t,i):"fl"===t.ty?r=new SVGFillStyleData(this,t,i):"gf"!==t.ty&&"gs"!==t.ty||(r=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,i),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),n.setAttribute("mask","url("+locationHref+"#"+r.maskId+")"))),"st"!==t.ty&&"gs"!==t.ty||(n.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),n.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),n.setAttribute("fill-opacity","0"),1===t.lj&&n.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&n.setAttribute("fill-rule","evenodd"),t.ln&&n.setAttribute("id",t.ln),t.cl&&n.setAttribute("class",t.cl),t.bm&&(n.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(i),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var r=TransformPropertyFactory.getTransformProperty(this,t,this),i=new SVGTransformData(r,r.o,e);return this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createShapeElement=function(t,e,r){var i=4;"rc"===t.ty?i=5:"el"===t.ty?i=6:"sr"===t.ty&&(i=7);var n=new SVGShapeData(e,r,ShapePropertyFactory.getShapeProp(this,t,i,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var r=0,i=this.animatedContents.length;r<i;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,r=t.styles,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].closed||r.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,r,i,n,o,a){var s,l,h,u,c,p,f=[].concat(o),d=t.length-1,m=[],v=[];for(s=d;s>=0;s-=1){if((p=this.searchProcessedElement(t[s]))?e[s]=r[p-1]:t[s]._render=a,"fl"===t[s].ty||"st"===t[s].ty||"gf"===t[s].ty||"gs"===t[s].ty)p?e[s].style.closed=!1:e[s]=this.createStyleElement(t[s],n),t[s]._render&&i.appendChild(e[s].style.pElem),m.push(e[s].style);else if("gr"===t[s].ty){if(p)for(h=e[s].it.length,l=0;l<h;l+=1)e[s].prevViewData[l]=e[s].it[l];else e[s]=this.createGroupElement(t[s]);this.searchShapes(t[s].it,e[s].it,e[s].prevViewData,e[s].gr,n+1,f,a),t[s]._render&&i.appendChild(e[s].gr)}else"tr"===t[s].ty?(p||(e[s]=this.createTransformElement(t[s],i)),u=e[s].transform,f.push(u)):"sh"===t[s].ty||"rc"===t[s].ty||"el"===t[s].ty||"sr"===t[s].ty?(p||(e[s]=this.createShapeElement(t[s],f,n)),this.setElementStyles(e[s])):"tm"===t[s].ty||"rd"===t[s].ty||"ms"===t[s].ty||"pb"===t[s].ty?(p?(c=e[s]).closed=!1:((c=ShapeModifiers.getModifier(t[s].ty)).init(this,t[s]),e[s]=c,this.shapeModifiers.push(c)),v.push(c)):"rp"===t[s].ty&&(p?(c=e[s]).closed=!0:(c=ShapeModifiers.getModifier(t[s].ty),e[s]=c,c.init(this,t,s,e),this.shapeModifiers.push(c),a=!1),v.push(c));this.addProcessedElement(t[s],s+1)}for(d=m.length,s=0;s<d;s+=1)m[s].closed=!0;for(d=v.length,s=0;s<d;s+=1)v[s].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,r=this.animatedContents.length;for(t=0;t<r;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-e[0]+" 0 0 0 "+e[0]+" "+(r[1]-e[1])+" 0 0 0 "+e[1]+" "+(r[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+i+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=3==r?0:e,n=2==r?0:e;this.feGaussianBlur.setAttribute("stdDeviation",i+" "+n);var o=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",o)}},SVGStrokeEffect.prototype.initialize=function(){var t,e,r,i,n=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(i=this.elem.maskManager.masksProperties.length,r=0):i=1+(r=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);r<i;r+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:r});if(3===this.filterManager.effectElements[10].p.v){var o=createNS("mask"),a=createElementID();o.setAttribute("id",a),o.setAttribute("mask-type","alpha"),o.appendChild(e),this.elem.globalData.defs.appendChild(o);var s=createNS("g");for(s.setAttribute("mask","url("+locationHref+"#"+a+")");n[0];)s.appendChild(n[0]);this.elem.layerElement.appendChild(s),this.masker=o,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(n=this.elem.layerElement.children||this.elem.layerElement.childNodes;n.length;)this.elem.layerElement.removeChild(n[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var r,i,n=this.paths.length;for(e=0;e<n;e+=1)if(-1!==this.paths[e].m&&(r=this.elem.maskManager.viewData[this.paths[e].m],i=this.paths[e].p,(t||this.filterManager._mdf||r.prop._mdf)&&i.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var o;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),s=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=i.getTotalLength();o="0 0 0 "+l*a+" ";var h,u=l*(s-a),c=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,p=Math.floor(u/c);for(h=0;h<p;h+=1)o+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";o+="0 "+10*l+" 0 0"}else o="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;i.setAttribute("stroke-dasharray",o)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var f=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*f[0])+","+bmFloor(255*f[1])+","+bmFloor(255*f[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v,n=i[0]+" "+r[0]+" "+e[0],o=i[1]+" "+r[1]+" "+e[1],a=i[2]+" "+r[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",o),this.feFuncB.setAttribute("tableValues",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var r=createNS(t);return r.setAttribute("type","table"),e.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,e,r,i,n){for(var o,a,s=0,l=Math.min(t,e),h=Math.max(t,e),u=Array.call(null,{length:256}),c=0,p=n-i,f=e-t;s<=256;)a=(o=s/256)<=l?f<0?n:i:o>=h?f<0?i:n:i+p*Math.pow((o-t)/f,1/r),u[c]=a,c+=1,s+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(e=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(e=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(e=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(e=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(e=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,n=r*Math.cos(i),o=r*Math.sin(i);this.feOffset.setAttribute("dx",n),this.feOffset.setAttribute("dy",o)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGEffects(t){var e,r,i=t.data.ef?t.data.ef.length:0,n=createElementID(),o=filtersFactory.createFilter(n,!0),a=0;for(this.filters=[],e=0;e<i;e+=1)r=null,20===t.data.ef[e].ty?(a+=1,r=new SVGTintFilter(o,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(a+=1,r=new SVGFillFilter(o,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?r=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(a+=1,r=new SVGTritoneFilter(o,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(a+=1,r=new SVGProLevelsFilter(o,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(a+=1,r=new SVGDropShadowEffect(o,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty?r=new SVGMatte3Effect(o,t.effectsManager.effectElements[e],t):29===t.data.ef[e].ty&&(a+=1,r=new SVGGaussianBlurEffect(o,t.effectsManager.effectElements[e])),r&&this.filters.push(r);a&&(t.globalData.defs.appendChild(o),t.layerElement.setAttribute("filter","url("+locationHref+"#"+n+")")),this.filters.length&&t.addRenderableComponent(this)}function CVContextData(){var t;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,r)}function CVCompElement(t,e,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){var r;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var i=this.masksProperties.length,n=!1;for(r=0;r<i;r+=1)"n"!==this.masksProperties[r].mode&&(n=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=n,n&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,r)}function CVSolidElement(t,e,r){this.initElement(t,e,r)}function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,r)}function CVEffects(){}function HBaseElement(){}function HSolidElement(t,e,r){this.initElement(t,e,r)}function HCompElement(t,e,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,r)}function HImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r)}function HCameraElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initHierarchy();var i=PropertyFactory.getProp;if(this.pe=i(this,t.pe,0,0,this),t.ks.p.s?(this.px=i(this,t.ks.p.x,1,0,this),this.py=i(this,t.ks.p.y,1,0,this),this.pz=i(this,t.ks.p.z,1,0,this)):this.p=i(this,t.ks.p,1,0,this),t.ks.a&&(this.a=i(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var n,o=t.ks.or.k.length;for(n=0;n<o;n+=1)t.ks.or.k[n].to=null,t.ks.or.k[n].ti=null}this.or=i(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=i(this,t.ks.rx,0,degToRads,this),this.ry=i(this,t.ks.ry,0,degToRads,this),this.rz=i(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,r=_svgMatteSymbols.length;e<r;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var r=t.layerElement.parentNode;if(r){for(var i,n=r.children,o=0,a=n.length;o<a&&n[o]!==t.layerElement;)o+=1;o<=a-2&&(i=n[o+1]);var s=createNS("use");s.setAttribute("href","#"+e),i?r.insertBefore(s,i):r.appendChild(s)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var r=createElementID(),i=createNS("mask");i.setAttribute("id",e.layerId),i.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var n=t.globalData.defs;n.appendChild(i);var o=createNS("symbol");o.setAttribute("id",r),this.replaceInParent(e,r),o.appendChild(e.layerElement),n.appendChild(o);var a=createNS("use");a.setAttribute("href","#"+r),i.appendChild(a),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,r=0,i=e.length;r<i;)e[r]&&e[r].data.ind===t&&this.setElementAsMask(this.elem,e[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);var r=0;for(r=this._length;r<t;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var t=0===this.data.ty;this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,r,i=t.getContext("2d"),n=this.img.width,o=this.img.height,a=n/o,s=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>s&&"xMidYMid slice"===l||a<s&&"xMidYMid slice"!==l?e=(r=o)*s:r=(e=n)/s,i.drawImage(this.img,(n-e)/2,(o-r)/2,e,r,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,r,i,n=this.element.finalTransform.mat,o=this.element.canvasContext,a=this.masksProperties.length;for(o.beginPath(),t=0;t<a;t+=1)if("n"!==this.masksProperties[t].mode){var s;this.masksProperties[t].inv&&(o.moveTo(0,0),o.lineTo(this.element.globalData.compSize.w,0),o.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),o.lineTo(0,this.element.globalData.compSize.h),o.lineTo(0,0)),i=this.viewData[t].v,e=n.applyToPointArray(i.v[0][0],i.v[0][1],0),o.moveTo(e[0],e[1]);var l=i._length;for(s=1;s<l;s+=1)r=n.applyToTriplePoints(i.o[s-1],i.i[s],i.v[s]),o.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=n.applyToTriplePoints(i.o[s-1],i.i[0],i.v[0]),o.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),o.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},i={};if("fl"===t.ty||"st"===t.ty?(i.c=PropertyFactory.getProp(this,t.c,1,255,this),i.c.k||(r.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(i.s=PropertyFactory.getProp(this,t.s,1,null,this),i.e=PropertyFactory.getProp(this,t.e,1,null,this),i.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),i.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),i.g=new GradientProperty(this,t.g,this)),i.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty){if(r.lc=this.lcEnum[t.lc]||"round",r.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(r.ml=t.ml),i.w=PropertyFactory.getProp(this,t.w,0,null,this),i.w.k||(r.wi=i.w.v),t.d){var n=new DashProperty(this,t.d,"canvas",this);i.d=n,i.d.k||(r.da=i.d.dashArray,r.do=i.d.dashoffset[0])}}else r.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(r),i.style=r,i},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,r,i,n){var o,a,s,l,h,u,c=t.length-1,p=[],f=[],d=[].concat(n);for(o=c;o>=0;o-=1){if((l=this.searchProcessedElement(t[o]))?e[o]=r[l-1]:t[o]._shouldRender=i,"fl"===t[o].ty||"st"===t[o].ty||"gf"===t[o].ty||"gs"===t[o].ty)l?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],d),p.push(e[o].style);else if("gr"===t[o].ty){if(l)for(s=e[o].it.length,a=0;a<s;a+=1)e[o].prevViewData[a]=e[o].it[a];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,i,d)}else"tr"===t[o].ty?(l||(u=this.createTransformElement(t[o]),e[o]=u),d.push(e[o]),this.addTransformToStyleList(e[o])):"sh"===t[o].ty||"rc"===t[o].ty||"el"===t[o].ty||"sr"===t[o].ty?l||(e[o]=this.createShapeElement(t[o])):"tm"===t[o].ty||"rd"===t[o].ty||"pb"===t[o].ty?(l?(h=e[o]).closed=!1:((h=ShapeModifiers.getModifier(t[o].ty)).init(this,t[o]),e[o]=h,this.shapeModifiers.push(h)),f.push(h)):"rp"===t[o].ty&&(l?(h=e[o]).closed=!0:(h=ShapeModifiers.getModifier(t[o].ty),e[o]=h,h.init(this,t,o,e),this.shapeModifiers.push(h),i=!1),f.push(h));this.addProcessedElement(t[o],o+1)}for(this.removeTransformFromStyleList(),this.closeStyles(p),c=f.length,o=0;o<c;o+=1)f[o].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,r,i,n,o,a,s,l,h=this.stylesList.length,u=this.globalData.renderer,c=this.globalData.canvasContext;for(t=0;t<h;t+=1)if(("st"!==(s=(l=this.stylesList[t]).type)&&"gs"!==s||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(u.save(),o=l.elements,"st"===s||"gs"===s?(c.strokeStyle="st"===s?l.co:l.grd,c.lineWidth=l.wi,c.lineCap=l.lc,c.lineJoin=l.lj,c.miterLimit=l.ml||0):c.fillStyle="fl"===s?l.co:l.grd,u.ctxOpacity(l.coOp),"st"!==s&&"gs"!==s&&c.beginPath(),u.ctxTransform(l.preTransforms.finalTransform.props),r=o.length,e=0;e<r;e+=1){for("st"!==s&&"gs"!==s||(c.beginPath(),l.da&&(c.setLineDash(l.da),c.lineDashOffset=l.do)),n=(a=o[e].trNodes).length,i=0;i<n;i+=1)"m"===a[i].t?c.moveTo(a[i].p[0],a[i].p[1]):"c"===a[i].t?c.bezierCurveTo(a[i].pts[0],a[i].pts[1],a[i].pts[2],a[i].pts[3],a[i].pts[4],a[i].pts[5]):c.closePath();"st"!==s&&"gs"!==s||(c.stroke(),l.da&&c.setLineDash(this.dashResetter))}"st"!==s&&"gs"!==s&&c.fill(l.r),u.restore()}},CVShapeElement.prototype.renderShape=function(t,e,r,i){var n,o;for(o=t,n=e.length-1;n>=0;n-=1)"tr"===e[n].ty?(o=r[n].transform,this.renderShapeTransform(t,o)):"sh"===e[n].ty||"el"===e[n].ty||"rc"===e[n].ty||"sr"===e[n].ty?this.renderPath(e[n],r[n]):"fl"===e[n].ty?this.renderFill(e[n],r[n],o):"st"===e[n].ty?this.renderStroke(e[n],r[n],o):"gf"===e[n].ty||"gs"===e[n].ty?this.renderGradientFill(e[n],r[n],o):"gr"===e[n].ty?this.renderShape(o,e[n].it,r[n].it):e[n].ty;i&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var r,i,n,o=t.trNodes,a=e.paths,s=a._length;o.length=0;var l=t.transforms.finalTransform;for(n=0;n<s;n+=1){var h=a.shapes[n];if(h&&h.v){for(i=h._length,r=1;r<i;r+=1)1===r&&o.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),o.push({t:"c",pts:l.applyToTriplePoints(h.o[r-1],h.i[r],h.v[r])});1===i&&o.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),h.c&&i&&(o.push({t:"c",pts:l.applyToTriplePoints(h.o[r-1],h.i[0],h.v[0])}),o.push({t:"z"}))}}t.trNodes=o}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var r,i=e.styledShapes.length;for(r=0;r<i;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,r){var i=e.style;(e.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,r){var i,n=e.style;if(!n.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var o,a=this.globalData.canvasContext,s=e.s.v,l=e.e.v;if(1===t.t)i=a.createLinearGradient(s[0],s[1],l[0],l[1]);else{var h=Math.sqrt(Math.pow(s[0]-l[0],2)+Math.pow(s[1]-l[1],2)),u=Math.atan2(l[1]-s[1],l[0]-s[0]),c=e.h.v;c>=1?c=.99:c<=-1&&(c=-.99);var p=h*c,f=Math.cos(u+e.a.v)*p+s[0],d=Math.sin(u+e.a.v)*p+s[1];i=a.createRadialGradient(f,d,0,s[0],s[1],h)}var m=t.g.p,v=e.g.c,y=1;for(o=0;o<m;o+=1)e.g._hasOpacity&&e.g._collapsable&&(y=e.g.o[2*o+1]),i.addColorStop(v[4*o]/100,"rgba("+v[4*o+1]+","+v[4*o+2]+","+v[4*o+3]+","+y+")");n.grd=i}n.coOp=e.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,e,r){var i=e.style,n=e.d;n&&(n._mdf||this._isFirstFrame)&&(i.da=n.dashArray,i.do=n.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*r.opacity),(e.w._mdf||this._isFirstFrame)&&(i.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var i,n,o,a,s,l,h,u,c,p,f,d,m=this.globalData.fontManager.getFontByName(t.f),v=t.l,y=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,n=t.finalText.length;var g=this.data.singleShape,_=.001*t.tr*t.finalSize,b=0,x=0,w=!0,T=0;for(i=0;i<n;i+=1){for(a=(o=this.globalData.fontManager.getCharData(t.finalText[i],m.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&o.data||{},y.reset(),g&&v[i].n&&(b=-_,x+=t.yOffset,x+=w?1:0,w=!1),c=(h=a.shapes?a.shapes[0].it:[]).length,y.scale(t.finalSize/100,t.finalSize/100),g&&this.applyTextPropertiesToMatrix(t,y,v[i].line,b,x),f=createSizedArray(c),u=0;u<c;u+=1){for(l=h[u].ks.k.i.length,p=h[u].ks.k,d=[],s=1;s<l;s+=1)1===s&&d.push(y.applyToX(p.v[0][0],p.v[0][1],0),y.applyToY(p.v[0][0],p.v[0][1],0)),d.push(y.applyToX(p.o[s-1][0],p.o[s-1][1],0),y.applyToY(p.o[s-1][0],p.o[s-1][1],0),y.applyToX(p.i[s][0],p.i[s][1],0),y.applyToY(p.i[s][0],p.i[s][1],0),y.applyToX(p.v[s][0],p.v[s][1],0),y.applyToY(p.v[s][0],p.v[s][1],0));d.push(y.applyToX(p.o[s-1][0],p.o[s-1][1],0),y.applyToY(p.o[s-1][0],p.o[s-1][1],0),y.applyToX(p.i[0][0],p.i[0][1],0),y.applyToY(p.i[0][0],p.i[0][1],0),y.applyToX(p.v[0][0],p.v[0][1],0),y.applyToY(p.v[0][0],p.v[0][1],0)),f[u]=d}g&&(b+=v[i].l,b+=_),this.textSpans[T]?this.textSpans[T].elem=f:this.textSpans[T]={elem:f},T+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,r,i,n,o,a=this.canvasContext;a.font=this.values.fValue,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var s,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;e=h.length;var u,c,p=null,f=null,d=null;for(t=0;t<e;t+=1)if(!h[t].n){if((s=l[t])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(s.p),this.globalData.renderer.ctxOpacity(s.o)),this.fill){for(s&&s.fc?p!==s.fc&&(p=s.fc,a.fillStyle=s.fc):p!==this.values.fill&&(p=this.values.fill,a.fillStyle=this.values.fill),i=(u=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<i;r+=1)for(o=(c=u[r]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),n=2;n<o;n+=6)this.globalData.canvasContext.bezierCurveTo(c[n],c[n+1],c[n+2],c[n+3],c[n+4],c[n+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(s&&s.sw?d!==s.sw&&(d=s.sw,a.lineWidth=s.sw):d!==this.values.sWidth&&(d=this.values.sWidth,a.lineWidth=this.values.sWidth),s&&s.sc?f!==s.sc&&(f=s.sc,a.strokeStyle=s.sc):f!==this.values.stroke&&(f=this.values.stroke,a.strokeStyle=this.values.stroke),i=(u=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<i;r+=1)for(o=(c=u[r]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),n=2;n<o;n+=6)this.globalData.canvasContext.bezierCurveTo(c[n],c[n+1],c[n+2],c[n+3],c[n+4],c[n+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}s&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var r,i=0;i<e;)this.elements[i]&&this.elements[i].getBaseElement&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(t,r):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)e=t[r].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var r,i,n,o,a,s=t.sh.v,l=t.transformers,h=s._length;if(!(h<=1)){for(r=0;r<h-1;r+=1)i=this.getTransformedPoint(l,s.v[r]),n=this.getTransformedPoint(l,s.o[r]),o=this.getTransformedPoint(l,s.i[r+1]),a=this.getTransformedPoint(l,s.v[r+1]),this.checkBounds(i,n,o,a,e);s.c&&(i=this.getTransformedPoint(l,s.v[r]),n=this.getTransformedPoint(l,s.o[r]),o=this.getTransformedPoint(l,s.i[0]),a=this.getTransformedPoint(l,s.v[0]),this.checkBounds(i,n,o,a,e))}},HShapeElement.prototype.checkBounds=function(t,e,r,i,n){this.getBoundsOfCurve(t,e,r,i);var o=this.shapeBoundingBox;n.x=bmMin(o.left,n.x),n.xMax=bmMax(o.right,n.xMax),n.y=bmMin(o.top,n.y),n.yMax=bmMax(o.bottom,n.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,r,i){for(var n,o,a,s,l,h,u,c=[[t[0],i[0]],[t[1],i[1]]],p=0;p<2;++p)o=6*t[p]-12*e[p]+6*r[p],n=-3*t[p]+9*e[p]-9*r[p]+3*i[p],a=3*e[p]-3*t[p],o|=0,a|=0,0==(n|=0)&&0===o||(0===n?(s=-a/o)>0&&s<1&&c[p].push(this.calculateF(s,t,e,r,i,p)):(l=o*o-4*a*n)>=0&&((h=(-o+bmSqrt(l))/(2*n))>0&&h<1&&c[p].push(this.calculateF(h,t,e,r,i,p)),(u=(-o-bmSqrt(l))/(2*n))>0&&u<1&&c[p].push(this.calculateF(u,t,e,r,i,p))));this.shapeBoundingBox.left=bmMin.apply(null,c[0]),this.shapeBoundingBox.top=bmMin.apply(null,c[1]),this.shapeBoundingBox.right=bmMax.apply(null,c[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,c[1])},HShapeElement.prototype.calculateF=function(t,e,r,i,n,o){return bmPow(1-t,3)*e[o]+3*bmPow(1-t,2)*t*r[o]+3*(1-t)*bmPow(t,2)*i[o]+bmPow(t,3)*n[o]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],e):t[r]&&t[r].it&&this.calculateBoundingBox(t[r].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var i=this.shapeCont.style,n="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";i.transform=n,i.webkitTransform=n}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,r=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=r,e.color=r,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var i,n,o=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",o.fClass)this.innerElem.className=o.fClass;else{e.fontFamily=o.fFamily;var a=t.fWeight,s=t.fStyle;e.fontStyle=s,e.fontWeight=a}var l,h,u,c=t.l;n=c.length;var p,f=this.mHelper,d="",m=0;for(i=0;i<n;i+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?u=(h=this.textSpans[m]).children[0]:((h=createTag("div")).style.lineHeight=0,(u=createNS("svg")).appendChild(l),styleDiv(h)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(h=this.textSpans[m],l=this.textPaths[m]):(styleDiv(h=createTag("span")),styleDiv(l=createTag("span")),h.appendChild(l)),this.globalData.fontManager.chars){var v,y=this.globalData.fontManager.getCharData(t.finalText[i],o.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(v=y?y.data:null,f.reset(),v&&v.shapes&&(p=v.shapes[0].it,f.scale(t.finalSize/100,t.finalSize/100),d=this.createPathShape(f,p),l.setAttribute("d",d)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(h),v&&v.shapes){document.body.appendChild(u);var g=u.getBBox();u.setAttribute("width",g.width+2),u.setAttribute("height",g.height+2),u.setAttribute("viewBox",g.x-1+" "+(g.y-1)+" "+(g.width+2)+" "+(g.height+2));var _=u.style,b="translate("+(g.x-1)+"px,"+(g.y-1)+"px)";_.transform=b,_.webkitTransform=b,c[i].yOffset=g.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);h.appendChild(u)}}else if(l.textContent=c[i].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(h);var x=l.style,w="translate3d(0,"+-t.finalSize/1.2+"px,0)";x.transform=w,x.webkitTransform=w}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=h,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,i,n,o,a,s=0,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;for(i=h.length,r=0;r<i;r+=1)h[r].n?s+=1:(o=this.textSpans[r],a=this.textPaths[r],n=l[s],s+=1,n._mdf.m&&(this.isMasked?o.setAttribute("transform",n.m):(o.style.webkitTransform=n.m,o.style.transform=n.m)),o.style.opacity=n.o,n.sw&&n._mdf.sw&&a.setAttribute("stroke-width",n.sw),n.sc&&n._mdf.sc&&a.setAttribute("stroke",n.sc),n.fc&&n._mdf.fc&&(a.setAttribute("fill",n.fc),a.style.color=n.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var u=this.innerElem.getBBox();if(this.currentBBox.w!==u.width&&(this.currentBBox.w=u.width,this.svgElement.setAttribute("width",u.width)),this.currentBBox.h!==u.height&&(this.currentBBox.h=u.height,this.svgElement.setAttribute("height",u.height)),this.currentBBox.w!==u.width+2||this.currentBBox.h!==u.height+2||this.currentBBox.x!==u.x-1||this.currentBBox.y!==u.y-1){this.currentBBox.w=u.width+2,this.currentBBox.h=u.height+2,this.currentBBox.x=u.x-1,this.currentBBox.y=u.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var c="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=c,t.webkitTransform=c}}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,r,i,n=this.comp.threeDElements.length;for(t=0;t<n;t+=1)if("3d"===(e=this.comp.threeDElements[t]).type){r=e.perspectiveElem.style,i=e.container.style;var o=this.pe.v+"px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=o,r.webkitPerspective=o,i.transformOrigin="0px 0px 0px",i.mozTransformOrigin="0px 0px 0px",i.webkitTransformOrigin="0px 0px 0px",r.transform=a,r.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,r=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)r=this.hierarchy[t].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var i=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-i.p.v[0],-i.p.v[1],i.p.v[2]),this.mat.rotateX(-i.or.v[0]).rotateY(-i.or.v[1]).rotateZ(i.or.v[2]),this.mat.rotateX(-i.rx.v).rotateY(-i.ry.v).rotateZ(i.rz.v),this.mat.scale(1/i.s.v[0],1/i.s.v[1],1/i.s.v[2]),this.mat.translate(i.a.v[0],i.a.v[1],i.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var n;n=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var o=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)),a=[n[0]/o,n[1]/o,n[2]/o],s=Math.sqrt(a[2]*a[2]+a[0]*a[0]),l=Math.atan2(a[1],s),h=Math.atan2(a[0],-a[2]);this.mat.rotateY(h).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){var c,p,f;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if("3d"===(c=this.comp.threeDElements[t]).type){if(u){var d=this.mat.toCSS();(f=c.container.style).transform=d,f.webkitTransform=d}this.pe._mdf&&((p=c.perspectiveElem.style).perspective=this.pe.v+"px",p.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){var t={},e=[],r=0,i=0,n=0,o=!0,a=!1;function s(t){for(var r=0,n=t.target;r<i;)e[r].animation===n&&(e.splice(r,1),r-=1,i-=1,n.isPaused||u()),r+=1}function l(t,r){if(!t)return null;for(var n=0;n<i;){if(e[n].elem===t&&null!==e[n].elem)return e[n].animation;n+=1}var o=new AnimationItem;return c(o,t),o.setData(t,r),o}function h(){n+=1,d()}function u(){n-=1}function c(t,r){t.addEventListener("destroy",s),t.addEventListener("_active",h),t.addEventListener("_idle",u),e.push({elem:r,animation:t}),i+=1}function p(t){var s,l=t-r;for(s=0;s<i;s+=1)e[s].animation.advanceTime(l);r=t,n&&!a?window.requestAnimationFrame(p):o=!0}function f(t){r=t,window.requestAnimationFrame(p)}function d(){!a&&n&&o&&(window.requestAnimationFrame(f),o=!1)}return t.registerAnimation=l,t.loadAnimation=function(t){var e=new AnimationItem;return c(e,null),e.setParams(t),e},t.setSpeed=function(t,r){var n;for(n=0;n<i;n+=1)e[n].animation.setSpeed(t,r)},t.setDirection=function(t,r){var n;for(n=0;n<i;n+=1)e[n].animation.setDirection(t,r)},t.play=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.play(t)},t.pause=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.pause(t)},t.stop=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.stop(t)},t.togglePause=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.togglePause(t)},t.searchAnimations=function(t,e,r){var i,n=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),o=n.length;for(i=0;i<o;i+=1)r&&n[i].setAttribute("data-bm-type",r),l(n[i],t);if(e&&0===o){r||(r="svg");var a=document.getElementsByTagName("body")[0];a.innerText="";var s=createTag("div");s.style.width="100%",s.style.height="100%",s.setAttribute("data-bm-type",r),a.appendChild(s),l(s,t)}},t.resize=function(){var t;for(t=0;t<i;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,r,n){var o;for(o=0;o<i;o+=1)e[o].animation.goToAndStop(t,r,n)},t.destroy=function(t){var r;for(r=i-1;r>=0;r-=1)e[r].animation.destroy(t)},t.freeze=function(){a=!0},t.unfreeze=function(){a=!1,d()},t.setVolume=function(t,r){var n;for(n=0;n<i;n+=1)e[n].animation.setVolume(t,r)},t.mute=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.mute(t)},t.unmute=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.unmute(t)},t.getRegisteredAnimations=function(){var t,r=e.length,i=[];for(t=0;t<r;t+=1)i.push(e[t].animation);return i},t}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[]};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";switch(t.animType?e=t.animType:t.renderer&&(e=t.renderer),e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.configAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(t.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(t,e){e&&"object"!=typeof e&&(e=JSON.parse(e));var r={wrapper:t,animationData:e},i=t.attributes;r.path=i.getNamedItem("data-animation-path")?i.getNamedItem("data-animation-path").value:i.getNamedItem("data-bm-path")?i.getNamedItem("data-bm-path").value:i.getNamedItem("bm-path")?i.getNamedItem("bm-path").value:"",r.animType=i.getNamedItem("data-anim-type")?i.getNamedItem("data-anim-type").value:i.getNamedItem("data-bm-type")?i.getNamedItem("data-bm-type").value:i.getNamedItem("bm-type")?i.getNamedItem("bm-type").value:i.getNamedItem("data-bm-renderer")?i.getNamedItem("data-bm-renderer").value:i.getNamedItem("bm-renderer")?i.getNamedItem("bm-renderer").value:"canvas";var n=i.getNamedItem("data-anim-loop")?i.getNamedItem("data-anim-loop").value:i.getNamedItem("data-bm-loop")?i.getNamedItem("data-bm-loop").value:i.getNamedItem("bm-loop")?i.getNamedItem("bm-loop").value:"";"false"===n?r.loop=!1:"true"===n?r.loop=!0:""!==n&&(r.loop=parseInt(n,10));var o=i.getNamedItem("data-anim-autoplay")?i.getNamedItem("data-anim-autoplay").value:i.getNamedItem("data-bm-autoplay")?i.getNamedItem("data-bm-autoplay").value:!i.getNamedItem("bm-autoplay")||i.getNamedItem("bm-autoplay").value;r.autoplay="false"!==o,r.name=i.getNamedItem("data-name")?i.getNamedItem("data-name").value:i.getNamedItem("data-bm-name")?i.getNamedItem("data-bm-name").value:i.getNamedItem("bm-name")?i.getNamedItem("bm-name").value:"","false"===(i.getNamedItem("data-anim-prerender")?i.getNamedItem("data-anim-prerender").value:i.getNamedItem("data-bm-prerender")?i.getNamedItem("data-bm-prerender").value:i.getNamedItem("bm-prerender")?i.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,r,i=this.animationData.layers,n=i.length,o=t.layers,a=o.length;for(r=0;r<a;r+=1)for(e=0;e<n;){if(i[e].id===o[r].id){i[e]=o[r];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(n=t.assets.length,e=0;e<n;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,r=0;r<this.markers.length;r+=1)if((e=this.markers[r]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,r){if(!r||this.name===r){var i=Number(t);if(isNaN(i)){var n=this.getMarkerData(t);n&&this.goToAndStop(n.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,r){if(!r||this.name===r){var i=Number(t);if(isNaN(i)){var n=this.getMarkerData(t);n&&(n.duration?this.playSegments([n.time,n.time+n.duration],!0):this.goToAndStop(n.time,!0))}else this.goToAndStop(i,e,r);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),r&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"==typeof t[0]){var r,i=t.length;for(r=0;r<i;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var Expressions=function(){var t={initExpressions:function(t){var e=0,r=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==(e-=1)&&function(){var t,e=r.length;for(t=0;t<e;t+=1)r[t].release();r.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===r.indexOf(t)&&r.push(t)}}};return t}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||"boolean"===t||"string"===t||e instanceof Number}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){var r,i=t.length,n=[];for(r=0;r<i;r+=1)n[r]=-t[r];return n}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var r=typeof t,i=typeof e;if("string"===r||"string"===i)return t+e;if(isNumerable(r,t)&&isNumerable(i,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(i,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var n=0,o=t.length,a=e.length,s=[];n<o||n<a;)("number"==typeof t[n]||t[n]instanceof Number)&&("number"==typeof e[n]||e[n]instanceof Number)?s[n]=t[n]+e[n]:s[n]=void 0===e[n]?t[n]:t[n]||e[n],n+=1;return s}return 0}var add=sum;function sub(t,e){var r=typeof t,i=typeof e;if(isNumerable(r,t)&&isNumerable(i,e))return"string"===r&&(t=parseInt(t,10)),"string"===i&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(i,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var n=0,o=t.length,a=e.length,s=[];n<o||n<a;)("number"==typeof t[n]||t[n]instanceof Number)&&("number"==typeof e[n]||e[n]instanceof Number)?s[n]=t[n]-e[n]:s[n]=void 0===e[n]?t[n]:t[n]||e[n],n+=1;return s}return 0}function mul(t,e){var r,i,n,o=typeof t,a=typeof e;if(isNumerable(o,t)&&isNumerable(a,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(n=t.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=t[i]*e;return r}if(isNumerable(o,t)&&$bm_isInstanceOfArray(e)){for(n=e.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=t*e[i];return r}return 0}function div(t,e){var r,i,n,o=typeof t,a=typeof e;if(isNumerable(o,t)&&isNumerable(a,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(n=t.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=t[i]/e;return r}if(isNumerable(o,t)&&$bm_isInstanceOfArray(e)){for(n=e.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=t/e[i];return r}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof e&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,r){if(e>r){var i=r;r=e,e=i}return Math.min(Math.max(t,e),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);var r;e||(e=helperLengthArray);var i=Math.min(t.length,e.length),n=0;for(r=0;r<i;r+=1)n+=Math.pow(e[r]-t[r],2);return Math.sqrt(n)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,r,i=t[0],n=t[1],o=t[2],a=Math.max(i,n,o),s=Math.min(i,n,o),l=(a+s)/2;if(a===s)e=0,r=0;else{var h=a-s;switch(r=l>.5?h/(2-a-s):h/(a+s),a){case i:e=(n-o)/h+(n<o?6:0);break;case n:e=(o-i)/h+2;break;case o:e=(i-n)/h+4}e/=6}return[e,r,l,t[3]]}function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hslToRgb(t){var e,r,i,n=t[0],o=t[1],a=t[2];if(0===o)e=a,i=a,r=a;else{var s=a<.5?a*(1+o):a+o-a*o,l=2*a-s;e=hue2rgb(l,s,n+1/3),r=hue2rgb(l,s,n),i=hue2rgb(l,s,n-1/3)}return[e,r,i,t[3]]}function linear(t,e,r,i,n){if(void 0!==i&&void 0!==n||(i=e,n=r,e=0,r=1),r<e){var o=r;r=e,e=o}if(t<=e)return i;if(t>=r)return n;var a,s=r===e?0:(t-e)/(r-e);if(!i.length)return i+(n-i)*s;var l=i.length,h=createTypedArray("float32",l);for(a=0;a<l;a+=1)h[a]=i[a]+(n[a]-i[a])*s;return h}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var r,i=e.length;t||(t=createTypedArray("float32",i));var n=createTypedArray("float32",i),o=BMMath.random();for(r=0;r<i;r+=1)n[r]=t[r]+o*(e[r]-t[r]);return n}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,r,i){var n,o=t.length,a=shapePool.newElement();a.setPathData(!!i,o);var s,l,h=[0,0];for(n=0;n<o;n+=1)s=e&&e[n]?e[n]:h,l=r&&r[n]?r[n]:h,a.setTripleAt(t[n][0],t[n][1],l[0]+t[n][0],l[1]+t[n][1],s[0]+t[n][0],s[1]+t[n][1],n,!0);return a}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var r,i,n=this.pv.length?this.pv.length:1,o=createTypedArray("float32",n),a=Math.floor(5*time);for(r=0,i=0;r<a;){for(i=0;i<n;i+=1)o[i]+=-e+2*e*BMMath.random();r+=1}var s=5*time,l=s-Math.floor(s),h=createTypedArray("float32",n);if(n>1){for(i=0;i<n;i+=1)h[i]=this.pv[i]+o[i]+(-e+2*e*BMMath.random())*l;return h}return this.pv+o[0]+(-e+2*e*BMMath.random())*l}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],i=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,i,0]}function easeOut(t,e,r,i,n){return applyEase(easeOutBez,t,e,r,i,n)}function easeIn(t,e,r,i,n){return applyEase(easeInBez,t,e,r,i,n)}function ease(t,e,r,i,n){return applyEase(easeInOutBez,t,e,r,i,n)}function applyEase(t,e,r,i,n,o){void 0===n?(n=r,o=i):e=(e-r)/(i-r),e>1?e=1:e<0&&(e=0);var a=t(e);if($bm_isInstanceOfArray(n)){var s,l=n.length,h=createTypedArray("float32",l);for(s=0;s<l;s+=1)h[s]=(o[s]-n[s])*a+n[s];return h}return(o-n)*a+n}function nearestKey(t){var e,r,i,n=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,i=data.k[0].t;else{for(e=0;e<n-1;e+=1){if(t===data.k[e].t){r=e+1,i=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(r=e+2,i=data.k[e+1].t):(r=e+1,i=data.k[e].t);break}}-1===r&&(r=e+1,i=data.k[e].t)}else r=0,i=0;var o={};return o.index=r,o.time=i/elem.comp.globalData.frameRate,o}function key(t){var e,r,i;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var n=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(i=n.length,r=0;r<i;r+=1)e[r]=n[r],e.value[r]=n[r];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(t,e,r){e.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(t,e,r).bind(r)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),r=this.getValueAtTime(t+-.01),i=0;if(e.length){var n;for(n=0;n<e.length;n+=1)i+=Math.pow(r[n]-e[n],2);i=100*Math.sqrt(i)}else i=0;return i},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,r,i=this.getValueAtTime(t),n=this.getValueAtTime(t+-.001);if(i.length)for(e=createTypedArray("float32",i.length),r=0;r<i.length;r+=1)e[r]=(n[r]-i[r])/-.001;else e=(n-i)/-.001;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};!function(){function t(t,e,r){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var i,n,o,a,s,l=this.comp.renderedFrame,h=this.keyframes,u=h[h.length-1].t;if(l<=u)return this.pv;if(r?n=u-(i=e?Math.abs(u-this.elem.comp.globalData.frameRate*e):Math.max(0,u-this.elem.data.ip)):((!e||e>h.length-1)&&(e=h.length-1),i=u-(n=h[h.length-1-e].t)),"pingpong"===t){if(Math.floor((l-n)/i)%2!=0)return this.getValueAtTime((i-(l-n)%i+n)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(n/this.comp.globalData.frameRate,0),p=this.getValueAtTime(u/this.comp.globalData.frameRate,0),f=this.getValueAtTime(((l-n)%i+n)/this.comp.globalData.frameRate,0),d=Math.floor((l-n)/i);if(this.pv.length){for(a=(s=new Array(c.length)).length,o=0;o<a;o+=1)s[o]=(p[o]-c[o])*d+f[o];return s}return(p-c)*d+f}if("continue"===t){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),v=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(s=new Array(m.length)).length,o=0;o<a;o+=1)s[o]=m[o]+(m[o]-v[o])*((l-u)/this.comp.globalData.frameRate)/5e-4;return s}return m+(l-u)/.001*(m-v)}}return this.getValueAtTime(((l-n)%i+n)/this.comp.globalData.frameRate,0)}function e(t,e,r){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var i,n,o,a,s,l=this.comp.renderedFrame,h=this.keyframes,u=h[0].t;if(l>=u)return this.pv;if(r?n=u+(i=e?Math.abs(this.elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-u)):((!e||e>h.length-1)&&(e=h.length-1),i=(n=h[e].t)-u),"pingpong"===t){if(Math.floor((u-l)/i)%2==0)return this.getValueAtTime(((u-l)%i+u)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(u/this.comp.globalData.frameRate,0),p=this.getValueAtTime(n/this.comp.globalData.frameRate,0),f=this.getValueAtTime((i-(u-l)%i+u)/this.comp.globalData.frameRate,0),d=Math.floor((u-l)/i)+1;if(this.pv.length){for(a=(s=new Array(c.length)).length,o=0;o<a;o+=1)s[o]=f[o]-(p[o]-c[o])*d;return s}return f-(p-c)*d}if("continue"===t){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),v=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(s=new Array(m.length)).length,o=0;o<a;o+=1)s[o]=m[o]+(m[o]-v[o])*(u-l)/.001;return s}return m+(m-v)*(u-l)/.001}}return this.getValueAtTime((i-((u-l)%i+u))/this.comp.globalData.frameRate,0)}function r(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var r,i,n=this.comp.renderedFrame/this.comp.globalData.frameRate,o=n-t,a=e>1?(n+t-o)/(e-1):1,s=0,l=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;s<e;){if(i=this.getValueAtTime(o+s*a),this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]+=i[l];else r+=i;s+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]/=e;else r/=e;return r}function i(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var r=this.a.getValueAtTime(t);e.translate(-r[0]*this.a.mult,-r[1]*this.a.mult,r[2]*this.a.mult)}if(this.appliedTransformations<2){var i=this.s.getValueAtTime(t);e.scale(i[0]*this.s.mult,i[1]*this.s.mult,i[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var n=this.sk.getValueAtTime(t),o=this.sa.getValueAtTime(t);e.skewFromAxis(-n*this.sk.mult,o*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var a=this.r.getValueAtTime(t);e.rotate(-a*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var s=this.rz.getValueAtTime(t),l=this.ry.getValueAtTime(t),h=this.rx.getValueAtTime(t),u=this.or.getValueAtTime(t);e.rotateZ(-s*this.rz.mult).rotateY(l*this.ry.mult).rotateX(h*this.rx.mult).rotateZ(-u[2]*this.or.mult).rotateY(u[1]*this.or.mult).rotateX(u[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var c=this.px.getValueAtTime(t),p=this.py.getValueAtTime(t);if(this.data.p.z){var f=this.pz.getValueAtTime(t);e.translate(c*this.px.mult,p*this.py.mult,-f*this.pz.mult)}else e.translate(c*this.px.mult,p*this.py.mult,0)}else{var d=this.p.getValueAtTime(t);e.translate(d[0]*this.p.mult,d[1]*this.p.mult,-d[2]*this.p.mult)}return e}function n(){return this.v.clone(new Matrix)}var o=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,r){var a=o(t,e,r);return a.dynamicProperties.length?a.getValueAtTime=i.bind(a):a.getValueAtTime=n.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(i,n,o,s,l){var h=a(i,n,o,s,l);h.kf?h.getValueAtTime=expressionHelpers.getValueAtTime.bind(h):h.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(h),h.setGroupProperty=expressionHelpers.setGroupProperty,h.loopOut=t,h.loopIn=e,h.smooth=r,h.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(h),h.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(h),h.numKeys=1===n.a?n.k.length:0,h.propertyIndex=n.ix;var u=0;return 0!==o&&(u=createTypedArray("float32",1===n.a?n.k[0].s.length:n.k.length)),h._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},expressionHelpers.searchExpressions(i,n,h),h.k&&l.addDynamicProperty(h),h};var s=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function h(){}h.prototype={vertices:function(t,e){this.k&&this.getValue();var r,i=this.v;void 0!==e&&(i=this.getValueAtTime(e,0));var n=i._length,o=i[t],a=i.v,s=createSizedArray(n);for(r=0;r<n;r+=1)s[r]="i"===t||"o"===t?[o[r][0]-a[r][0],o[r][1]-a[r][1]]:[o[r][0],o[r][1]];return s},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var i,n=this._segmentsLength,o=n.lengths,a=n.totalLength*t,s=0,l=o.length,h=0;s<l;){if(h+o[s].addedLength>a){var u=s,c=r.c&&s===l-1?0:s+1,p=(a-h)/o[s].addedLength;i=bez.getPointInSegment(r.v[u],r.v[c],r.o[u],r.i[c],p,o[s]);break}h+=o[s].addedLength,s+=1}return i||(i=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),i},vectorOnPath:function(t,e,r){1==t?t=this.v.c:0==t&&(t=.999);var i=this.pointOnPath(t,e),n=this.pointOnPath(t+.001,e),o=n[0]-i[0],a=n[1]-i[1],s=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));return 0===s?[0,0]:"tangent"===r?[o/s,a/s]:[-a/s,o/s]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([h],s),extendPrototype([h],l),l.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var u=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,r,i,n){var o=u(t,e,r,i,n);return o.propertyIndex=e.ix,o.lock=!1,3===r?expressionHelpers.searchExpressions(t,e.pt,o):4===r&&expressionHelpers.searchExpressions(t,e.ks,o),o.k&&t.addDynamicProperty(o),o}}(),TextProperty.prototype.getExpressionValue=function(t,e){var r=this.calculateExpression(e);if(t.t!==r){var i={};return this.copyData(i,t),i.t=r.toString(),i.__complete=!1,i}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null};var ShapePathInterface=function(t,e,r){var i=e.sh;function n(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?n.path:null}var o=propertyGroupFactory(n,r);return i.setGroupProperty(PropertyInterface("Path",o)),Object.defineProperties(n,{path:{get:function(){return i.k&&i.getValue(),i}},shape:{get:function(){return i.k&&i.getValue(),i}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:r}}),n},propertyGroupFactory=function(t,e){return function(r){return(r=void 0===r?1:r)<=0?t:e(r-1)}},PropertyInterface=function(t,e){var r={_name:t};return function(t){return(t=void 0===t?1:t)<=0?r:e(t-1)}},ShapeExpressionInterface=function(){function t(t,o,c){var p,f=[],d=t?t.length:0;for(p=0;p<d;p+=1)"gr"===t[p].ty?f.push(e(t[p],o[p],c)):"fl"===t[p].ty?f.push(r(t[p],o[p],c)):"st"===t[p].ty?f.push(i(t[p],o[p],c)):"tm"===t[p].ty?f.push(n(t[p],o[p],c)):"tr"===t[p].ty||("el"===t[p].ty?f.push(a(t[p],o[p],c)):"sr"===t[p].ty?f.push(s(t[p],o[p],c)):"sh"===t[p].ty?f.push(ShapePathInterface(t[p],o[p],c)):"rc"===t[p].ty?f.push(l(t[p],o[p],c)):"rd"===t[p].ty?f.push(h(t[p],o[p],c)):"rp"===t[p].ty&&f.push(u(t[p],o[p],c)));return f}function e(e,r,i){var n=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return n.content;default:return n.transform}};n.propertyGroup=propertyGroupFactory(n,i);var a=function(e,r,i){var n,a=function(t){for(var e=0,r=n.length;e<r;){if(n[e]._name===t||n[e].mn===t||n[e].propertyIndex===t||n[e].ix===t||n[e].ind===t)return n[e];e+=1}return"number"==typeof t?n[t-1]:null};a.propertyGroup=propertyGroupFactory(a,i),n=t(e.it,r.it,a.propertyGroup),a.numProperties=n.length;var s=o(e.it[e.it.length-1],r.it[r.it.length-1],a.propertyGroup);return a.transform=s,a.propertyIndex=e.cix,a._name=e.nm,a}(e,r,n.propertyGroup),s=o(e.it[e.it.length-1],r.it[r.it.length-1],n.propertyGroup);return n.content=a,n.transform=s,Object.defineProperty(n,"_name",{get:function(){return e.nm}}),n.numProperties=e.np,n.propertyIndex=e.ix,n.nm=e.nm,n.mn=e.mn,n}function r(t,e,r){function i(t){return"Color"===t||"color"===t?i.color:"Opacity"===t||"opacity"===t?i.opacity:null}return Object.defineProperties(i,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",r)),e.o.setGroupProperty(PropertyInterface("Opacity",r)),i}function i(t,e,r){var i,n=propertyGroupFactory(h,r),o=propertyGroupFactory(l,n);function a(r){Object.defineProperty(l,t.d[r].nm,{get:ExpressionPropertyInterface(e.d.dataProps[r].p)})}var s=t.d?t.d.length:0,l={};for(i=0;i<s;i+=1)a(i),e.d.dataProps[i].p.setGroupProperty(o);function h(t){return"Color"===t||"color"===t?h.color:"Opacity"===t||"opacity"===t?h.opacity:"Stroke Width"===t||"stroke width"===t?h.strokeWidth:null}return Object.defineProperties(h,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return l}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",n)),e.o.setGroupProperty(PropertyInterface("Opacity",n)),e.w.setGroupProperty(PropertyInterface("Stroke Width",n)),h}function n(t,e,r){function i(e){return e===t.e.ix||"End"===e||"end"===e?i.end:e===t.s.ix?i.start:e===t.o.ix?i.offset:null}var n=propertyGroupFactory(i,r);return i.propertyIndex=t.ix,e.s.setGroupProperty(PropertyInterface("Start",n)),e.e.setGroupProperty(PropertyInterface("End",n)),e.o.setGroupProperty(PropertyInterface("Offset",n)),i.propertyIndex=t.ix,i.propertyGroup=r,Object.defineProperties(i,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),i.mn=t.mn,i}function o(t,e,r){function i(e){return t.a.ix===e||"Anchor Point"===e?i.anchorPoint:t.o.ix===e||"Opacity"===e?i.opacity:t.p.ix===e||"Position"===e?i.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?i.rotation:t.s.ix===e||"Scale"===e?i.scale:t.sk&&t.sk.ix===e||"Skew"===e?i.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?i.skewAxis:null}var n=propertyGroupFactory(i,r);return e.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",n)),e.transform.mProps.p.setGroupProperty(PropertyInterface("Position",n)),e.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",n)),e.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",n)),e.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",n)),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",n)),e.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",n))),e.transform.op.setGroupProperty(PropertyInterface("Opacity",n)),Object.defineProperties(i,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),i.ty="tr",i.mn=t.mn,i.propertyGroup=r,i}function a(t,e,r){function i(e){return t.p.ix===e?i.position:t.s.ix===e?i.size:null}var n=propertyGroupFactory(i,r);i.propertyIndex=t.ix;var o="tm"===e.sh.ty?e.sh.prop:e.sh;return o.s.setGroupProperty(PropertyInterface("Size",n)),o.p.setGroupProperty(PropertyInterface("Position",n)),Object.defineProperties(i,{size:{get:ExpressionPropertyInterface(o.s)},position:{get:ExpressionPropertyInterface(o.p)},_name:{value:t.nm}}),i.mn=t.mn,i}function s(t,e,r){function i(e){return t.p.ix===e?i.position:t.r.ix===e?i.rotation:t.pt.ix===e?i.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?i.outerRadius:t.os.ix===e?i.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?i.innerRoundness:null:i.innerRadius}var n=propertyGroupFactory(i,r),o="tm"===e.sh.ty?e.sh.prop:e.sh;return i.propertyIndex=t.ix,o.or.setGroupProperty(PropertyInterface("Outer Radius",n)),o.os.setGroupProperty(PropertyInterface("Outer Roundness",n)),o.pt.setGroupProperty(PropertyInterface("Points",n)),o.p.setGroupProperty(PropertyInterface("Position",n)),o.r.setGroupProperty(PropertyInterface("Rotation",n)),t.ir&&(o.ir.setGroupProperty(PropertyInterface("Inner Radius",n)),o.is.setGroupProperty(PropertyInterface("Inner Roundness",n))),Object.defineProperties(i,{position:{get:ExpressionPropertyInterface(o.p)},rotation:{get:ExpressionPropertyInterface(o.r)},points:{get:ExpressionPropertyInterface(o.pt)},outerRadius:{get:ExpressionPropertyInterface(o.or)},outerRoundness:{get:ExpressionPropertyInterface(o.os)},innerRadius:{get:ExpressionPropertyInterface(o.ir)},innerRoundness:{get:ExpressionPropertyInterface(o.is)},_name:{value:t.nm}}),i.mn=t.mn,i}function l(t,e,r){function i(e){return t.p.ix===e?i.position:t.r.ix===e?i.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?i.size:null}var n=propertyGroupFactory(i,r),o="tm"===e.sh.ty?e.sh.prop:e.sh;return i.propertyIndex=t.ix,o.p.setGroupProperty(PropertyInterface("Position",n)),o.s.setGroupProperty(PropertyInterface("Size",n)),o.r.setGroupProperty(PropertyInterface("Rotation",n)),Object.defineProperties(i,{position:{get:ExpressionPropertyInterface(o.p)},roundness:{get:ExpressionPropertyInterface(o.r)},size:{get:ExpressionPropertyInterface(o.s)},_name:{value:t.nm}}),i.mn=t.mn,i}function h(t,e,r){function i(e){return t.r.ix===e||"Round Corners 1"===e?i.radius:null}var n=propertyGroupFactory(i,r),o=e;return i.propertyIndex=t.ix,o.rd.setGroupProperty(PropertyInterface("Radius",n)),Object.defineProperties(i,{radius:{get:ExpressionPropertyInterface(o.rd)},_name:{value:t.nm}}),i.mn=t.mn,i}function u(t,e,r){function i(e){return t.c.ix===e||"Copies"===e?i.copies:t.o.ix===e||"Offset"===e?i.offset:null}var n=propertyGroupFactory(i,r),o=e;return i.propertyIndex=t.ix,o.c.setGroupProperty(PropertyInterface("Copies",n)),o.o.setGroupProperty(PropertyInterface("Offset",n)),Object.defineProperties(i,{copies:{get:ExpressionPropertyInterface(o.c)},offset:{get:ExpressionPropertyInterface(o.o)},_name:{value:t.nm}}),i.mn=t.mn,i}return function(e,r,i){var n;function o(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?i:n[t-1];for(var e=0,r=n.length;e<r;){if(n[e]._name===t)return n[e];e+=1}return null}return o.propertyGroup=propertyGroupFactory(o,(function(){return i})),n=t(e,r,o.propertyGroup),o.numProperties=n.length,o._name="Contents",o}}(),TextExpressionInterface=function(t){var e;function r(t){switch(t){case"ADBE Text Document":return r.sourceText;default:return null}}return Object.defineProperty(r,"sourceText",{get:function(){t.textProperty.getValue();var r=t.textProperty.currentData.t;return void 0!==r&&(t.textProperty.currentData.t=void 0,(e=new String(r)).value=r||new String(r)),e}}),r},LayerExpressionInterface=function(){function t(t){var e=new Matrix;return void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(e):this._elem.finalTransform.mProp.applyToMatrix(e),e}function e(t,e){var r=this.getMatrix(e);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.applyPoint(r,t)}function r(t,e){var r=this.getMatrix(e);return this.applyPoint(r,t)}function i(t,e){var r=this.getMatrix(e);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.invertPoint(r,t)}function n(t,e){var r=this.getMatrix(e);return this.invertPoint(r,t)}function o(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t)}return t.applyToPointArray(e[0],e[1],e[2]||0)}function a(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t)}return t.inversePoint(e)}function s(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function l(){return[1,1,1,1]}return function(h){var u;function c(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return c.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return u;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return c.effect;case"ADBE Text Properties":return c.textInterface;default:return null}}c.getMatrix=t,c.invertPoint=a,c.applyPoint=o,c.toWorld=r,c.toWorldVec=e,c.fromWorld=n,c.fromWorldVec=i,c.toComp=r,c.fromComp=s,c.sampleImage=l,c.sourceRectAtTime=h.sourceRectAtTime.bind(h),c._elem=h;var p=getDescriptor(u=TransformExpressionInterface(h.finalTransform.mProp),"anchorPoint");return Object.defineProperties(c,{hasParent:{get:function(){return h.hierarchy.length}},parent:{get:function(){return h.hierarchy[0].layerInterface}},rotation:getDescriptor(u,"rotation"),scale:getDescriptor(u,"scale"),position:getDescriptor(u,"position"),opacity:getDescriptor(u,"opacity"),anchorPoint:p,anchor_point:p,transform:{get:function(){return u}},active:{get:function(){return h.isInRange}}}),c.startTime=h.data.st,c.index=h.data.ind,c.source=h.data.refId,c.height=0===h.data.ty?h.data.h:100,c.width=0===h.data.ty?h.data.w:100,c.inPoint=h.data.ip/h.comp.globalData.frameRate,c.outPoint=h.data.op/h.comp.globalData.frameRate,c._name=h.data.nm,c.registerMaskInterface=function(t){c.mask=new MaskManagerInterface(t,h)},c.registerEffectsInterface=function(t){c.effect=t},c}}(),FootageInterface=(dataInterfaceFactory=function(t){function e(t){return"Outline"===t?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(t){var e="",r=t.getFootageData();function i(t){if(r[t])return e=t,"object"==typeof(r=r[t])?i:r;var n=t.indexOf(e);if(-1!==n){var o=parseInt(t.substr(n+e.length),10);return"object"==typeof(r=r[o])?i:r}return""}return function(){return e="",r=t.getFootageData(),i}}(t),e},function(t){function e(t){return"Data"===t?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(t),e}),dataInterfaceFactory,CompExpressionInterface=function(t){function e(e){for(var r=0,i=t.layers.length;r<i;){if(t.layers[r].nm===e||t.layers[r].ind===e)return t.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e},TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var r,i,n,o;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?o=ExpressionPropertyInterface(t.p):(r=ExpressionPropertyInterface(t.px),i=ExpressionPropertyInterface(t.py),t.pz&&(n=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?o():[r(),i(),n?n():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,r=this.compositions.length;e<r;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(r,i,n,o){function a(t){for(var e=r.ef,i=0,n=e.length;i<n;){if(t===e[i].nm||t===e[i].mn||t===e[i].ix)return 5===e[i].ty?h[i]:h[i]();i+=1}throw new Error}var s,l=propertyGroupFactory(a,n),h=[],u=r.ef.length;for(s=0;s<u;s+=1)5===r.ef[s].ty?h.push(t(r.ef[s],i.effectElements[s],i.effectElements[s].propertyGroup,o)):h.push(e(i.effectElements[s],r.ef[s].ty,o,l));return"ADBE Color Control"===r.mn&&Object.defineProperty(a,"color",{get:function(){return h[0]()}}),Object.defineProperties(a,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:l}}),a.enabled=0!==r.en,a.active=a.enabled,a}function e(t,e,r,i){var n=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",i)),function(){return 10===e?r.comp.compInterface(t.p.v):n()}}return{createEffectsInterface:function(e,r){if(e.effectsManager){var i,n=[],o=e.data.ef,a=e.effectsManager.effectElements.length;for(i=0;i<a;i+=1)n.push(t(o[i],e.effectsManager.effectElements[i],r,e));var s=e.data.ef||[],l=function(t){for(i=0,a=s.length;i<a;){if(t===s[i].nm||t===s[i].mn||t===s[i].ix)return n[i];i+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return s.length}}),l}return null}}}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var r,i=createSizedArray(e.viewData.length),n=e.viewData.length;for(r=0;r<n;r+=1)i[r]=new t(e.viewData[r],e.masksProperties[r]);return function(t){for(r=0;r<n;){if(e.masksProperties[r].nm===t)return i[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function r(t,e,r){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(i){if(!t.numKeys)return 0;var n;n="s"in e.keyframes[i-1]?e.keyframes[i-1].s:"e"in e.keyframes[i-2]?e.keyframes[i-2].e:e.keyframes[i-2].s;var o="unidimensional"===r?new Number(n):Object.assign({},n);return o.time=e.keyframes[i-1].t/e.elem.comp.globalData.frameRate,o.value="unidimensional"===r?n[0]:n,o},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function i(){return t}return function(n){return n?"unidimensional"===n.propType?function(e){e&&"pv"in e||(e=t);var i=1/e.mult,n=e.pv*i,o=new Number(n);return o.value=n,r(o,e,"unidimensional"),function(){return e.k&&e.getValue(),n=e.v*i,o.value!==n&&((o=new Number(n)).value=n,r(o,e,"unidimensional")),o}}(n):function(t){t&&"pv"in t||(t=e);var i=1/t.mult,n=t.data&&t.data.l||t.pv.length,o=createTypedArray("float32",n),a=createTypedArray("float32",n);return o.value=a,r(o,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<n;e+=1)a[e]=t.v[e]*i,o[e]=a[e];return o}}(n):i}}();function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var r,i=t.ef||[];this.effectElements=[];var n,o=i.length;for(r=0;r<o;r+=1)n=new GroupEffect(i[r],e),this.effectElements.push(n)}function GroupEffect(t,e){this.init(t,e)}!function(){var t=TextSelectorProp.getTextSelectorProp;TextSelectorProp.getTextSelectorProp=function(e,r,i){return 1===r.t?new TextExpressionSelectorPropFactory(e,r,i):t(e,r,i)}}(),extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var r;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var i,n=this.data.ef.length,o=this.data.ef;for(r=0;r<n;r+=1){switch(i=null,o[r].ty){case 0:i=new SliderEffect(o[r],e,this);break;case 1:i=new AngleEffect(o[r],e,this);break;case 2:i=new ColorEffect(o[r],e,this);break;case 3:i=new PointEffect(o[r],e,this);break;case 4:case 7:i=new CheckboxEffect(o[r],e,this);break;case 10:i=new LayerIndexEffect(o[r],e,this);break;case 11:i=new MaskIndexEffect(o[r],e,this);break;case 5:i=new EffectsManager(o[r],e,this);break;default:i=new NoValueEffect(o[r],e,this)}i&&this.effectElements.push(i)}};var lottie={};function setLocationHref(t){locationHref=t}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),r=0;r<e.length;r+=1){var i=e[r].split("=");if(decodeURIComponent(i[0])==t)return decodeURIComponent(i[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.__getFactory=getFactory,lottie.version="5.7.8";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="",queryString;if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie}))})),PlayerState,PlayerEvent,t;function parseSrc(t){if("object"==typeof t)return t;try{return JSON.parse(t)}catch(t){}try{return new URL(t).toString()}catch(t){}return t}t=PlayerState||(PlayerState={}),t.Loading="loading",t.Playing="playing",t.Paused="paused",t.Stopped="stopped",t.Frozen="frozen",t.Error="error",function(t){t.Load="load",t.Error="error",t.Ready="ready",t.Play="play",t.Pause="pause",t.Stop="stop",t.Freeze="freeze",t.Loop="loop",t.Complete="complete",t.Frame="frame"}(PlayerEvent||(PlayerEvent={}));var defaultOptions={clearCanvas:!1,hideOnTransparent:!0,progressiveLoad:!0},Player=function(t){function e(e){var r=t.call(this,e)||this;return r.container=null,r.handleBgChange=function(t){r.setState({background:t})},r.triggerDownload=function(t,e){var r=document.createElement("a");r.href=t,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)},r.snapshot=function(t){var e;void 0===t&&(t=!0);var i=r.props.id?r.props.id:"lottie",n=document.getElementById(i);if("svg"===r.props.renderer){if(n){var o=n.querySelector("svg");if(o){var a=(new XMLSerializer).serializeToString(o);e="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a)}}t&&r.triggerDownload(e,"snapshot.svg")}else if("canvas"===r.props.renderer){if(n){var s=n.querySelector("canvas");s&&(e=s.toDataURL("image/png"))}t&&r.triggerDownload(e,"snapshot.png")}return e},"undefined"!=typeof window&&(window.lottie=lottie),r.state={animationData:null,background:"transparent",containerRef:react__WEBPACK_IMPORTED_MODULE_0__.createRef(),debug:!0,instance:null,playerState:PlayerState.Loading,seeker:0},r}return __extends(e,t),e.getDerivedStateFromProps=function(t,e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(r){return t.background!==e.background?[2,{background:t.background}]:[2,null]}))}))},e.prototype.componentDidMount=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this.createLottie()];case 1:return t.sent(),[2]}}))}))},e.prototype.componentWillUnmount=function(){this.state.instance&&this.state.instance.destroy()},e.prototype.componentDidUpdate=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return this.props.src===t.src?[3,2]:(this.state.instance&&this.state.instance.destroy(),[4,this.createLottie()]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.render=function(){var t=this,e=this.props,r=e.children,i=e.loop,n=e.style,o=e.onBackgroundChange,a=e.className,s=this.state,l=s.animationData,h=s.instance,u=s.playerState,c=s.seeker,p=s.debug,f=s.background;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-player-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:this.props.id?this.props.id:"lottie",ref:function(e){return t.container=e},style:__assign({background:f,margin:"0 auto",outline:"none",overflow:"hidden"},n),className:a}),react__WEBPACK_IMPORTED_MODULE_0__.Children.map(r,(function(e){return react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(e)?react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(e,{animationData:l,background:f,debug:p,instance:h,loop:i,pause:function(){return t.pause()},play:function(){return t.play()},playerState:u,seeker:c,setBackground:function(e){t.setState({background:e}),"function"==typeof o&&o(e)},setSeeker:function(e,r){return t.setSeeker(e,r)},stop:function(){return t.stop()},toggleDebug:function(){return t.toggleDebug()},setLoop:function(e){return t.setLoop(e)},colorChangedEvent:function(e){t.handleBgChange(e)},snapshot:function(){t.snapshot()}}):null})))},e.prototype.toggleDebug=function(){this.setState({debug:!this.state.debug})},e.prototype.createLottie=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,r,i,n,o,a,s,l,h,u,c,p,f,d=this;return __generator(this,(function(m){switch(m.label){case 0:if(t=this.props,e=t.autoplay,r=t.direction,i=t.loop,n=t.lottieRef,o=t.renderer,a=t.speed,s=t.src,l=t.background,h=t.rendererSettings,u=t.hover,c=this.state.instance,!s||!this.container)return[2];m.label=1;case 1:return m.trys.push([1,5,,6]),"string"!=typeof(p=parseSrc(s))?[3,4]:[4,fetch(p)];case 2:return[4,m.sent().json()];case 3:p=m.sent(),m.label=4;case 4:return c&&c.destroy(),f=lottie.loadAnimation({rendererSettings:h||defaultOptions,animationData:p,autoplay:e||!1,container:this.container,loop:i||!1,renderer:o}),a&&lottie.setSpeed(a),this.setState({animationData:p}),f.addEventListener("enterFrame",(function(){d.triggerEvent(PlayerEvent.Frame),d.setState({seeker:Math.floor(f.currentFrame)})})),f.addEventListener("DOMLoaded",(function(){d.triggerEvent(PlayerEvent.Load)})),f.addEventListener("data_ready",(function(){d.triggerEvent(PlayerEvent.Ready)})),f.addEventListener("data_failed",(function(){d.setState({playerState:PlayerState.Error})})),f.addEventListener("loopComplete",(function(){d.triggerEvent(PlayerEvent.Loop)})),f.addEventListener("complete",(function(){d.triggerEvent(PlayerEvent.Complete),d.setState({playerState:PlayerState.Paused}),d.props.keepLastFrame&&!d.props.loop||d.setSeeker(0)})),this.container.addEventListener("mouseenter",(function(){u&&d.state.playerState!==PlayerState.Playing&&(d.props.keepLastFrame&&d.stop(),d.play())})),this.container.addEventListener("mouseleave",(function(){u&&d.state.playerState===PlayerState.Playing&&d.stop()})),a&&this.setPlayerSpeed(a),r&&this.setPlayerDirection(r),l&&this.setState({background:l}),this.setState({instance:f},(function(){"function"==typeof n&&n(f),e&&d.play()})),[3,6];case 5:return m.sent(),this.setState({playerState:PlayerState.Error}),[3,6];case 6:return[2]}}))}))},e.prototype.play=function(){var t=this.state.instance;t&&(this.triggerEvent(PlayerEvent.Play),t.play(),this.setState({playerState:PlayerState.Playing}))},e.prototype.pause=function(){var t=this.state.instance;t&&(this.triggerEvent(PlayerEvent.Pause),t.pause(),this.setState({playerState:PlayerState.Paused}))},e.prototype.stop=function(){var t=this.state.instance;t&&(this.triggerEvent(PlayerEvent.Stop),t.stop(),this.setState({playerState:PlayerState.Stopped}))},e.prototype.setPlayerSpeed=function(t){var e=this.state.instance;e&&e.setSpeed(t)},e.prototype.setPlayerDirection=function(t){var e=this.state.instance;e&&e.setDirection(t)},e.prototype.setSeeker=function(t,e){void 0===e&&(e=!1);var r=this.state,i=r.instance,n=r.playerState;i&&(e&&n===PlayerState.Playing?i.goToAndPlay(t,!0):(i.goToAndStop(t,!0),this.triggerEvent(PlayerEvent.Pause),this.setState({playerState:PlayerState.Paused})))},e.prototype.setLoop=function(t){var e=this.state.instance;e&&(e.loop=t,this.setState({instance:e}))},e.prototype.triggerEvent=function(t){var e=this.props.onEvent;e&&e(t)},e.defaultProps={loop:!1},e}(react__WEBPACK_IMPORTED_MODULE_0__.Component);function styleInject(t,e){void 0===e&&(e={});var r=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===r&&i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}}var css_248z=".lf-progress {\n  -webkit-appearance: none;\n  -moz-apperance: none;\n  width: 100%;\n  /* margin: 0 10px; */\n  height: 4px;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.lf-progress:focus {\n  outline: none;\n  border: none;\n}\n.lf-progress::-moz-range-track {\n  cursor: pointer;\n  background: none;\n  border: none;\n  outline: none;\n}\n.lf-progress::-webkit-slider-thumb {\n  -webkit-appearance: none !important;\n  height: 13px;\n  width: 13px;\n  border: 0;\n  border-radius: 50%;\n  background: #0fccce;\n  cursor: pointer;\n}\n.lf-progress::-moz-range-thumb {\n  -moz-appearance: none !important;\n  height: 13px;\n  width: 13px;\n  border: 0;\n  border-radius: 50%;\n  background: #0fccce;\n  cursor: pointer;\n}\n.lf-progress::-ms-track {\n  width: 100%;\n  height: 3px;\n  cursor: pointer;\n  background: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n.lf-progress::-ms-fill-lower {\n  background: #ccc;\n  border-radius: 3px;\n}\n.lf-progress::-ms-fill-upper {\n  background: #ccc;\n  border-radius: 3px;\n}\n.lf-progress::-ms-thumb {\n  border: 0;\n  height: 15px;\n  width: 15px;\n  border-radius: 50%;\n  background: #0fccce;\n  cursor: pointer;\n}\n.lf-progress:focus::-ms-fill-lower {\n  background: #ccc;\n}\n.lf-progress:focus::-ms-fill-upper {\n  background: #ccc;\n}\n.lf-player-container :focus {\n  outline: 0;\n}\n.lf-popover {\n  position: relative;\n}\n\n.lf-popover-content {\n  display: inline-block;\n  position: absolute;\n  opacity: 1;\n  visibility: visible;\n  transform: translate(0, -10px);\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);\n}\n\n.lf-popover-content.hidden {\n  opacity: 0;\n  visibility: hidden;\n  transform: translate(0, 0px);\n}\n\n.lf-player-btn-container {\n  display: flex;\n  align-items: center;\n}\n.lf-player-btn {\n  cursor: pointer;\n  fill: #999;\n  width: 14px;\n}\n\n.lf-player-btn.active {\n  fill: #555;\n}\n\n.lf-popover {\n  position: relative;\n}\n\n.lf-popover-content {\n  display: inline-block;\n  position: absolute;\n  background-color: #ffffff;\n  opacity: 1;\n\n  transform: translate(0, -10px);\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);\n  padding: 10px;\n}\n\n.lf-popover-content.hidden {\n  opacity: 0;\n  visibility: hidden;\n  transform: translate(0, 0px);\n}\n\n.lf-arrow {\n  position: absolute;\n  z-index: -1;\n  content: '';\n  bottom: -9px;\n  border-style: solid;\n  border-width: 10px 10px 0px 10px;\n}\n\n.lf-left-align,\n.lf-left-align .lfarrow {\n  left: 0;\n  right: unset;\n}\n\n.lf-right-align,\n.lf-right-align .lf-arrow {\n  right: 0;\n  left: unset;\n}\n\n.lf-text-input {\n  border: 1px #ccc solid;\n  border-radius: 5px;\n  padding: 3px;\n  width: 60px;\n  margin: 0;\n}\n\n.lf-color-picker {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  height: 90px;\n}\n\n.lf-color-selectors {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.lf-color-component {\n  display: flex;\n  flex-direction: row;\n  font-size: 12px;\n  align-items: center;\n  justify-content: center;\n}\n\n.lf-color-component strong {\n  width: 40px;\n}\n\n.lf-color-component input[type='range'] {\n  margin: 0 0 0 10px;\n}\n\n.lf-color-component input[type='number'] {\n  width: 50px;\n  margin: 0 0 0 10px;\n}\n\n.lf-color-preview {\n  font-size: 12px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  padding-left: 5px;\n}\n\n.lf-preview {\n  height: 60px;\n  width: 60px;\n}\n\n.lf-popover-snapshot {\n  width: 150px;\n}\n.lf-popover-snapshot h5 {\n  margin: 5px 0 10px 0;\n  font-size: 0.75rem;\n}\n.lf-popover-snapshot a {\n  display: block;\n  text-decoration: none;\n}\n.lf-popover-snapshot a:before {\n  content: '⥼';\n  margin-right: 5px;\n}\n.lf-popover-snapshot .lf-note {\n  display: block;\n  margin-top: 10px;\n  color: #999;\n}\n.lf-player-controls > div {\n  margin-right: 5px;\n  margin-left: 5px;\n}\n.lf-player-controls > div:first-child {\n  margin-left: 0px;\n}\n.lf-player-controls > div:last-child {\n  margin-right: 0px;\n}\n",stylesheet=".lf-progress {\n  -webkit-appearance: none;\n  -moz-apperance: none;\n  width: 100%;\n  /* margin: 0 10px; */\n  height: 4px;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.lf-progress:focus {\n  outline: none;\n  border: none;\n}\n.lf-progress::-moz-range-track {\n  cursor: pointer;\n  background: none;\n  border: none;\n  outline: none;\n}\n.lf-progress::-webkit-slider-thumb {\n  -webkit-appearance: none !important;\n  height: 13px;\n  width: 13px;\n  border: 0;\n  border-radius: 50%;\n  background: #0fccce;\n  cursor: pointer;\n}\n.lf-progress::-moz-range-thumb {\n  -moz-appearance: none !important;\n  height: 13px;\n  width: 13px;\n  border: 0;\n  border-radius: 50%;\n  background: #0fccce;\n  cursor: pointer;\n}\n.lf-progress::-ms-track {\n  width: 100%;\n  height: 3px;\n  cursor: pointer;\n  background: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n.lf-progress::-ms-fill-lower {\n  background: #ccc;\n  border-radius: 3px;\n}\n.lf-progress::-ms-fill-upper {\n  background: #ccc;\n  border-radius: 3px;\n}\n.lf-progress::-ms-thumb {\n  border: 0;\n  height: 15px;\n  width: 15px;\n  border-radius: 50%;\n  background: #0fccce;\n  cursor: pointer;\n}\n.lf-progress:focus::-ms-fill-lower {\n  background: #ccc;\n}\n.lf-progress:focus::-ms-fill-upper {\n  background: #ccc;\n}\n.lf-player-container :focus {\n  outline: 0;\n}\n.lf-popover {\n  position: relative;\n}\n\n.lf-popover-content {\n  display: inline-block;\n  position: absolute;\n  opacity: 1;\n  visibility: visible;\n  transform: translate(0, -10px);\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);\n}\n\n.lf-popover-content.hidden {\n  opacity: 0;\n  visibility: hidden;\n  transform: translate(0, 0px);\n}\n\n.lf-player-btn-container {\n  display: flex;\n  align-items: center;\n}\n.lf-player-btn {\n  cursor: pointer;\n  fill: #999;\n  width: 14px;\n}\n\n.lf-player-btn.active {\n  fill: #555;\n}\n\n.lf-popover {\n  position: relative;\n}\n\n.lf-popover-content {\n  display: inline-block;\n  position: absolute;\n  background-color: #ffffff;\n  opacity: 1;\n\n  transform: translate(0, -10px);\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);\n  padding: 10px;\n}\n\n.lf-popover-content.hidden {\n  opacity: 0;\n  visibility: hidden;\n  transform: translate(0, 0px);\n}\n\n.lf-arrow {\n  position: absolute;\n  z-index: -1;\n  content: '';\n  bottom: -9px;\n  border-style: solid;\n  border-width: 10px 10px 0px 10px;\n}\n\n.lf-left-align,\n.lf-left-align .lfarrow {\n  left: 0;\n  right: unset;\n}\n\n.lf-right-align,\n.lf-right-align .lf-arrow {\n  right: 0;\n  left: unset;\n}\n\n.lf-text-input {\n  border: 1px #ccc solid;\n  border-radius: 5px;\n  padding: 3px;\n  width: 60px;\n  margin: 0;\n}\n\n.lf-color-picker {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  height: 90px;\n}\n\n.lf-color-selectors {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.lf-color-component {\n  display: flex;\n  flex-direction: row;\n  font-size: 12px;\n  align-items: center;\n  justify-content: center;\n}\n\n.lf-color-component strong {\n  width: 40px;\n}\n\n.lf-color-component input[type='range'] {\n  margin: 0 0 0 10px;\n}\n\n.lf-color-component input[type='number'] {\n  width: 50px;\n  margin: 0 0 0 10px;\n}\n\n.lf-color-preview {\n  font-size: 12px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  padding-left: 5px;\n}\n\n.lf-preview {\n  height: 60px;\n  width: 60px;\n}\n\n.lf-popover-snapshot {\n  width: 150px;\n}\n.lf-popover-snapshot h5 {\n  margin: 5px 0 10px 0;\n  font-size: 0.75rem;\n}\n.lf-popover-snapshot a {\n  display: block;\n  text-decoration: none;\n}\n.lf-popover-snapshot a:before {\n  content: '⥼';\n  margin-right: 5px;\n}\n.lf-popover-snapshot .lf-note {\n  display: block;\n  margin-top: 10px;\n  color: #999;\n}\n.lf-player-controls > div {\n  margin-right: 5px;\n  margin-left: 5px;\n}\n.lf-player-controls > div:first-child {\n  margin-left: 0px;\n}\n.lf-player-controls > div:last-child {\n  margin-right: 0px;\n}\n";styleInject(css_248z);var ColorPicker=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={red:0,green:0,blue:0,rgba:null,hex:"#000000",colorComponents:[]},e.handleChange=function(t,r){if("r"===t){var i="#"+(256|r).toString(16).slice(1)+(256|e.state.green).toString(16).slice(1)+(256|e.state.blue).toString(16).slice(1);e.setState({hex:i})}else"g"===t?(i="#"+(256|e.state.red).toString(16).slice(1)+(256|r).toString(16).slice(1)+(256|e.state.blue).toString(16).slice(1),e.setState({hex:i})):"b"===t&&(i="#"+(256|e.state.red).toString(16).slice(1)+(256|e.state.green).toString(16).slice(1)+(256|r).toString(16).slice(1),e.setState({hex:i}))},e.parseColor=function(t){var r;if("string"==typeof t){if("#"===t[0]){var i=4===t.length?[t.slice(1,2),t.slice(2,3),t.slice(3,4)].map((function(t){return parseInt(""+t+t,16)})):[t.slice(1,3),t.slice(3,5),t.slice(5,7)].map((function(t){return parseInt(t,16)}));e.setState({colorComponents:i})}else t.startsWith("rgb")&&void 0!==(i=null===(r=t.match(/\d+/g))||void 0===r?void 0:r.map((function(t){return parseInt(t)})))&&e.setState({colorComponents:i});e.state.colorComponents.length&&(e.setState({red:e.state.colorComponents[0]}),e.setState({green:e.state.colorComponents[1]}),e.setState({blue:e.state.colorComponents[2]}))}},e}return __extends(e,t),e.prototype.componentDidUpdate=function(t,e){return this.props.colorChangedEvent&&this.state.hex!==e.hex&&this.props.colorChangedEvent(this.state.hex),!0},e.prototype.render=function(){var t=this;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-color-picker"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-color-selectors"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-color-component"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,"Red"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"range",min:"0",max:"255",value:this.state.red,onChange:function(e){t.setState({red:e.target.value}),t.handleChange("r",e.target.value)}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.red,onChange:function(e){t.setState({red:e.target.value}),t.handleChange("r",e.target.value)}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-color-component"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,"Green"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"range",min:"0",max:"255",value:this.state.green,onChange:function(e){t.setState({green:e.target.value}),t.handleChange("g",e.target.value)}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.green,onChange:function(e){t.setState({green:e.target.value}),t.handleChange("g",e.target.value)}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-color-component"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,"Blue"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"range",min:"0",max:"255",value:this.state.blue,onChange:function(e){t.setState({blue:e.target.value}),t.handleChange("b",e.target.value)}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.blue,onChange:function(e){t.setState({blue:e.target.value}),t.handleChange("b",e.target.value)}}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-color-preview"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-preview",style:{background:"rgb("+this.state.red+", "+this.state.green+", "+this.state.blue+")"}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{className:"lf-text-input",type:"text",value:this.state.hex,onChange:function(e){t.setState({hex:e.target.value}),t.parseColor(e.target.value)}}))))},e}(react__WEBPACK_IMPORTED_MODULE_0__.Component),Popover=function(t){var e=t.children,r=t.icon,i=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),n=i[0],o=i[1],a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),s=a[0],l=a[1],h=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),u=h[0],c=h[1],p=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),f=p[0],d=p[1];return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(n&&s){var t=n.getBoundingClientRect(),e=s.getBoundingClientRect(),r=t.left+e.width>window.innerWidth?-1:0;c(r)}}),[u,s,n]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-popover",onMouseOver:function(){d(!0)},onMouseLeave:function(){d(!1)},ref:function(t){o(t)}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:" lf-player-btn"},r),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-popover-content",ref:function(t){l(t)},style:{bottom:"22px",right:"0px",zIndex:2,visibility:f?"visible":"hidden"}},e))},Seeker=function(t){function e(e){var r=t.call(this,e)||this;return r.inputRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef(),r.handleChange=function(){return function(t){var e=t.target.value,i=Math.floor(e/100*r.props.max);r.props.onChange(i)}},r.state={value:0},r}return __extends(e,t),e.prototype.render=function(){var t=this.props.value/this.props.max*100,e={backgroundImage:"-webkit-gradient(linear, left top, right top, color-stop("+t+"%, rgba(15, 204, 206, 0.4)), color-stop("+t+"%, #DAE1E7))"},r={position:"absolute",left:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"},i={position:"absolute",right:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginRight:"5px",marginLeft:"5px",position:"relative"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{ref:this.inputRef,id:"track",className:"lf-progress",name:"progress",type:"range",min:"0",max:"100",step:"0.1",value:t,onInput:this.handleChange(),onChange:this.handleChange(),style:e}),this.props.showLabels&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:r},this.props.min),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:i},this.props.max)))},e}(react__WEBPACK_IMPORTED_MODULE_0__.Component),ControlButtonStyle={display:"inline-flex",cursor:"pointer"},Controls=function(t){function e(e){var r=t.call(this,e)||this;return r.state={activeFrame:0,mouseDown:!1},r}return __extends(e,t),e.prototype.render=function(){var t=this,e=this.props,r=e.instance,i=e.playerState,n=e.seeker,o=e.setLoop,a=e.setSeeker,s=e.play,l=e.pause,h=e.stop,u=e.visible,c=e.buttons;if(!r)return null;if(!u)return null;var p=!c||c.includes("play"),f=!c||c.includes("stop"),d=!c||c.includes("repeat"),m=!c||c.includes("frame"),v=!c||c.includes("background"),y=!c||c.includes("snapshot"),g={width:14,height:14,viewBox:"0 0 24 24"},_=Math.round(r.currentFrame);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-player-controls",style:{display:"flex",justifyContent:"space-between",height:"60px",alignItems:"center",backgroundColor:this.props.transparentTheme?"transparent":this.props.darkTheme?"#3C3C3C":"#ffffff",paddingLeft:"10px",paddingRight:"10px"}},p&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{role:"button",tabIndex:0,onClick:function(){i===PlayerState.Playing?"function"==typeof l&&l():"function"==typeof s&&s()},onKeyDown:function(){i===PlayerState.Playing?"function"==typeof l&&l():"function"==typeof s&&s()},className:"lf-player-btn",style:ControlButtonStyle},i===PlayerState.Playing?react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",__assign({},g),react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"14",y:".5"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"2",y:".5"})):react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",__assign({},g),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M2 3.4C2 1.9 3.5 1 4.8 1.8l16.5 9.6c1.2.7 1.2 2.5 0 3.2L4.8 24.2C3.5 25 2 24.1 2 22.6V3.4z"}))),f&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{tabIndex:0,role:"button",onClick:function(){return h&&h()},onKeyDown:function(){return h&&h()},className:i===PlayerState.Stopped?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",__assign({},g),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M2 3.667A1.67 1.67 0 0 1 3.667 2h16.666A1.67 1.67 0 0 1 22 3.667v16.666A1.67 1.67 0 0 1 20.333\n            22H3.667A1.67 1.67 0 0 1 2 20.333z"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(Seeker,{min:0,step:1,max:r?r.totalFrames:1,value:n||0,onChange:function(e){a&&t.setState({activeFrame:e},(function(){a(e,!1)}))},onChangeEnd:function(e){a&&t.setState({activeFrame:e},(function(){a(e,!1)}))},showLabels:this.props.showLabels,darkTheme:this.props.darkTheme}),m&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{role:"button",className:"lf-player-btn-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{style:{outline:"none",border:this.props.darkTheme?"1px #505050 solid":"1px #ccc solid",borderRadius:"3px",width:"40px",textAlign:"center",backgroundColor:this.props.darkTheme?"#505050":"#ffffff",color:this.props.darkTheme?"#B9B9B9":"#999",fontSize:"0.7rem",padding:"0",fontFamily:"inherit"},type:"text",value:_,readOnly:!0})),d&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{role:"button",tabIndex:0,onClick:function(){r&&o&&o(!r.loop)},onKeyDown:function(){r&&o&&o(!r.loop)},className:r.loop?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",__assign({},g),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M12.5 16.8137h-.13v1.8939h4.9696c3.6455 0 6.6113-2.9658 6.6113-6.6116\n            0-3.64549-2.9658-6.61131-6.6113-6.61131-.5231 0-.947.42391-.947.94696 0 .52304.4239.94696.947.94696 2.6011 0\n            4.7174 2.11634 4.7174 4.71739 0 2.6014-2.1166 4.7177-4.7174 4.7177H12.5zM13.6025\n            5.61469v-.13H7.48137C3.83582 5.48469.87 8.45051.87 12.096c0 3.6509 3.17269 6.6117 6.81304 6.6117.52304 0\n            .94696-.424.94696-.947 0-.5231-.42392-.947-.94696-.947-2.60804 0-4.91907-2.1231-4.91907-4.7176 0-2.60115\n            2.11634-4.71744 4.7174-4.71744h6.12113V5.61469z",stroke:"#8795A1",strokeWidth:".26"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M11.1482\n            2.20355h0l-.001-.00116c-.3412-.40061-.9405-.44558-1.33668-.0996h-.00001c-.39526.34519-.43936.94795-.09898\n            1.34767l2.51487 3.03683-2.51894 3.06468c-.33872.40088-.29282 1.00363.10347\n            1.34723l.08517-.0982-.08517.0982c.17853.1549.39807.2308.61647.2308.2671 0 .5328-.114.72-.3347h0l.0011-.0014\n            3.0435-3.68655.0006-.00068c.3035-.35872.3025-.88754-.0019-1.24526l-3.0425-3.65786zM13.9453\n            21.7965h0l.001.0011c.3413.4006.9407.4456 1.337.0996h0c.3953-.3452.4395-.9479.099-1.3477l-2.5154-3.0368\n            2.5195-3.0647c.3388-.4008.2929-1.0036-.1035-1.3472l-.0852.0982.0852-.0982c-.1786-.1549-.3981-.2308-.6166-.2308-.2671\n            0-.5329.114-.7202.3347h0l-.0011.0014-3.0442\n            3.6865c-.0001.0003-.0003.0005-.0005.0007-.3036.3587-.3027.8876.0019 1.2453l3.0431 3.6579z",fill:"#8795A1",stroke:"#8795A1",strokeWidth:".26"}))),v&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(Popover,{icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",__assign({},g),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M12 3.1L6.1 8.6a7.6 7.6 0 00-2.2 4 7.2 7.2 0 00.4 4.4 7.9 7.9 0 003 3.5 8.7 8.7 0 004.7 1.3c1.6 0\n            3.2-.5 4.6-1.3s2.4-2 3-3.5a7.2 7.2 0 00.5-4.5 7.6 7.6 0 00-2.2-4L12 3.2zM12 0l7.5 7a9.8 9.8 0 013 5.1\n            9.3 9.3 0 01-.6 5.8c-.9 1.8-2.2 3.3-4 4.4A11.2 11.2 0 0112 24a11.2 11.2 0\n            01-6-1.7c-1.7-1-3-2.6-3.9-4.4a9.3 9.3 0 01-.6-5.8c.4-2 1.5-3.7 3-5L12 0zM6 14h12c0 1.5-.7 3-1.8 4s-2.6\n            1.6-4.2 1.6S9 19 7.8 18s-1.7-2.5-1.7-4z"}))},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{slot:"content",className:"lf-popover popover-background"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ColorPicker,{colorChangedEvent:this.props.colorChangedEvent}))),y&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(Popover,{icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",__assign({},g),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{clipRule:"evenodd",d:"M0 3.01A2.983 2.983 0 012.983.027H16.99a2.983 2.983 0 012.983 2.983v14.008a2.982 2.982 0 01-2.983\n              2.983H2.983A2.983 2.983 0 010 17.018zm2.983-.941a.941.941 0 00-.942.94v14.01c0\n              .52.422.94.942.94H16.99a.94.94 0 00.941-.94V3.008a.941.941 0 00-.94-.94H2.981z",fillRule:"evenodd"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M12.229 7.945l-2.07 4.598-2.586-2.605-2.414 2.758v2.146h9.656V11.93z"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:"7.444",cy:"6.513",r:"2.032"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9.561 23.916h11.25a2.929 2.929 0 002.926-2.927V9.954a1.06 1.06 0 10-2.122 0v11.035a.805.805 0\n              01-.803.804H9.562a1.061 1.061 0 100 2.123z",stroke:"#8795a1",strokeWidth:".215"}))},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{slot:"content",className:"lf-popover lf-popover-snapshot",onWheel:function(t){a&&a(_+(t.deltaY>0?-1:1),!1)}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h5",null,"Frame ",_),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download SVG"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download PNG"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"lf-note"},"Scroll with mousewheel to find exact frame"))))},e}(react__WEBPACK_IMPORTED_MODULE_0__.Component)}).call(this,__webpack_require__("yLpj"))},uFGo:function(t){t.exports=JSON.parse("{}")},uGsb:function(t,e,r){var i,n,o,a,s,l,h,u;t.exports=(u=r("Ib8C"),r("MlIO"),r("1uat"),n=(i=u).x64,o=n.Word,a=n.WordArray,s=i.algo,l=s.SHA512,h=s.SHA384=l.extend({_doReset:function(){this._hash=new a.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var t=l._doFinalize.call(this);return t.sigBytes-=16,t}}),i.SHA384=l._createHelper(h),i.HmacSHA384=l._createHmacHelper(h),u.SHA384)},uGxW:function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("OLod"),i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding)},viRO:function(t,e,r){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=r("MgzW"),n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,l=n?Symbol.for("react.strict_mode"):60108,h=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(t,e,r){this.props=t,this.context=e,this.refs=_,this.updater=r||g}function x(){}function w(t,e,r){this.props=t,this.context=e,this.refs=_,this.updater=r||g}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=b.prototype;var T=w.prototype=new x;T.constructor=w,i(T,b.prototype),T.isPureReactComponent=!0;var E={current:null},S=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function A(t,e,r){var i,n={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)S.call(e,i)&&!M.hasOwnProperty(i)&&(n[i]=e[i]);var l=arguments.length-2;if(1===l)n.children=r;else if(1<l){for(var h=Array(l),u=0;u<l;u++)h[u]=arguments[u+2];n.children=h}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===n[i]&&(n[i]=l[i]);return{$$typeof:o,type:t,key:a,ref:s,props:n,_owner:E.current}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}var P=/\/+/g,k=[];function O(t,e,r,i){if(k.length){var n=k.pop();return n.result=t,n.keyPrefix=e,n.func=r,n.context=i,n.count=0,n}return{result:t,keyPrefix:e,func:r,context:i,count:0}}function I(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>k.length&&k.push(t)}function D(t,e,r){return null==t?0:function t(e,r,i,n){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case o:case a:l=!0}}if(l)return i(n,e,""===r?"."+R(e,0):r),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var h=0;h<e.length;h++){var u=r+R(s=e[h],h);l+=t(s,u,i,n)}else if(null===e||"object"!=typeof e?u=null:u="function"==typeof(u=v&&e[v]||e["@@iterator"])?u:null,"function"==typeof u)for(e=u.call(e),h=0;!(s=e.next()).done;)l+=t(s=s.value,u=r+R(s,h++),i,n);else if("object"===s)throw i=""+e,Error(y(31,"[object Object]"===i?"object with keys {"+Object.keys(e).join(", ")+"}":i,""));return l}(t,"",e,r)}function R(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function F(t,e){t.func.call(t.context,e,t.count++)}function L(t,e,r){var i=t.result,n=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?B(t,i,r,(function(t){return t})):null!=t&&(C(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,n+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(P,"$&/")+"/")+r)),i.push(t))}function B(t,e,r,i,n){var o="";null!=r&&(o=(""+r).replace(P,"$&/")+"/"),D(t,L,e=O(e,o,i,n)),I(e)}var N={current:null};function z(){var t=N.current;if(null===t)throw Error(y(321));return t}var j={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:i};e.Children={map:function(t,e,r){if(null==t)return t;var i=[];return B(t,i,null,e,r),i},forEach:function(t,e,r){if(null==t)return t;D(t,F,e=O(null,null,e,r)),I(e)},count:function(t){return D(t,(function(){return null}),null)},toArray:function(t){var e=[];return B(t,e,null,(function(t){return t})),e},only:function(t){if(!C(t))throw Error(y(143));return t}},e.Component=b,e.Fragment=s,e.Profiler=h,e.PureComponent=w,e.StrictMode=l,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,e.cloneElement=function(t,e,r){if(null==t)throw Error(y(267,t));var n=i({},t.props),a=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=E.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(u in e)S.call(e,u)&&!M.hasOwnProperty(u)&&(n[u]=void 0===e[u]&&void 0!==h?h[u]:e[u])}var u=arguments.length-2;if(1===u)n.children=r;else if(1<u){h=Array(u);for(var c=0;c<u;c++)h[c]=arguments[c+2];n.children=h}return{$$typeof:o,type:t.type,key:a,ref:s,props:n,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:c,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:t},t.Consumer=t},e.createElement=A,e.createFactory=function(t){var e=A.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:p,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return z().useCallback(t,e)},e.useContext=function(t,e){return z().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return z().useEffect(t,e)},e.useImperativeHandle=function(t,e,r){return z().useImperativeHandle(t,e,r)},e.useLayoutEffect=function(t,e){return z().useLayoutEffect(t,e)},e.useMemo=function(t,e){return z().useMemo(t,e)},e.useReducer=function(t,e,r){return z().useReducer(t,e,r)},e.useRef=function(t){return z().useRef(t)},e.useState=function(t){return z().useState(t)},e.version="16.14.0"},w7YG:function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("ETIr"),r("cv67"),r("K3mO"),r("OLod"),function(){var t=i,e=t.lib.StreamCipher,r=t.algo,n=r.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes,i=this._S=[],n=0;n<256;n++)i[n]=n;n=0;for(var o=0;n<256;n++){var a=n%r,s=e[a>>>2]>>>24-a%4*8&255;o=(o+i[n]+s)%256;var l=i[n];i[n]=i[o],i[o]=l}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,r=this._j,i=0,n=0;n<4;n++){r=(r+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[r],t[r]=o,i|=t[(t[e]+t[r])%256]<<24-8*n}return this._i=e,this._j=r,i}t.RC4=e._createHelper(n);var a=r.RC4Drop=n.extend({cfg:n.cfg.extend({drop:192}),_doReset:function(){n._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});t.RC4Drop=e._createHelper(a)}(),i.RC4)},wTVA:function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},wZgz:function(t,e,r){var i;t.exports=(i=r("Ib8C"),r("ETIr"),r("cv67"),r("K3mO"),r("OLod"),function(){var t=i,e=t.lib.BlockCipher,r=t.algo,n=[],o=[],a=[],s=[],l=[],h=[],u=[],c=[],p=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,i=0;for(e=0;e<256;e++){var d=i^i<<1^i<<2^i<<3^i<<4;d=d>>>8^255&d^99,n[r]=d,o[d]=r;var m=t[r],v=t[m],y=t[v],g=257*t[d]^16843008*d;a[r]=g<<24|g>>>8,s[r]=g<<16|g>>>16,l[r]=g<<8|g>>>24,h[r]=g,g=16843009*y^65537*v^257*m^16843008*r,u[d]=g<<24|g>>>8,c[d]=g<<16|g>>>16,p[d]=g<<8|g>>>24,f[d]=g,r?(r=m^t[t[t[y^m]]],i^=t[t[i]]):r=i=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],m=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,i=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],a=0;a<i;a++)a<r?o[a]=e[a]:(h=o[a-1],a%r?r>6&&a%r==4&&(h=n[h>>>24]<<24|n[h>>>16&255]<<16|n[h>>>8&255]<<8|n[255&h]):(h=n[(h=h<<8|h>>>24)>>>24]<<24|n[h>>>16&255]<<16|n[h>>>8&255]<<8|n[255&h],h^=d[a/r|0]<<24),o[a]=o[a-r]^h);for(var s=this._invKeySchedule=[],l=0;l<i;l++){if(a=i-l,l%4)var h=o[a];else h=o[a-4];s[l]=l<4||a<=4?h:u[n[h>>>24]]^c[n[h>>>16&255]]^p[n[h>>>8&255]]^f[n[255&h]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,l,h,n)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,u,c,p,f,o),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,i,n,o,a,s){for(var l=this._nRounds,h=t[e]^r[0],u=t[e+1]^r[1],c=t[e+2]^r[2],p=t[e+3]^r[3],f=4,d=1;d<l;d++){var m=i[h>>>24]^n[u>>>16&255]^o[c>>>8&255]^a[255&p]^r[f++],v=i[u>>>24]^n[c>>>16&255]^o[p>>>8&255]^a[255&h]^r[f++],y=i[c>>>24]^n[p>>>16&255]^o[h>>>8&255]^a[255&u]^r[f++],g=i[p>>>24]^n[h>>>16&255]^o[u>>>8&255]^a[255&c]^r[f++];h=m,u=v,c=y,p=g}m=(s[h>>>24]<<24|s[u>>>16&255]<<16|s[c>>>8&255]<<8|s[255&p])^r[f++],v=(s[u>>>24]<<24|s[c>>>16&255]<<16|s[p>>>8&255]<<8|s[255&h])^r[f++],y=(s[c>>>24]<<24|s[p>>>16&255]<<16|s[h>>>8&255]<<8|s[255&u])^r[f++],g=(s[p>>>24]<<24|s[h>>>16&255]<<16|s[u>>>8&255]<<8|s[255&c])^r[f++],t[e]=m,t[e+1]=v,t[e+2]=y,t[e+3]=g},keySize:8});t.AES=e._createHelper(m)}(),i.AES)},wbyO:function(t,e,r){var i,n,o;t.exports=(o=r("Ib8C"),n=(i=o).lib.WordArray,i.enc.Base64url={stringify:function(t,e=!0){var r=t.words,i=t.sigBytes,n=e?this._safe_map:this._map;t.clamp();for(var o=[],a=0;a<i;a+=3)for(var s=(r[a>>>2]>>>24-a%4*8&255)<<16|(r[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|r[a+2>>>2]>>>24-(a+2)%4*8&255,l=0;l<4&&a+.75*l<i;l++)o.push(n.charAt(s>>>6*(3-l)&63));var h=n.charAt(64);if(h)for(;o.length%4;)o.push(h);return o.join("")},parse:function(t,e=!0){var r=t.length,i=e?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++)o[i.charCodeAt(a)]=a}var s=i.charAt(64);if(s){var l=t.indexOf(s);-1!==l&&(r=l)}return function(t,e,r){for(var i=[],o=0,a=0;a<e;a++)if(a%4){var s=r[t.charCodeAt(a-1)]<<a%4*2,l=r[t.charCodeAt(a)]>>>6-a%4*2,h=s|l;i[o>>>2]|=h<<24-o%4*8,o++}return n.create(i,o)}(t,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},o.enc.Base64url)},wkBT:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},yLpj:function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},yXPU:function(t,e){function r(t,e,r,i,n,o,a){try{var s=t[o](a),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(i,n)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise((function(n,o){var a=t.apply(e,i);function s(t){r(a,n,o,s,l,"next",t)}function l(t){r(a,n,o,s,l,"throw",t)}s(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},yl30:function(t,e,r){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=r("q1tI"),n=r("MgzW"),o=r("QCnb");function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));function s(t,e,r,i,n,o,a,s,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(t){this.onError(t)}}var l=!1,h=null,u=!1,c=null,p={onError:function(t){l=!0,h=t}};function f(t,e,r,i,n,o,a,u,c){l=!1,h=null,s.apply(p,arguments)}var d=null,m=null,v=null;function y(t,e,r){var i=t.type||"unknown-event";t.currentTarget=v(r),function(t,e,r,i,n,o,s,p,d){if(f.apply(this,arguments),l){if(!l)throw Error(a(198));var m=h;l=!1,h=null,u||(u=!0,c=m)}}(i,e,void 0,t),t.currentTarget=null}var g=null,_={};function b(){if(g)for(var t in _){var e=_[t],r=g.indexOf(t);if(!(-1<r))throw Error(a(96,t));if(!w[r]){if(!e.extractEvents)throw Error(a(97,t));for(var i in w[r]=e,r=e.eventTypes){var n=void 0,o=r[i],s=e,l=i;if(T.hasOwnProperty(l))throw Error(a(99,l));T[l]=o;var h=o.phasedRegistrationNames;if(h){for(n in h)h.hasOwnProperty(n)&&x(h[n],s,l);n=!0}else o.registrationName?(x(o.registrationName,s,l),n=!0):n=!1;if(!n)throw Error(a(98,i,t))}}}}function x(t,e,r){if(E[t])throw Error(a(100,t));E[t]=e,S[t]=e.eventTypes[r].dependencies}var w=[],T={},E={},S={};function M(t){var e,r=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];if(!_.hasOwnProperty(e)||_[e]!==i){if(_[e])throw Error(a(102,e));_[e]=i,r=!0}}r&&b()}var A=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),C=null,P=null,k=null;function O(t){if(t=m(t)){if("function"!=typeof C)throw Error(a(280));var e=t.stateNode;e&&(e=d(e),C(t.stateNode,t.type,e))}}function I(t){P?k?k.push(t):k=[t]:P=t}function D(){if(P){var t=P,e=k;if(k=P=null,O(t),e)for(t=0;t<e.length;t++)O(e[t])}}function R(t,e){return t(e)}function F(t,e,r,i,n){return t(e,r,i,n)}function L(){}var B=R,N=!1,z=!1;function j(){null===P&&null===k||(L(),D())}function V(t,e,r){if(z)return t(e,r);z=!0;try{return B(t,e,r)}finally{z=!1,j()}}var U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,q={},H={};function G(t,e,r,i,n,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){Y[t]=new G(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];Y[e]=new G(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){Y[t]=new G(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){Y[t]=new G(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){Y[t]=new G(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){Y[t]=new G(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){Y[t]=new G(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){Y[t]=new G(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){Y[t]=new G(t,5,!1,t.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function K(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(X,K);Y[e]=new G(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(X,K);Y[e]=new G(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(X,K);Y[e]=new G(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){Y[t]=new G(t,1,!1,t.toLowerCase(),null,!1)})),Y.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){Y[t]=new G(t,1,!1,t.toLowerCase(),null,!0)}));var Z=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(t,e,r,i){var n=Y.hasOwnProperty(e)?Y[e]:null;(null!==n?0===n.type:!i&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,r,i){if(null==e||function(t,e,r,i){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,i))return!0;if(i)return!1;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,n,i)&&(r=null),i||null===n?function(t){return!!W.call(H,t)||!W.call(q,t)&&(U.test(t)?H[t]=!0:(q[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):n.mustUseProperty?t[n.propertyName]=null===r?3!==n.type&&"":r:(e=n.attributeName,i=n.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(n=n.type)||4===n&&!0===r?"":""+r,i?t.setAttributeNS(i,e,r):t.setAttribute(e,r))))}Z.hasOwnProperty("ReactCurrentDispatcher")||(Z.ReactCurrentDispatcher={current:null}),Z.hasOwnProperty("ReactCurrentBatchConfig")||(Z.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,$="function"==typeof Symbol&&Symbol.for,tt=$?Symbol.for("react.element"):60103,et=$?Symbol.for("react.portal"):60106,rt=$?Symbol.for("react.fragment"):60107,it=$?Symbol.for("react.strict_mode"):60108,nt=$?Symbol.for("react.profiler"):60114,ot=$?Symbol.for("react.provider"):60109,at=$?Symbol.for("react.context"):60110,st=$?Symbol.for("react.concurrent_mode"):60111,lt=$?Symbol.for("react.forward_ref"):60112,ht=$?Symbol.for("react.suspense"):60113,ut=$?Symbol.for("react.suspense_list"):60120,ct=$?Symbol.for("react.memo"):60115,pt=$?Symbol.for("react.lazy"):60116,ft=$?Symbol.for("react.block"):60121,dt="function"==typeof Symbol&&Symbol.iterator;function mt(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=dt&&t[dt]||t["@@iterator"])?t:null}function vt(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case rt:return"Fragment";case et:return"Portal";case nt:return"Profiler";case it:return"StrictMode";case ht:return"Suspense";case ut:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case at:return"Context.Consumer";case ot:return"Context.Provider";case lt:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ct:return vt(t.type);case ft:return vt(t.render);case pt:if(t=1===t._status?t._result:null)return vt(t)}return null}function yt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break t;default:var i=t._debugOwner,n=t._debugSource,o=vt(t.type);r=null,i&&(r=vt(i.type)),i=o,o="",n?o=" (at "+n.fileName.replace(Q,"")+":"+n.lineNumber+")":r&&(o=" (created by "+r+")"),r="\n    in "+(i||"Unknown")+o}e+=r,t=t.return}while(t);return e}function gt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function _t(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=_t(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var n=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function xt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return t&&(i=_t(t)?t.checked?"true":"false":t.value),(t=i)!==r&&(e.setValue(t),!0)}function wt(t,e){var r=e.checked;return n({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function Tt(t,e){var r=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;r=gt(null!=e.value?e.value:r),t._wrapperState={initialChecked:i,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Et(t,e){null!=(e=e.checked)&&J(t,"checked",e,!1)}function St(t,e){Et(t,e);var r=gt(e.value),i=e.type;if(null!=r)"number"===i?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?At(t,e.type,r):e.hasOwnProperty("defaultValue")&&At(t,e.type,gt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Mt(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}""!==(r=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==r&&(t.name=r)}function At(t,e,r){"number"===e&&t.ownerDocument.activeElement===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function Ct(t,e){return t=n({children:void 0},e),(e=function(t){var e="";return i.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Pt(t,e,r,i){if(t=t.options,e){e={};for(var n=0;n<r.length;n++)e["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=e.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&i&&(t[r].defaultSelected=!0)}else{for(r=""+gt(r),e=null,n=0;n<t.length;n++){if(t[n].value===r)return t[n].selected=!0,void(i&&(t[n].defaultSelected=!0));null!==e||t[n].disabled||(e=t[n])}null!==e&&(e.selected=!0)}}function kt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return n({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ot(t,e){var r=e.value;if(null==r){if(r=e.children,e=e.defaultValue,null!=r){if(null!=e)throw Error(a(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(a(93));r=r[0]}e=r}null==e&&(e=""),r=e}t._wrapperState={initialValue:gt(r)}}function It(t,e){var r=gt(e.value),i=gt(e.defaultValue);null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&t.defaultValue!==r&&(t.defaultValue=r)),null!=i&&(t.defaultValue=""+i)}function Dt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Rt="http://www.w3.org/1999/xhtml",Ft="http://www.w3.org/2000/svg";function Lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Lt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Nt,zt=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,r,i,n){MSApp.execUnsafeLocalFunction((function(){return t(e,r)}))}:t}((function(t,e){if(t.namespaceURI!==Ft||"innerHTML"in t)t.innerHTML=e;else{for((Nt=Nt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function jt(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}function Vt(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ut={animationend:Vt("Animation","AnimationEnd"),animationiteration:Vt("Animation","AnimationIteration"),animationstart:Vt("Animation","AnimationStart"),transitionend:Vt("Transition","TransitionEnd")},Wt={},qt={};function Ht(t){if(Wt[t])return Wt[t];if(!Ut[t])return t;var e,r=Ut[t];for(e in r)if(r.hasOwnProperty(e)&&e in qt)return Wt[t]=r[e];return t}A&&(qt=document.createElement("div").style,"AnimationEvent"in window||(delete Ut.animationend.animation,delete Ut.animationiteration.animation,delete Ut.animationstart.animation),"TransitionEvent"in window||delete Ut.transitionend.transition);var Gt=Ht("animationend"),Yt=Ht("animationiteration"),Xt=Ht("animationstart"),Kt=Ht("transitionend"),Zt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jt=new("function"==typeof WeakMap?WeakMap:Map);function Qt(t){var e=Jt.get(t);return void 0===e&&(e=new Map,Jt.set(t,e)),e}function $t(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(r=e.return),t=e.return}while(t)}return 3===e.tag?r:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if($t(t)!==t)throw Error(a(188))}function re(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=$t(t)))throw Error(a(188));return e!==t?null:t}for(var r=t,i=e;;){var n=r.return;if(null===n)break;var o=n.alternate;if(null===o){if(null!==(i=n.return)){r=i;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===r)return ee(n),t;if(o===i)return ee(n),e;o=o.sibling}throw Error(a(188))}if(r.return!==i.return)r=n,i=o;else{for(var s=!1,l=n.child;l;){if(l===r){s=!0,r=n,i=o;break}if(l===i){s=!0,i=n,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,i=n;break}if(l===i){s=!0,i=o,r=n;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==i)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ie(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ne(t,e,r){Array.isArray(t)?t.forEach(e,r):t&&e.call(r,t)}var oe=null;function ae(t){if(t){var e=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(e))for(var i=0;i<e.length&&!t.isPropagationStopped();i++)y(t,e[i],r[i]);else e&&y(t,e,r);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function se(t){if(null!==t&&(oe=ie(oe,t)),t=oe,oe=null,t){if(ne(t,ae),oe)throw Error(a(95));if(u)throw t=c,u=!1,c=null,t}}function le(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function he(t){if(!A)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}var ue=[];function ce(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ue.length&&ue.push(t)}function pe(t,e,r,i){if(ue.length){var n=ue.pop();return n.topLevelType=t,n.eventSystemFlags=i,n.nativeEvent=e,n.targetInst=r,n}return{topLevelType:t,eventSystemFlags:i,nativeEvent:e,targetInst:r,ancestors:[]}}function fe(t){var e=t.targetInst,r=e;do{if(!r){t.ancestors.push(r);break}var i=r;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(e=r.tag)&&6!==e||t.ancestors.push(r),r=Mr(i)}while(r);for(r=0;r<t.ancestors.length;r++){e=t.ancestors[r];var n=le(t.nativeEvent);i=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===r&&(a|=64);for(var s=null,l=0;l<w.length;l++){var h=w[l];h&&(h=h.extractEvents(i,e,o,n,a))&&(s=ie(s,h))}se(s)}}function de(t,e,r){if(!r.has(t)){switch(t){case"scroll":Xe(e,"scroll",!0);break;case"focus":case"blur":Xe(e,"focus",!0),Xe(e,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":he(t)&&Xe(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Zt.indexOf(t)&&Ye(t,e)}r.set(t,null)}}var me,ve,ye,ge=!1,_e=[],be=null,xe=null,we=null,Te=new Map,Ee=new Map,Se=[],Me="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ae="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ce(t,e,r,i,n){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|r,nativeEvent:n,container:i}}function Pe(t,e){switch(t){case"focus":case"blur":be=null;break;case"dragenter":case"dragleave":xe=null;break;case"mouseover":case"mouseout":we=null;break;case"pointerover":case"pointerout":Te.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ee.delete(e.pointerId)}}function ke(t,e,r,i,n,o){return null===t||t.nativeEvent!==o?(t=Ce(e,r,i,n,o),null!==e&&(null!==(e=Ar(e))&&ve(e)),t):(t.eventSystemFlags|=i,t)}function Oe(t){var e=Mr(t.target);if(null!==e){var r=$t(e);if(null!==r)if(13===(e=r.tag)){if(null!==(e=te(r)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){ye(r)}))}else if(3===e&&r.stateNode.hydrate)return void(t.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}t.blockedOn=null}function Ie(t){if(null!==t.blockedOn)return!1;var e=Qe(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var r=Ar(e);return null!==r&&ve(r),t.blockedOn=e,!1}return!0}function De(t,e,r){Ie(t)&&r.delete(e)}function Re(){for(ge=!1;0<_e.length;){var t=_e[0];if(null!==t.blockedOn){null!==(t=Ar(t.blockedOn))&&me(t);break}var e=Qe(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:_e.shift()}null!==be&&Ie(be)&&(be=null),null!==xe&&Ie(xe)&&(xe=null),null!==we&&Ie(we)&&(we=null),Te.forEach(De),Ee.forEach(De)}function Fe(t,e){t.blockedOn===e&&(t.blockedOn=null,ge||(ge=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Re)))}function Le(t){function e(e){return Fe(e,t)}if(0<_e.length){Fe(_e[0],t);for(var r=1;r<_e.length;r++){var i=_e[r];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==be&&Fe(be,t),null!==xe&&Fe(xe,t),null!==we&&Fe(we,t),Te.forEach(e),Ee.forEach(e),r=0;r<Se.length;r++)(i=Se[r]).blockedOn===t&&(i.blockedOn=null);for(;0<Se.length&&null===(r=Se[0]).blockedOn;)Oe(r),null===r.blockedOn&&Se.shift()}var Be={},Ne=new Map,ze=new Map,je=["abort","abort",Gt,"animationEnd",Yt,"animationIteration",Xt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Kt,"transitionEnd","waiting","waiting"];function Ve(t,e){for(var r=0;r<t.length;r+=2){var i=t[r],n=t[r+1],o="on"+(n[0].toUpperCase()+n.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[i],eventPriority:e},ze.set(i,e),Ne.set(i,o),Be[n]=o}}Ve("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ve("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ve(je,2);for(var Ue="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<Ue.length;We++)ze.set(Ue[We],0);var qe=o.unstable_UserBlockingPriority,He=o.unstable_runWithPriority,Ge=!0;function Ye(t,e){Xe(e,t,!1)}function Xe(t,e,r){var i=ze.get(e);switch(void 0===i?2:i){case 0:i=Ke.bind(null,e,1,t);break;case 1:i=Ze.bind(null,e,1,t);break;default:i=Je.bind(null,e,1,t)}r?t.addEventListener(e,i,!0):t.addEventListener(e,i,!1)}function Ke(t,e,r,i){N||L();var n=Je,o=N;N=!0;try{F(n,t,e,r,i)}finally{(N=o)||j()}}function Ze(t,e,r,i){He(qe,Je.bind(null,t,e,r,i))}function Je(t,e,r,i){if(Ge)if(0<_e.length&&-1<Me.indexOf(t))t=Ce(null,t,e,r,i),_e.push(t);else{var n=Qe(t,e,r,i);if(null===n)Pe(t,i);else if(-1<Me.indexOf(t))t=Ce(n,t,e,r,i),_e.push(t);else if(!function(t,e,r,i,n){switch(e){case"focus":return be=ke(be,t,e,r,i,n),!0;case"dragenter":return xe=ke(xe,t,e,r,i,n),!0;case"mouseover":return we=ke(we,t,e,r,i,n),!0;case"pointerover":var o=n.pointerId;return Te.set(o,ke(Te.get(o)||null,t,e,r,i,n)),!0;case"gotpointercapture":return o=n.pointerId,Ee.set(o,ke(Ee.get(o)||null,t,e,r,i,n)),!0}return!1}(n,t,e,r,i)){Pe(t,i),t=pe(t,i,null,e);try{V(fe,t)}finally{ce(t)}}}}function Qe(t,e,r,i){if(null!==(r=Mr(r=le(i)))){var n=$t(r);if(null===n)r=null;else{var o=n.tag;if(13===o){if(null!==(r=te(n)))return r;r=null}else if(3===o){if(n.stateNode.hydrate)return 3===n.tag?n.stateNode.containerInfo:null;r=null}else n!==r&&(r=null)}}t=pe(t,i,r,e);try{V(fe,t)}finally{ce(t)}return null}var $e={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tr=["Webkit","ms","Moz","O"];function er(t,e,r){return null==e||"boolean"==typeof e||""===e?"":r||"number"!=typeof e||0===e||$e.hasOwnProperty(t)&&$e[t]?(""+e).trim():e+"px"}function rr(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var i=0===r.indexOf("--"),n=er(r,e[r],i);"float"===r&&(r="cssFloat"),i?t.setProperty(r,n):t[r]=n}}Object.keys($e).forEach((function(t){tr.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$e[e]=$e[t]}))}));var ir=n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nr(t,e){if(e){if(ir[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(a(62,""))}}function or(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ar=Rt;function sr(t,e){var r=Qt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=S[e];for(var i=0;i<e.length;i++)de(e[i],t,r)}function lr(){}function hr(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function ur(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var r,i=ur(t);for(t=0;i;){if(3===i.nodeType){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ur(i)}}function pr(){for(var t=window,e=hr();e instanceof t.HTMLIFrameElement;){try{var r="string"==typeof e.contentWindow.location.href}catch(t){r=!1}if(!r)break;e=hr((t=e.contentWindow).document)}return e}function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var dr=null,mr=null;function vr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function yr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var gr="function"==typeof setTimeout?setTimeout:void 0,_r="function"==typeof clearTimeout?clearTimeout:void 0;function br(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function xr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||"$!"===r||"$?"===r){if(0===e)return t;e--}else"/$"===r&&e++}t=t.previousSibling}return null}var wr=Math.random().toString(36).slice(2),Tr="__reactInternalInstance$"+wr,Er="__reactEventHandlers$"+wr,Sr="__reactContainere$"+wr;function Mr(t){var e=t[Tr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Sr]||r[Tr]){if(r=e.alternate,null!==e.child||null!==r&&null!==r.child)for(t=xr(t);null!==t;){if(r=t[Tr])return r;t=xr(t)}return e}r=(t=r).parentNode}return null}function Ar(t){return!(t=t[Tr]||t[Sr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Cr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function Pr(t){return t[Er]||null}function kr(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Or(t,e){var r=t.stateNode;if(!r)return null;var i=d(r);if(!i)return null;r=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(r&&"function"!=typeof r)throw Error(a(231,e,typeof r));return r}function Ir(t,e,r){(e=Or(t,r.dispatchConfig.phasedRegistrationNames[e]))&&(r._dispatchListeners=ie(r._dispatchListeners,e),r._dispatchInstances=ie(r._dispatchInstances,t))}function Dr(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,r=[];e;)r.push(e),e=kr(e);for(e=r.length;0<e--;)Ir(r[e],"captured",t);for(e=0;e<r.length;e++)Ir(r[e],"bubbled",t)}}function Rr(t,e,r){t&&r&&r.dispatchConfig.registrationName&&(e=Or(t,r.dispatchConfig.registrationName))&&(r._dispatchListeners=ie(r._dispatchListeners,e),r._dispatchInstances=ie(r._dispatchInstances,t))}function Fr(t){t&&t.dispatchConfig.registrationName&&Rr(t._targetInst,null,t)}function Lr(t){ne(t,Dr)}var Br=null,Nr=null,zr=null;function jr(){if(zr)return zr;var t,e,r=Nr,i=r.length,n="value"in Br?Br.value:Br.textContent,o=n.length;for(t=0;t<i&&r[t]===n[t];t++);var a=i-t;for(e=1;e<=a&&r[i-e]===n[o-e];e++);return zr=n.slice(t,1<e?1-e:void 0)}function Vr(){return!0}function Ur(){return!1}function Wr(t,e,r,i){for(var n in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=r,t=this.constructor.Interface)t.hasOwnProperty(n)&&((e=t[n])?this[n]=e(r):"target"===n?this.target=i:this[n]=r[n]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Vr:Ur,this.isPropagationStopped=Ur,this}function qr(t,e,r,i){if(this.eventPool.length){var n=this.eventPool.pop();return this.call(n,t,e,r,i),n}return new this(t,e,r,i)}function Hr(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Gr(t){t.eventPool=[],t.getPooled=qr,t.release=Hr}n(Wr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){this.isPersistent=Vr},isPersistent:Ur,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Ur,this._dispatchInstances=this._dispatchListeners=null}}),Wr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wr.extend=function(t){function e(){}function r(){return i.apply(this,arguments)}var i=this;e.prototype=i.prototype;var o=new e;return n(o,r.prototype),r.prototype=o,r.prototype.constructor=r,r.Interface=n({},i.Interface,t),r.extend=i.extend,Gr(r),r},Gr(Wr);var Yr=Wr.extend({data:null}),Xr=Wr.extend({data:null}),Kr=[9,13,27,32],Zr=A&&"CompositionEvent"in window,Jr=null;A&&"documentMode"in document&&(Jr=document.documentMode);var Qr=A&&"TextEvent"in window&&!Jr,$r=A&&(!Zr||Jr&&8<Jr&&11>=Jr),ti=String.fromCharCode(32),ei={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ri=!1;function ii(t,e){switch(t){case"keyup":return-1!==Kr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ni(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var oi=!1;var ai={eventTypes:ei,extractEvents:function(t,e,r,i){var n;if(Zr)t:{switch(t){case"compositionstart":var o=ei.compositionStart;break t;case"compositionend":o=ei.compositionEnd;break t;case"compositionupdate":o=ei.compositionUpdate;break t}o=void 0}else oi?ii(t,r)&&(o=ei.compositionEnd):"keydown"===t&&229===r.keyCode&&(o=ei.compositionStart);return o?($r&&"ko"!==r.locale&&(oi||o!==ei.compositionStart?o===ei.compositionEnd&&oi&&(n=jr()):(Nr="value"in(Br=i)?Br.value:Br.textContent,oi=!0)),o=Yr.getPooled(o,e,r,i),n?o.data=n:null!==(n=ni(r))&&(o.data=n),Lr(o),n=o):n=null,(t=Qr?function(t,e){switch(t){case"compositionend":return ni(e);case"keypress":return 32!==e.which?null:(ri=!0,ti);case"textInput":return(t=e.data)===ti&&ri?null:t;default:return null}}(t,r):function(t,e){if(oi)return"compositionend"===t||!Zr&&ii(t,e)?(t=jr(),zr=Nr=Br=null,oi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $r&&"ko"!==e.locale?null:e.data;default:return null}}(t,r))?((e=Xr.getPooled(ei.beforeInput,e,r,i)).data=t,Lr(e)):e=null,null===n?e:null===e?n:[n,e]}},si={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function li(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!si[t.type]:"textarea"===e}var hi={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function ui(t,e,r){return(t=Wr.getPooled(hi.change,t,e,r)).type="change",I(r),Lr(t),t}var ci=null,pi=null;function fi(t){se(t)}function di(t){if(xt(Cr(t)))return t}function mi(t,e){if("change"===t)return e}var vi=!1;function yi(){ci&&(ci.detachEvent("onpropertychange",gi),pi=ci=null)}function gi(t){if("value"===t.propertyName&&di(pi))if(t=ui(pi,t,le(t)),N)se(t);else{N=!0;try{R(fi,t)}finally{N=!1,j()}}}function _i(t,e,r){"focus"===t?(yi(),pi=r,(ci=e).attachEvent("onpropertychange",gi)):"blur"===t&&yi()}function bi(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return di(pi)}function xi(t,e){if("click"===t)return di(e)}function wi(t,e){if("input"===t||"change"===t)return di(e)}A&&(vi=he("input")&&(!document.documentMode||9<document.documentMode));var Ti={eventTypes:hi,_isInputEventSupported:vi,extractEvents:function(t,e,r,i){var n=e?Cr(e):window,o=n.nodeName&&n.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===n.type)var a=mi;else if(li(n))if(vi)a=wi;else{a=bi;var s=_i}else(o=n.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===n.type||"radio"===n.type)&&(a=xi);if(a&&(a=a(t,e)))return ui(a,r,i);s&&s(t,n,e),"blur"===t&&(t=n._wrapperState)&&t.controlled&&"number"===n.type&&At(n,"number",n.value)}},Ei=Wr.extend({view:null,detail:null}),Si={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mi(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Si[t])&&!!e[t]}function Ai(){return Mi}var Ci=0,Pi=0,ki=!1,Oi=!1,Ii=Ei.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ai,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ci;return Ci=t.screenX,ki?"mousemove"===t.type?t.screenX-e:0:(ki=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Pi;return Pi=t.screenY,Oi?"mousemove"===t.type?t.screenY-e:0:(Oi=!0,0)}}),Di=Ii.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ri={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fi={eventTypes:Ri,extractEvents:function(t,e,r,i,n){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0==(32&n)&&(r.relatedTarget||r.fromElement)||!a&&!o)return null;(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=e,null!==(e=(e=r.relatedTarget||r.toElement)?Mr(e):null)&&(e!==$t(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var s=Ii,l=Ri.mouseLeave,h=Ri.mouseEnter,u="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=Di,l=Ri.pointerLeave,h=Ri.pointerEnter,u="pointer");if(t=null==a?o:Cr(a),o=null==e?o:Cr(e),(l=s.getPooled(l,a,r,i)).type=u+"leave",l.target=t,l.relatedTarget=o,(r=s.getPooled(h,e,r,i)).type=u+"enter",r.target=o,r.relatedTarget=t,u=e,(i=a)&&u)t:{for(h=u,a=0,t=s=i;t;t=kr(t))a++;for(t=0,e=h;e;e=kr(e))t++;for(;0<a-t;)s=kr(s),a--;for(;0<t-a;)h=kr(h),t--;for(;a--;){if(s===h||s===h.alternate)break t;s=kr(s),h=kr(h)}s=null}else s=null;for(h=s,s=[];i&&i!==h&&(null===(a=i.alternate)||a!==h);)s.push(i),i=kr(i);for(i=[];u&&u!==h&&(null===(a=u.alternate)||a!==h);)i.push(u),u=kr(u);for(u=0;u<s.length;u++)Rr(s[u],"bubbled",l);for(u=i.length;0<u--;)Rr(i[u],"captured",r);return 0==(64&n)?[l]:[l,r]}};var Li="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Bi=Object.prototype.hasOwnProperty;function Ni(t,e){if(Li(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++)if(!Bi.call(e,r[i])||!Li(t[r[i]],e[r[i]]))return!1;return!0}var zi=A&&"documentMode"in document&&11>=document.documentMode,ji={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vi=null,Ui=null,Wi=null,qi=!1;function Hi(t,e){var r=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return qi||null==Vi||Vi!==hr(r)?null:("selectionStart"in(r=Vi)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Wi&&Ni(Wi,r)?null:(Wi=r,(t=Wr.getPooled(ji.select,Ui,t,e)).type="select",t.target=Vi,Lr(t),t))}var Gi={eventTypes:ji,extractEvents:function(t,e,r,i,n,o){if(!(o=!(n=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){t:{n=Qt(n),o=S.onSelect;for(var a=0;a<o.length;a++)if(!n.has(o[a])){n=!1;break t}n=!0}o=!n}if(o)return null;switch(n=e?Cr(e):window,t){case"focus":(li(n)||"true"===n.contentEditable)&&(Vi=n,Ui=e,Wi=null);break;case"blur":Wi=Ui=Vi=null;break;case"mousedown":qi=!0;break;case"contextmenu":case"mouseup":case"dragend":return qi=!1,Hi(r,i);case"selectionchange":if(zi)break;case"keydown":case"keyup":return Hi(r,i)}return null}},Yi=Wr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xi=Wr.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ki=Ei.extend({relatedTarget:null});function Zi(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$i=Ei.extend({key:function(t){if(t.key){var e=Ji[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Zi(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Qi[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ai,charCode:function(t){return"keypress"===t.type?Zi(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Zi(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),tn=Ii.extend({dataTransfer:null}),en=Ei.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ai}),rn=Wr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),nn=Ii.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),on={eventTypes:Be,extractEvents:function(t,e,r,i){var n=Ne.get(t);if(!n)return null;switch(t){case"keypress":if(0===Zi(r))return null;case"keydown":case"keyup":t=$i;break;case"blur":case"focus":t=Ki;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=tn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=en;break;case Gt:case Yt:case Xt:t=Yi;break;case Kt:t=rn;break;case"scroll":t=Ei;break;case"wheel":t=nn;break;case"copy":case"cut":case"paste":t=Xi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Di;break;default:t=Wr}return Lr(e=t.getPooled(n,e,r,i)),e}};if(g)throw Error(a(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),d=Pr,m=Ar,v=Cr,M({SimpleEventPlugin:on,EnterLeaveEventPlugin:Fi,ChangeEventPlugin:Ti,SelectEventPlugin:Gi,BeforeInputEventPlugin:ai});var an=[],sn=-1;function ln(t){0>sn||(t.current=an[sn],an[sn]=null,sn--)}function hn(t,e){sn++,an[sn]=t.current,t.current=e}var un={},cn={current:un},pn={current:!1},fn=un;function dn(t,e){var r=t.type.contextTypes;if(!r)return un;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var n,o={};for(n in r)o[n]=e[n];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function mn(t){return null!=(t=t.childContextTypes)}function vn(){ln(pn),ln(cn)}function yn(t,e,r){if(cn.current!==un)throw Error(a(168));hn(cn,e),hn(pn,r)}function gn(t,e,r){var i=t.stateNode;if(t=e.childContextTypes,"function"!=typeof i.getChildContext)return r;for(var o in i=i.getChildContext())if(!(o in t))throw Error(a(108,vt(e)||"Unknown",o));return n({},r,{},i)}function _n(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||un,fn=cn.current,hn(cn,t),hn(pn,pn.current),!0}function bn(t,e,r){var i=t.stateNode;if(!i)throw Error(a(169));r?(t=gn(t,e,fn),i.__reactInternalMemoizedMergedChildContext=t,ln(pn),ln(cn),hn(cn,t)):ln(pn),hn(pn,r)}var xn=o.unstable_runWithPriority,wn=o.unstable_scheduleCallback,Tn=o.unstable_cancelCallback,En=o.unstable_requestPaint,Sn=o.unstable_now,Mn=o.unstable_getCurrentPriorityLevel,An=o.unstable_ImmediatePriority,Cn=o.unstable_UserBlockingPriority,Pn=o.unstable_NormalPriority,kn=o.unstable_LowPriority,On=o.unstable_IdlePriority,In={},Dn=o.unstable_shouldYield,Rn=void 0!==En?En:function(){},Fn=null,Ln=null,Bn=!1,Nn=Sn(),zn=1e4>Nn?Sn:function(){return Sn()-Nn};function jn(){switch(Mn()){case An:return 99;case Cn:return 98;case Pn:return 97;case kn:return 96;case On:return 95;default:throw Error(a(332))}}function Vn(t){switch(t){case 99:return An;case 98:return Cn;case 97:return Pn;case 96:return kn;case 95:return On;default:throw Error(a(332))}}function Un(t,e){return t=Vn(t),xn(t,e)}function Wn(t,e,r){return t=Vn(t),wn(t,e,r)}function qn(t){return null===Fn?(Fn=[t],Ln=wn(An,Gn)):Fn.push(t),In}function Hn(){if(null!==Ln){var t=Ln;Ln=null,Tn(t)}Gn()}function Gn(){if(!Bn&&null!==Fn){Bn=!0;var t=0;try{var e=Fn;Un(99,(function(){for(;t<e.length;t++){var r=e[t];do{r=r(!0)}while(null!==r)}})),Fn=null}catch(e){throw null!==Fn&&(Fn=Fn.slice(t+1)),wn(An,Hn),e}finally{Bn=!1}}}function Yn(t,e,r){return 1073741821-(1+((1073741821-t+e/10)/(r/=10)|0))*r}function Xn(t,e){if(t&&t.defaultProps)for(var r in e=n({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}var Kn={current:null},Zn=null,Jn=null,Qn=null;function $n(){Qn=Jn=Zn=null}function to(t){var e=Kn.current;ln(Kn),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var r=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==r&&r.childExpirationTime<e&&(r.childExpirationTime=e);else{if(!(null!==r&&r.childExpirationTime<e))break;r.childExpirationTime=e}t=t.return}}function ro(t,e){Zn=t,Qn=Jn=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(ka=!0),t.firstContext=null)}function io(t,e){if(Qn!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(Qn=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Jn){if(null===Zn)throw Error(a(308));Jn=e,Zn.dependencies={expirationTime:0,firstContext:e,responders:null}}else Jn=Jn.next=e;return t._currentValue}var no=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function so(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function lo(t,e){if(null!==(t=t.updateQueue)){var r=(t=t.shared).pending;null===r?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function ho(t,e){var r=t.alternate;null!==r&&ao(r,t),null===(r=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=r.next,r.next=e)}function uo(t,e,r,i){var o=t.updateQueue;no=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=t.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var h=o.baseState,u=0,c=null,p=null,f=null;if(null!==l)for(var d=l;;){if((s=d.expirationTime)<i){var m={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===f?(p=f=m,c=h):f=f.next=m,s>u&&(u=s)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),ol(s,d.suspenseConfig);t:{var v=t,y=d;switch(s=e,m=r,y.tag){case 1:if("function"==typeof(v=y.payload)){h=v.call(m,h,s);break t}h=v;break t;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null==(s="function"==typeof(v=y.payload)?v.call(m,h,s):v))break t;h=n({},h,s);break t;case 2:no=!0}}null!==d.callback&&(t.effectTag|=32,null===(s=o.effects)?o.effects=[d]:s.push(d))}if(null===(d=d.next)||d===l){if(null===(s=o.shared.pending))break;d=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===f?c=h:f.next=p,o.baseState=c,o.baseQueue=f,al(u),t.expirationTime=u,t.memoizedState=h}}function co(t,e,r){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],n=i.callback;if(null!==n){if(i.callback=null,i=n,n=r,"function"!=typeof i)throw Error(a(191,i));i.call(n)}}}var po=Z.ReactCurrentBatchConfig,fo=(new i.Component).refs;function mo(t,e,r,i){r=null==(r=r(i,e=t.memoizedState))?e:n({},e,r),t.memoizedState=r,0===t.expirationTime&&(t.updateQueue.baseState=r)}var vo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&$t(t)===t},enqueueSetState:function(t,e,r){t=t._reactInternalFiber;var i=Gs(),n=po.suspense;(n=so(i=Ys(i,t,n),n)).payload=e,null!=r&&(n.callback=r),lo(t,n),Xs(t,i)},enqueueReplaceState:function(t,e,r){t=t._reactInternalFiber;var i=Gs(),n=po.suspense;(n=so(i=Ys(i,t,n),n)).tag=1,n.payload=e,null!=r&&(n.callback=r),lo(t,n),Xs(t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var r=Gs(),i=po.suspense;(i=so(r=Ys(r,t,i),i)).tag=2,null!=e&&(i.callback=e),lo(t,i),Xs(t,r)}};function yo(t,e,r,i,n,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Ni(r,i)||!Ni(n,o))}function go(t,e,r){var i=!1,n=un,o=e.contextType;return"object"==typeof o&&null!==o?o=io(o):(n=mn(e)?fn:cn.current,o=(i=null!=(i=e.contextTypes))?dn(t,n):un),e=new e(r,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=vo,t.stateNode=e,e._reactInternalFiber=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=o),e}function _o(t,e,r,i){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,i),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==t&&vo.enqueueReplaceState(e,e.state,null)}function bo(t,e,r,i){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs=fo,oo(t);var o=e.contextType;"object"==typeof o&&null!==o?n.context=io(o):(o=mn(e)?fn:cn.current,n.context=dn(t,o)),uo(t,r,n,i),n.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(mo(t,e,o,r),n.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof n.getSnapshotBeforeUpdate||"function"!=typeof n.UNSAFE_componentWillMount&&"function"!=typeof n.componentWillMount||(e=n.state,"function"==typeof n.componentWillMount&&n.componentWillMount(),"function"==typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),e!==n.state&&vo.enqueueReplaceState(n,n.state,null),uo(t,r,n,i),n.state=t.memoizedState),"function"==typeof n.componentDidMount&&(t.effectTag|=4)}var xo=Array.isArray;function wo(t,e,r){if(null!==(t=r.ref)&&"function"!=typeof t&&"object"!=typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var i=r.stateNode}if(!i)throw Error(a(147,t));var n=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===n?e.ref:((e=function(t){var e=i.refs;e===fo&&(e=i.refs={}),null===t?delete e[n]:e[n]=t})._stringRef=n,e)}if("string"!=typeof t)throw Error(a(284));if(!r._owner)throw Error(a(290,t))}return t}function To(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Eo(t){function e(e,r){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,i){if(!t)return null;for(;null!==i;)e(r,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function n(t,e){return(t=Ml(t,e)).index=0,t.sibling=null,t}function o(e,r,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<r?(e.effectTag=2,r):i:(e.effectTag=2,r):r}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,r,i){return null===e||6!==e.tag?((e=Pl(r,t.mode,i)).return=t,e):((e=n(e,r)).return=t,e)}function h(t,e,r,i){return null!==e&&e.elementType===r.type?((i=n(e,r.props)).ref=wo(t,e,r),i.return=t,i):((i=Al(r.type,r.key,r.props,null,t.mode,i)).ref=wo(t,e,r),i.return=t,i)}function u(t,e,r,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=kl(r,t.mode,i)).return=t,e):((e=n(e,r.children||[])).return=t,e)}function c(t,e,r,i,o){return null===e||7!==e.tag?((e=Cl(r,t.mode,i,o)).return=t,e):((e=n(e,r)).return=t,e)}function p(t,e,r){if("string"==typeof e||"number"==typeof e)return(e=Pl(""+e,t.mode,r)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case tt:return(r=Al(e.type,e.key,e.props,null,t.mode,r)).ref=wo(t,null,e),r.return=t,r;case et:return(e=kl(e,t.mode,r)).return=t,e}if(xo(e)||mt(e))return(e=Cl(e,t.mode,r,null)).return=t,e;To(t,e)}return null}function f(t,e,r,i){var n=null!==e?e.key:null;if("string"==typeof r||"number"==typeof r)return null!==n?null:l(t,e,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case tt:return r.key===n?r.type===rt?c(t,e,r.props.children,i,n):h(t,e,r,i):null;case et:return r.key===n?u(t,e,r,i):null}if(xo(r)||mt(r))return null!==n?null:c(t,e,r,i,null);To(t,r)}return null}function d(t,e,r,i,n){if("string"==typeof i||"number"==typeof i)return l(e,t=t.get(r)||null,""+i,n);if("object"==typeof i&&null!==i){switch(i.$$typeof){case tt:return t=t.get(null===i.key?r:i.key)||null,i.type===rt?c(e,t,i.props.children,n,i.key):h(e,t,i,n);case et:return u(e,t=t.get(null===i.key?r:i.key)||null,i,n)}if(xo(i)||mt(i))return c(e,t=t.get(r)||null,i,n,null);To(e,i)}return null}function m(n,a,s,l){for(var h=null,u=null,c=a,m=a=0,v=null;null!==c&&m<s.length;m++){c.index>m?(v=c,c=null):v=c.sibling;var y=f(n,c,s[m],l);if(null===y){null===c&&(c=v);break}t&&c&&null===y.alternate&&e(n,c),a=o(y,a,m),null===u?h=y:u.sibling=y,u=y,c=v}if(m===s.length)return r(n,c),h;if(null===c){for(;m<s.length;m++)null!==(c=p(n,s[m],l))&&(a=o(c,a,m),null===u?h=c:u.sibling=c,u=c);return h}for(c=i(n,c);m<s.length;m++)null!==(v=d(c,n,m,s[m],l))&&(t&&null!==v.alternate&&c.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?h=v:u.sibling=v,u=v);return t&&c.forEach((function(t){return e(n,t)})),h}function v(n,s,l,h){var u=mt(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var c=u=null,m=s,v=s=0,y=null,g=l.next();null!==m&&!g.done;v++,g=l.next()){m.index>v?(y=m,m=null):y=m.sibling;var _=f(n,m,g.value,h);if(null===_){null===m&&(m=y);break}t&&m&&null===_.alternate&&e(n,m),s=o(_,s,v),null===c?u=_:c.sibling=_,c=_,m=y}if(g.done)return r(n,m),u;if(null===m){for(;!g.done;v++,g=l.next())null!==(g=p(n,g.value,h))&&(s=o(g,s,v),null===c?u=g:c.sibling=g,c=g);return u}for(m=i(n,m);!g.done;v++,g=l.next())null!==(g=d(m,n,v,g.value,h))&&(t&&null!==g.alternate&&m.delete(null===g.key?v:g.key),s=o(g,s,v),null===c?u=g:c.sibling=g,c=g);return t&&m.forEach((function(t){return e(n,t)})),u}return function(t,i,o,l){var h="object"==typeof o&&null!==o&&o.type===rt&&null===o.key;h&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case tt:t:{for(u=o.key,h=i;null!==h;){if(h.key===u){switch(h.tag){case 7:if(o.type===rt){r(t,h.sibling),(i=n(h,o.props.children)).return=t,t=i;break t}break;default:if(h.elementType===o.type){r(t,h.sibling),(i=n(h,o.props)).ref=wo(t,h,o),i.return=t,t=i;break t}}r(t,h);break}e(t,h),h=h.sibling}o.type===rt?((i=Cl(o.props.children,t.mode,l,o.key)).return=t,t=i):((l=Al(o.type,o.key,o.props,null,t.mode,l)).ref=wo(t,i,o),l.return=t,t=l)}return s(t);case et:t:{for(h=o.key;null!==i;){if(i.key===h){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){r(t,i.sibling),(i=n(i,o.children||[])).return=t,t=i;break t}r(t,i);break}e(t,i),i=i.sibling}(i=kl(o,t.mode,l)).return=t,t=i}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(r(t,i.sibling),(i=n(i,o)).return=t,t=i):(r(t,i),(i=Pl(o,t.mode,l)).return=t,t=i),s(t);if(xo(o))return m(t,i,o,l);if(mt(o))return v(t,i,o,l);if(u&&To(t,o),void 0===o&&!h)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return r(t,i)}}var So=Eo(!0),Mo=Eo(!1),Ao={},Co={current:Ao},Po={current:Ao},ko={current:Ao};function Oo(t){if(t===Ao)throw Error(a(174));return t}function Io(t,e){switch(hn(ko,e),hn(Po,t),hn(Co,Ao),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bt(null,"");break;default:e=Bt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ln(Co),hn(Co,e)}function Do(){ln(Co),ln(Po),ln(ko)}function Ro(t){Oo(ko.current);var e=Oo(Co.current),r=Bt(e,t.type);e!==r&&(hn(Po,t),hn(Co,r))}function Fo(t){Po.current===t&&(ln(Co),ln(Po))}var Lo={current:0};function Bo(t){for(var e=t;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function No(t,e){return{responder:t,props:e}}var zo=Z.ReactCurrentDispatcher,jo=Z.ReactCurrentBatchConfig,Vo=0,Uo=null,Wo=null,qo=null,Ho=!1;function Go(){throw Error(a(321))}function Yo(t,e){if(null===e)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Li(t[r],e[r]))return!1;return!0}function Xo(t,e,r,i,n,o){if(Vo=o,Uo=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,zo.current=null===t||null===t.memoizedState?ya:ga,t=r(i,n),e.expirationTime===Vo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(a(301));o+=1,qo=Wo=null,e.updateQueue=null,zo.current=_a,t=r(i,n)}while(e.expirationTime===Vo)}if(zo.current=va,e=null!==Wo&&null!==Wo.next,Vo=0,qo=Wo=Uo=null,Ho=!1,e)throw Error(a(300));return t}function Ko(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qo?Uo.memoizedState=qo=t:qo=qo.next=t,qo}function Zo(){if(null===Wo){var t=Uo.alternate;t=null!==t?t.memoizedState:null}else t=Wo.next;var e=null===qo?Uo.memoizedState:qo.next;if(null!==e)qo=e,Wo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Wo=t).memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},null===qo?Uo.memoizedState=qo=t:qo=qo.next=t}return qo}function Jo(t,e){return"function"==typeof e?e(t):e}function Qo(t){var e=Zo(),r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=t;var i=Wo,n=i.baseQueue,o=r.pending;if(null!==o){if(null!==n){var s=n.next;n.next=o.next,o.next=s}i.baseQueue=n=o,r.pending=null}if(null!==n){n=n.next,i=i.baseState;var l=s=o=null,h=n;do{var u=h.expirationTime;if(u<Vo){var c={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null};null===l?(s=l=c,o=i):l=l.next=c,u>Uo.expirationTime&&(Uo.expirationTime=u,al(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null}),ol(u,h.suspenseConfig),i=h.eagerReducer===t?h.eagerState:t(i,h.action);h=h.next}while(null!==h&&h!==n);null===l?o=i:l.next=s,Li(i,e.memoizedState)||(ka=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,r.lastRenderedState=i}return[e.memoizedState,r.dispatch]}function $o(t){var e=Zo(),r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=t;var i=r.dispatch,n=r.pending,o=e.memoizedState;if(null!==n){r.pending=null;var s=n=n.next;do{o=t(o,s.action),s=s.next}while(s!==n);Li(o,e.memoizedState)||(ka=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),r.lastRenderedState=o}return[o,i]}function ta(t){var e=Ko();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:t}).dispatch=ma.bind(null,Uo,t),[e.memoizedState,t]}function ea(t,e,r,i){return t={tag:t,create:e,destroy:r,deps:i,next:null},null===(e=Uo.updateQueue)?(e={lastEffect:null},Uo.updateQueue=e,e.lastEffect=t.next=t):null===(r=e.lastEffect)?e.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,e.lastEffect=t),t}function ra(){return Zo().memoizedState}function ia(t,e,r,i){var n=Ko();Uo.effectTag|=t,n.memoizedState=ea(1|e,r,void 0,void 0===i?null:i)}function na(t,e,r,i){var n=Zo();i=void 0===i?null:i;var o=void 0;if(null!==Wo){var a=Wo.memoizedState;if(o=a.destroy,null!==i&&Yo(i,a.deps))return void ea(e,r,o,i)}Uo.effectTag|=t,n.memoizedState=ea(1|e,r,o,i)}function oa(t,e){return ia(516,4,t,e)}function aa(t,e){return na(516,4,t,e)}function sa(t,e){return na(4,2,t,e)}function la(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ha(t,e,r){return r=null!=r?r.concat([t]):null,na(4,2,la.bind(null,e,t),r)}function ua(){}function ca(t,e){return Ko().memoizedState=[t,void 0===e?null:e],t}function pa(t,e){var r=Zo();e=void 0===e?null:e;var i=r.memoizedState;return null!==i&&null!==e&&Yo(e,i[1])?i[0]:(r.memoizedState=[t,e],t)}function fa(t,e){var r=Zo();e=void 0===e?null:e;var i=r.memoizedState;return null!==i&&null!==e&&Yo(e,i[1])?i[0]:(t=t(),r.memoizedState=[t,e],t)}function da(t,e,r){var i=jn();Un(98>i?98:i,(function(){t(!0)})),Un(97<i?97:i,(function(){var i=jo.suspense;jo.suspense=void 0===e?null:e;try{t(!1),r()}finally{jo.suspense=i}}))}function ma(t,e,r){var i=Gs(),n=po.suspense;n={expirationTime:i=Ys(i,t,n),suspenseConfig:n,action:r,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?n.next=n:(n.next=o.next,o.next=n),e.pending=n,o=t.alternate,t===Uo||null!==o&&o===Uo)Ho=!0,n.expirationTime=Vo,Uo.expirationTime=Vo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,r);if(n.eagerReducer=o,n.eagerState=s,Li(s,a))return}catch(t){}Xs(t,i)}}var va={readContext:io,useCallback:Go,useContext:Go,useEffect:Go,useImperativeHandle:Go,useLayoutEffect:Go,useMemo:Go,useReducer:Go,useRef:Go,useState:Go,useDebugValue:Go,useResponder:Go,useDeferredValue:Go,useTransition:Go},ya={readContext:io,useCallback:ca,useContext:io,useEffect:oa,useImperativeHandle:function(t,e,r){return r=null!=r?r.concat([t]):null,ia(4,2,la.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ia(4,2,t,e)},useMemo:function(t,e){var r=Ko();return e=void 0===e?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var i=Ko();return e=void 0!==r?r(e):e,i.memoizedState=i.baseState=e,t=(t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ma.bind(null,Uo,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},Ko().memoizedState=t},useState:ta,useDebugValue:ua,useResponder:No,useDeferredValue:function(t,e){var r=ta(t),i=r[0],n=r[1];return oa((function(){var r=jo.suspense;jo.suspense=void 0===e?null:e;try{n(t)}finally{jo.suspense=r}}),[t,e]),i},useTransition:function(t){var e=ta(!1),r=e[0];return e=e[1],[ca(da.bind(null,e,t),[e,t]),r]}},ga={readContext:io,useCallback:pa,useContext:io,useEffect:aa,useImperativeHandle:ha,useLayoutEffect:sa,useMemo:fa,useReducer:Qo,useRef:ra,useState:function(){return Qo(Jo)},useDebugValue:ua,useResponder:No,useDeferredValue:function(t,e){var r=Qo(Jo),i=r[0],n=r[1];return aa((function(){var r=jo.suspense;jo.suspense=void 0===e?null:e;try{n(t)}finally{jo.suspense=r}}),[t,e]),i},useTransition:function(t){var e=Qo(Jo),r=e[0];return e=e[1],[pa(da.bind(null,e,t),[e,t]),r]}},_a={readContext:io,useCallback:pa,useContext:io,useEffect:aa,useImperativeHandle:ha,useLayoutEffect:sa,useMemo:fa,useReducer:$o,useRef:ra,useState:function(){return $o(Jo)},useDebugValue:ua,useResponder:No,useDeferredValue:function(t,e){var r=$o(Jo),i=r[0],n=r[1];return aa((function(){var r=jo.suspense;jo.suspense=void 0===e?null:e;try{n(t)}finally{jo.suspense=r}}),[t,e]),i},useTransition:function(t){var e=$o(Jo),r=e[0];return e=e[1],[pa(da.bind(null,e,t),[e,t]),r]}},ba=null,xa=null,wa=!1;function Ta(t,e){var r=El(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function Ea(t,e){switch(t.tag){case 5:var r=t.type;return null!==(e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Sa(t){if(wa){var e=xa;if(e){var r=e;if(!Ea(t,e)){if(!(e=br(r.nextSibling))||!Ea(t,e))return t.effectTag=-1025&t.effectTag|2,wa=!1,void(ba=t);Ta(ba,r)}ba=t,xa=br(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,wa=!1,ba=t}}function Ma(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ba=t}function Aa(t){if(t!==ba)return!1;if(!wa)return Ma(t),wa=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!yr(e,t.memoizedProps))for(e=xa;e;)Ta(t,e),e=br(e.nextSibling);if(Ma(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===e){xa=br(t.nextSibling);break t}e--}else"$"!==r&&"$!"!==r&&"$?"!==r||e++}t=t.nextSibling}xa=null}}else xa=ba?br(t.stateNode.nextSibling):null;return!0}function Ca(){xa=ba=null,wa=!1}var Pa=Z.ReactCurrentOwner,ka=!1;function Oa(t,e,r,i){e.child=null===t?Mo(e,null,r,i):So(e,t.child,r,i)}function Ia(t,e,r,i,n){r=r.render;var o=e.ref;return ro(e,n),i=Xo(t,e,r,i,o,n),null===t||ka?(e.effectTag|=1,Oa(t,e,i,n),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=n&&(t.expirationTime=0),Xa(t,e,n))}function Da(t,e,r,i,n,o){if(null===t){var a=r.type;return"function"!=typeof a||Sl(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((t=Al(r.type,null,i,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ra(t,e,a,i,n,o))}return a=t.child,n<o&&(n=a.memoizedProps,(r=null!==(r=r.compare)?r:Ni)(n,i)&&t.ref===e.ref)?Xa(t,e,o):(e.effectTag|=1,(t=Ml(a,i)).ref=e.ref,t.return=e,e.child=t)}function Ra(t,e,r,i,n,o){return null!==t&&Ni(t.memoizedProps,i)&&t.ref===e.ref&&(ka=!1,n<o)?(e.expirationTime=t.expirationTime,Xa(t,e,o)):La(t,e,r,i,o)}function Fa(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.effectTag|=128)}function La(t,e,r,i,n){var o=mn(r)?fn:cn.current;return o=dn(e,o),ro(e,n),r=Xo(t,e,r,i,o,n),null===t||ka?(e.effectTag|=1,Oa(t,e,r,n),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=n&&(t.expirationTime=0),Xa(t,e,n))}function Ba(t,e,r,i,n){if(mn(r)){var o=!0;_n(e)}else o=!1;if(ro(e,n),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),go(e,r,i),bo(e,r,i,n),i=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,h=r.contextType;"object"==typeof h&&null!==h?h=io(h):h=dn(e,h=mn(r)?fn:cn.current);var u=r.getDerivedStateFromProps,c="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||l!==h)&&_o(e,a,i,h),no=!1;var p=e.memoizedState;a.state=p,uo(e,i,a,n),l=e.memoizedState,s!==i||p!==l||pn.current||no?("function"==typeof u&&(mo(e,r,u,i),l=e.memoizedState),(s=no||yo(e,r,s,i,p,l,h))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=h,i=s):("function"==typeof a.componentDidMount&&(e.effectTag|=4),i=!1)}else a=e.stateNode,ao(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:Xn(e.type,s),l=a.context,"object"==typeof(h=r.contextType)&&null!==h?h=io(h):h=dn(e,h=mn(r)?fn:cn.current),(c="function"==typeof(u=r.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||l!==h)&&_o(e,a,i,h),no=!1,l=e.memoizedState,a.state=l,uo(e,i,a,n),p=e.memoizedState,s!==i||l!==p||pn.current||no?("function"==typeof u&&(mo(e,r,u,i),p=e.memoizedState),(u=no||yo(e,r,s,i,l,p,h))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,h),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,h)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=i,e.memoizedState=p),a.props=i,a.state=p,a.context=h,i=u):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),i=!1);return Na(t,e,r,i,o,n)}function Na(t,e,r,i,n,o){Fa(t,e);var a=0!=(64&e.effectTag);if(!i&&!a)return n&&bn(e,r,!1),Xa(t,e,o);i=e.stateNode,Pa.current=e;var s=a&&"function"!=typeof r.getDerivedStateFromError?null:i.render();return e.effectTag|=1,null!==t&&a?(e.child=So(e,t.child,null,o),e.child=So(e,null,s,o)):Oa(t,e,s,o),e.memoizedState=i.state,n&&bn(e,r,!0),e.child}function za(t){var e=t.stateNode;e.pendingContext?yn(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yn(0,e.context,!1),Io(t,e.containerInfo)}var ja,Va,Ua,Wa={dehydrated:null,retryTime:0};function qa(t,e,r){var i,n=e.mode,o=e.pendingProps,a=Lo.current,s=!1;if((i=0!=(64&e.effectTag))||(i=0!=(2&a)&&(null===t||null!==t.memoizedState)),i?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),hn(Lo,1&a),null===t){if(void 0!==o.fallback&&Sa(e),s){if(s=o.fallback,(o=Cl(null,n,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(r=Cl(s,n,r,null)).return=e,o.sibling=r,e.memoizedState=Wa,e.child=o,r}return n=o.children,e.memoizedState=null,e.child=Mo(e,null,n,r)}if(null!==t.memoizedState){if(n=(t=t.child).sibling,s){if(o=o.fallback,(r=Ml(t,t.pendingProps)).return=e,0==(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(n=Ml(n,o)).return=e,r.sibling=n,r.childExpirationTime=0,e.memoizedState=Wa,e.child=r,n}return r=So(e,t.child,o.children,r),e.memoizedState=null,e.child=r}if(t=t.child,s){if(s=o.fallback,(o=Cl(null,n,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(r=Cl(s,n,r,null)).return=e,o.sibling=r,r.effectTag|=2,o.childExpirationTime=0,e.memoizedState=Wa,e.child=o,r}return e.memoizedState=null,e.child=So(e,t,o.children,r)}function Ha(t,e){t.expirationTime<e&&(t.expirationTime=e);var r=t.alternate;null!==r&&r.expirationTime<e&&(r.expirationTime=e),eo(t.return,e)}function Ga(t,e,r,i,n,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailExpiration:0,tailMode:n,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=r,a.tailExpiration=0,a.tailMode=n,a.lastEffect=o)}function Ya(t,e,r){var i=e.pendingProps,n=i.revealOrder,o=i.tail;if(Oa(t,e,i.children,r),0!=(2&(i=Lo.current)))i=1&i|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ha(t,r);else if(19===t.tag)Ha(t,r);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(hn(Lo,i),0==(2&e.mode))e.memoizedState=null;else switch(n){case"forwards":for(r=e.child,n=null;null!==r;)null!==(t=r.alternate)&&null===Bo(t)&&(n=r),r=r.sibling;null===(r=n)?(n=e.child,e.child=null):(n=r.sibling,r.sibling=null),Ga(e,!1,n,r,o,e.lastEffect);break;case"backwards":for(r=null,n=e.child,e.child=null;null!==n;){if(null!==(t=n.alternate)&&null===Bo(t)){e.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}Ga(e,!0,r,null,o,e.lastEffect);break;case"together":Ga(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Xa(t,e,r){null!==t&&(e.dependencies=t.dependencies);var i=e.expirationTime;if(0!==i&&al(i),e.childExpirationTime<r)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(r=Ml(t=e.child,t.pendingProps),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=Ml(t,t.pendingProps)).return=e;r.sibling=null}return e.child}function Ka(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;null!==r;)null!==r.alternate&&(i=r),r=r.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Za(t,e,r){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mn(e.type)&&vn(),null;case 3:return Do(),ln(pn),ln(cn),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||!Aa(e)||(e.effectTag|=4),null;case 5:Fo(e),r=Oo(ko.current);var o=e.type;if(null!==t&&null!=e.stateNode)Va(t,e,o,i,r),t.ref!==e.ref&&(e.effectTag|=128);else{if(!i){if(null===e.stateNode)throw Error(a(166));return null}if(t=Oo(Co.current),Aa(e)){i=e.stateNode,o=e.type;var s=e.memoizedProps;switch(i[Tr]=e,i[Er]=s,o){case"iframe":case"object":case"embed":Ye("load",i);break;case"video":case"audio":for(t=0;t<Zt.length;t++)Ye(Zt[t],i);break;case"source":Ye("error",i);break;case"img":case"image":case"link":Ye("error",i),Ye("load",i);break;case"form":Ye("reset",i),Ye("submit",i);break;case"details":Ye("toggle",i);break;case"input":Tt(i,s),Ye("invalid",i),sr(r,"onChange");break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",i),sr(r,"onChange");break;case"textarea":Ot(i,s),Ye("invalid",i),sr(r,"onChange")}for(var l in nr(o,s),t=null,s)if(s.hasOwnProperty(l)){var h=s[l];"children"===l?"string"==typeof h?i.textContent!==h&&(t=["children",h]):"number"==typeof h&&i.textContent!==""+h&&(t=["children",""+h]):E.hasOwnProperty(l)&&null!=h&&sr(r,l)}switch(o){case"input":bt(i),Mt(i,s,!0);break;case"textarea":bt(i),Dt(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=lr)}r=t,e.updateQueue=r,null!==r&&(e.effectTag|=4)}else{switch(l=9===r.nodeType?r:r.ownerDocument,t===ar&&(t=Lt(o)),t===ar?"script"===o?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof i.is?t=l.createElement(o,{is:i.is}):(t=l.createElement(o),"select"===o&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,o),t[Tr]=e,t[Er]=i,ja(t,e),e.stateNode=t,l=or(o,i),o){case"iframe":case"object":case"embed":Ye("load",t),h=i;break;case"video":case"audio":for(h=0;h<Zt.length;h++)Ye(Zt[h],t);h=i;break;case"source":Ye("error",t),h=i;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),h=i;break;case"form":Ye("reset",t),Ye("submit",t),h=i;break;case"details":Ye("toggle",t),h=i;break;case"input":Tt(t,i),h=wt(t,i),Ye("invalid",t),sr(r,"onChange");break;case"option":h=Ct(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},h=n({},i,{value:void 0}),Ye("invalid",t),sr(r,"onChange");break;case"textarea":Ot(t,i),h=kt(t,i),Ye("invalid",t),sr(r,"onChange");break;default:h=i}nr(o,h);var u=h;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?rr(t,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&zt(t,c):"children"===s?"string"==typeof c?("textarea"!==o||""!==c)&&jt(t,c):"number"==typeof c&&jt(t,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?null!=c&&sr(r,s):null!=c&&J(t,s,c,l))}switch(o){case"input":bt(t),Mt(t,i,!1);break;case"textarea":bt(t),Dt(t);break;case"option":null!=i.value&&t.setAttribute("value",""+gt(i.value));break;case"select":t.multiple=!!i.multiple,null!=(r=i.value)?Pt(t,!!i.multiple,r,!1):null!=i.defaultValue&&Pt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof h.onClick&&(t.onclick=lr)}vr(o,i)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Ua(0,e,t.memoizedProps,i);else{if("string"!=typeof i&&null===e.stateNode)throw Error(a(166));r=Oo(ko.current),Oo(Co.current),Aa(e)?(r=e.stateNode,i=e.memoizedProps,r[Tr]=e,r.nodeValue!==i&&(e.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(i))[Tr]=e,e.stateNode=r)}return null;case 13:return ln(Lo),i=e.memoizedState,0!=(64&e.effectTag)?(e.expirationTime=r,e):(r=null!==i,i=!1,null===t?void 0!==e.memoizedProps.fallback&&Aa(e):(i=null!==(o=t.memoizedState),r||null===o||null!==(o=t.child.sibling)&&(null!==(s=e.firstEffect)?(e.firstEffect=o,o.nextEffect=s):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),r&&!i&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Lo.current)?As===bs&&(As=xs):(As!==bs&&As!==xs||(As=ws),0!==Is&&null!==Es&&(Dl(Es,Ms),Rl(Es,Is)))),(r||i)&&(e.effectTag|=4),null);case 4:return Do(),null;case 10:return to(e),null;case 17:return mn(e.type)&&vn(),null;case 19:if(ln(Lo),null===(i=e.memoizedState))return null;if(o=0!=(64&e.effectTag),null===(s=i.rendering)){if(o)Ka(i,!1);else if(As!==bs||null!==t&&0!=(64&t.effectTag))for(s=e.child;null!==s;){if(null!==(t=Bo(s))){for(e.effectTag|=64,Ka(i,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===i.lastEffect&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=e.child;null!==i;)s=r,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),i=i.sibling;return hn(Lo,1&Lo.current|2),e.child}s=s.sibling}}else{if(!o)if(null!==(t=Bo(s))){if(e.effectTag|=64,o=!0,null!==(r=t.updateQueue)&&(e.updateQueue=r,e.effectTag|=4),Ka(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate)return null!==(e=e.lastEffect=i.lastEffect)&&(e.nextEffect=null),null}else 2*zn()-i.renderingStartTime>i.tailExpiration&&1<r&&(e.effectTag|=64,o=!0,Ka(i,!1),e.expirationTime=e.childExpirationTime=r-1);i.isBackwards?(s.sibling=e.child,e.child=s):(null!==(r=i.last)?r.sibling=s:e.child=s,i.last=s)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=zn()+500),r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=zn(),r.sibling=null,e=Lo.current,hn(Lo,o?1&e|2:1&e),r):null}throw Error(a(156,e.tag))}function Ja(t){switch(t.tag){case 1:mn(t.type)&&vn();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Do(),ln(pn),ln(cn),0!=(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return Fo(t),null;case 13:return ln(Lo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return ln(Lo),null;case 4:return Do(),null;case 10:return to(t),null;default:return null}}function Qa(t,e){return{value:t,source:e,stack:yt(e)}}ja=function(t,e){for(var r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Va=function(t,e,r,i,o){var a=t.memoizedProps;if(a!==i){var s,l,h=e.stateNode;switch(Oo(Co.current),t=null,r){case"input":a=wt(h,a),i=wt(h,i),t=[];break;case"option":a=Ct(h,a),i=Ct(h,i),t=[];break;case"select":a=n({},a,{value:void 0}),i=n({},i,{value:void 0}),t=[];break;case"textarea":a=kt(h,a),i=kt(h,i),t=[];break;default:"function"!=typeof a.onClick&&"function"==typeof i.onClick&&(h.onclick=lr)}for(s in nr(r,i),r=null,a)if(!i.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in h=a[s])h.hasOwnProperty(l)&&(r||(r={}),r[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in i){var u=i[s];if(h=null!=a?a[s]:void 0,i.hasOwnProperty(s)&&u!==h&&(null!=u||null!=h))if("style"===s)if(h){for(l in h)!h.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in u)u.hasOwnProperty(l)&&h[l]!==u[l]&&(r||(r={}),r[l]=u[l])}else r||(t||(t=[]),t.push(s,r)),r=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,h=h?h.__html:void 0,null!=u&&h!==u&&(t=t||[]).push(s,u)):"children"===s?h===u||"string"!=typeof u&&"number"!=typeof u||(t=t||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(E.hasOwnProperty(s)?(null!=u&&sr(o,s),t||h===u||(t=[])):(t=t||[]).push(s,u))}r&&(t=t||[]).push("style",r),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},Ua=function(t,e,r,i){r!==i&&(e.effectTag|=4)};var $a="function"==typeof WeakSet?WeakSet:Set;function ts(t,e){var r=e.source,i=e.stack;null===i&&null!==r&&(i=yt(r)),null!==r&&vt(r.type),e=e.value,null!==t&&1===t.tag&&vt(t.type);try{console.error(e)}catch(t){setTimeout((function(){throw t}))}}function es(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){gl(t,e)}else e.current=null}function rs(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var r=t.memoizedProps,i=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?r:Xn(e.type,r),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function is(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}r=r.next}while(r!==e)}}function ns(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)===t){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function os(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:return void ns(3,r);case 1:if(t=r.stateNode,4&r.effectTag)if(null===e)t.componentDidMount();else{var i=r.elementType===r.type?e.memoizedProps:Xn(r.type,e.memoizedProps);t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=r.updateQueue)&&co(r,e,t));case 3:if(null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}co(r,e,t)}return;case 5:return t=r.stateNode,void(null===e&&4&r.effectTag&&vr(r.type,r.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&Le(r)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(t,e,r){switch("function"==typeof wl&&wl(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var i=t.next;Un(97<r?97:r,(function(){var t=i;do{var r=t.destroy;if(void 0!==r){var n=e;try{r()}catch(t){gl(n,t)}}t=t.next}while(t!==i)}))}break;case 1:es(e),"function"==typeof(r=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){gl(t,e)}}(e,r);break;case 5:es(e);break;case 4:us(t,e,r)}}function ss(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&ss(e)}function ls(t){return 5===t.tag||3===t.tag||4===t.tag}function hs(t){t:{for(var e=t.return;null!==e;){if(ls(e)){var r=e;break t}e=e.return}throw Error(a(160))}switch(e=r.stateNode,r.tag){case 5:var i=!1;break;case 3:case 4:e=e.containerInfo,i=!0;break;default:throw Error(a(161))}16&r.effectTag&&(jt(e,""),r.effectTag&=-17);t:e:for(r=t;;){for(;null===r.sibling;){if(null===r.return||ls(r.return)){r=null;break t}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue e;if(null===r.child||4===r.tag)continue e;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break t}}i?function t(e,r,i){var n=e.tag,o=5===n||6===n;if(o)e=o?e.stateNode:e.stateNode.instance,r?8===i.nodeType?i.parentNode.insertBefore(e,r):i.insertBefore(e,r):(8===i.nodeType?(r=i.parentNode).insertBefore(e,i):(r=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==r.onclick||(r.onclick=lr));else if(4!==n&&null!==(e=e.child))for(t(e,r,i),e=e.sibling;null!==e;)t(e,r,i),e=e.sibling}(t,r,e):function t(e,r,i){var n=e.tag,o=5===n||6===n;if(o)e=o?e.stateNode:e.stateNode.instance,r?i.insertBefore(e,r):i.appendChild(e);else if(4!==n&&null!==(e=e.child))for(t(e,r,i),e=e.sibling;null!==e;)t(e,r,i),e=e.sibling}(t,r,e)}function us(t,e,r){for(var i,n,o=e,s=!1;;){if(!s){s=o.return;t:for(;;){if(null===s)throw Error(a(160));switch(i=s.stateNode,s.tag){case 5:n=!1;break t;case 3:case 4:i=i.containerInfo,n=!0;break t}s=s.return}s=!0}if(5===o.tag||6===o.tag){t:for(var l=t,h=o,u=r,c=h;;)if(as(l,c,u),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===h)break t;for(;null===c.sibling;){if(null===c.return||c.return===h)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n?(l=i,h=o.stateNode,8===l.nodeType?l.parentNode.removeChild(h):l.removeChild(h)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,n=!0,o.child.return=o,o=o.child;continue}}else if(as(t,o,r),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function cs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void is(3,e);case 1:return;case 5:var r=e.stateNode;if(null!=r){var i=e.memoizedProps,n=null!==t?t.memoizedProps:i;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(r[Er]=i,"input"===t&&"radio"===i.type&&null!=i.name&&Et(r,i),or(t,n),e=or(t,i),n=0;n<o.length;n+=2){var s=o[n],l=o[n+1];"style"===s?rr(r,l):"dangerouslySetInnerHTML"===s?zt(r,l):"children"===s?jt(r,l):J(r,s,l,e)}switch(t){case"input":St(r,i);break;case"textarea":It(r,i);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!i.multiple,null!=(t=i.value)?Pt(r,!!i.multiple,t,!1):e!==!!i.multiple&&(null!=i.defaultValue?Pt(r,!!i.multiple,i.defaultValue,!0):Pt(r,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Le(e.containerInfo)));case 12:return;case 13:if(r=e,null===e.memoizedState?i=!1:(i=!0,r=e.child,Rs=zn()),null!==r)t:for(t=r;;){if(5===t.tag)o=t.stateNode,i?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,n=null!=(n=t.memoizedProps.style)&&n.hasOwnProperty("display")?n.display:null,o.style.display=er("display",n));else if(6===t.tag)t.stateNode.nodeValue=i?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===r)break;for(;null===t.sibling;){if(null===t.return||t.return===r)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void ps(e);case 19:return void ps(e);case 17:return}throw Error(a(163))}function ps(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var r=t.stateNode;null===r&&(r=t.stateNode=new $a),e.forEach((function(e){var i=bl.bind(null,t,e);r.has(e)||(r.add(e),e.then(i,i))}))}}var fs="function"==typeof WeakMap?WeakMap:Map;function ds(t,e,r){(r=so(r,null)).tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){Ls||(Ls=!0,Bs=i),ts(t,e)},r}function ms(t,e,r){(r=so(r,null)).tag=3;var i=t.type.getDerivedStateFromError;if("function"==typeof i){var n=e.value;r.payload=function(){return ts(t,e),i(n)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){"function"!=typeof i&&(null===Ns?Ns=new Set([this]):Ns.add(this),ts(t,e));var r=e.stack;this.componentDidCatch(e.value,{componentStack:null!==r?r:""})}),r}var vs,ys=Math.ceil,gs=Z.ReactCurrentDispatcher,_s=Z.ReactCurrentOwner,bs=0,xs=3,ws=4,Ts=0,Es=null,Ss=null,Ms=0,As=bs,Cs=null,Ps=1073741823,ks=1073741823,Os=null,Is=0,Ds=!1,Rs=0,Fs=null,Ls=!1,Bs=null,Ns=null,zs=!1,js=null,Vs=90,Us=null,Ws=0,qs=null,Hs=0;function Gs(){return 0!=(48&Ts)?1073741821-(zn()/10|0):0!==Hs?Hs:Hs=1073741821-(zn()/10|0)}function Ys(t,e,r){if(0==(2&(e=e.mode)))return 1073741823;var i=jn();if(0==(4&e))return 99===i?1073741823:1073741822;if(0!=(16&Ts))return Ms;if(null!==r)t=Yn(t,0|r.timeoutMs||5e3,250);else switch(i){case 99:t=1073741823;break;case 98:t=Yn(t,150,100);break;case 97:case 96:t=Yn(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==Es&&t===Ms&&--t,t}function Xs(t,e){if(50<Ws)throw Ws=0,qs=null,Error(a(185));if(null!==(t=Ks(t,e))){var r=jn();1073741823===e?0!=(8&Ts)&&0==(48&Ts)?$s(t):(Js(t),0===Ts&&Hn()):Js(t),0==(4&Ts)||98!==r&&99!==r||(null===Us?Us=new Map([[t,e]]):(void 0===(r=Us.get(t))||r>e)&&Us.set(t,e))}}function Ks(t,e){t.expirationTime<e&&(t.expirationTime=e);var r=t.alternate;null!==r&&r.expirationTime<e&&(r.expirationTime=e);var i=t.return,n=null;if(null===i&&3===t.tag)n=t.stateNode;else for(;null!==i;){if(r=i.alternate,i.childExpirationTime<e&&(i.childExpirationTime=e),null!==r&&r.childExpirationTime<e&&(r.childExpirationTime=e),null===i.return&&3===i.tag){n=i.stateNode;break}i=i.return}return null!==n&&(Es===n&&(al(e),As===ws&&Dl(n,Ms)),Rl(n,e)),n}function Zs(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Il(t,e=t.firstPendingTime))return e;var r=t.lastPingedTime;return 2>=(t=r>(t=t.nextKnownPendingLevel)?r:t)&&e!==t?0:t}function Js(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=qn($s.bind(null,t));else{var e=Zs(t),r=t.callbackNode;if(0===e)null!==r&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var i=Gs();if(1073741823===e?i=99:1===e||2===e?i=95:i=0>=(i=10*(1073741821-e)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==r){var n=t.callbackPriority;if(t.callbackExpirationTime===e&&n>=i)return;r!==In&&Tn(r)}t.callbackExpirationTime=e,t.callbackPriority=i,e=1073741823===e?qn($s.bind(null,t)):Wn(i,Qs.bind(null,t),{timeout:10*(1073741821-e)-zn()}),t.callbackNode=e}}}function Qs(t,e){if(Hs=0,e)return Fl(t,e=Gs()),Js(t),null;var r=Zs(t);if(0!==r){if(e=t.callbackNode,0!=(48&Ts))throw Error(a(327));if(ml(),t===Es&&r===Ms||rl(t,r),null!==Ss){var i=Ts;Ts|=16;for(var n=nl();;)try{ll();break}catch(e){il(t,e)}if($n(),Ts=i,gs.current=n,1===As)throw e=Cs,rl(t,r),Dl(t,r),Js(t),e;if(null===Ss)switch(n=t.finishedWork=t.current.alternate,t.finishedExpirationTime=r,i=As,Es=null,i){case bs:case 1:throw Error(a(345));case 2:Fl(t,2<r?2:r);break;case xs:if(Dl(t,r),r===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=cl(n)),1073741823===Ps&&10<(n=Rs+500-zn())){if(Ds){var o=t.lastPingedTime;if(0===o||o>=r){t.lastPingedTime=r,rl(t,r);break}}if(0!==(o=Zs(t))&&o!==r)break;if(0!==i&&i!==r){t.lastPingedTime=i;break}t.timeoutHandle=gr(pl.bind(null,t),n);break}pl(t);break;case ws:if(Dl(t,r),r===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=cl(n)),Ds&&(0===(n=t.lastPingedTime)||n>=r)){t.lastPingedTime=r,rl(t,r);break}if(0!==(n=Zs(t))&&n!==r)break;if(0!==i&&i!==r){t.lastPingedTime=i;break}if(1073741823!==ks?i=10*(1073741821-ks)-zn():1073741823===Ps?i=0:(i=10*(1073741821-Ps)-5e3,0>(i=(n=zn())-i)&&(i=0),(r=10*(1073741821-r)-n)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ys(i/1960))-i)&&(i=r)),10<i){t.timeoutHandle=gr(pl.bind(null,t),i);break}pl(t);break;case 5:if(1073741823!==Ps&&null!==Os){o=Ps;var s=Os;if(0>=(i=0|s.busyMinDurationMs)?i=0:(n=0|s.busyDelayMs,i=(o=zn()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=n?0:n+i-o),10<i){Dl(t,r),t.timeoutHandle=gr(pl.bind(null,t),i);break}}pl(t);break;default:throw Error(a(329))}if(Js(t),t.callbackNode===e)return Qs.bind(null,t)}}return null}function $s(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!=(48&Ts))throw Error(a(327));if(ml(),t===Es&&e===Ms||rl(t,e),null!==Ss){var r=Ts;Ts|=16;for(var i=nl();;)try{sl();break}catch(e){il(t,e)}if($n(),Ts=r,gs.current=i,1===As)throw r=Cs,rl(t,e),Dl(t,e),Js(t),r;if(null!==Ss)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Es=null,pl(t),Js(t)}return null}function tl(t,e){var r=Ts;Ts|=1;try{return t(e)}finally{0===(Ts=r)&&Hn()}}function el(t,e){var r=Ts;Ts&=-2,Ts|=8;try{return t(e)}finally{0===(Ts=r)&&Hn()}}function rl(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var r=t.timeoutHandle;if(-1!==r&&(t.timeoutHandle=-1,_r(r)),null!==Ss)for(r=Ss.return;null!==r;){var i=r;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&vn();break;case 3:Do(),ln(pn),ln(cn);break;case 5:Fo(i);break;case 4:Do();break;case 13:case 19:ln(Lo);break;case 10:to(i)}r=r.return}Es=t,Ss=Ml(t.current,null),Ms=e,As=bs,Cs=null,ks=Ps=1073741823,Os=null,Is=0,Ds=!1}function il(t,e){for(;;){try{if($n(),zo.current=va,Ho)for(var r=Uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}if(Vo=0,qo=Wo=Uo=null,Ho=!1,null===Ss||null===Ss.return)return As=1,Cs=e,Ss=null;t:{var n=t,o=Ss.return,a=Ss,s=e;if(e=Ms,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var h=a.alternate;h?(a.updateQueue=h.updateQueue,a.memoizedState=h.memoizedState,a.expirationTime=h.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!=(1&Lo.current),c=o;do{var p;if(p=13===c.tag){var f=c.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var d=c.memoizedProps;p=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!u)}}if(p){var m=c.updateQueue;if(null===m){var v=new Set;v.add(l),c.updateQueue=v}else m.add(l);if(0==(2&c.mode)){if(c.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=so(1073741823,null);y.tag=2,lo(a,y)}a.expirationTime=1073741823;break t}s=void 0,a=e;var g=n.pingCache;if(null===g?(g=n.pingCache=new fs,s=new Set,g.set(l,s)):void 0===(s=g.get(l))&&(s=new Set,g.set(l,s)),!s.has(a)){s.add(a);var _=_l.bind(null,n,l,a);l.then(_,_)}c.effectTag|=4096,c.expirationTime=e;break t}c=c.return}while(null!==c);s=Error((vt(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+yt(a))}5!==As&&(As=2),s=Qa(s,a),c=o;do{switch(c.tag){case 3:l=s,c.effectTag|=4096,c.expirationTime=e,ho(c,ds(c,l,e));break t;case 1:l=s;var b=c.type,x=c.stateNode;if(0==(64&c.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Ns||!Ns.has(x)))){c.effectTag|=4096,c.expirationTime=e,ho(c,ms(c,l,e));break t}}c=c.return}while(null!==c)}Ss=ul(Ss)}catch(t){e=t;continue}break}}function nl(){var t=gs.current;return gs.current=va,null===t?va:t}function ol(t,e){t<Ps&&2<t&&(Ps=t),null!==e&&t<ks&&2<t&&(ks=t,Os=e)}function al(t){t>Is&&(Is=t)}function sl(){for(;null!==Ss;)Ss=hl(Ss)}function ll(){for(;null!==Ss&&!Dn();)Ss=hl(Ss)}function hl(t){var e=vs(t.alternate,t,Ms);return t.memoizedProps=t.pendingProps,null===e&&(e=ul(t)),_s.current=null,e}function ul(t){Ss=t;do{var e=Ss.alternate;if(t=Ss.return,0==(2048&Ss.effectTag)){if(e=Za(e,Ss,Ms),1===Ms||1!==Ss.childExpirationTime){for(var r=0,i=Ss.child;null!==i;){var n=i.expirationTime,o=i.childExpirationTime;n>r&&(r=n),o>r&&(r=o),i=i.sibling}Ss.childExpirationTime=r}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ss.firstEffect),t.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ss:t.firstEffect=Ss,t.lastEffect=Ss))}else{if(null!==(e=Ja(Ss)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ss.sibling))return e;Ss=t}while(null!==Ss);return As===bs&&(As=5),null}function cl(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function pl(t){var e=jn();return Un(99,fl.bind(null,t,e)),null}function fl(t,e){do{ml()}while(null!==js);if(0!=(48&Ts))throw Error(a(327));var r=t.finishedWork,i=t.finishedExpirationTime;if(null===r)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,r===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var n=cl(r);if(t.firstPendingTime=n,i<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:i<=t.firstSuspendedTime&&(t.firstSuspendedTime=i-1),i<=t.lastPingedTime&&(t.lastPingedTime=0),i<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Es&&(Ss=Es=null,Ms=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){var o=Ts;Ts|=32,_s.current=null,dr=Ge;var s=pr();if(fr(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{var h=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(h&&0!==h.rangeCount){l=h.anchorNode;var u=h.anchorOffset,c=h.focusNode;h=h.focusOffset;try{l.nodeType,c.nodeType}catch(t){l=null;break t}var p=0,f=-1,d=-1,m=0,v=0,y=s,g=null;e:for(;;){for(var _;y!==l||0!==u&&3!==y.nodeType||(f=p+u),y!==c||0!==h&&3!==y.nodeType||(d=p+h),3===y.nodeType&&(p+=y.nodeValue.length),null!==(_=y.firstChild);)g=y,y=_;for(;;){if(y===s)break e;if(g===l&&++m===u&&(f=p),g===c&&++v===h&&(d=p),null!==(_=y.nextSibling))break;g=(y=g).parentNode}y=_}l=-1===f||-1===d?null:{start:f,end:d}}else l=null}l=l||{start:0,end:0}}else l=null;mr={activeElementDetached:null,focusedElem:s,selectionRange:l},Ge=!1,Fs=n;do{try{dl()}catch(t){if(null===Fs)throw Error(a(330));gl(Fs,t),Fs=Fs.nextEffect}}while(null!==Fs);Fs=n;do{try{for(s=t,l=e;null!==Fs;){var b=Fs.effectTag;if(16&b&&jt(Fs.stateNode,""),128&b){var x=Fs.alternate;if(null!==x){var w=x.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&b){case 2:hs(Fs),Fs.effectTag&=-3;break;case 6:hs(Fs),Fs.effectTag&=-3,cs(Fs.alternate,Fs);break;case 1024:Fs.effectTag&=-1025;break;case 1028:Fs.effectTag&=-1025,cs(Fs.alternate,Fs);break;case 4:cs(Fs.alternate,Fs);break;case 8:us(s,u=Fs,l),ss(u)}Fs=Fs.nextEffect}}catch(t){if(null===Fs)throw Error(a(330));gl(Fs,t),Fs=Fs.nextEffect}}while(null!==Fs);if(w=mr,x=pr(),b=w.focusedElem,l=w.selectionRange,x!==b&&b&&b.ownerDocument&&function t(e,r){return!(!e||!r)&&(e===r||(!e||3!==e.nodeType)&&(r&&3===r.nodeType?t(e,r.parentNode):"contains"in e?e.contains(r):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(r))))}(b.ownerDocument.documentElement,b)){null!==l&&fr(b)&&(x=l.start,void 0===(w=l.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!w.extend&&s>l&&(u=l,l=s,s=u),u=cr(b,s),c=cr(b,l),u&&c&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==c.node||w.focusOffset!==c.offset)&&((x=x.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),s>l?(w.addRange(x),w.extend(c.node,c.offset)):(x.setEnd(c.node,c.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ge=!!dr,mr=dr=null,t.current=r,Fs=n;do{try{for(b=t;null!==Fs;){var T=Fs.effectTag;if(36&T&&os(b,Fs.alternate,Fs),128&T){x=void 0;var E=Fs.ref;if(null!==E){var S=Fs.stateNode;switch(Fs.tag){case 5:x=S;break;default:x=S}"function"==typeof E?E(x):E.current=x}}Fs=Fs.nextEffect}}catch(t){if(null===Fs)throw Error(a(330));gl(Fs,t),Fs=Fs.nextEffect}}while(null!==Fs);Fs=null,Rn(),Ts=o}else t.current=r;if(zs)zs=!1,js=t,Vs=e;else for(Fs=n;null!==Fs;)e=Fs.nextEffect,Fs.nextEffect=null,Fs=e;if(0===(e=t.firstPendingTime)&&(Ns=null),1073741823===e?t===qs?Ws++:(Ws=0,qs=t):Ws=0,"function"==typeof xl&&xl(r.stateNode,i),Js(t),Ls)throw Ls=!1,t=Bs,Bs=null,t;return 0!=(8&Ts)||Hn(),null}function dl(){for(;null!==Fs;){var t=Fs.effectTag;0!=(256&t)&&rs(Fs.alternate,Fs),0==(512&t)||zs||(zs=!0,Wn(97,(function(){return ml(),null}))),Fs=Fs.nextEffect}}function ml(){if(90!==Vs){var t=97<Vs?97:Vs;return Vs=90,Un(t,vl)}}function vl(){if(null===js)return!1;var t=js;if(js=null,0!=(48&Ts))throw Error(a(331));var e=Ts;for(Ts|=32,t=t.current.firstEffect;null!==t;){try{var r=t;if(0!=(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:is(5,r),ns(5,r)}}catch(e){if(null===t)throw Error(a(330));gl(t,e)}r=t.nextEffect,t.nextEffect=null,t=r}return Ts=e,Hn(),!0}function yl(t,e,r){lo(t,e=ds(t,e=Qa(r,e),1073741823)),null!==(t=Ks(t,1073741823))&&Js(t)}function gl(t,e){if(3===t.tag)yl(t,t,e);else for(var r=t.return;null!==r;){if(3===r.tag){yl(r,t,e);break}if(1===r.tag){var i=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Ns||!Ns.has(i))){lo(r,t=ms(r,t=Qa(e,t),1073741823)),null!==(r=Ks(r,1073741823))&&Js(r);break}}r=r.return}}function _l(t,e,r){var i=t.pingCache;null!==i&&i.delete(e),Es===t&&Ms===r?As===ws||As===xs&&1073741823===Ps&&zn()-Rs<500?rl(t,Ms):Ds=!0:Il(t,r)&&(0!==(e=t.lastPingedTime)&&e<r||(t.lastPingedTime=r,Js(t)))}function bl(t,e){var r=t.stateNode;null!==r&&r.delete(e),0===(e=0)&&(e=Ys(e=Gs(),t,null)),null!==(t=Ks(t,e))&&Js(t)}vs=function(t,e,r){var i=e.expirationTime;if(null!==t){var n=e.pendingProps;if(t.memoizedProps!==n||pn.current)ka=!0;else{if(i<r){switch(ka=!1,e.tag){case 3:za(e),Ca();break;case 5:if(Ro(e),4&e.mode&&1!==r&&n.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:mn(e.type)&&_n(e);break;case 4:Io(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value,n=e.type._context,hn(Kn,n._currentValue),n._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!==(i=e.child.childExpirationTime)&&i>=r?qa(t,e,r):(hn(Lo,1&Lo.current),null!==(e=Xa(t,e,r))?e.sibling:null);hn(Lo,1&Lo.current);break;case 19:if(i=e.childExpirationTime>=r,0!=(64&t.effectTag)){if(i)return Ya(t,e,r);e.effectTag|=64}if(null!==(n=e.memoizedState)&&(n.rendering=null,n.tail=null),hn(Lo,Lo.current),!i)return null}return Xa(t,e,r)}ka=!1}}else ka=!1;switch(e.expirationTime=0,e.tag){case 2:if(i=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,n=dn(e,cn.current),ro(e,r),n=Xo(null,e,i,t,n,r),e.effectTag|=1,"object"==typeof n&&null!==n&&"function"==typeof n.render&&void 0===n.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(i)){var o=!0;_n(e)}else o=!1;e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,oo(e);var s=i.getDerivedStateFromProps;"function"==typeof s&&mo(e,i,s,t),n.updater=vo,e.stateNode=n,n._reactInternalFiber=e,bo(e,i,t,r),e=Na(null,e,i,!0,o,r)}else e.tag=0,Oa(null,e,n,r),e=e.child;return e;case 16:t:{if(n=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(n),1!==n._status)throw n._result;switch(n=n._result,e.type=n,o=e.tag=function(t){if("function"==typeof t)return Sl(t)?1:0;if(null!=t){if((t=t.$$typeof)===lt)return 11;if(t===ct)return 14}return 2}(n),t=Xn(n,t),o){case 0:e=La(null,e,n,t,r);break t;case 1:e=Ba(null,e,n,t,r);break t;case 11:e=Ia(null,e,n,t,r);break t;case 14:e=Da(null,e,n,Xn(n.type,t),i,r);break t}throw Error(a(306,n,""))}return e;case 0:return i=e.type,n=e.pendingProps,La(t,e,i,n=e.elementType===i?n:Xn(i,n),r);case 1:return i=e.type,n=e.pendingProps,Ba(t,e,i,n=e.elementType===i?n:Xn(i,n),r);case 3:if(za(e),i=e.updateQueue,null===t||null===i)throw Error(a(282));if(i=e.pendingProps,n=null!==(n=e.memoizedState)?n.element:null,ao(t,e),uo(e,i,null,r),(i=e.memoizedState.element)===n)Ca(),e=Xa(t,e,r);else{if((n=e.stateNode.hydrate)&&(xa=br(e.stateNode.containerInfo.firstChild),ba=e,n=wa=!0),n)for(r=Mo(e,null,i,r),e.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Oa(t,e,i,r),Ca();e=e.child}return e;case 5:return Ro(e),null===t&&Sa(e),i=e.type,n=e.pendingProps,o=null!==t?t.memoizedProps:null,s=n.children,yr(i,n)?s=null:null!==o&&yr(i,o)&&(e.effectTag|=16),Fa(t,e),4&e.mode&&1!==r&&n.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Oa(t,e,s,r),e=e.child),e;case 6:return null===t&&Sa(e),null;case 13:return qa(t,e,r);case 4:return Io(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=So(e,null,i,r):Oa(t,e,i,r),e.child;case 11:return i=e.type,n=e.pendingProps,Ia(t,e,i,n=e.elementType===i?n:Xn(i,n),r);case 7:return Oa(t,e,e.pendingProps,r),e.child;case 8:case 12:return Oa(t,e,e.pendingProps.children,r),e.child;case 10:t:{i=e.type._context,n=e.pendingProps,s=e.memoizedProps,o=n.value;var l=e.type._context;if(hn(Kn,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Li(l,o)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(s.children===n.children&&!pn.current){e=Xa(t,e,r);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var h=l.dependencies;if(null!==h){s=l.child;for(var u=h.firstContext;null!==u;){if(u.context===i&&0!=(u.observedBits&o)){1===l.tag&&((u=so(r,null)).tag=2,lo(l,u)),l.expirationTime<r&&(l.expirationTime=r),null!==(u=l.alternate)&&u.expirationTime<r&&(u.expirationTime=r),eo(l.return,r),h.expirationTime<r&&(h.expirationTime=r);break}u=u.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Oa(t,e,n.children,r),e=e.child}return e;case 9:return n=e.type,i=(o=e.pendingProps).children,ro(e,r),i=i(n=io(n,o.unstable_observedBits)),e.effectTag|=1,Oa(t,e,i,r),e.child;case 14:return o=Xn(n=e.type,e.pendingProps),Da(t,e,n,o=Xn(n.type,o),i,r);case 15:return Ra(t,e,e.type,e.pendingProps,i,r);case 17:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:Xn(i,n),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,mn(i)?(t=!0,_n(e)):t=!1,ro(e,r),go(e,i,n),bo(e,i,n,r),Na(null,e,i,!0,t,r);case 19:return Ya(t,e,r)}throw Error(a(156,e.tag))};var xl=null,wl=null;function Tl(t,e,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function El(t,e,r,i){return new Tl(t,e,r,i)}function Sl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ml(t,e){var r=t.alternate;return null===r?((r=El(t.tag,e,t.key,t.mode)).elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=t.childExpirationTime,r.expirationTime=t.expirationTime,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Al(t,e,r,i,n,o){var s=2;if(i=t,"function"==typeof t)Sl(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case rt:return Cl(r.children,n,o,e);case st:s=8,n|=7;break;case it:s=8,n|=1;break;case nt:return(t=El(12,r,e,8|n)).elementType=nt,t.type=nt,t.expirationTime=o,t;case ht:return(t=El(13,r,e,n)).type=ht,t.elementType=ht,t.expirationTime=o,t;case ut:return(t=El(19,r,e,n)).elementType=ut,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case ot:s=10;break t;case at:s=9;break t;case lt:s=11;break t;case ct:s=14;break t;case pt:s=16,i=null;break t;case ft:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=El(s,r,e,n)).elementType=t,e.type=i,e.expirationTime=o,e}function Cl(t,e,r,i){return(t=El(7,t,i,e)).expirationTime=r,t}function Pl(t,e,r){return(t=El(6,t,null,e)).expirationTime=r,t}function kl(t,e,r){return(e=El(4,null!==t.children?t.children:[],t.key,e)).expirationTime=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ol(t,e,r){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Il(t,e){var r=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==r&&r>=e&&t<=e}function Dl(t,e){var r=t.firstSuspendedTime,i=t.lastSuspendedTime;r<e&&(t.firstSuspendedTime=e),(i>e||0===r)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Rl(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var r=t.firstSuspendedTime;0!==r&&(e>=r?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Fl(t,e){var r=t.lastExpiredTime;(0===r||r>e)&&(t.lastExpiredTime=e)}function Ll(t,e,r,i){var n=e.current,o=Gs(),s=po.suspense;o=Ys(o,n,s);t:if(r){e:{if($t(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(a(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(mn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(a(171))}if(1===r.tag){var h=r.type;if(mn(h)){r=gn(r,h,l);break t}}r=l}else r=un;return null===e.context?e.context=r:e.pendingContext=r,(e=so(o,s)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),lo(n,e),Xs(n,o),o}function Bl(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Nl(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function zl(t,e){Nl(t,e),(t=t.alternate)&&Nl(t,e)}function jl(t,e,r){var i=new Ol(t,e,r=null!=r&&!0===r.hydrate),n=El(3,null,null,2===e?7:1===e?3:0);i.current=n,n.stateNode=i,oo(n),t[Sr]=i.current,r&&0!==e&&function(t,e){var r=Qt(e);Me.forEach((function(t){de(t,e,r)})),Ae.forEach((function(t){de(t,e,r)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=i}function Vl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Ul(t,e,r,i,n){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof n){var s=n;n=function(){var t=Bl(a);s.call(t)}}Ll(e,a,t,n)}else{if(o=r._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new jl(t,0,e?{hydrate:!0}:void 0)}(r,i),a=o._internalRoot,"function"==typeof n){var l=n;n=function(){var t=Bl(a);l.call(t)}}el((function(){Ll(e,a,t,n)}))}return Bl(a)}function Wl(t,e,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==i?null:""+i,children:t,containerInfo:e,implementation:r}}function ql(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vl(e))throw Error(a(200));return Wl(t,e,null,r)}jl.prototype.render=function(t){Ll(t,this._internalRoot,null,null)},jl.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ll(null,t,null,(function(){e[Sr]=null}))},me=function(t){if(13===t.tag){var e=Yn(Gs(),150,100);Xs(t,e),zl(t,e)}},ve=function(t){13===t.tag&&(Xs(t,3),zl(t,3))},ye=function(t){if(13===t.tag){var e=Gs();Xs(t,e=Ys(e,t,null)),zl(t,e)}},C=function(t,e,r){switch(e){case"input":if(St(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==t&&i.form===t.form){var n=Pr(i);if(!n)throw Error(a(90));xt(i),St(i,n)}}}break;case"textarea":It(t,r);break;case"select":null!=(e=r.value)&&Pt(t,!!r.multiple,e,!1)}},R=tl,F=function(t,e,r,i,n){var o=Ts;Ts|=4;try{return Un(98,t.bind(null,e,r,i,n))}finally{0===(Ts=o)&&Hn()}},L=function(){0==(49&Ts)&&(function(){if(null!==Us){var t=Us;Us=null,t.forEach((function(t,e){Fl(e,t),Js(e)})),Hn()}}(),ml())},B=function(t,e){var r=Ts;Ts|=2;try{return t(e)}finally{0===(Ts=r)&&Hn()}};var Hl,Gl,Yl={Events:[Ar,Cr,Pr,M,T,Lr,function(t){ne(t,Fr)},I,D,Je,se,ml,{current:!1}]};Gl=(Hl={findFiberByHostInstance:Mr,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var r=e.inject(t);xl=function(t){try{e.onCommitFiberRoot(r,t,void 0,64==(64&t.current.effectTag))}catch(t){}},wl=function(t){try{e.onCommitFiberUnmount(r,t)}catch(t){}}}catch(t){}}(n({},Hl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=re(t))?null:t.stateNode},findFiberByHostInstance:function(t){return Gl?Gl(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yl,e.createPortal=ql,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=re(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!=(48&Ts))throw Error(a(187));var r=Ts;Ts|=1;try{return Un(99,t.bind(null,e))}finally{Ts=r,Hn()}},e.hydrate=function(t,e,r){if(!Vl(e))throw Error(a(200));return Ul(null,t,e,!0,r)},e.render=function(t,e,r){if(!Vl(e))throw Error(a(200));return Ul(null,t,e,!1,r)},e.unmountComponentAtNode=function(t){if(!Vl(t))throw Error(a(40));return!!t._reactRootContainer&&(el((function(){Ul(null,null,t,!1,(function(){t._reactRootContainer=null,t[Sr]=null}))})),!0)},e.unstable_batchedUpdates=tl,e.unstable_createPortal=function(t,e){return ql(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,r,i){if(!Vl(r))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return Ul(t,e,r,!1,i)},e.version="16.14.0"},zFbR:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var i=window["html-shot/debug-mode"]||!1,n=["backgroundColor","backgroundImage","borderColor","borderStyle","borderWidth"],o=["fontFamily","fontSize","fontWeight","textAlign","color","wordWrap","borderRadius","fontStyle"],a=["fontSize"];function s(t){void 0===t&&(t=document.body);var e=t.getBoundingClientRect(),r=e.left,s=e.top,l=e.width,h=e.height,u=[];return function t(e,r,i){r(e);for(var n=0,o=e.childNodes.length;n<o;n++){var a=e.childNodes[n];t(a,r,i)}i(e)}(t,(function(t){var e,i,l,h,c=!1;switch(t.nodeName){case"IMG":var p=(l=t).getAttribute("src");p&&(e={type:2,src:p});break;case"CANVAS":e={type:3,img:l=t};break;case"#text":h=!0,l=t.parentElement;var f=t.data.trim();if(f){var d=document.createRange();d.selectNode(t),i=d.getBoundingClientRect(),d.detach(),e={type:1,text:f}}break;case"#comment":c=!0}if(!c){!i&&t.getBoundingClientRect&&(i=t.getBoundingClientRect());var m=function(t,e){void 0===e&&(e=[]);var r=document.createElement("element-"+(new Date).getTime());document.body.appendChild(r);var i=getComputedStyle(r),n=getComputedStyle(t),o={};for(var a in n)(e.indexOf(a)>=0||a in n&&i[a]!==n[a])&&(o[a]=n[a]);return r.remove(),o}(l||t,a),v="auto"===m.overflow||"scroll"===m.overflow||"hidden"===m.overflow;if(!h)for(var y=0,g=n;y<g.length;y++){var _=g[y];n.indexOf(_)<0||(e||(e={type:0}),void 0!==m[_]&&(e[_]=m[_]))}if(e&&i){var b=i.left,x=i.top,w=i.width,T=i.height;for(var _ in e.x=b-r,e.y=x-s,e.width=w,e.height=T,v&&(t.__vNode=e,e.maskBegin=!0),m)o.indexOf(_)<0||(e[_]=m[_]);u.push(e)}}}),(function(t){if(t.__vNode){var e=t.__vNode;u.push({type:0,maskEnd:!0,host:e})}})),i&&console.info(u),{width:l,height:h,nodes:u}}var l,h=function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))},u=function(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function c(t,e,r){return void 0===e&&(e={}),h(this,void 0,void 0,(function(){var i,n,o,a,s,h,c,d,m,v,y,g,_;return u(this,(function(u){switch(u.label){case 0:return i=e.type,n=void 0===i?"png":i,o=e.quality,a=void 0===o?.7:o,s=e.scale,h=void 0===s?window.devicePixelRatio||1:s,c=t.nodes,d=t.width,m=t.height,d*=h,m*=h,(v=document.createElement("canvas")).width=d,v.height=m,y=v.getContext("2d"),g=[],c.forEach((function(t){t.type==l.IMAGE&&g.push(new Promise((function(e,r){var i=new Image;i.crossOrigin="anonymous",i.onload=function(){t.img=i,e()},i.onerror=function(){r("html shot error: can't fetch image[".concat(i.src,"]"))},i.src=t.src}))),t.backgroundImage&&g.push(new Promise((function(e,r){var i=new Image;i.crossOrigin="anonymous",i.onload=function(){t.imgBg=i,e()},i.onerror=function(){r("html shot error: can't fetch image[".concat(i.src,"]"))};var n=t.backgroundImage.match(/url\((.*)*\)/);n?i.src=n[1].replace(/['"]/g,""):r("html shot error: can't parse ".concat(t.backgroundImage))})))})),g.length?[4,Promise.all(g)]:[3,2];case 1:u.sent(),u.label=2;case 2:switch(c.forEach((function(t){switch(t.maskBegin&&(y.save(),y.globalAlpha=0,p(t,y,h),y.globalAlpha=1,y.clip()),t.backgroundColor&&p(t,y,h),t.backgroundImage&&y.drawImage(t.imgBg,t.x*h,t.y*h,t.width*h,t.height*h),t.type){case l.IMAGE:case l.CANVAS:!function(t,e,r){var i=t.x,n=t.y,o=t.img,a=t.width,s=t.height,l=t.borderRadius;i*=r,n*=r,a*=r,s*=r;var h=parseFloat(l)*r;h&&(e.save(),f(t,e,r),e.clip());e.drawImage(o,i,n,a,s),h&&e.restore()}(t,y,h);break;case l.TEXT:!function(t,e,r){var i=t.x,n=t.y,o=t.width,a=t.height,s=t.text,l=t.color,h=t.fontFamily,u=t.fontSize,c=t.fontWeight,p=t.fontStyle,f=t.wordWrap,d=t.textAlign;i*=r,n*=r,o*=r,a*=r;var m=parseFloat(u)*r+"px";m+=" "+(h||"Arial"),c&&(m=c+" "+m);p&&(m=p+" "+m);e.font=m,e.textBaseline="bottom",e.fillStyle=l||"black";var v=e.measureText(s).width;if("break-word"==f&&v>o){for(var y=[],g=e.measureText(s[0]).width,_=s[0],b=0,x=s.length,w=1;w<x;w++)b=e.measureText(s[w]).width,(g+=b)>o?(y[y.length]=_,_=s[w],g=b):_+=s[w];y[y.length]=_,e.textAlign=d||"left";var T=0;"center"==e.textAlign?T=.5*o:"right"==e.textAlign&&(T=o);var E=a/y.length;y.forEach((function(t,r){e.fillText(t,i+T,n+r*E+E)}))}else e.textAlign="left",e.fillText(s,i,n+a)}(t,y,h)}t.host&&t.host.borderWidth&&function(t,e,r){var i=t.x,n=t.y,o=t.width,a=t.height,s=t.borderRadius,l=t.borderWidth,h=t.borderColor,u=parseFloat(s)*r,c=parseInt(l)*r;e.miterLimit=0,e.strokeStyle=h,u?(e.lineWidth=2*c,f(t,e,r),e.stroke()):(e.lineWidth=c,i*=r,n*=r,o*=r,a*=r,i+=c/2,n+=c/2,o-=c,a-=c,e.strokeRect(i,n,o,a))}(t.host,y,h),t.maskEnd&&y.restore()})),_=v,n){case"jpeg":case"png":_=v.toDataURL("image/"+n,a)}return r&&r(_),[2,_]}}))}))}function p(t,e,r){var i=t.x,n=t.y,o=t.width,a=t.height,s=t.backgroundColor,l=t.borderRadius;i*=r,n*=r,o*=r,a*=r,e.fillStyle=s;var h=parseFloat(l)*r;e.beginPath(),h?(f(t,e,r),e.fill()):(e.moveTo(i,n),e.lineTo(i+o,n),e.lineTo(i+o,n+a),e.lineTo(i,n+a),e.lineTo(i,n),e.fill())}function f(t,e,r){var i=t.x,n=t.y,o=t.width,a=t.height,s=t.borderRadius,l=(t.borderWidth,parseFloat(s)*r);if(i*=r,n*=r,o*=r,a*=r,l){var h=(o<a?o:a)/2,u=Math.min(l,h);e.beginPath(),e.moveTo(i+o-u,n),e.arcTo(i+o,n,i+o,n+u,u),e.lineTo(i+o,n+a-u),e.arcTo(i+o,n+a,i+o-u,n+a,u),e.lineTo(i+u,n+a),e.arcTo(i,n+a,i,n+a-u,u),e.lineTo(i,n+u),e.arcTo(i,n,i+u,n,u),e.closePath()}}function d(t,e,r){return c(s(t),e,r)}!function(t){t[t.ANY=0]="ANY",t[t.TEXT=1]="TEXT",t[t.IMAGE=2]="IMAGE",t[t.CANVAS=3]="CANVAS"}(l||(l={}))},zgwS:function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return h})),r.d(e,"d",(function(){return l})),r.d(e,"e",(function(){return u}));var i=r("Yb6r"),n=r("gK8M");r("9pWt");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function o(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function a(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function s(t,e,r,o,a,s,l){return void 0===e&&(e={}),void 0===r&&(r="get"),void 0===o&&(o={}),void 0===a&&(a="form"),void 0===s&&(s=!1),new Promise((function(h,u){var c;if(window.XMLHttpRequest?c=new XMLHttpRequest:window.ActiveXObject?c=new window.ActiveXObject(void 0):alert("no xhr"),null!=c){e&&(e=JSON.parse(JSON.stringify(e)));var p="GET"===r.toUpperCase(),f=void 0,d=Date.now();switch(a){case"form":o["Content-Type"]="application/x-www-form-urlencoded",e._t=d,f=function(t,e,r){t&&Object.keys(t).length>0&&("function"==typeof e?t.sign=e(t,r):e&&(t.sign=function(t,e){var r=Object.keys(t);r.sort();for(var n=[],o=0,a=r;o<a.length;o++){var s=a[o];n.push(s+"="+t[s])}n.push("key="+e);var l=n.join("&");return Object(i.d)(l)}(t,r)));return Object(i.e)(t)}(e,s,l);break;case"json":o["Content-Type"]="application/json",f=JSON.stringify(e);break;case"plain":o["Content-Type"]="text/plain",f=e}var m=t,v=window.url_process;for(var y in v&&(m=v(m)),m=p?Object(i.k)(m,f):Object(i.k)(m,"_t="+d),c.timeout=1e4,c.open(r,m,!0),o)c.setRequestHeader(y,o[y]);c.responseType="text",c.onreadystatechange=function(){4==c.readyState&&200==c.status&&h(c.response)},c.onerror=function(){u(new n.a({code:n.b.NET_ERROR,message:"网络错误，请检查网络是否通畅"}))},c.onloadend=function(){var e=c.status;if(200!==e){var r=n.b.NET_ERROR,i="网络错误，请检查网络是否通畅";switch(e){case 404:i=t+" 404 (Not Found)";break;case 429:i="活动太火爆了，请稍后再试~";try{i=JSON.parse(c.response).message}catch(t){}r=n.b.CALL_LIMITING}u(new n.a({code:r,message:i,payload:{code:e,response:c.response}}))}},c.ontimeout=function(){u(new n.a(n.b.REQUEST_TIMEOUT,"请求超时"))},p?c.send():c.send(f)}}))}function l(t,e){void 0===e&&(e={}),e._t=Date.now();var r=Object(i.k)(t,Object(i.e)(e));return Object(i.a)(r)}function h(t,e,r,i,l,h,u,c){return void 0===r&&(r="get"),void 0===l&&(l=!0),void 0===h&&(h=!1),o(this,void 0,void 0,(function(){var o,p;return a(this,(function(a){switch(a.label){case 0:return[4,s(t,e,r,i,c,h,u)];case 1:o=a.sent();try{p=JSON.parse(o)}catch(t){throw new n.a(n.b.INVALID_RESPONSE)}if(l){if(p.success)return[2,p.data];throw new n.a(p)}return[2,p]}}))}))}function u(t,e,r,i,o,a,s,l){void 0===i&&(i=10),void 0===o&&(o=500),void 0===a&&(a="get"),void 0===l&&(l=!0);for(var u,c=Promise.resolve(),p=0;p<i;p++)c=(c=c.then(f)).then((function(){return new Promise((function(t){return setTimeout(t,o)}))}));return c.then((function(){throw new n.a(n.b.POLLING_TIMEOUT,"轮询超时")}),(function(t){if("success"===t){if(l){if(u.success)return u.data;throw new n.a(u)}return u}throw t}));function f(){return h(e,r,a,s,!1).then((function(e){if(t(e))return u=e,Promise.reject("success")}),(function(t){return Promise.reject(t)}))}}function c(t){var e=t.uri,r=t.params,i=t.method,n=t.headers,o=t.justData,a=t.secret,s=t.secretKey,l=t.requestContentType;return h.apply(null,[e,r,i,n,o,a,s,l])}}}]);
//# sourceMappingURL=vendors.3ea701a0.js.map